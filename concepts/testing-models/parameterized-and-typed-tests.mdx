---
title: "Parameterized and Typed Tests"
description: "Explore advanced models for reducing code duplication and increasing test coverage: value-parameterized and type-parameterized tests. Gain insight into when and how to use these features for broader verification."
---

# Parameterized and Typed Tests

Explore advanced models for reducing code duplication and increasing test coverage by using GoogleTest's support for value-parameterized and type-parameterized tests. These features enable you to run the same test logic with different inputs or types systematically, enhancing your verification scope without redundant code.

---

## Overview

GoogleTest provides powerful tools to run a single test logic over multiple values or types. This avoids repetitive test code and ensures comprehensive coverage across data variations or type differences.

There are two main testing patterns covered on this page:

- **Value-Parameterized Tests**: Tests parameterized by values, allowing you to instantiate tests over multiple input data.
- **Typed and Type-Parameterized Tests**: Tests parameterized by types, enabling you to run the same tests against multiple type variants.

Each approach serves different needs, but both share the goal of scalable, maintainable, and expressive test code.

---

## Value-Parameterized Tests

Value-parameterized testing allows you to write a test once and run it repeatedly with different parameter values. This is particularly useful when a functionâ€™s behavior should be validated over a range of inputs.

### Writing Value-Parameterized Tests

1. **Define a Test Fixture:**

Create a fixture class derived from `testing::TestWithParam<T>`, where `T` is the type of the parameter value.

```cpp
class ExampleTest : public ::testing::TestWithParam<int> {
  // Optional setup, teardown and member variables.
};
```

2. **Use the `TEST_P` Macro:**

Define tests with `TEST_P` instead of `TEST_F` or `TEST`.
Inside, access the parameter with `GetParam()`.

```cpp
TEST_P(ExampleTest, HandlesValue) {
  int param = GetParam();
  EXPECT_GT(param, 0);
}
```

3. **Instantiate the Test Suite:**

Use `INSTANTIATE_TEST_SUITE_P` to supply the values over which the tests will run.

```cpp
INSTANTIATE_TEST_SUITE_P(PositiveValues, ExampleTest, ::testing::Values(1, 2, 3));
```

This creates individual tests for values 1, 2, and 3.

### Parameter Generators

GoogleTest offers several built-in parameter generators to produce value sequences:

| Generator               | Description                                                                                         |
|-------------------------|-------------------------------------------------------------------------------------------------|
| `Range(begin, end[, step])` | Yields values from `begin` (inclusive) up to `end` (exclusive), with optional step size (default 1). |
| `Values(v1, v2, ..., vN)`     | Yields a list of explicitly specified values.                                                       |
| `ValuesIn(container)` or `ValuesIn(begin, end)` | Yields values from a C-style array, STL container, or iterator range.                               |
| `Bool()`                    | Yields the sequence `{false, true}`.                                                               |
| `Combine(g1, g2, ..., gN)` | Produces all combinations (Cartesian product) of multiple parameter generators.                     |

#### Example Using `Combine`

```cpp
class FlagTest : public ::testing::TestWithParam<std::tuple<bool, int>> {};

TEST_P(FlagTest, WorksWithFlags) {
  bool flag; int num;
  std::tie(flag, num) = GetParam();
  EXPECT_GE(num, 0);
}

INSTANTIATE_TEST_SUITE_P(
    Comprehensive,
    FlagTest,
    ::testing::Combine(::testing::Bool(), ::testing::Values(0, 1, 2)));
```

### Customizing Test Names

You can supply an optional callable or functor as the last argument of `INSTANTIATE_TEST_SUITE_P` to generate human-readable test names based on parameters. This aids clarity and filtering.

```cpp
INSTANTIATE_TEST_SUITE_P(
    CustomNames,
    ExampleTest,
    ::testing::Values(1, 2, 3),
    [](const ::testing::TestParamInfo<int>& info) {
      return "Value_" + std::to_string(info.param);
    });
```

### Best Practices for Value-Parameterized Tests

- Prefer `EXPECT_*` assertions to allow multiple failures to surface per test iteration.
- Clearly document what each parameter value represents.
- Use combinations via `Combine()` for multi-dimensional tests, but keep them manageable to avoid explosion in test count.
- When using non-trivial types, implement `PrintTo()` for readable output on failure.

### Common Pitfalls

- **Forgetting to instantiate the test suite** leads to no tests running.
- Beware of parameter generators that produce large Cartesian products unintentionally.
- Custom naming must produce only alphanumeric characters and underscores.

---

## Typed Tests and Type-Parameterized Tests

Typed tests allow you to write tests that run the same logic over a list of C++ types. This is often useful when testing templates or similar code where behavior depends on types.

There are two flavors:

- **Typed Tests (`TYPED_TEST_SUITE` / `TYPED_TEST`)**: You specify the list of types at the time of writing your tests.
- **Type-Parameterized Tests (`TYPED_TEST_SUITE_P` / `TYPED_TEST_P`)**: Define the test patterns without specifying types, and instantiate later. This is useful for reusable test patterns.

### Writing Typed Tests

1. **Define a Fixture Template:**

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
   T value_;
};
```

2. **Specify Types with `TYPED_TEST_SUITE`:**

```cpp
using MyTypes = ::testing::Types<int, char>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

3. **Write Typed Tests with `TYPED_TEST`:**

```cpp
TYPED_TEST(MyTypedTest, DefaultValueIsZero) {
  TypeParam n = this->value_;
  EXPECT_EQ(n, TypeParam());
}
```

4. **Run all typed tests by compiling your program normally; GoogleTest runs all instantiations.

### Writing Type-Parameterized Tests

This advanced approach lets you define test patterns that are instantiated later, supporting reuse across translation units or projects.

1. **Define Test Suite with `TYPED_TEST_SUITE_P`:**

```cpp
template <typename T>
class MyPatternTest : public ::testing::Test {};

TYPED_TEST_SUITE_P(MyPatternTest);
```

2. **Define Test Patterns with `TYPED_TEST_P`:**

```cpp
TYPED_TEST_P(MyPatternTest, TestFoo) {
  TypeParam value;
  EXPECT_TRUE(value == value);
}
```

3. **Register Test Names:**

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyPatternTest, TestFoo);
```

4. **Instantiate with Specific Types:**

```cpp
using SpecificTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstance, MyPatternTest, SpecificTypes);
```

### Naming Typed Tests

You can customize how test suite names are suffixed for types by providing a `NameGenerator` class to `TYPED_TEST_SUITE`.

```cpp
class MyTypeNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if (std::is_same<T, int>::value) return "Int";
    if (std::is_same<T, char>::value) return "Char";
    return "Unknown";
  }
};

TYPED_TEST_SUITE(MyTypedTest, MyTypes, MyTypeNames);
```

### Use Cases

- Testing templated containers over multiple element types.
- Testing polymorphic interfaces instantiated for different implementation types.
- Writing reusable verification suites to validate concepts or interfaces.

### Best Practices

- Keep typed tests focused, as they increase compile time and binary size.
- Avoid complex logic in `GetName()` to prevent build issues.
- Use type aliases to keep type lists manageable and readable.

---

## Summary

Parameterized and typed tests provide structured, scalable testing approaches that broaden coverage while minimizing code duplication. With familiar syntax (`TEST_P`, `TYPED_TEST`), GoogleTest makes these advanced testing patterns approachable with ample flexibility for customization.

Mastering these concepts empowers you to reliably verify a variety of input and type scenarios efficiently.

---

## References and Further Reading

- [GoogleTest Primer - Basic and Fixture Tests](https://github.com/google/googletest/blob/main/docs/primer.md)
- [Testing Reference - Parameterized and Typed Tests Section](https://github.com/google/googletest/blob/main/docs/reference/testing.md)
- [Core Testing APIs - Value and Type Parameterized Testing](https://github.com/google/googletest/blob/main/api-reference/core-testing-apis/value-and-type-parameterized-testing.md)

## Troubleshooting Tips

- Always verify that `INSTANTIATE_TEST_SUITE_P` calls exist for parameterized tests, or tests won't run.
- Check custom naming functions return valid identifiers to avoid errors.
- Be cautious combining too many parameters with `Combine()` to avoid long test runs.

---

#### Example: Simple Value-Parameterized Test

```cpp
class IsEvenTest : public ::testing::TestWithParam<int> {};

TEST_P(IsEvenTest, ReturnsTrueForEvenNumbers) {
  EXPECT_EQ(GetParam() % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(
    EvenNumbers,
    IsEvenTest,
    ::testing::Values(2, 4, 6, 8, 10));
```

#### Example: Basic Typed Test

```cpp
template <typename T>
class NumericLimitsTest : public ::testing::Test {};

using NumericTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericLimitsTest, NumericTypes);

TYPED_TEST(NumericLimitsTest, MinIsNonNegative) {
  EXPECT_GE(std::numeric_limits<TypeParam>::min(), 0);
}
```
