---
title: "Supported Platforms & Dependencies"
description: "Lists officially supported compilers and platforms, notes upcoming major dependencies (such as Abseil), and provides reference to portability mechanisms and internal configuration options."
---

# Supported Platforms & Dependencies

## Overview

This page details the officially supported compilers and platforms for building and running GoogleTest, highlights upcoming major dependencies such as Abseil, and references important portability and internal configuration mechanisms. Understanding supported platforms and dependencies ensures your testing environment is fully compatible and optimally configured.

## Officially Supported Platforms

GoogleTest is designed to be highly portable across major operating systems and compiler toolchains commonly used in C++ development. The framework explicitly supports:

- **Operating Systems:** Linux, Windows (including Windows Desktop, MinGW), and macOS
- **Compilers:** Major modern C++ compilers that fully support C++17, including MSVC (Visual Studio 2015 and later), GCC (7.0+), Clang, and Intel C++ Compiler

### Platform Detection and Configuration

GoogleTest uses a set of environment-describing macros that automatically detect the platform and compiler properties during build. These macros enable platform-specific optimizations and compatibility workarounds. For example:

- `GTEST_OS_WINDOWS`, `GTEST_OS_LINUX`, `GTEST_OS_MAC` indicate the target operating system.
- `GTEST_HAS_PTHREAD` flags whether POSIX threads are available.
- `GTEST_HAS_RTTI`, `GTEST_HAS_EXCEPTIONS` indicate support for run-time type information and exceptions.

These macros are set internally and exposed so they can be leveraged in user code for writing portable tests.

## Compiler Requirements

GoogleTest requires a build environment that supports at least **C++17**. You can specify the C++ standard version explicitly in your build system configuration—for example, with CMake:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

### Visual Studio Note

- GoogleTest requires Visual Studio 2015 (MSVC 14.0) or later.
- By default, GoogleTest links the C runtime libraries statically, which may conflict with projects using dynamic runtime linkage. This is configurable via the `gtest_force_shared_crt` option in the CMake build scripts to align runtime linking.

## Multi-Threading Support

GoogleTest is thread-safe when compiled on platforms with pthread libraries. It detects the availability of pthreads and enables thread safety accordingly:

- The macro `GTEST_HAS_PTHREAD` is defined to 1 if pthreads are available.
- If GoogleTest does not detect pthreads correctly, you can forcibly set this macro to enable or disable threading support:

```shell
-DGTEST_HAS_PTHREAD=1  # Force enable pthread support
-DGTEST_HAS_PTHREAD=0  # Disable pthread support
```

When using pthreads, make sure your compiler and linker flags appropriately link against the pthread library (usually handled automatically by GoogleTest’s provided CMake scripts).

## Building GoogleTest

The recommended build system is CMake, which supports cross-platform builds and can be easily incorporated into existing projects.

### Standalone Build

Typical steps to build GoogleTest standalone:

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
mkdir build
cd build
cmake ..              # Generates native build scripts including GoogleMock by default
make                  # Build libraries
sudo make install     # Install to system directories (optional)
```

To build only GoogleTest without GoogleMock, use:

```bash
cmake .. -DBUILD_GMOCK=OFF
```

### Integration in Existing CMake Projects

GoogleTest can be integrated directly into your project source tree and build using `add_subdirectory()` in CMake. This ensures consistent compiler and linker settings between your code and tests.

Alternatively, after installing GoogleTest, you can import it in your CMake project:

```cmake
find_package(GTest CONFIG REQUIRED)
target_link_libraries(your_test_target GTest::gtest GTest::gtest_main)
```

### Runtime Library Compatibility on Windows

Visual Studio projects default to dynamic CRT linkage. GoogleTest links the CRT statically by default, which may cause runtime conflicts during linking.

To harmonize CRT linkage, enable the following in your CMake configuration:

```bash
cmake .. -Dgtest_force_shared_crt=ON
```

This forces GoogleTest libraries to link against the dynamic CRT, matching most projects.

## Upcoming Dependencies: Abseil Library Integration

GoogleTest now optionally supports and integrates with the [Abseil C++ Common Libraries](https://abseil.io/), which provide robust utility functions and portability features.

When compiled with Abseil support (`GTEST_HAS_ABSL` defined), GoogleTest uses Abseil components for:

- Flags and command-line argument parsing
- String utilities and string_view
- Compatibility macros

This integration improves maintainability and leverages a modern dependency well-suited for Google's ecosystem.

## Portability and Internal Configuration

GoogleTest exposes various macros and configuration options to fine-tune its behavior for specific environments or constraints. Users can adjust these by defining macros at compile-time, generally prefixed with `GTEST_`.

For example:

- Control multi-threading support (`GTEST_HAS_PTHREAD`)
- Enable or disable exceptions (`GTEST_HAS_EXCEPTIONS`)
- Change default death test styles
- Rename macros to avoid clashes (`GTEST_DONT_DEFINE_XXX` macros)

Customization points and internal portability layers ensure GoogleTest adapts cleanly to diverse build environments.

## Summary

| Aspect                   | Details                                                                                      |
|--------------------------|----------------------------------------------------------------------------------------------|
| Supported OS             | Linux, Windows (Desktop/MinGW), macOS                                                        |
| Required Compiler Support| C++17 compliant compilers (MSVC 2015+, GCC 7+, Clang, IntelLLVM)                             |
| Threading                | POSIX threads supported where available; configurable                                       |
| Build System             | CMake-based build and integration, with options for standalone or embedded project builds    |
| Runtime Library Linking  | Dynamic vs Static CRT linkage configurable on Windows                                        |
| Major Dependency         | Optional Abseil library integration for utilities and flags                                 |

## Practical Tips

- Always ensure your build environment targets at least C++17.
- For cross-platform projects, use CMake integration to keep build settings consistent.
- When encountering runtime linking issues on Windows related to CRT, toggle the `gtest_force_shared_crt` option.
- Confirm pthread availability on your system if you require thread-safe tests.
- Stay updated with GoogleTest releases to receive latest platform support and dependency changes.

## Common Pitfalls & Troubleshooting

- **Mismatched Runtime Libraries on Windows:** Linking errors due to static vs dynamic CRT linkages. Fix by enabling `gtest_force_shared_crt`.
- **Missing pthread Linkage:** On Unix-like systems, failure to link with pthread causes runtime errors. Use CMake scripts or manual flags to link pthread.
- **Older Compiler Versions:** Attempting to build with pre-C++17 compilers will fail.

## References & Further Reading

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [GoogleTest Build Instructions](https://github.com/google/googletest/blob/main/README.md)
- [Supported Platforms and Dependencies (Official Docs)](/overview/integration-and-ecosystem/platforms-dependencies)
- [System Architecture](../architecture-concepts/system-architecture)
- [CMake Manual](https://cmake.org/cmake/help/latest/manual/cmake.1.html)

<Tip>
For best compatibility and ease of maintenance, integrate GoogleTest via CMake's `FetchContent` or as a git submodule. This approach ensures that building and updating your tests stay consistent across platforms and environments.
</Tip>