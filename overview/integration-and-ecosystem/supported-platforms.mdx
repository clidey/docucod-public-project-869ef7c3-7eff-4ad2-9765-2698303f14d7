---
title: "Supported Platforms & Toolchains"
description: "Summarizes the range of platforms, compilers, and environments supported by GoogleTest, pointing users to compatibility information and configuration tips for getting up and running in diverse scenarios."
---

# Supported Platforms & Toolchains

GoogleTest is designed as a robust, portable C++ testing framework that works seamlessly across a wide range of platforms, compilers, and development environments. This page summarizes its supported environments and provides essential guidance to help you configure and build GoogleTest successfully wherever your projects reside.

---

## Compatibility and Platform Support

GoogleTest adheres to Google's [Foundational C++ Support Policy](https://opensource.google/documentation/policies/cplusplus-support) and supports the major operating systems, compilers, and toolchains commonly used in modern C++ development. This makes it a versatile choice that integrates well into diverse development workflows.

### Supported Operating Systems

- **Linux** (including various distributions and Linux on Android)
- **Windows** (including Desktop, MinGW, and Windows Mobile variants)
- **Mac OS X** and **iOS**
- Other Unix-like systems such as FreeBSD, Solaris, AIX, and more

GoogleTest detects the platform automatically and enables platform-specific features accordingly, ensuring consistent behavior across environments.

### Supported Compilers

GoogleTest requires a compiler that supports at least **C++17**, ensuring modern language features and compatibility. Official support is provided for:

- **GCC** (GNU Compiler Collection)
- **Clang**
- **Microsoft Visual C++** (MSVC)
- Other compilers with comparable C++17 support

Compiler detection automatically configures build flags to optimize compatibility, error handling, exception support, and RTTI (Run-Time Type Information).

### Build Tools and Environments

GoogleTest integrates well with various build systems, notably:

- **CMake:** GoogleTest ships with a comprehensive CMake build script that generates native build files (Makefiles, Visual Studio solutions, Xcode projects) usable on any supported platform.
- **pkg-config:** Used for compiler and linker flag discovery, notably helpful in Linux and cross-compilation environments.

Harnessing these tools ensures straightforward builds, whether GoogleTest is a standalone library or embedded into your existing project.

---

## Key Configuration Details

### C++ Standard Requirement

GoogleTest requires an environment supporting **C++17**. In CMake projects, you can ensure this by setting:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

Alternatively, for projects without direct C++ version control, specify compiler flags like `-DCMAKE_CXX_FLAGS="-std=c++17"`.

### Thread Support

GoogleTest is thread-safe when the **pthread** library is available, which is typical on Unix-like platforms. You can verify this at compile time using the `GTEST_IS_THREADSAFE` macro after including GoogleTest headers.

If automatic detection fails, explicitly define the availability of pthreads by adding:

```bash
-DGTEST_HAS_PTHREAD=1
```

or disable threading with:

```bash
-DGTEST_HAS_PTHREAD=0
```

For pthread-based builds not using CMake, add necessary compiler and linker flags (`-pthread`) manually.

### Visual Studio Runtime Compatibility

On Windows, GoogleTest by default links the C runtime statically, which can conflict with projects that use dynamic runtime libraries. To resolve this, enable the `gtest_force_shared_crt` option in your CMake command:

```bash
cmake .. -Dgtest_force_shared_crt=ON
```

This synchronizes runtime linkage and prevents linker errors related to mismatched runtimes.

### Building as Shared or Static Libraries

GoogleTest can be built as either a static or shared library. By default, static linking is used for simplicity.

To build GoogleTest as a shared library, compile with the flag:

```bash
-DGTEST_CREATE_SHARED_LIBRARY=1
```

And when compiling your test executables to link against the shared library, add:

```bash
-DGTEST_LINKED_AS_SHARED_LIBRARY=1
```

It's recommended to always include these flags when using shared libraries to avoid breaking builds on future updates.

### Avoiding Macro Name Clashes

If your codebase or other libraries use macros with names conflicting with GoogleTest's macros (e.g., `TEST`, `ASSERT_EQ`), you can instruct GoogleTest to rename its macros by defining:

```bash
-DGTEST_DONT_DEFINE_TEST=1
```

This changes the macro `TEST` to `GTEST_TEST`, preventing clashes while allowing continued use of GoogleTest’s facilities.

---

## Building GoogleTest

### Standalone Build with CMake

A simple process to build GoogleTest independently:

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
mkdir build
cd build
cmake ..
make
sudo make install
```

If you want to build only GoogleTest without GoogleMock, use:

```bash
cmake .. -DBUILD_GMOCK=OFF
```

On Windows with Visual Studio installed, the `cmake` command will generate `.sln` and project files for easy building.

On Mac OS X, Xcode project files will be generated similarly.

### Incorporating GoogleTest into Existing CMake Projects

You can add GoogleTest’s source to your build using `add_subdirectory()` or use `find_package(GTest CONFIG REQUIRED)` if GoogleTest is installed system-wide.

Example snippet to include GoogleTest using `FetchContent`:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)

set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)  # On Windows
FetchContent_MakeAvailable(googletest)

add_executable(example example.cpp)
target_link_libraries(example gtest_main)
add_test(NAME example_test COMMAND example)
```

This approach ensures compiler and linker settings remain consistent.

---

## Cross-Compilation and pkg-config

GoogleTest supports cross-compilation scenarios, and `pkg-config` files can help manage include paths and linking flags.

To use pkg-config correctly in cross-compilation, set the environment variables to point to your sysroot:

```bash
export PKG_CONFIG_SYSROOT_DIR=/path/to/sysroot
export PKG_CONFIG_LIBDIR=${PKG_CONFIG_SYSROOT_DIR}/usr/lib64/pkgconfig
```

This injects the appropriate system roots into compiler and linker flags, avoiding path mismatches.

An example snippet for using pkg-config in CMake is:

```cmake
find_package(PkgConfig)
pkg_search_module(GTEST REQUIRED gtest_main)

target_sources(testapp PRIVATE samples/sample3_unittest.cc)
target_link_libraries(testapp PRIVATE ${GTEST_LDFLAGS})
target_compile_options(testapp PRIVATE ${GTEST_CFLAGS})

enable_testing()
add_test(first_and_only_test testapp)
```

If `pkg-config` cannot find GoogleTest, ensure the `.pc` files exist and that `PKG_CONFIG_PATH` includes their directory.

---

## Troubleshooting Tips

- **Compiler Errors Due to C++ Standard:** Ensure your build environment uses at least C++17.
- **Linker Errors on Windows:** Use `-Dgtest_force_shared_crt=ON` to align runtime libraries.
- **Threading Issues:** Verify pthread support or disable it explicitly.
- **Macro Name Collisions:** Use `-DGTEST_DONT_DEFINE_*` macros to rename GoogleTest macros.
- **Pkg-config Failures:** Check environment variables and `.pc` file locations.

For detailed build issues, consult the [GoogleTest GitHub issues](https://github.com/google/googletest/issues) and community forums.

---

## Summary

GoogleTest offers wide platform and toolchain support, backed by automatic configuration and flexible integration options. Whether building standalone, embedding into an existing project, or cross-compiling for custom environments, this page guides you through the compatibility landscape and practical setup details. With comprehensive support for modern C++ standards, threading, shared/static linkage, and common build systems, GoogleTest is ready to empower your C++ testing needs on virtually any platform.

---

For further reading, see:

- [GoogleTest Primer](../getting-started/first-test-and-validation/quickstart-primer)
- [Installing with CMake](../getting-started/installation-and-configuration/installing-googletest-cmake)
- [Using GoogleTest from Build Systems with pkg-config](../docs/pkgconfig.md)
- [Known Limitations and Platform Notes](../overview/integration-and-ecosystem/supported-platforms)
