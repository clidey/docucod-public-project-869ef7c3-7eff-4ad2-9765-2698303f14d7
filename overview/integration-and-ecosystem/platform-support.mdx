---
title: "Platform & Toolchain Support"
description: "Details the official compiler and platform matrix for GoogleTest, referencing supported C++ standards and integration nuances across OSes and toolchains. Directs users to the foundational support policy and compatibility resources."
---

# Platform & Toolchain Support

GoogleTest supports a broad set of platforms and C++ toolchains, ensuring reliable and seamless test development for C++ projects across different environments. This page details the officially supported compiler versions, operating systems, and toolchains that GoogleTest is tested against and compatible with.

---

## Supported Platforms and Compilers

GoogleTest adheres closely to Google's [Foundational C++ Support Policy](https://opensource.google/documentation/policies/cplusplus-support), reflecting rigorous compatibility with the most commonly used industry-grade environments.

The following table and notes capture the officially supported platforms and compiler versions:

| Platform/OS           | Compiler(s)                           | Minimum C++ Standard | Notes                                  |
|----------------------|-------------------------------------|---------------------|----------------------------------------|
| Linux                | GCC, Clang                          | C++17               | Most recent stable versions supported |
| Windows (Desktop)    | MSVC (Visual Studio 2017 and later)| C++17               | Support for static and shared runtimes|
| macOS (OS X, iOS)   | Clang (Xcode toolchain)              | C++17               | Including iOS and macOS targets        |
| BSD Variants          | GCC, Clang                         | C++17               | FreeBSD, OpenBSD, DragonFlyBSD supported|
| Android              | Clang via NDK                      | C++17               | Requires NDK support                    |

> See the [Supported Platforms table](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md) for detailed specifics.

### C++ Standard Requirement

GoogleTest requires a compiler environment that supports C++17 or later. This requirement reflects intentions to utilize modern language features and ensures high compatibility and performance.

- Configure your compiler with at least `-std=c++17` or equivalent.
- GoogleTest enforces this minimal version during build but check your environment for compliance.

### Compiler-Specific Notes

- **GCC:** Version 7.0 or later is recommended; earlier versions may compile but are not officially supported.
- **Clang:** Xcode bundled versions and standalone Clang 7 or later are supported.
- **MSVC:** Visual Studio 2017 Update 3 or later is required. To avoid runtime mismatches, set `gtest_force_shared_crt` accordingly.

---

## Integration Nuances Across Platforms

While GoogleTest targets broad compatibility, each platform and toolchain has best practices and configuration nuances.

### Multi-threading Support

GoogleTest is thread-safe on platforms where the `pthreads` library is available, including Linux, macOS, and BSD variants. On Windows, thread safety is provided through native synchronization primitives.

If your environment lacks `pthreads` or uses custom threading, configure the macro `GTEST_HAS_PTHREAD` explicitly to reflect your platformâ€™s capabilities.

### Exception Handling and RTTI

GoogleTest builds and operates with or without exceptions and RTTI; however, compiler-specific feature toggles may require configuration.

- Confirm the compiler flags enable exceptions and RTTI if your tests or mocks depend on them.

### Shared vs Static Libraries

GoogleTest can be built as either a static library or shared library.

- Use the flag `-DGTEST_CREATE_SHARED_LIBRARY=1` to build shared libraries.
- When linking tests against a shared GoogleTest library, define `-DGTEST_LINKED_AS_SHARED_LIBRARY=1`.

### Flag and Macro Name Collision

Because GoogleTest uses many macros, you can isolate it by defining `-DGTEST_DONT_DEFINE_FOO=1` variants to prevent macro clashes with other libraries.

---

## Using GoogleTest in Your Build Environment

GoogleTest provides pkg-config files to simplify integration with various build systems.

### Using pkg-config

The pkg-config files expose required include paths, compiler flags, and linker flags for GoogleTest and GoogleMock.

Example usage in **CMake**:

```cmake
find_package(PkgConfig)
pkg_search_module(GTEST REQUIRED gtest_main)

add_executable(testapp)
target_sources(testapp PRIVATE samples/sample3_unittest.cc)
target_link_libraries(testapp PRIVATE ${GTEST_LDFLAGS})
target_compile_options(testapp PRIVATE ${GTEST_CFLAGS})

enable_testing()
add_test(first_and_only_test testapp)
```

### Troubleshooting pkg-config

If pkg-config cannot find GoogleTest, ensure that the `.pc` files are in your `PKG_CONFIG_PATH`. For example, if GoogleTest is installed in `/usr/local`, then:

```bash
export PKG_CONFIG_PATH=/usr/local/lib64/pkgconfig
```

### Cross-Compilation Support

GoogleTest supports sysroots and cross-compilation scenarios by setting the following environment variables:

```bash
export PKG_CONFIG_ALLOW_SYSTEM_CFLAGS=yes
export PKG_CONFIG_ALLOW_SYSTEM_LIBS=yes
export PKG_CONFIG_SYSROOT_DIR=/path/to/sysroot
export PKG_CONFIG_LIBDIR=${PKG_CONFIG_SYSROOT_DIR}/usr/lib64/pkgconfig
```

This setup enables pkg-config to generate correct flags prefixed with the cross-compilation sysroot.

---

## References and Additional Resources

- [GoogleTest Foundational C++ Support Policy](https://opensource.google/documentation/policies/cplusplus-support)
- [Supported Platforms Matrix on GitHub](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md)
- [Using GoogleTest with pkg-config](../docs/pkgconfig.md)
- [GoogleTest Primer](../docs/primer.md)


---

By following the supported platform and compiler guidelines, you can leverage GoogleTest's full capabilities seamlessly and ensure consistent, reliable testing across diverse environments.


<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "docs/platforms.md", "range": "1-19"},{"path": "docs/pkgconfig.md", "range": "1-140"},{"path": "googletest/README.md", "range": "1-196"}]}/>
