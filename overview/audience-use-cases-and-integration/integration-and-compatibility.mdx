---
title: "Integration and Compatibility"
description: "Get a practical overview of integrating GoogleTest into existing workflows—covering supported platforms, build tools (CMake, Bazel), and examples of test runner and CI system integrations. Learn the essentials for getting started in any development environment."
---

# Integration and Compatibility

## Seamlessly Integrate GoogleTest into Your Development Workflow

GoogleTest is designed to fit smoothly into your existing development environment—whether you are on Windows, macOS, or Linux, using CMake or Bazel as your build tool, or orchestrating your tests in a continuous integration (CI) system. This page provides a practical overview of how to integrate GoogleTest effectively, offering key insights and examples that help you start testing in any environment.

---

## Supported Platforms and Build Tools

GoogleTest supports major platforms, ensuring that your test suite runs reliably no matter your target:

- **Platforms:** Windows, Linux, macOS, and other POSIX-compliant systems
- **Build Tools:** Full support for CMake and Bazel 

Integrate GoogleTest using your preferred build system to match your project's build infrastructure, facilitating rapid test execution and easy maintenance.

### Using GoogleTest with CMake

CMake simplifies project configuration and build orchestration. Here’s how to integrate GoogleTest:

1. **Add GoogleTest as a Subdirectory or External Project**

   You can either include GoogleTest as part of your source tree or fetch it externally.

2. **Link Your Tests Against gtest and gmock**

   ```cmake
   add_subdirectory(googletest)

   add_executable(my_tests test1.cpp test2.cpp)
   target_link_libraries(my_tests gtest gmock_main)
   ```

3. **Run Tests with CTest**

   Utilize CTest or directly execute the test binaries to validate your code.

### Using GoogleTest with Bazel

Bazel’s native support for GoogleTest facilitates integration in large-scale projects:

1. Import `@com_google_googletest//:gtest` and `@com_google_googlemock//:gmock` targets in your `BUILD` files.
2. Define test targets that depend on these libraries:

```python
cc_test(
    name = "my_test",
    srcs = ["my_test.cc"],
    deps = ["@com_google_googletest//:gtest", "@com_google_googlemock//:gmock"],
)
```

3. Run tests through Bazel commands.

---

## Integrating GoogleTest with Test Runners and CI Systems

GoogleTest integrates well with continuous integration pipelines and common test runners, ensuring your tests run automatically and feedback is delivered promptly.

### Test Runner Integration

- **Native Test Executables:** Your compiled tests are self-contained binaries executable on supported platforms.
- **Test Output Formats:** Supports XML output via command-line flags (`--gtest_output=xml:path`), ideal for integration with CI systems.

### Continuous Integration Systems

- **Popular CI Tools:** Works seamlessly with Jenkins, Travis CI, GitHub Actions, GitLab CI, and others.
- **Workflow Example:**

   - Build your tests using your build tool (CMake/Bazel).
   - Run tests with GoogleTest's native runners.
   - Publish XML test reports to CI dashboards.

Example snippet for a GitHub Actions workflow step:

```yaml
- name: Build Tests
  run: cmake --build build

- name: Run Tests
  run: ./build/my_tests --gtest_output=xml:report.xml

- name: Upload Test Results
  uses: actions/upload-artifact@v3
  with:
    name: Test Report
    path: report.xml
```

---

## Getting Started in Any Development Environment

No matter your development environment, setting up GoogleTest starts by following three user-focused steps:

1. **Include GoogleTest in Your Project Build**

   Add GoogleTest as a dependency through CMake or Bazel.

2. **Write and Compile Your Tests**

   Use the expressive GoogleTest and GoogleMock APIs to write robust tests.

3. **Run and Automate Your Tests**

   Execute your tests locally or as part of a CI pipeline, leveraging XML reports and test result parsing.

For detailed instructions, see the [Installing with CMake and Bazel](https://github.com/google/googletest/tree/main/docs/prerequisites-installation/installing-with-cmake-bazel) and [Continuous Integration: Running Tests Automatically](https://github.com/google/googletest/tree/main/guides/integration-scenarios/ci-integration) documentation.

---

## Practical Integration Examples

### Example: CMake with GoogleTest

```cmake
cmake_minimum_required(VERSION 3.10)
project(MyProject)

# Add GoogleTest
add_subdirectory(googletest)

# Define executable for tests
add_executable(my_test my_test.cpp)

# Link against gtest and gmock
target_link_libraries(my_test gtest gmock_main)

# Enable testing and add test
enable_testing()
add_test(NAME MyTest COMMAND my_test)
```

### Example: Bazel BUILD file

```python
cc_test(
    name = "my_test",
    srcs = ["my_test.cc"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

### Example: Running Tests in CI

- Add GoogleTest test execution step in your pipeline
- Publish reports for diagnostics

```bash
./my_test --gtest_output=xml:results.xml
# Then upload results.xml or use plugin support
```

---

## Tips and Best Practices

- **Use XML Output for CI:** Always enable XML output for easy integration with CI dashboards.
- **Keep Build Tools Updated:** Stay current with CMake/Bazel versions to leverage latest GoogleTest enhancements.
- **Modularize Tests:** Structure tests clearly so integration remains straightforward.
- **Automate Test Runs:** Hook test execution into pre-commit or CI to ensure early feedback.

## Troubleshooting Common Issues

- Ensure virtual destructors on interfaces when using mocks to avoid memory leaks.
- For build errors, verify your compiler supports C++11 or newer, required by GoogleTest.
- If tests are not detected, check test registration macros and proper linking.
- Use verbosity flags (e.g., `--gtest_verbose`) for deeper diagnostics.

---

By following these guidelines and leveraging the examples, integrating GoogleTest into your workflow becomes a streamlined part of your development process—resulting in reliable, fast, and maintainable tests across any supported platform or build system.


<Info>
For more detailed information on installation and setup, see [Installing with CMake and Bazel](/getting-started/prerequisites-installation/installing-with-cmake-bazel).
</Info>

<Info>
For integrating your tests into CI pipelines, refer to [Continuous Integration: Running Tests Automatically](/guides/integration-scenarios/ci-integration).
</Info>

<Info>
Explore the [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) for practical understanding of mocking in tests.
</Info>

<Info>
Refer to the [Mocking Reference](../api-reference/mocking-framework/mock-method-macros) for API details on mocks and expectations.
</Info>