---
title: "Advanced Features: Parameterized & Death Tests"
description: "Explore value-parameterized, type-parameterized, and death test capabilities to cover diverse scenarios and error conditions. Learn how these features elevate the reliability and thoroughness of your tests."
---

# Advanced Features: Parameterized & Death Tests

Explore value-parameterized, type-parameterized, and death test capabilities to cover diverse scenarios and error conditions. Learn how these features elevate the reliability and thoroughness of your tests.

---

## Elevate Test Coverage with Parameterization and Death Tests

As your codebase grows, your tests need to tackle more complex scenarios and edge cases without becoming unwieldy or redundant. This page introduces you to GoogleTest's powerful advanced features that help you achieve comprehensive coverage efficiently:

- **Value-Parameterized Tests:** Run the same test logic against multiple data inputs to validate correctness across varied cases.
- **Type-Parameterized Tests:** Test your templated code against multiple types seamlessly.
- **Death Tests:** Verify your code properly handles unsafe or erroneous conditions by confirming that it terminates as expected.

Each of these testing paradigms helps you confidently identify issues early while keeping your test code concise and maintainable.

---

## What Are Parameterized and Death Tests?

### Value-Parameterized Tests

These tests allow you to specify a series of input values that your test logic should be exercised against. Instead of writing repetitive test cases for each input, you declare a single test template and GoogleTest automatically runs it for every value you provide.

**Key Benefits:**

- Minimize boilerplate.
- Systematically cover input variations.
- Easily add more test values.

### Type-Parameterized Tests

Designed for testing templated classes or functions, type-parameterized tests enable you to verify correctness across multiple data types without duplicating test logic.

**Key Benefits:**

- Ensure your templates behave consistently.
- Centralize test code for multiple types.
- Simplify maintenance of type-based tests.

### Death Tests

These specialized tests check that your program terminates safely under invalid conditions or error scenarios, for example, when triggering assertions or fatal errors intentionally.

**Key Benefits:**

- Validate error handling robustness.
- Capture unsafe states early.
- Improve overall reliability.

---

## Core Features & Capabilities

### 1. Value-Parameterized Tests

- Define tests once and run against multiple input values.
- Input values can be scalars, structs, or tuples.
- Supports user-defined printers for clear test output.

**Example:**
```cpp
class PrimeTest : public ::testing::TestWithParam<int> {};

TEST_P(PrimeTest, IsPrime) {
  int n = GetParam();
  EXPECT_TRUE(IsPrime(n));
}

INSTANTIATE_TEST_SUITE_P(ValidPrimes, PrimeTest,
                         ::testing::Values(2, 3, 5, 7, 11));
```

In this example, the `IsPrime` test runs once for each number provided.

### 2. Type-Parameterized Tests

- Test templated code for multiple type arguments.
- Define a test suite template and specify types to test.

**Example:**
```cpp
template <typename T>
class MathTest : public ::testing::Test {};

using MyTypes = ::testing::Types<int, float, double>;

TYPED_TEST_SUITE(MathTest, MyTypes);

TYPED_TEST(MathTest, CanAdd) {
  TypeParam a = 1;
  TypeParam b = 2;
  EXPECT_EQ(a + b, 3);
}
```

Each instantiation runs the same test body against `int`, `float`, and `double`.

### 3. Death Tests

- Assert that code terminates on expected fatal failure conditions.
- Run in a separate process to safely capture termination.
- Validate conditions like `CHECK` failures or inaccessible resources.

**Example:**
```cpp
TEST(SomeDeathTest, HandlesInvalidInput) {
  EXPECT_DEATH({ SomeFunctionThatShouldDie(-1); }, "Invalid input");
}
```

The test passes if the function call terminates and the error message matches.

---

## Why These Features Matter to You

### Achieve Comprehensive Test Coverage Effortlessly

Parameterized tests let you cover wide ranges of inputs or types with a fraction of the code you would have otherwise written.

### Detect Edge Cases and Failure Modes Early

By systematically trying many input values and types, your code is validated against subtle bugs.

### Validate Defensive Programming

Death tests provide assurance that your error checks do trigger and prevent unsafe execution paths.

### Increase Test Maintainability

Centralizing logic in parameterized tests reduces duplication and simplifies updates.

### Improve CI Efficiency

Leveraging these features keeps your test suite fast, focused, and informative.

---

## Getting Started Preview

### Quick Steps to Create Value-Parameterized Tests

<Steps>
<Step title="Define a Test Fixture from TestWithParam">
Create a test fixture subclassing `::testing::TestWithParam<T>`, where `T` is the parameter type.
</Step>
<Step title="Write Test Logic in TEST_P">
Implement your test body using `GetParam()` to access the current parameter.
</Step>
<Step title="Instantiate the Test Suite">
Use `INSTANTIATE_TEST_SUITE_P` with your test fixture, providing the test values via `::testing::Values()`, `::testing::Range()`, or other generators.
</Step>
</Steps>

### Basic Prerequisites

- Ensure your test environment includes GoogleTest and GoogleMock.
- Include `<gtest/gtest.h>` in your test source.
- Understand the interface or templated code you intend to test.

### Next Steps

- Proceed to the [Writing Parameterized and Typed Tests guide](https://github.com/google/googletest/blob/main/docs/gmock_for_dummies.md#parameterized-tests) for detailed tutorials.
- Explore the [Death Tests and Exception Verification page](/guides/advanced-testing-scenarios/death-tests) for in-depth information.
- Review [Core Concepts and Terminology](/overview/core-concepts-and-architecture/core-concepts-terminology) to solidify foundational knowledge.

---

## Practical Tips

- Use `PrintTo` overrides or `operator<<` implementations for custom types to get clear test output on parameterized tests.
- For type-parameterized tests, use `TYPED_TEST_SUITE` and `TYPED_TEST` macros for clarity.
- Remember death tests run in a forked process; avoid non-trivial side effects inside death tests.
- Use descriptive test names in instantiations to simplify test result analysis.
- Combine sequences and order expectations inside parameterized tests when needed.

## Common Pitfalls

- Forgetting to instantiate the test suite will cause no tests to run.
- Using complex or non-copyable types as parameters without proper printers may make output unreadable.
- Death tests can hang or behave nondeterministically if the subprocess does not terminate.
- Overly rigid parameter matchers can produce brittle tests; be as permissive as your contract allows.

---

## Troubleshooting

<AccordionGroup title="Common Issues & Solutions">
<Accordion title="Parameterized Tests Not Running">
Ensure your INSTANTIATE_TEST_SUITE_P macro is correctly defined and included in the test binary. Check that parameter types match between test fixture and instantiation.
</Accordion>
<Accordion title="Death Tests Timing Out or Hanging">
Avoid blocking or long-running code inside death tests; keep the test focused. Verify fork support on your platform.
</Accordion>
<Accordion title="Confusing Parameter Output in Tests">
Add custom `PrintTo` functions or stream operators for your parameters to produce clear, human-readable test output.
</Accordion>
<Accordion title="Matching Overloaded Functions in Typed Tests">
Use casting helpers like `Const()` or explicit overload resolution to disambiguate method overloads.
</Accordion>
</AccordionGroup>

---

## Further Exploration

To fully leverage these features:

- Visit the [GoogleMock Cookbook](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md) for practical mock examples.
- Review the [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md) to deepen your understanding of mock control.
- Consult the [Matchers API](https://github.com/google/googletest/blob/main/docs/api-reference/matchers-actions-cardinalities/argument-matchers.md) to write precise expectations.

These pages complement your mastery of advanced test patterns demonstrated here.

---

## Summary

- This page focuses exclusively on advanced GoogleTest features related to parameterized testing (both value and type) and death tests.
- It explains how these features address the need for more robust, maintainable, and comprehensive test suites.
- Step-by-step examples illustrate test fixture setup, test definitions, and test suite instantiations.
- Practical tips, common pitfalls, and troubleshooting guidance are included to help users succeed.

---

## Helpful Links

- [Parameterized and Typed Tests Guide](https://github.com/google/googletest/blob/main/docs/gmock_for_dummies.md#parameterized-tests)
- [Death Tests and Exception Verification](https://github.com/google/googletest/blob/main/docs/guides/advanced-testing-scenarios/death-tests.md)
- [Core Concepts and Terminology](/overview/core-concepts-and-architecture/core-concepts-terminology)
- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md)

---

For detailed inquiries and code references, see:

- [`EXPECT_CALL` Syntax and Usage](https://github.com/google/googletest/blob/main/docs/reference/mocking.md#EXPECT_CALL)
- [`ON_CALL` for Default Actions](https://github.com/google/googletest/blob/main/docs/reference/mocking.md#ON_CALL)
- [GoogleMock Actions Reference](https://github.com/google/googletest/blob/main/docs/reference/actions.md)

---

Harness these advanced features to dramatically improve your testsâ€™ expressiveness, coverage, and robustness.