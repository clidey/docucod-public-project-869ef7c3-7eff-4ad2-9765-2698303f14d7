---
title: "Supported Platforms & Integration Points"
description: "Review currently supported compilers, platforms, and build tools. Learn how GoogleTest integrates with CMake, Bazel, and external tools, and see extension points for IDEs and runners. This page outlines how to combine GoogleTest with your development ecosystem."
---

# Supported Platforms & Integration Points

## Introducing GoogleTest Compatibility and Integration

GoogleTest is designed to flexibly fit into a wide range of C++ development environments by supporting multiple compilers, platforms, and build systems. This page helps you understand the current compatibility landscape and guides you on how to seamlessly integrate GoogleTest into your existing development pipeline. Leveraging this integration knowledge accelerates your setup, ensuring smooth test builds and execution.

### Why This Matters

Modern C++ projects use diverse toolchains and environments—from Linux with GCC, macOS with Clang, to Windows with Visual Studio. GoogleTest embraces this diversity by supporting various compilers and platforms, and offering tailored support for popular build tools like CMake and Bazel. This unified support ensures that writing and running tests fits naturally within your workflow without costly retooling or complex workarounds.

---

## Platforms and Compiler Support

GoogleTest officially supports major platforms and modern C++ compilers that comply with C++17 standards or newer. This includes:

- **Linux**: Using compilers like GCC and Clang
- **macOS**: Primarily Clang via Xcode
- **Windows**: Visual Studio C++ (MSVC) including options for dynamic or static runtimes

### Compiler Features and Environment

- GoogleTest requires an environment that supports **C++17**. You can ensure this by explicitly setting `CMAKE_CXX_STANDARD 17` in your CMake project, or passing appropriate compiler flags.
- Thread safety is automatically enabled when the pthread library is available and detected, supporting multi-threaded test runs.
- For Windows builds, GoogleTest offers a CMake flag `gtest_force_shared_crt` to match your project’s runtime library settings and avoid runtime conflicts.

<Tip>
Ensure your compiler supports C++17 or later to build GoogleTest successfully.
</Tip>

---

## Build Systems Integration

GoogleTest integrates smoothly with your build systems, helping you incorporate testing compilation and linking effortlessly.

### CMake Integration

GoogleTest includes comprehensive CMake scripts, making it straightforward to build it either as a standalone project or as part of your existing CMake setup.

#### Standalone Build with CMake

Typical workflow:

```bash
# Clone specific version
$ git clone https://github.com/google/googletest.git -b v1.17.0
$ cd googletest
# Create and enter build directory
$ mkdir build && cd build
# Generate native build scripts
$ cmake ..
# Build
$ make
# Optionally install
$ sudo make install
```

- By default, the above builds both GoogleTest and GoogleMock.
- To build only GoogleTest: 

```bash
cmake .. -DBUILD_GMOCK=OFF
```

##### Platform-Specific Notes
- On **Windows**, Visual Studio solutions (`.sln`) and project files (`.vcproj`) are generated enabling GUI building.
- On **macOS**, an Xcode project file is created automatically.

#### Incorporating GoogleTest Into an Existing CMake Project

You can consume GoogleTest in your projects by either:

- Using pre-built libraries and headers installed system-wide and `find_package(GTest CONFIG REQUIRED)`.
- Building GoogleTest directly as part of your build via `add_subdirectory()`:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)  # For Windows dynamic runtime
FetchContent_MakeAvailable(googletest)

add_executable(my_tests test.cpp)
target_link_libraries(my_tests gtest_main)
add_test(NAME my_tests COMMAND my_tests)
```

- This method ensures consistent compiler and linker flags between GoogleTest and your project, improving compatibility and debugging.

<Tip>
Use `FetchContent` with CMake 3.14+ to include GoogleTest source automatically during configure time.
</Tip>

### Bazel Integration

GoogleTest supports integration with Bazel build system commonly used in large-scale C++ projects.

- Bazel configuration for GoogleTest is maintained within the repository, allowing you to import and build GoogleTest targets directly.
- This makes GoogleTest an ideal choice when using Bazel for managing complex dependencies and test builds.

### External Build Tools and IDE Support

GoogleTest can be integrated with other external build tools and IDEs through the use of standard build artifacts:

- Compiled static or shared libraries that these tools can link against.
- Pkg-config files for easy detection via `pkg-config`.
- IDE integration points to run tests directly from project environments like Visual Studio, Xcode, or other IDEs.

---

## Extension Points and Customization for Integration

### pkg-config

GoogleTest installs `.pc` files (`gmock_main.pc` and `gmock.pc`) which facilitate integration with pkg-config-aware build systems:

```
Name: gmock_main
Description: GoogleMock (with main() function)
Version: <project_version>
URL: https://github.com/google/googletest
Requires: gmock = <project_version>
Libs: -L${libdir} -lgmock_main ${CMAKE_THREAD_LIBS_INIT}
Cflags: -I${includedir} ${GTEST_HAS_PTHREAD_MACRO}
```

These pkg-config files enable compiler and linker flags to be propagated cleanly.

### Compiler Flags Macros

You can customize GoogleTest behavior via compiler macros:

- `GTEST_HAS_PTHREAD=1` or `0` to control pthread usage.
- `DGTEST_CREATE_SHARED_LIBRARY=1` to build GoogleTest as a shared library.
- `DGTEST_LINKED_AS_SHARED_LIBRARY=1` for tests linking against shared libraries.
- `-DGTEST_DONT_DEFINE_TEST=1` and similar macros to avoid macro clashes in projects defining overlapping macros.

<Tip>
Adjust GoogleTest macros as compiler flags to tailor behavior for specific environments or tooling constraints.
</Tip>

---

## Troubleshooting Integration Challenges

### Runtime Library Mismatches on Windows

If you encounter linker errors related to runtime library mismatches (e.g., `MTd_StaticDebug` vs `MDd_DynamicDebug`), use the CMake option:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

This synchronizes GoogleTest's runtime linking with your main project.

### pthread Detection Issues

If GoogleTest fails to detect pthread support correctly, force it with:

```
-DGTEST_HAS_PTHREAD=1
```

Make sure to also link `-lpthread` manually if not using the CMake script.

### Shared Library Usage

When using GoogleTest compiled as a DLL/shared library:

- Define `DGTEST_CREATE_SHARED_LIBRARY=1` when building GoogleTest.
- Define `DGTEST_LINKED_AS_SHARED_LIBRARY=1` when building your test binaries.

Failure to do so can lead to linkage or runtime errors.

---

## Combining GoogleTest with Your Development Ecosystem

GoogleTest’s flexible platform and build tool support means you can:

- **Seamlessly build within your preferred environments** (CMake, Bazel, or via pkg-config)
- **Adapt to diverse operating systems and compilers** with minimal configuration
- **Customize build-time options for specialized projects** or to address tooling conflicts
- **Integrate GoogleTest execution inside modern IDEs and CI pipelines** leveraging standard interface points

By following the conventions documented on this page, you ensure smooth adoption into your workflow, minimizing friction while maximizing your control.

---

## Summary

This document outlined the platforms and compiler environments supported by GoogleTest, detailed how it integrates into various build systems like CMake and Bazel, and explained customization points such as macro definitions and pkg-config support. You also learned troubleshooting tips for common integration pitfalls, ensuring your testing framework aligns perfectly with your project’s infrastructure.

For a visual understanding of GoogleTest within your system architecture, see [System Architecture](../architecture-audience-integration/system-architecture).

For practical integration and continuous testing workflows, consider visiting the guides on [Workspace & Project Configuration](../../getting-started/requirements-installation/workspace-configuration) and [Integrating in Your CI](../../guides/advanced-and-best-practices/integrating-in-your-ci).

---