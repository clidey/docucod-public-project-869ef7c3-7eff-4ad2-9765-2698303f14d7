---
title: "Core Concepts & Terminology"
description: "Learn about the key concepts driving GoogleTest: fixtures, assertions (fatal/non-fatal), test discovery, parameterized testing, and the extension provided by GoogleMock for mocking and behavior specification. This page introduces essential terms for navigating the documentation and maximizing the framework."
---

# Core Concepts & Terminology

Welcome to the foundational guide that empowers you to harness the full power of GoogleTest and GoogleMock. This page unpacks the essential terms and concepts you need to confidently navigate the framework and write effective tests.

---

## Understanding the Building Blocks

### Fixtures

Think of fixtures as your test setup and teardown blueprint. They prepare the environment for each test by initializing objects, allocating resources, or setting preconditions so you can focus on testing behavior rather than setup details.

- Create fixtures by subclassing `::testing::Test`.
- Use `SetUp()` and `TearDown()` methods to configure and clean up your test state.
- Fixtures provide a consistent way to reuse test code and maintain clean, isolated tests.

**Example:**
```cpp
class MyTestFixture : public ::testing::Test {
 protected:
  void SetUp() override {
    // Initialize objects used in tests
  }

  void TearDown() override {
    // Clean up
  }
};

TEST_F(MyTestFixture, ExampleTest) {
  // Test code here
}
```

### Assertions: Fatal and Non-Fatal

Assertions let you verify correctness during a test, controlling test flow:

- **Fatal Assertions** (e.g., `ASSERT_EQ`, `ASSERT_TRUE`): immediately stop the current test when failed.
- **Non-Fatal Assertions** (e.g., `EXPECT_EQ`, `EXPECT_TRUE`): report failure but allow the test to continue running.

Choose non-fatal when multiple checks are needed in one test and fatal when a failing assertion invalidates subsequent operations.

---

## How Tests Are Discovered

GoogleTest automatically discovers tests declared via the `TEST` and `TEST_F` macros by scanning compiled test binaries. No manual registration is needed.

- Each TEST/TEST_F forms an independent test case.
- Run all tests or select specific ones via command-line flags.
- Supports test filtering and listing.

This automation minimizes configuration and lets you focus on writing your tests.

---

## Parameterized Testing

Parameterized tests enable running the same test logic over multiple data sets or types, ensuring broader coverage with less code duplication.

- Supported via `TEST_P` and `INSTANTIATE_TEST_SUITE_P` macros.
- Allows runtime data combinations testing.

Ensure your test fixtures and test code are compatible with parameterized inputs to reap these benefits.

---

## What Is GoogleMock?

GoogleMock extends GoogleTest to support mocking — creating synthetic objects that mimic real ones in tests, especially for dependencies:

- **Mock Objects** let you specify expected method calls, arguments, call counts, and return behavior.
- Special macros (`MOCK_METHOD`) define mock classes easily.
- Control the behavior of dependencies to isolate and precisely test the unit you care about.

### Key Terms in GoogleMock

| Term                 | Description                                                                               |
|----------------------|-------------------------------------------------------------------------------------------|
| Mock Object          | A class that simulates another class’s interface, tracking calls and enforcing expectations. |
| Expectation          | Defined by `EXPECT_CALL`; specifies what calls are expected, how many, and with what args. |
| Action               | Defines the behavior that occurs when the mock method is invoked (e.g., returning a value). |
| Matchers             | Predicates to specify argument expectations (e.g., equal to a value, any value, etc).      |
| Default Action       | Behavior when a call matches no expectations; set by `ON_CALL`.                           |
| Strictness Modes     | Controls how uninteresting and unexpected calls are treated (e.g., `NiceMock`, `StrictMock`). |

---

## GoogleMock: Basics of Setting Expectations and Behavior

### Defining Mock Classes

- Use `MOCK_METHOD(return_type, method_name, (args...), (specs...));`
- Override virtual methods to intercept calls.
- You can mock overloaded and const methods using appropriate specs.

**Example:**
```cpp
class MockTurtle : public Turtle {
 public:
  MOCK_METHOD(void, PenUp, (), (override));
  MOCK_METHOD(int, GetX, (), (const, override));
  // other mock methods...
};
```

### Setting Expectations

- Use `EXPECT_CALL(mock_obj, Method(matchers))` to specify expected invocations.
- Chain modifiers to specify quantity (`Times()`), order (`InSequence()`), and behavior (`WillOnce()`, `WillRepeatedly()`).

**Example:**
```cpp
EXPECT_CALL(turtle, Forward(100))
    .Times(AtLeast(1))
    .WillRepeatedly(Return());
```

### Default Behavior Without Explicit Expectation

- If no `EXPECT_CALL` is set, a method call is an *uninteresting* call.
- By default, it causes a warning but does not fail the test.
- Use `ON_CALL` to define default behaviors without requiring call expectations.

### Controlling Call Order

- By default, calls may occur in any order.
- Use `InSequence` to enforce strict ordering of expected calls.
- For partial order constraints, use `After` or multiple `Sequence` objects.

---

## Extending GoogleMock with Matchers and Actions

- Matchers specify constraints on arguments (anything `_`, equal `Eq()`, greater than `Gt()`, etc).
- You can create custom matchers to verify domain-specific conditions.
- Actions specify what the mock does with calls (return values, side effects, callbacks).
- Use built-in actions like `Return()`, `SetArgPointee()`, or write custom ones using lambdas or `ACTION()` macros.

---

## Troubleshooting and Practical Tips

- If unexpected calls occur, check your `EXPECT_CALL` ordering and specificities.
- Use `--gmock_verbose=info` to trace all mock interactions and gain insight.
- To avoid brittle tests, set only necessary expectations.
- For multiple expectations on the same method, order them so that specific rules come last.
- To cleanly manage mocks, verify them explicitly with `Mock::VerifyAndClearExpectations()` when needed.

---

## Summary of Core Concepts

| Concept                   | User Benefit                                          |
|---------------------------|------------------------------------------------------|
| Fixtures                  | Manage test setup/cleanup efficiently.                |
| Assertions                | Control test flow with checks that can be fatal or non-fatal. |
| Test Discovery            | Run tests automatically without manual registration. |
| Parameterized Testing     | Run tests with diverse data without duplication.     |
| Mock Objects              | Isolate code by simulating dependencies precisely.   |
| Expectations & Matchers   | Specify what calls are expected and with which arguments. |
| Actions                   | Define mock behavior clearly and flexibly.            |
| Strictness Modes          | Control the strictness of mock call enforcement.     |

---

By mastering these core concepts and terminology, you are equipped to write robust, maintainable, and precise tests using GoogleTest and GoogleMock.

---

For practical usage, see the related pages:

- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)
- [gMock Cheat Sheet](https://google.github.io/googletest/gmock_cheat_sheet.html)

Explore the rest of the GoogleTest documentation to deepen your mastery and integrate testing smoothly into your development workflow.
