---
title: "Integration with Build & CI Systems"
description: "Learn how GoogleTest integrates seamlessly into diverse build systems (CMake, Bazel), codebases, and test infrastructure. Understand supported platforms, compatibility policies, and extension points for customized workflows."
---

# Integration with Build & CI Systems

## Seamless Build System Integration

GoogleTest is designed to integrate effortlessly across a wide range of build systems including major tools like CMake and Bazel, as well as custom or legacy build infrastructures. This page guides you through how to incorporate GoogleTest into your existing projects and automated testing pipelines, ensuring smooth compilation, linking, and test execution without disruption.

### Why Integrate GoogleTest with Your Build and CI Systems?

- **Consistency Across Platforms:** GoogleTest’s integration works reliably on supported platforms, reducing the guesswork in cross-platform development.
- **Extensible Configuration:** Easily customize integration with extension points to tailor GoogleTest to your unique workflows.
- **Automated Test Execution:** Build systems combined with Continuous Integration (CI) pipelines automate test runs, improving code quality without manual overhead.

## Supported Platforms and Compatibility Policies

GoogleTest officially supports a variety of widely used platforms and compilers. Its compatibility policy ensures:

- Support for widely adopted operating systems including Windows, Linux, and macOS.
- Compatibility with popular compilers (GCC, Clang, MSVC).
- Strict adherence to standards for portability and reliability.

By integrating GoogleTest through recommended build systems, you gain access to these compatibility assurances, minimizing environment-specific issues.

## Integration Scenarios

### Using GoogleTest with CMake

CMake is the de facto standard build system for many C++ projects. GoogleTest provides official support modules and recommended practices to make your life easier:

- **Adding GoogleTest as an External Project:** Use `FetchContent` or `ExternalProject_Add` to automatically download and build GoogleTest as part of your build.
- **Linking Against GoogleTest Targets:** CMake targets like `gtest` and `gtest_main` simplify linking and setup.
- **Configuring Test Targets:** Use `add_test` and CTest integration to automatically register and run tests.

#### Example: Adding GoogleTest with CMake FetchContent

```cmake
include(FetchContent)

FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/release-<version>.zip
)

FetchContent_MakeAvailable(googletest)

add_executable(my_tests test_main.cpp ...)
target_link_libraries(my_tests gtest_main)

include(GoogleTest)
gtest_discover_tests(my_tests)
```

### Integrating with Bazel

Bazel users can benefit from workspace rules that automatically provide GoogleTest:

- Use `@com_google_googletest//:gtest` as a dependency on your test targets.
- Bazel automatically compiles and links the framework, managing dependencies effectively.
- Seamless parallel execution in Bazel's action graph enhances test run speed.

### Custom and Legacy Build Systems

For projects using custom or older build systems, GoogleTest can be manually integrated by:

- Adding the source files of GoogleTest to your build targets.
- Linking with required system libraries.
- Using provided macros and headers directly.

Each integration may require adapting build scripts, but the framework’s minimal dependencies make this practical.

## Extension Points for Customized Workflows

GoogleTest offers extension points enabling users to customize test discovery, filtering, output formatting, and even mock framework behaviors to fit into complex or specialized environments:

- Custom main functions to initialize test frameworks differently.
- Environment objects for per-test setup and teardown.
- Hooks for integrating with proprietary CI dashboards.

These enable GoogleTest to operate fluently in complex pipelines without losing power or observability.

## Practical Tips and Best Practices

- **Declare Dependencies Clearly:** Whether using CMake or Bazel, ensure your build files explicitly state dependencies on GoogleTest targets to avoid linking errors.
- **Consistent Versions:** Align GoogleTest version used across your environment to prevent compatibility issues.
- **Leverage CTest or Bazel Test Features:** Use the built-in testing commands to integrate fully with your CI systems.
- **Isolate Third-party Mocks:** When mocking external dependencies, isolate their mocks in separate targets or modules for maintainability.

## Troubleshooting Common Integration Issues

<AccordionGroup title="Common Integration Challenges and Solutions">
<Accordion title="Linking Errors">
If you encounter linking errors, confirm:

- GoogleTest libraries are correctly linked in your build tool configuration.
- You are consistent in static or shared linking options across your targets.
- No conflicting versions of GoogleTest are built or linked simultaneously.

</Accordion>
<Accordion title="Test Discovery Fails">
- For CMake, ensure you invoke `gtest_discover_tests` after your test executable has been defined.
- For Bazel, ensure test rules are marked as `test` and include required test dependencies.
- If custom main functions are used, confirm they properly call `RUN_ALL_TESTS()`.
</Accordion>
<Accordion title="Compiler Compatibility Problems">
- Verify that your compiler version matches GoogleTest supported versions.
- Check for any experimental or strict standards modes that might interfere.
</Accordion>
</AccordionGroup>

## Workflow Example: Integrate GoogleTest in Your CI Pipeline

1. Add GoogleTest as a dependency in your build system (CMake or Bazel).
2. Define test targets using the framework provided integration methods.
3. Configure your CI system (Jenkins, GitLab CI, GitHub Actions) to run built tests using `ctest` or Bazel's `bazel test`.
4. Parse test outputs for reporting and failure detection.
5. Optionally, extend GoogleTest using listeners or filters to enhance test reporting.

---

## Further Learning and Related Documentation

For more detailed and step-by-step guidance, please see:

- [Integrating with CMake and Bazel](/guides/integration-scenarios/build-system-integration)
- [Setting Up Continuous Integration Pipelines](/guides/integration-scenarios/ci-pipeline)
- [Platform and Integration Patterns](/concepts/scalability-integration-advanced/platform-and-integration)
- [Mocking Reference and Best Practices](/docs/reference/mocking)

---

Your next step to getting started with integration can be found in the [Getting Started](/getting-started) tab or dive deeper into the [Feature Overview](/overview/architecture-concepts/feature-overview) to understand GoogleTest’s capabilities in context.
