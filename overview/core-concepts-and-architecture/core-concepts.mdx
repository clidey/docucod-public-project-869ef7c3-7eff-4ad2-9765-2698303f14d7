---
title: "Core Concepts and Terminology"
description: "Unpack key ideas behind GoogleTest: xUnit-based test structures, assertions, matchers, test fixtures, test discovery, parameterization, death tests, and mocking. Learn the primary vocabulary needed to write, organize, and automate C++ test suites using this ecosystem."
---

# Core Concepts and Terminology

Understand the foundational ideas and essential vocabulary behind GoogleTest to effectively write, organize, and automate C++ test suites. This guide illuminates core features like test structures, assertions, matchers, fixtures, discovery, parameterization, death tests, and mocking, enabling you to harness the full power of the GoogleTest ecosystem.

---

## 1. xUnit-Based Test Structures

GoogleTest follows the xUnit architecture pattern, familiar to many testing frameworks, structuring your tests into clearly defined units.

- **Test Cases and Tests:**
  - A *test case* groups related tests. Each *test* represents a single verification scenario.
  - Test cases are declared with `TEST(TestCaseName, TestName)`.

- **Test Fixtures:**
  - If multiple tests share common setup and teardown code, use *test fixtures* by inheriting from `::testing::Test`.
  - Override `SetUp()` and `TearDown()` methods to prepare and clean up shared resources.

Example:

```cpp
class MyTestFixture : public ::testing::Test {
protected:
  void SetUp() override {
    // shared setup code
  }
  void TearDown() override {
    // shared cleanup code
  }
};

TEST_F(MyTestFixture, TestOne) {
  // test code using fixture
}

TEST_F(MyTestFixture, TestTwo) {
  // another test using fixture
}
```

---

## 2. Assertions

Assertions validate test conditions and report failures when expectations are not met.

- Use macros like `EXPECT_EQ(val1, val2)` and `ASSERT_TRUE(condition)`.
- **EXPECT** macros record failures but allow tests to continue.
- **ASSERT** macros abort the current function immediately upon failure.

Example:

```cpp
EXPECT_EQ(calculated_value, expected_value);
ASSERT_NE(ptr, nullptr);
```

These macros help precisely pinpoint test failures with informative messages.

---

## 3. Matchers

Matchers express conditions to test arguments and values in your mock expectations, enabling flexible and descriptive testing.

- The wildcard matcher `_` matches anything.
- Built-in matchers express numeric & string conditions, e.g., `Ge(5)`, `StrEq("foo")`.
- Combinators create complex expressions, e.g., `AllOf(Ge(0), Le(10))`.
- Matchers are used in mock method expectations to specify argument constraints.

Example:

```cpp
using ::testing::_;
using ::testing::Gt;
EXPECT_CALL(mock_obj, DoSomething(Gt(0), _));
```

See the [Matchers Reference](../api-reference/matchers-and-assertions/gmock-matchers) for full details.

---

## 4. Test Discovery

GoogleTest automatically discovers tests in your binaries by scanning for `TEST` and `TEST_F` macros.

- No manual listing of tests required.
- Tests follow the naming pattern `TestCaseName.TestName`.
- Advanced discovery also supports parameterized test cases.

To run tests, simply execute the test binary; it enumerates and runs all tests.

---

## 5. Parameterized Tests

Parameterized tests allow writing a test once and running it with multiple data sets.

- Use `::testing::TestWithParam<T>` as the fixture class.
- Define your test with `TEST_P` macro and instantiate with `INSTANTIATE_TEST_SUITE_P`.

Example:

```cpp
class MyParamTest : public ::testing::TestWithParam<int> {};

TEST_P(MyParamTest, HandlesValues) {
  int param = GetParam();
  EXPECT_TRUE(param > 0);
}

INSTANTIATE_TEST_SUITE_P(
    PositiveValues,
    MyParamTest,
    ::testing::Values(1, 2, 3, 4));
```

This feature is crucial for testing behaviors across varied inputs without repeating code.

---

## 6. Death Tests

Death tests check that your code exits or throws fatal errors given specified bad inputs.

- Use `EXPECT_DEATH(statement, regex)` to verify expected program termination.
- GoogleTest runs the statement in a subprocess, capturing output matching the regex.

Example:

```cpp
EXPECT_DEATH(MyFunction(nullptr), "null pointer");
```

Use death tests to ensure your code properly guards critical invariants.

---

## 7. Mocking with GoogleMock

GoogleMock integrates seamlessly to create mock classes and set precise expectations.

- Use `MOCK_METHOD` macros in mock class definitions to mock virtual functions.
- Use `EXPECT_CALL` to set expectations on method calls, argument values, order, and number of invocations.
- Use actions like `Return()`, `Invoke()`, and `DoAll()` to specify what mocks do upon calls.
- Supports mocking overloaded methods, template methods, and advanced scenarios.

Example:

```cpp
class MockTurtle : public Turtle {
 public:
  MOCK_METHOD(void, PenUp, (), (override));
  MOCK_METHOD(void, Forward, (int distance), (override));
};

TEST(PaintTest, CallsPenUpAndForward) {
  MockTurtle turtle;
  EXPECT_CALL(turtle, PenUp());
  EXPECT_CALL(turtle, Forward(100));

  PaintSomething(&turtle);
}
```

See the [Mocking Reference](../api-reference/core-apis/gmock-mocking-api) and the [gMock Cookbook](docs/gmock_cook_book.md) for detailed guidance.

---

## 8. Key Vocabulary Summary

| Term              | Description                                             |
|-------------------|---------------------------------------------------------|
| Test Case         | A group of related tests                                  |
| Test Fixture      | A class that shares setup and teardown across tests      |
| Assertion         | A check that verifies a condition (e.g., `EXPECT_EQ`)    |
| Matcher           | Predicate to check arguments or values                   |
| Parameterized Test | Run a test with multiple parameters                       |
| Death Test        | Tests code exits on fatal error                           |
| Mock Object       | Test double that simulates a real object's interface     |
| Expectation       | A declaration of expected mock method calls              |
| Action            | Behavior of a mock method when called                     |

---

## 9. Best Practices

- Define test fixtures to minimize repeated setup code.
- Use matchers thoughtfully; avoid over-specific tests.
- Use parameterized tests for input variations.
- Use mock objects to isolate dependencies and verify interactions.
- Set expectations before exercising mocks.
- Prefer `EXPECT_CALL` over `ON_CALL` when you want to assert behavior.
- Use sequences or `InSequence` to enforce call order when needed.

---

## 10. Getting Started Tips

- Read [gMock for Dummies](docs/gmock_for_dummies.md) to grasp mocking basics.
- Explore the [gMock Cheat Sheet](docs/gmock_cheat_sheet.md) for quick references.
- Use the [gMock Cookbook](docs/gmock_cook_book.md) for recipes addressing common challenges.
- Run tests with `--gmock_verbose=info` for detailed debugging.

---

Happy testing! Mastering these concepts unlocks the full potential of GoogleTest and GoogleMock to develop robust, maintainable C++ tests.

---