---
title: "Integration Points & Extensibility"
description: "Outlines how GoogleTest and GoogleMock fit into broader development workflows—such as integration with build systems (e.g., CMake, Bazel), continuous integration, and code coverage tools. Highlights support for platform-specific adaptations and interactions with other C++ libraries."
---

# Integration Points & Extensibility

GoogleTest and GoogleMock seamlessly integrate into your broader C++ development workflow, providing flexible hooks and adaptability to work smoothly with popular build systems, continuous integration environments, and other tooling. This guide highlights how you can embed GoogleTest and GoogleMock into your build pipelines, leverage platform-specific adaptations, and extend their functionality to fit your project's ecosystem.

---

## Why Integration and Extensibility Matter

Imagine running your tests automatically with every code change, gathering coverage metrics, and tailoring test runs to your platform nuances—all without headaches. GoogleTest and GoogleMock are designed not just as isolated testing frameworks but as components you can effortlessly embed within diverse setups, enabling:

- **Consistent Automated Testing:** Works seamlessly with build systems like CMake and Bazel to detect, build, and run tests.
- **Continuous Integration Readiness:** Easily integrates into CI pipelines to catch issues early.
- **Code Coverage and Profiling:** Collaborates with coverage tools for actionable insights.
- **Platform- and Library-Specific Adaptations:** Supports customizations for different operating systems and third-party libraries.
- **Scalable and Maintainable Testing Infrastructure:** Facilitates modular extensions to keep up with evolving project needs.

This page focuses specifically on these integration points, illustrating how GoogleTest and GoogleMock fit into your environment.

---

## Integration with Build Systems

GoogleTest and GoogleMock include native support to work out-of-the-box with the most widely-used C++ build systems, minimizing setup friction and optimizing build/test cycles.

### CMake Integration

CMake users can easily add GoogleTest and GoogleMock to their projects:

- Use `FetchContent` or add GoogleTest as an external project to incorporate it into your build.
- Link `gtest`, `gtest_main`, `gmock`, and `gmock_main` libraries as targets to your test executables.
- CMake provides `gtest_discover_tests()` to automatically detect and register tests in your CTest suite.

Example snippet:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/release-1.12.1.tar.gz
)
FetchContent_MakeAvailable(googletest)

add_executable(my_tests tests.cpp)
target_link_libraries(my_tests gtest_main gmock)
include(GoogleTest)
gtest_discover_tests(my_tests)
```

This setup ensures that your tests are built and discoverable with minimal effort.

---

### Bazel Integration

Bazel users benefit from first-class support:

- GoogleTest and GoogleMock rules are included via `@com_google_googletest`.
- Use `cc_test` rules to define tests with dependencies on `gtest` and `gmock`.

Sample `BUILD` stanza:

```starlark
cc_test(
    name = "my_test",
    srcs = ["my_test.cc"],
    deps = ["@com_google_googletest//:gtest_main", "@com_google_googletest//:gmock"]
)
```

Running `bazel test //:my_test` will build and execute your tests with proper dependency handling.

---

## Continuous Integration (CI) Support

GoogleTest’s widely-adopted XML and JSON output formats allow smooth integration into CI pipelines such as Jenkins, GitHub Actions, GitLab CI, and others.

- Enable test result outputs with `--gtest_output=xml:path/to/result.xml`.
- These reports are parsed by CI tools to provide rich test reporting dashboards.
- GoogleMock complements these with expectation checking, ensuring failures in mocked interactions are caught early.

Automating test execution and result collection supports rapid feedback and higher code quality.

---

## Code Coverage Tooling

GoogleTest works harmoniously with coverage tools (like `gcov`, `llvm-cov`, and others) to help you:

- Measure which parts of your codebase are exercised by tests.
- Identify untested paths to improve coverage and reliability.

Typical workflow:

1. Compile your code and tests with coverage flags enabled (e.g., `-fprofile-arcs -ftest-coverage`).
2. Run your GoogleTest-based test executable.
3. Use coverage reporting tools to generate coverage summaries and visuals.

This process guides improving test completeness and root-cause analysis.

---

## Platform-Specific Adaptations

GoogleTest and GoogleMock support various platforms and compilers out of the box, including Windows, Linux, macOS, and embedded targets.

- Conditional compilation directives ensure compatibility with platform quirks.
- Threading models and synchronization primitives adapt internally for portability.
- You can customize and extend portability layers if you’re targeting unusual or constrained environments.

This ensures your tests remain stable regardless of deployment platform.

---

## Extending GoogleTest & GoogleMock

Beyond integration, GoogleTest and GoogleMock provide extension points to tailor their behavior:

- **Custom Matchers and Actions:** Write your own predicates and actions to express domain-specific logic elegantly (see [Custom Matchers and Actions](concepts/extensibility-patterns/custom-matchers-actions)).
- **Mock Extensions:** Define new matchers or actions to suit advanced mocking scenarios.
- **User Configuration:** Adjust flags and behaviors via runtime or compile-time options located in `gmock-port.h` for control over verbosity, thread safety, and more.

This extensibility lets you craft testing components that meet your team’s unique requirements without compromising framework stability.

---

## How GoogleTest & GoogleMock Collaborate with Other C++ Libraries

GoogleTest and GoogleMock play well with other C++ libraries and frameworks:

- Compatible with popular logging libraries, serialization tools, and more.
- Can mock interfaces from third-party libraries.
- Easily integrated with tracing or profiling infrastructure.

Such interoperability supports scaling your tests across complex codebases.

---

## Summary Diagram

```mermaid
flowchart TD

  subgraph Build System Integration
    CMake[CMake Build System] -->|link| GoogleTest[GoogleTest/GoogleMock]
    Bazel[Bazel Build System] -->|link| GoogleTest
  end

  subgraph Continuous Integration
    GoogleTest -->|outputs XML/JSON| CI[CI Systems]
    CI -. feedback .-> Developers
  end

  subgraph Code Coverage
    GoogleTest -->|instrumented build & run| CoverageTools[Coverage Tools]
    CoverageTools --> Reports[Coverage Reports]
  end

  subgraph Extensibility
    GoogleTest -->|extend matchers/actions| CustomMatchers[Custom Matchers & Actions]
  end

  subgraph Platform Adaptations
    GoogleTest -->|platform abstraction| Platforms[OS & Compiler]
  end

  subgraph Third-Party Libraries
    OtherLibs[Other C++ Libraries] --> GoogleTest
  end

  classDef integration fill:#cfe2f3,stroke:#066,stroke-width:2px;

  Build System Integration,Continuous Integration,Code Coverage,Extensibility,Platform Adaptations,Third-Party Libraries:::integration
```

---

## Practical Tips for Success

- **Start with your build system:** Use native support in CMake or Bazel for simplest setup.
- **Configure CI early:** Automate test execution and result collection to catch regressions quickly.
- **Use default output formats:** XML and JSON outputs for wide CI compatibility.
- **Leverage custom matchers:** Express complex validations clearly; reduces test maintenance.
- **Enable verbose logging on demand:** Use `--gmock_verbose` to debug integration or test failures.
- **Keep platform considerations in mind:** Build and test on all target platforms regularly.

---

## Troubleshooting

### Tests Do Not Run in CI

- Verify the build system is correctly building test binaries.
- Ensure tests are being discovered and run correctly via `gtest_discover_tests` or test runner commands.
- Check CI logs for any errors or misconfigurations.

### Coverage Reports Are Empty or Incomplete

- Confirm compilation with coverage flags.
- Make sure tests are actually executed during coverage run.
- Validate coverage tool is compatible with your build environment.

### Platform-Specific Failures

- Confirm you are using supported compiler and standard library versions.
- Use platform-specific flags or compile-time switches if needed.

---

## Next Steps

Ready to integrate GoogleTest and GoogleMock? Explore:

- [Integrating GoogleTest/GoogleMock with Your Build System](https://github.com/google/googletest/blob/main/docs/gmock_cheat_sheet.md#using-build-systems)
- Build system specific guides for [CMake](https://cmake.org/cmake/help/latest/module/GoogleTest.html) and [Bazel](https://docs.bazel.build/versions/master/test-encyclopedia.html)
- [Custom Matchers and Actions](https://github.com/google/googletest/blob/main/docs/concepts/extensibility-patterns/custom-matchers-actions.md)
- [Getting Started with GoogleMock](https://github.com/google/googletest/blob/main/docs/gmock_for_dummies.md)

This will help you advance from setup to advanced testing with interaction-based verification.

---

_This documentation complements the [GoogleTest Primer](overview/introduction-getting-started/what-is-googletest) and the [Core Features & Capabilities](overview/introduction-getting-started/core-features) pages._


<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "docs/gmock_cheat_sheet.md", "range": "1-175"},{"path": "googlemock/README.md", "range": "1-423"},{"path": "overview/architecture-concepts/integration-points.mdx", "range": ""}]} />
