---
title: "Integrating with Your Build & CI"
description: "Describes common ways to integrate GoogleTest with build systems (CMake, Bazel), CI pipelines, and the wider C++ ecosystem. Introduces supported platforms, compatibility considerations, and guidance for linking tests into projects of varying sizes."
---

# Integrating with Your Build & CI

## Seamless Integration of GoogleTest into Your Build Systems and CI Pipelines

GoogleTest is designed to fit naturally within your existing C++ development workflows. Whether you're using powerful build systems like CMake or Bazel, or orchestrating continuous integration (CI) pipelines, integrating GoogleTest helps you maintain robust, automated testing that scales with your projects.

### Why Integration Matters

Automated testing is only as effective as its integration into your development lifecycle. By embedding GoogleTest with your build and CI systems, you ensure:

- **Consistent Test Runs:** Every build triggers your unit tests, catching regressions early.
- **Streamlined Development:** Developers can run tests easily without extra setup.
- **Scalability:** Supports projects ranging from small libraries to massive codebases.

### Supported Platforms and Compatibility Considerations

GoogleTest supports a broad spectrum of platforms and compilers commonly used in modern C++ development. When integrating:

- Verify your platform and compiler compatibility with GoogleTest.
- Take advantage of GoogleTest’s official support for Windows, macOS, Linux, and embedded platforms as documented.
- Consider platform-specific linker settings and compiler flags for smooth builds.

## Integrating with Build Systems

GoogleTest offers dedicated guidance for popular build systems to help you embed testing capabilities without friction.

### Integration with CMake

CMake is one of the most widely used build systems in C++ projects, and GoogleTest provides first-class support to integrate tests effortlessly:

- Use GoogleTest’s CMake support modules or fetch and add GoogleTest as an external project.
- Link your test targets against GoogleTest libraries.
- Employ helper functions such as `gtest_discover_tests()` to automate test discovery and execution.

#### Example: Adding GoogleTest to Your CMakeLists.txt

```cmake
# Download and configure GoogleTest
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/main.zip
)
FetchContent_MakeAvailable(googletest)

# Create your test executable
add_executable(MyTests test_main.cpp my_module_test.cpp)

# Link your test executable with GoogleTest
target_link_libraries(MyTests gtest_main)

# Discover tests automatically
include(GoogleTest)
gtest_discover_tests(MyTests)
```

This setup enables running `ctest` or `make test` to execute your GoogleTest test suite.

### Integration with Bazel

If you use Bazel, GoogleTest is directly supported as a test framework:

- Declare dependencies on `@com_google_googletest` in your `BUILD` files.
- Define `cc_test` rules to incorporate your tests.
- Bazel handles test discovery and execution out-of-the-box.

#### Example: Defining a GoogleTest Target in Bazel

```starlark
cc_test(
    name = "my_module_test",
    srcs = ["my_module_test.cpp"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

Then run your tests with `bazel test //path/to:my_module_test`.

### Linking Tests into Projects of Varying Sizes

GoogleTest can be incorporated into:

- **Small Projects:** Link GoogleTest statically or dynamically with few configurations.
- **Large Projects:** Use submodules, fetch content strategies, or integrate via your package management.
- **Monorepos:** Configure granular test targets and CI triggers for individual modules.

Best practices include:

- Avoid duplicating GoogleTest binaries across multiple targets.
- Use consistent compiler flags between your application and test binaries.
- Leverage test discovery features to minimize maintenance efforts.

## Integrating GoogleTest in CI Pipelines

Efficient CI integration ensures your tests are run automatically on code changes.

### Common CI Platforms Supported

- Jenkins
- GitHub Actions
- GitLab CI
- CircleCI
- Azure Pipelines

### Recommended Workflow

1. **Install build environment:** Prepare compiler, build tools, and GoogleTest dependencies.
2. **Build tests:** Compile your test targets using CMake, Bazel, or your chosen build system.
3. **Run tests:** Execute tests with built-in runners (`ctest`, `bazel test`) or directly by invoking the test binaries.
4. **Collect results:** Configure test result reporting and fail builds on test failures.

### Practical Tips for CI Integration

- Enable parallel test execution to speed up test runs.
- Cache build artifacts and dependencies to reduce pipeline time.
- Capture test logs and output for debugging.
- Use GoogleTest's XML output and integrate with CI tools’ reporting plugins.

## Troubleshooting Common Issues

- **Linking Errors:** Ensure correct include and library paths to GoogleTest in build definitions.
- **Test Discovery Failures:** Verify use of `gtest_discover_tests()` or Bazel `cc_test` rules are configured properly.
- **Compatibility Problems:** Confirm the compiler and platform support matches GoogleTest requirements.
- **Test Failures in CI but not locally:** Ensure identical environment, dependencies, and build flags.

## Next Steps

To get up and running quickly, consult the following documentation:

- [Prerequisites and Supported Platforms](/getting-started/setup-and-installation/prerequisites-and-supported-platforms)
- [Installation Guide](/getting-started/setup-and-installation/installation-guide)
- [Quickstart with CMake](/guides/getting-started/quickstart-cmake)
- [Quickstart with Bazel](/guides/getting-started/quickstart-bazel)

Explore [Feature Overview](/overview/architecture-features-integration/feature-overview) to understand how GoogleTest’s capabilities fit your testing needs. For deeper architecture understanding, check [System Architecture](/overview/architecture-features-integration/architecture-diagram).

---

<Callout title="Tip">
When integrating GoogleTest into CI, leverage test output formats like `JUnit XML` to enable detailed test reporting and flaky test detection.
</Callout>

<Callout title="Note">
Consistent compiler flags across your application and GoogleTest help avoid runtime incompatibilities and obscure failures.
</Callout>
