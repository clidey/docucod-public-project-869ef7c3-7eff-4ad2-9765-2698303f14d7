---
title: "Feature Overview"
description: "Provides a summarized tour of key GoogleTest and GoogleMock features: automatic test discovery, rich assertions, user-defined checks, parameterized/type-parameterized tests, death test support, mock class generation, and advanced options for running and organizing tests."
---

# Feature Overview

Discover the core capabilities of GoogleTest and GoogleMock that empower you to write expressive, maintainable, and scalable C++ tests. This guide provides a structured tour of the key features, illustrating how automatic test discovery, rich assertion mechanisms, custom checks, parameterized and typed tests, robust death test support, mock class generation, and advanced test running options combine into a powerful testing ecosystem.

---

## Automatic Test Discovery

GoogleTest automatically locates and registers your tests without manual intervention. By simply defining test cases using `TEST` or `TEST_F` macros, your tests are discovered during runtime and executed as part of the test suite.

### Why It Matters

- **Seamless integration:** No need to maintain a test registry.
- **Scalability:** Easily add new tests without updating registration code.
- **Consistency:** Ensures all defined tests run across different platforms and configurations.

**Example:**
```cpp
TEST(MyMathTest, Addition) {
  EXPECT_EQ(2 + 2, 4);
}

TEST_F(DatabaseTest, QueryReturnsExpectedRows) {
  ...
}
```

Tests defined in this way automatically become part of the test suite during execution.

---

## Rich Assertions and User-Defined Checks

Assertions form the backbone of validations in GoogleTest. The framework provides an extensive set of built-in assertions for primitive types, strings, containers, exceptions, and more. You can also define your own custom checks to suit domain-specific needs.

### Key Assertions

- **Basic Assertions:** `EXPECT_EQ`, `ASSERT_TRUE`, `EXPECT_NE` etc.
- **Container Assertions:** `EXPECT_THAT(container, ElementsAre(...))`
- **Exception Assertions:** `EXPECT_THROW`, `ASSERT_NO_THROW`

### Writing Custom Checks

GoogleTest supports writing user-defined predicates or matchers using `ASSERT_PRED*` macros or `MATCHER` macros to provide legible failure messages.

**Example: Custom Matcher Using MATCHER:**
```cpp
MATCHER(IsEven, "is an even number") {
  return arg % 2 == 0;
}

EXPECT_THAT(10, IsEven());
```

This empowers clean, readable tests with domain-intent clearly expressed.

---

## Parameterized and Type-Parameterized Tests

GoogleTest helps you avoid repetitive test code through parameterization.

### Parameterized Tests

Parameterize your tests over input values or configurations using `TEST_P` and `INSTANTIATE_TEST_SUITE_P`. This allows a single test definition to run against diverse inputs.

**Example:**
```cpp
class IsPrimeTest : public ::testing::TestWithParam<int> {};

TEST_P(IsPrimeTest, HandlesVariousInputs) {
  int n = GetParam();
  EXPECT_TRUE(IsPrime(n));
}

INSTANTIATE_TEST_SUITE_P(PrimeNumbers, IsPrimeTest, ::testing::Values(2,3,5,7));
```

### Type-Parameterized Tests

Run a test suite over multiple types by defining templates with `TYPED_TEST_SUITE` and `TYPED_TEST`.

**Example:**
```cpp
template <typename T>
class CalculatorTest : public ::testing::Test {
 public:
  Calculator<T> calc;
};

using MyTypes = ::testing::Types<int, double>;
TYPED_TEST_SUITE(CalculatorTest, MyTypes);

TYPED_TEST(CalculatorTest, Addition) {
  EXPECT_EQ(3, this->calc.Add(TypeParam(1), TypeParam(2)));
}
```

This provides flexible, reusable test logic across types.

---

## Death Test Support

GoogleTest includes extensive support for death tests â€” tests that verify a program terminates or dies as expected, usually due to a fatal error or assertion failure.

### Features

- Run in a separate subprocess to isolate effects.
- Supports matching exit statuses and output to `stderr`.
- Configurable death tests for various environments.

**Example:**
```cpp
EXPECT_DEATH_IF_SUPPORTED(Foo(-1), "negative value not allowed");
```

This makes verifying robustness and error paths straightforward.

---

## GoogleMock: Mock Class Generation and Control

GoogleMock complements GoogleTest with powerful mock object capabilities.

### Mock Class Generation

Using the `MOCK_METHOD` macro, GoogleMock automatically generates mock implementations for virtual methods, eliminating boilerplate.

**Example:**
```cpp
class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, GetSize, (), (const, override));
  MOCK_METHOD(void, SetName, (const std::string&), (override));
};
```

### Setting Expectations

Define method call expectations declaratively with `EXPECT_CALL`.

- Specify expected arguments using matchers.
- Define call cardinality with `.Times()`.
- Control return behavior with `.WillOnce()` and `.WillRepeatedly()`.

**Example:**
```cpp
EXPECT_CALL(mock_foo, GetSize())
    .Times(1)
    .WillOnce(Return(42));
```

### Default Actions and ON_CALL

Set default mock behaviors that apply when no explicit expectation matches.

```cpp
ON_CALL(mock_foo, SetName(_))
    .WillByDefault(Return());
```

---

## Advanced Test Running and Organization

GoogleTest offers command-line options and programmatic APIs to customize test execution.

### Test Filtering

Run subsets of tests using name patterns:
```
./test_binary --gtest_filter=SuiteName.TestName*
```

### Shuffling and Repetition

- Randomize test order with `--gtest_shuffle`.
- Run tests repeatedly for reliability with `--gtest_repeat`.

### Parallel Test Execution

Support for sharding tests across multiple processes to improve runtime.

### Test Fixtures & Suites

Group related tests in fixtures using `TEST_F` for shared setup and teardown.

---

## Putting It All Together: A Real-World Scenario

Imagine developing a caching layer for a web service in C++. You'd want:

- Tests to validate correct cache hits and misses.
- Mock dependencies such as database calls with GoogleMock.
- Parameterized tests to verify behavior across multiple cache sizes.
- Death tests to ensure invalid configs trigger the correct failures.

With GoogleTest and GoogleMock's features outlined above, all of this is possible with concise, expressive tests that are easy to maintain and extend.

---

## Quick Tips & Best Practices

- Use automatic test discovery to avoid manual test registration.
- Leverage rich matchers to express precise expectations.
- Prefer `ON_CALL` for common default behaviors; reserve `EXPECT_CALL` for actual verification.
- Use `NiceMock` or `StrictMock` wrappers to control handling of uninteresting calls.
- Parameterize tests for DRY, expressive test suites.
- Run death tests in isolation and verify error messages for robustness.

---

## Troubleshooting Common Issues

### Tests Not Running
Make sure your test files are linked to your test binary and that test macros are used correctly.

### Mock Method Not Called
Verify your `EXPECT_CALL` syntax and that the mock object is the one used in the tested code.

### Overly Strict or Loose Expectations
Balance between strictness and flexibility. Use `.Times(AnyNumber())` or no expectations as appropriate.

---

## Next Steps

To get started with these features:

- Dive into [Setting Up and Running Your First Test](../getting-started/setup-first-test) to experience automatic test discovery.
- Explore [Writing and Structuring Basic Tests](../guides/getting-started/writing-basic-tests) for assertion usage.
- Learn [Introduction to Mocking with GoogleMock](../guides/mocking-advanced-testing/intro-mocking) for mock generation.
- Experiment with [Parameterized and Typed Tests](../concepts/testing-foundations/test-parameterization).
- Understand [Death Tests](../concepts/testing-foundations/assertion-model) for failure verification.

---

For further detail on each feature, consult the related documentation pages and the official GoogleTest & GoogleMock guides to build mastery in your testing workflow.


---