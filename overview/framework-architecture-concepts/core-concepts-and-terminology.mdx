---
title: "Core Concepts & Terminology"
description: "Master the essential terminology and ideas behind GoogleTest and GoogleMock: tests and suites, fixtures, assertions, expectations, matchers, mock objects, actions, and cardinalities. Understand what each concept means, when to apply it, and why it matters for effective C++ testing."
---

# Core Concepts & Terminology

Master the essential terminology and ideas behind GoogleTest and GoogleMock. This documentation equips you to understand the key constructs—tests and suites, fixtures, assertions, expectations, matchers, mock objects, actions, and cardinalities—that form the foundation of effective C++ testing.

---

## Tests and Test Suites

**Tests** are the fundamental units of verification: small, isolated functions that verify specific behaviors of your code. GoogleTest organizes **tests** into logical groups called **test suites** (formerly known as test cases). Each test suite encapsulates related tests that often share some setup or common characteristics.

> **Why grouping tests into suites?**
>
> Grouping related tests into suites provides structure and clarity. It enables running, filtering, and reporting on related functionality cohesively.

### Test Names

- Each test has two names:
  - The *test suite name* groups related tests.
  - The *test name* identifies the specific test within the suite.

*Both names must be valid C++ identifiers and should avoid underscores (`_`) to prevent naming collisions and reserved keyword conflicts.*

### Example
```cpp
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(5), 120);
}
```

Here, `FactorialTest` is the test suite containing two tests.

---

## Test Fixtures

When multiple tests require the same configuration or setup, GoogleTest provides **test fixtures** to avoid duplication. A fixture is a class derived from `testing::Test` that contains setup and teardown logic and shared data for all tests in the suite.

### Benefits

- Enables reuse of expensive or complex setup/teardown operations.
- Ensures tests remain independent by creating a fresh fixture object per test.
- Improves maintainability by logically grouping common resources.

### Sample Fixture
```cpp
class QueueTest : public testing::Test {
 protected:
  QueueTest() {
    // Setup called before each test
    q1_.Enqueue(1);
    q2_.Enqueue(2);
    q2_.Enqueue(3);
  }
  // Optional SetUp() and TearDown() overrides for per-test setup/cleanup

  Queue<int> q0_;  // empty queue
  Queue<int> q1_;  // has 1 element
  Queue<int> q2_;  // has multiple elements
};
```

### Using The Fixture
Tests that use the fixture invoke `TEST_F` instead of `TEST`:

```cpp
TEST_F(QueueTest, IsEmptyInitially) {
  EXPECT_EQ(q0_.size(), 0);
}

TEST_F(QueueTest, DequeueWorks) {
  int* n = q1_.Dequeue();
  ASSERT_NE(n, nullptr);
  EXPECT_EQ(*n, 1);
  delete n;
}
```

Each `TEST_F` gets a new, independent instance of `QueueTest` with its members initialized.

---

## Assertions

Assertions form the core of test validation. They are statements that check conditions and determine test success or failure.

### Types of Assertions

GoogleTest offers two primary forms:

- `EXPECT_*` macros generate *nonfatal failures*: the test continues running after the assertion fails, allowing multiple failures per test.
- `ASSERT_*` macros generate *fatal failures*: the current function aborts immediately when the assertion fails, preventing further test execution in that test.

> **Tip:** Use `EXPECT_*` when failure does not block further useful validation. Use `ASSERT_*` when continuing makes no sense or leads to undefined behavior.

### Assertion Examples

```cpp
ASSERT_EQ(foo.size(), expected_size) << "Size mismatch";
EXPECT_TRUE(CheckCondition(data)) << "Condition failed";
```

### Custom Messages

You can append informative messages to assertions using the streaming operator `<<`. This adds context crucial for debugging.

### Common Assertions

- Equality: `EXPECT_EQ`, `ASSERT_EQ`
- Inequality: `EXPECT_NE`, `ASSERT_NE`
- Boolean checks: `EXPECT_TRUE`, `ASSERT_TRUE`, `EXPECT_FALSE`, `ASSERT_FALSE`
- String equality: `EXPECT_STREQ`, `ASSERT_STREQ`
- Floating-point comparison: `EXPECT_FLOAT_EQ`, `EXPECT_DOUBLE_EQ`, `EXPECT_NEAR`
- Exception testing: `EXPECT_THROW`, `ASSERT_THROW`, `EXPECT_NO_THROW`, `ASSERT_NO_THROW`

---

## Expectations

Expectations, typically from GoogleMock, allow more detailed verification of interactions with mocked objects within tests:

- **Expectations** define what calls or actions you are “expecting” during a test.
- They check the calls made to mocked interfaces and can specify parameters, number of calls, ordering, and more.

Though expectations are part of mocking, their terminology flows naturally from the concept of **assertions**.

---

## Matchers

Matchers are predicates that specify how values should be validated. They enable expressive assertions beyond basic equality or boolean checks.

Example matchers:

- `Eq(value)`: equals `value`.
- `Gt(value)`, `Lt(value)`: greater than or less than.
- `HasSubstr(string)`: string contains the specified substring.
- `MatchesRegex(pattern)`: matches a regular expression.

Match expressions can be combined for powerful checks.

Example usage:

```cpp
EXPECT_THAT(actual_string, HasSubstr("needle"));
EXPECT_THAT(result, AllOf(Gt(10), Lt(20)));
```

The matchers produce clear failure messages to facilitate debugging.

---

## Mock Objects

Mock objects simulate dependencies in your tests, allowing isolation and verification of interactions.

They provide:

- Functionality replacement for interfaces or classes.
- Features to set expectations on method calls.
- Tracking of calls, sequences, and actions to validate interactions.

These are especially useful when your code depends on complex external systems or side effects.

---

## Actions

**Actions** define the behavior of mock methods when called. They determine what a mock method returns or how it behaves.

You can specify actions such as:

- Returning a value.
- Throwing exceptions.
- Calling a custom function or lambda.

For example:

```cpp
EXPECT_CALL(mock_obj, Compute(42))
    .WillOnce(Return(10));
```

This instructs the mock to return `10` when `Compute(42)` is called once.

---

## Cardinalities

Cardinalities express how many times an expected call or action should occur during a test.

Common cardinalities include:

- `Times(n)`: exactly `n` times.
- `AtLeast(n)`: at least `n` times.
- `AtMost(n)`: at most `n` times.
- `AnyNumber()`: any number of times, including zero.

Cardinalities ensure that mock invocations align with expectations and support fine-grained control over test validation.

---

## Summary of Core Concepts

| Concept     | Description                                         |
|-------------|-----------------------------------------------------|
| Test       | An individual verification unit that checks code behavior. |
| Test Suite | A group of related tests.
| Test Fixture | A class to share setup and teardown code and common data among tests.
| Assertions  | Statements verifying correctness, leading to success or failure.
| Expectations | Verification of mock object interactions.
| Matchers   | Predicates for expressive validation of values.
| Mock Objects | Simulated implementations to isolate dependencies.
| Actions    | Predefined behaviors that mocks perform when invoked.
| Cardinalities | Quantify expected number of mock calls.

---

By understanding and combining these core concepts, you can write robust, maintainable, and expressive C++ tests with GoogleTest and GoogleMock.

For a practical introduction and examples, refer to the [GoogleTest Primer](primer.md) and [Testing Reference](reference/testing.md).

<Tip>
Keep test suites focused and fixtures minimal to ensure tests remain independent, fast, and easy to debug.
</Tip>

<Tip>
Use matchers and assertions to write clear, intention-revealing tests that help quickly pinpoint failures.
</Tip>

---

## Related Documentation

- [GoogleTest Primer](primer.md) – Your first step to writing tests.
- [Testing Reference](reference/testing.md) – Detailed API documentation for test writing.
- [Assertions Reference](reference/assertions.md) – All available assertion macros.
- [Advanced GoogleTest Topics](advanced.md) – Deep dive into sophisticated testing features.
- [Parameterization Guide](guides/advanced-usage/parameterized-tests) – For writing parameterized and typed tests.


---

## Next Steps

After mastering these core concepts, explore:

- Writing simple and fixture-based tests.
- Using value-parameterized and typed tests for scalable coverage.
- Incorporating mocks with expectations, actions, and cardinalities.
- Extending GoogleTest with custom assertions and event listeners.

Start with the [Writing Your First Test](guides/core-workflow/getting-started-tests) guide to practice these concepts.

---