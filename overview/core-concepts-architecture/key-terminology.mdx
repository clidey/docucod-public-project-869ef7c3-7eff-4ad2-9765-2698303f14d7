---
title: "Key Concepts and Terminology"
description: "Demystifies core terms used in GoogleTest (test cases, test suites, assertions, matchers, mocks, death tests, parameterized tests, cardinalities, actions, sequences, etc.), providing practical examples and mapping them to their main implementation entry points."
---

# Key Concepts and Terminology

Understanding the fundamental terms and concepts in GoogleTest is essential to writing effective and maintainable tests. This documentation breaks down the core vocabulary of GoogleTest, explains what each term means from a user's perspective, and illustrates their usage with practical examples.

---

## Test Cases and Test Suites

- **Test Case**: A container or grouping of related tests, historically synonymous with "test suite".
- **Test Suite**: Google's modern term for a group of related tests sharing setup code and configuration.

Both organize tests logically and provide a structure to run tests selectively.

### User Intent
You want to group tests logically so you can run related tests together, share setup/teardown code, and keep your test code organized.

### Example
```cpp
TEST(MathTest, Addition) {
  EXPECT_EQ(2 + 2, 4);
}

TEST(MathTest, Multiplication) {
  EXPECT_EQ(3 * 3, 9);
}
```
Here, `MathTest` is the test suite; `Addition` and `Multiplication` are test cases within this suite.

---

## Assertions

- **Assertion**: A statement that verifies a condition is true. Failure marks the test as failed.

### User Intent
You want to confirm that a specific condition holds, such as equality, non-null pointers, or that an exception was thrown.

### Common Assertions
- `EXPECT_EQ(val1, val2)` — checks if `val1 == val2`.
- `ASSERT_TRUE(condition)` — fails and stops the current test if `condition` is false.

### Example
```cpp
EXPECT_NE(foo.Bar(), 0);
ASSERT_TRUE(IsValid(result));
```

---

## Matchers

Matchers define criteria for matching actual values against expected values in assertions and expectation clauses.

- Can match exact values or patterns (e.g., any value, greater than, string contains).

### User Intent
You want flexible and expressive verification conditions beyond simple equality.

### Example
```cpp
EXPECT_CALL(mock, Foo(Ge(5)));   // expects Foo() to be called with argument >= 5
EXPECT_THAT(name, HasSubstr("Smith"));
```

---

## Mocks and Mock Objects

- **Mock Object**: A test double that pretends to implement the same interface as a real object but allows you to control and verify interactions.
- **Mock Class**: A class generated (or written with macros) to produce mock objects.

### User Intent
You want to replace complicated or expensive real objects in tests with controllable stand-ins that verify expected interactions.

### Example Workflow
1. Define a mock class using `MOCK_METHOD` macros.
2. Create mock objects.
3. Set expectations on method calls using `EXPECT_CALL`.
4. Exercise code using the mocks.
5. The framework verifies if expectations were met.

### Example
```cpp
class MockTurtle : public Turtle {
 public:
  MOCK_METHOD(void, PenUp, (), (override));
  MOCK_METHOD(void, Forward, (int distance), (override));
};

MockTurtle turtle;
EXPECT_CALL(turtle, PenUp()).Times(1);
// Exercise code
```

---

## Death Tests

Tests that verify that a program aborts or terminates in an expected way when given invalid input.

### User Intent
You want to ensure error conditions or fatal checks properly terminate the program.

### Example
```cpp
EXPECT_DEATH({ SomeFunctionThatCrashes(); }, "invalid argument");
```

---

## Parameterized Tests

Tests that are run multiple times with different input parameters.

### User Intent
You want to write a single test logic and run it over many sets of inputs without duplication.

### Example
```cpp
class FooTest : public ::testing::TestWithParam<int> {};
TEST_P(FooTest, BehavesCorrectly) {
  int x = GetParam();
  EXPECT_GT(x, 0);
}
INSTANTIATE_TEST_SUITE_P(PositiveNumbers, FooTest, ::testing::Values(1, 2, 3));
```

---

## Cardinalities

Specifies how many times a mock method is expected to be called.

### User Intent
You want to express constraints like "called exactly once", "at least twice", or "never" on mock method invocations.

### Common Cardinalities
| Cardinality           | Meaning                    |
|----------------------|----------------------------|
| `Exactly(n)`         | The method is called exactly n times |
| `AtLeast(n)`         | Called n or more times      |
| `AtMost(n)`          | Called n or fewer times     |
| `AnyNumber()`        | Called any number of times  |
| `Between(m, n)`      | Called between m and n times |

### Example
```cpp
EXPECT_CALL(mock, Foo()).Times(Exactly(3));
EXPECT_CALL(mock, Bar(_)).Times(AtLeast(1));
EXPECT_CALL(mock, Baz()).Times(AnyNumber());
```

---

## Actions

Actions define what a mock method does when called (e.g., return a value, invoke a callback, throw an exception).

### User Intent
You want to specify the behavior of a mock's methods, such as returning specific data or triggering side-effects.

### Common Actions
- `Return(value)` — returns a specified value
- `ReturnRef(variable)` — returns a reference to a variable
- `Invoke(func)` — invokes a function or callable
- `SetArgPointee<N>(value)` — sets the N-th pointer argument to `value`
- `DoAll()` — combines multiple actions

### Example
```cpp
EXPECT_CALL(mock, GetX())
    .WillOnce(Return(100))
    .WillRepeatedly(Return(200));
```

---

## Sequences

Sequences enforce that multiple expectations occur in a specific order.

### User Intent
You want to guarantee that mock methods are called in the order you specify.

### Example
```cpp
{
  InSequence seq;
  EXPECT_CALL(mock, Start());
  EXPECT_CALL(mock, Process());
  EXPECT_CALL(mock, Finish());
}
```

Here, calls must happen in the order Start → Process → Finish, or the test fails.

---

## Summary Table of Core Terms

| Term                 | Description                                              |
|----------------------|----------------------------------------------------------|
| Test Case            | Group of related tests                                    |
| Test Suite           | Modern term for test case                                 |
| Assertion            | Verifies condition is true                                |
| Matcher              | Predicate to validate arguments or values                |
| Mock Object          | Stand-in object to verify interactions                    |
| Death Test           | Test verifying process aborts on invalid conditions      |
| Parameterized Test   | Test run multiple times with different inputs            |
| Cardinality          | Specifies number of expected calls                        |
| Action               | Behavior of mock methods when invoked                     |
| Sequence             | Enforces expected call order                              |

---

## Practical Mapping to Implementation

- **Test Suites / Cases** are created using macros like `TEST()` or `TEST_F()`, which define tests grouped under a suite name.
- **Assertions** are invoked with macros like `EXPECT_EQ()`, providing immediate test failure reporting.
- **Matchers** come from the `testing` namespace and are used in expectations and assertions.
- **Mocks** derive from interfaces with mocked methods defined via `MOCK_METHOD` macros.
- **Expectations** are set using `EXPECT_CALL(mock, method(matchers))` with optional modifiers:
  - `.Times(cardinality)` to specify how many calls
  - `.WillOnce(action)` to specify behavior on calls
  - `.InSequence()` to order calls
  - `.After()` to specify call ordering dependencies
- **Parameterized Tests** use the `TestWithParam` class and macros `TEST_P` and `INSTANTIATE_TEST_SUITE_P`.

---

## Tips and Common Pitfalls

- Always define mocks for interfaces with **virtual destructors** to avoid memory leaks.
- Set expectations **before** exercising mock methods to ensure predictable behavior.
- Avoid overly strict matchers that specify unnecessary argument details.
- Use `_` matcher to ignore arguments you don’t care about.
- Balance your `Times()` clauses: too strict causes brittle tests, too loose allows bugs to go undetected.
- Use `RetiresOnSaturation()` if you want expectations to become inactive after their calls.
- Utilize `InSequence` or `.After()` to enforce order only when necessary to avoid fragile tests.
- When mocking methods with overloaded signatures, specify the exact method with explicit matchers.
- Use `ON_CALL()` to set default behaviors without asserting call occurrences.

---

For further mastery, explore the following documentation:

- [gMock for Dummies](../docs/gmock_for_dummies.md) for beginner-friendly guidance and examples
- [gMock Cheat Sheet](../docs/gmock_cheat_sheet.md) for quick syntax reference
- [gMock Cookbook](../docs/gmock_cook_book.md) for recipes and patterns
- [Mocking Reference](../docs/reference/mocking.md) for API details

Explore the [GoogleTest Overview](../overview/core-concepts-architecture/key-terminology) for additional context on the test lifecycle and framework architecture.

---