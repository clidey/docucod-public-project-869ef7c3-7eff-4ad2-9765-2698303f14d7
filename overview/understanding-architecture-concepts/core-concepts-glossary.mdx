---
title: "Core Concepts & Terminology"
description: "Defines central concepts such as Test Suites, Test Cases, Assertions, Test Fixtures, Parameterized Tests, Mocking, and Death Tests. Provides quick reference to domain-specific language for new users, mapping each term to its C++ manifestation."
---

# Core Concepts & Terminology

Welcome to the foundational glossary of GoogleTest and GoogleMock, where essential concepts and terms are defined to help you master the framework quickly. This page serves as your quick reference to the core domain-specific language — mapping each testing and mocking term to its C++ manifestation — so you use the tools with confidence and clarity.

---

## Understanding the Building Blocks

GoogleTest and GoogleMock rely on a structured set of concepts that organize your test code and clarify interactions. Each term below represents a concept that you will use directly or encounter during your tests.

### Test Suites

- **Definition:** A collection grouping related tests (formerly known as Test Cases in older GoogleTest versions).
- **Purpose:** Organize tests to reflect logical areas or components of your software.
- **Implementation:** Created via the `TEST()` or `TEST_F()` macros, named by the first argument.

**Example:**

```cpp
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}
```

### Test Cases (Tests)

- **Definition:** Individual tests that verify one behavior or condition within a Test Suite.
- **Details:** Each Test exercises code and contains assertions to validate expected behavior.
- **Mapping:** Specified with the second argument to `TEST()` or as test functions under fixtures with `TEST_F()`.

---

## Mocking Fundamentals

Mocking is a cornerstone technique in GoogleMock, allowing you to simulate and verify interactions with dependencies. Here are the key terms to anchor your understanding.

### Mock Classes

- **What:** Classes you define to simulate real interfaces.
- **How:** Use the `MOCK_METHOD` macro inside a class derived from the interface you want to mock.
- **Why:** To specify expectations and control behaviors of methods during tests.

```cpp
class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, GetSize, (), (const, override));
  MOCK_METHOD(void, DoSomething, (int n), (override));
};
```

### Mock Methods

- **What:** Methods inside mock classes generated by the `MOCK_METHOD` macro.
- **Characteristics:** They can be virtual and override real interface methods.
- **Usage:** You set up expectations on them using `EXPECT_CALL` or define default behavior with `ON_CALL`.

### Expectations (`EXPECT_CALL`)

- **What:** Statements asserting that a mock method will be called (or not) with particular arguments, times, and in some order.
- **Structure:** Includes matchers for arguments, cardinalities (`Times()`), sequences, ordering (`InSequence`, `After`), and actions (`WillOnce`, `WillRepeatedly`).

```cpp
EXPECT_CALL(mock_foo, DoSomething(42))
    .Times(1)
    .WillOnce(Return(true));
```

- **Goal:** Verify interactions precisely and fail tests if expectations are not met or are violated.

### Default Behavior (`ON_CALL`)

- **What:** Specifies what a mock method should do by default when called, but does *not* assert it will be called.
- **Usage:** Useful to define fallback or common behavior across tests without setting strict expectations.

```cpp
ON_CALL(mock_foo, DoSomething(_))
    .WillByDefault(Return(false));
```

- **Important:** `WillByDefault()` must be specified exactly once for each `ON_CALL`.

### Matchers

- **What:** Predicates used inside `EXPECT_CALL` and `ON_CALL` to specify what arguments are acceptable.
- **Common Examples:** `_` (wildcard), `Eq(value)`, `Ge(value)`, `NotNull()`.
- **Composability:** Can be combined with `AllOf()`, `AnyOf()`, and others for expressive validation.

### Cardinalities

- Define how many times a mock method call is expected or allowed.
- Common cardinalities include:
  - `Exactly(n)`: called exactly `n` times
  - `AtLeast(n)`: called at least `n` times
  - `AtMost(n)`: called at most `n` times
  - `AnyNumber()`: any number of calls (including zero)
  - `Between(m, n)`: between `m` and `n`, inclusive

---

## Advanced Testing Constructs

### Test Fixtures

- **Purpose:** Share setup and teardown code between multiple tests.
- **Implementation:** Derived from `testing::Test`, used with `TEST_F`.

### Parameterized Tests

- Run the same test logic with multiple sets of parameters.

### Mock Object Strictness Modes

- Configure how mocks treat calls that do not match any expectations:

| Mode       | Behavior on Unexpected Calls                            |
|------------|--------------------------------------------------------|
| _NiceMock_ | Suppresses warnings, allows calls                     |
| _NaggyMock_ (default) | Warns about uninteresting calls                  |
| _StrictMock_ | Treats uninteresting calls as test failures           |

### Sequences and Ordering

- Enforce call orders using `Sequence` and `InSequence` constructs.
- Use `.After()` to specify dependencies between expectations.

Example:

```cpp
Sequence s;
EXPECT_CALL(mock, FirstCall()).InSequence(s);
EXPECT_CALL(mock, SecondCall()).InSequence(s);
```

Here, `FirstCall` must happen before `SecondCall`.

### Death Tests

- Tests that validate that certain code exits or crashes as expected.

---

## C++ Syntax and Domain-Specific Language Reference

| Concept                | C++/gMock Representation                                | Description                                                         |
|------------------------|---------------------------------------------------------|---------------------------------------------------------------------|
| Test Suite             | `TEST(SuiteName, TestName)`                             | Group of tests                                                       |
| Test Case (Test)       | Individual `TEST` or `TEST_F` functions                 | A single, runnable test                                              |
| Test Fixture           | Classes subclassing `testing::Test`                      | Shared setup for groups of tests                                     |
| Mock Class             | User-defined classes with `MOCK_METHOD` macros          | Simulates real classes/interfaces for testing                       |
| Mock Method            | `MOCK_METHOD(ReturnType, MethodName, (Args...), (Quals))` | Method that is intercepted for calls and expectations               |
| Expectation            | `EXPECT_CALL(mock_object, MethodName(matchers...))`    | Defines expected calls — counts, arguments, ordering, actions       |
| Default Behavior       | `ON_CALL(mock_object, MethodName(matchers...))`        | Defines what the mock method does when called but no expectation set |
| Matcher                | Special predicates like `_`, `Eq()`, `Ge()`, etc.       | Specify flexible argument matching                                 |
| Cardinality            | `Times(n)`, `AtLeast(n)`, `AnyNumber()`, etc.            | Specify how many times a call is expected                           |
| Action                 | `WillOnce(action)` / `WillRepeatedly(action)`           | Define the behavior a mock method performs on matching calls        |
| Sequence               | `Sequence` objects                                       | Enforce chronological ordering among expectations                   |
| RetiresOnSaturation    | `.RetiresOnSaturation()`                                 | Retire expectation when saturated                                  |
| ExpectationSet         | `ExpectationSet` group                                   | Set of related expectations for partial ordering                    |
| Nice, Naggy, Strict    | `NiceMock<T>`, `NaggyMock<T>`, `StrictMock<T>`           | Control uninteresting mock call reporting                           |

---

## Practical Tips & Best Practices

- Always define mock methods in the `public:` section, even if base methods are `protected` or `private`.
- Use `ON_CALL` to specify default behavior and `EXPECT_CALL` only to set expectations you want to verify.
- Use wildcards (`_`) liberally to avoid brittle tests.
- Remember expectations are 'sticky' by default — if saturation needs auto-retiring, use `.RetiresOnSaturation()`.
- Use `Sequence` and `.After()` for strict or partial ordering requirements.
- Use `NiceMock` to suppress warnings about uninteresting calls and `StrictMock` to treat them as errors.
- For mocked methods returning references, use `ReturnRef()` to return references safely.

---

## Summary

This page equips you with the essential vocabulary and constructs of GoogleTest and GoogleMock. From Test Suites and Test Cases to the rich mocking DSL (`MOCK_METHOD`, `EXPECT_CALL`, `ON_CALL`), and advanced concepts like sequences and strictness modes — you now understand the basic building blocks you will encounter and use while writing your tests.

To solidify your understanding, refer to the [gMock for Dummies](../../../guides/getting-started/first-mock-example) guide and the [Mocking Reference](../../../api-reference/core-apis/mocking-core) for detailed usage and API coverage.

---

<AccordionGroup title="Common Terms and Their C++ Manifestations">
<Accordion title="Test Suites and Test Cases">
A **Test Suite** is a collection of related tests which group individual **Test Cases** (referred to as *Tests* in GoogleTest terminology). You define them using the `TEST()` macro.

- Example:
  ```cpp
  TEST(MathTest, Addition) {
    EXPECT_EQ(Add(2, 3), 5);
  }
  ```
</Accordion>

<Accordion title="Mock Classes and Mock Methods">
**Mock Classes** simulate interfaces or behaviors you want to verify. Mock methods inside these classes are defined with the `MOCK_METHOD` macro, e.g.,

```cpp
class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, GetValue, (), (const, override));
};
```
</Accordion>

<Accordion title="EXPECT_CALL and ON_CALL">
- `EXPECT_CALL` sets an expectation that a mock method will be called, optionally with argument matchers, cardinalities, call order, and behaviors.
- `ON_CALL` sets default behavior for methods but does not expect calls.

Both use chainable clauses such as `.With()`, `.Times()`, `.InSequence()`, `.After()`, `.WillOnce()`, `.WillRepeatedly()`, and `.RetiresOnSaturation()`.
</Accordion>

<Accordion title="Matchers">
Matchers let you specify flexible argument patterns for expectations:

- Wildcards: `_` for any argument
- Value equality: `Eq(value)`
- Comparison: `Lt(value)`, `Ge(value)`, etc.
- Null checks: `IsNull()`, `NotNull()`
- Multi-argument and composite matchers available
</Accordion>

<Accordion title="Sequences and Ordering">
Use `Sequence` and `InSequence` to enforce call order.

```cpp
Sequence seq;
EXPECT_CALL(mock, Foo()).InSequence(seq);
EXPECT_CALL(mock, Bar()).InSequence(seq);
```

Using `.After()` clause, you can specify partial ordering between expectations.
</Accordion>

<Accordion title="Strictness Modes">
Mock objects can be wrapped to control their reaction to uninteresting calls:

- `NiceMock<T>` suppresses warnings.
- `NaggyMock<T>` (default) warns on uninteresting calls.
- `StrictMock<T>` treats uninteresting calls as failures.
</Accordion>
</AccordionGroup>

---

## Troubleshooting Common Pain Points

- **Uninteresting Calls:** If warnings about unexpected calls clutter your output, consider using `NiceMock` or add catch-all expectations with `Times(AnyNumber())`.
- **Mock Method Not Called:** Remember to set expectations *before* the method is exercised.
- **Overloaded Methods:** Use `Const()` or type-casting helpers to disambiguate overloads.
- **Default Actions Missing:** Use `ON_CALL` or set default return values with `::testing::DefaultValue<T>::Set()`.
- **Order Violations:** Use `Sequence`, `InSequence` or `.After()` to define expected call order.

---

## Related Documentation

- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) - Beginner-friendly guide to mocking with examples.
- [Mocking Reference](reference/mocking.md) - Comprehensive API and core concepts.
- [Mocking Cookbook](guides/core-testing-workflows/mocking-techniques.md) - Recipes and patterns.
- [GoogleTest Primer](docs/primer.md) - Introductory guide to writing tests.

---

## Next Steps

To put these concepts into practice:

- Define your first mock class using `MOCK_METHOD`.
- Use `EXPECT_CALL` to specify method invocation expectations with argument matchers and cardinalities.
- Run your tests and observe verification of expectations and failure messages.

Explore the [Using Matchers for Flexible Validation](guides/core-testing-workflows/using-matchers.md) and [Mocking Techniques and Patterns](guides/core-testing-workflows/mocking-techniques.md) as you grow familiar.

---

**Visual Summary of Key Relationships:**

```mermaid
flowchart TD
  TS[Test Suites]
  TC[Test Cases (Tests)]
  TF[Test Fixtures]
  MC[Mock Classes]
  MM[Mock Methods]
  EC[EXPECT_CALL]
  OC[ON_CALL]
  MA[Matchers]
  CA[Cardinalities]
  AC[Actions]
  SE[Sequences & Ordering]
  SM[Straightforward Mock Use]

  TS -->|contain| TC
  TF -->|used by| TC
  MC -->|contain| MM
  MM -->|targeted by| EC
  MM -->|have default| OC
  EC -->|use| MA
  EC -->|use| CA
  EC -->|use| AC
  EC -->|can enforce| SE

  SM --> EC
  SM --> OC
  SM --> MC

  classDef important fill:#fffdcc,color:#222,border:1px solid #dcbd10;
  EC,OC,MA,CA,AC,SE class important;
```

---

> This page serves as your quick-reference cornerstone — a bridge between the abstract principles and the detailed API. Refer back often as you develop sophisticated, maintainable tests with GoogleTest and GoogleMock.

<Check>
Master these core concepts to effectively design and verify tests with GoogleTest and GoogleMock.
</Check>

---

<Info>
For detailed API syntax, usage examples, and deeper explanations, explore the following pages:
- [Mocking Reference](reference/mocking.md)
- [gMock for Dummies](guides/getting-started/first-mock-example.md)
- [gMock Cookbook](guides/core-testing-workflows/mocking-techniques.md)
</Info>
