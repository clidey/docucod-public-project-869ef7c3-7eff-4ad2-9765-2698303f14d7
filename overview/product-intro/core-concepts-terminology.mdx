---
title: "Core Concepts & Terminology"
description: "Defines the foundational ideas users will encounter throughout the documentation—test cases, assertions, fixtures, mocks, matchers, cardinalities, and related terminology—building a shared vocabulary for all user journeys."
---

# Core Concepts & Terminology

Welcome to the foundational guide that establishes the key ideas you will encounter throughout the GoogleTest and GoogleMock documentation. This page is your starting point to understand the primary constructs and language involved in writing robust C++ tests using GoogleTest and for creating flexible mock objects with GoogleMock.

---

## Why This Matters

Testing complex C++ code can be challenging without a clear vocabulary and a consistent set of concepts. This page helps you build that shared understanding by defining essential terminology such as **test cases**, **assertions**, **fixtures**, **mocks**, **matchers**, **cardinalities**, and more. With these definitions, you will be better equipped to read, write, and troubleshoot tests effectively.

## Core Concepts

### Test Cases and Tests

- **Test Case**: A test case groups a set of related tests, often representing the same unit or feature of code under test. It is analogous to a class containing multiple test functions.

- **Test**: An individual test verifies a specific behavior or property of the code. They are functions with unique names that execute code and validate results.

### Assertions

Assertions are key building blocks in tests that check whether conditions hold true. If an assertion fails, the test fails.

- Example:

  ```cpp
  EXPECT_EQ(5, Add(2, 3));  // Checks Add(2, 3) equals 5
  ASSERT_TRUE(IsPositive(10));  // Aborts test if false
  ```

- **EXPECT_** vs. **ASSERT_**:
  - `EXPECT_` assertions log failures but continue running the test.
  - `ASSERT_` assertions abort the current test immediately upon failure.

### Fixtures

Fixtures help set up a consistent testing environment:

- Define a fixture by deriving a test class from `::testing::Test`.
- Initialize common resources in `SetUp()` and clean up in `TearDown()` methods.

Example:

```cpp
class MyFixture : public ::testing::Test {
protected:
  void SetUp() override {
    // Common initialization
  }
  void TearDown() override {
    // Cleanup
  }
};

TEST_F(MyFixture, VerifySomething) {
  // Use initialized resources
}
```

### Mocks and Mock Objects

- **Mock Object**: A test double that imitates the behavior of a real object, using generated code to track method calls, validate interactions, and simulate behavior.

- The **mock class** is created by inheriting the interface you want to mock and using GoogleMock macros, primarily `MOCK_METHOD`, to create mock methods.

- You set **expectations** on mock methods specifying:
  - Which calls you expect and with what arguments.
  - How many times they will be called (cardinality).
  - What should happen when they are called (actions).

Example of defining a mock method:

```cpp
class MockFoo : public Foo {
public:
  MOCK_METHOD(int, GetSize, (), (const, override));
};
```

### Matchers

Matchers specify *which arguments* a mock method is expected to be called with:

- You can use concrete values or special matchers like `_` (wildcard), `Ge(5)` (greater or equal to 5), `NotNull()`, or combine them with logical operators.

- Matchers evaluate arguments during mock method invocations to verify they meet the requirements.

Example:

```cpp
EXPECT_CALL(mock_foo, Process(Ge(5), _));  // first argument >= 5, second any
```

### Cardinalities

Cardinalities describe *how many times* a mock method is expected to be called. Some common cardinalities are:

| Cardinality            | Meaning                                |
|------------------------|----------------------------------------|
| `Times(AnyNumber())`   | Called zero or more times               |
| `Times(AtLeast(n))`    | Called at least n times                 |
| `Times(AtMost(n))`     | Called at most n times                  |
| `Times(Exactly(n))` or `Times(n)` | Called exactly n times           |

Example:

```cpp
EXPECT_CALL(mock_foo, DoSomething()).Times(2); // Expect exactly two calls
```

### Actions

Actions specify *what happens* when a mock method is called:

- Returning a value (`Return(value)`)
- Calling a real method or function (`Invoke()`)
- Setting output parameters (`SetArgPointee()`)
- Chaining multiple actions (`DoAll()`)

Example:

```cpp
EXPECT_CALL(mock_foo, GetValue()).WillOnce(Return(42));
```

## User Workflow Overview

1. **Define a mock class** by inheriting your interface and using `MOCK_METHOD`.
2. **Set expectations** on mock methods before exercising the code.
3. **Execute the code under test**, which interacts with mocks.
4. **Verify** that interactions meet expectations automatically on mock destruction or manually.


## Practical Tips and Best Practices

- Always set your expectations *before* your code interacts with mocks.
- Use broad matchers for flexible tests, and more precise matchers when verifying specific behavior.
- Use cardinalities to specify exact or flexible numbers of invocations.
- Consider `NiceMock`, `NaggyMock`, or `StrictMock` wrappers to control warnings or failure behavior on unexpected/uninteresting calls.
- Prefer `ON_CALL` to set default behavior without asserting a call is required.
- Use sequences and `.InSequence()` to enforce call order when necessary.

## Common Pitfalls

- Forgetting to mark destructors as virtual in interfaces causes undefined behavior when deleting through base pointers.
- Mocking non-virtual methods requires special patterns not covered here; focus on virtual functions.
- Overly strict expectations cause brittle tests; balance precise verification with test resilience.
- Defining expectations after exercising mocks leads to undefined behavior.

## Related Concepts and Further Learning

Refer to these pages for a deeper dive:

- [What is GoogleTest & GoogleMock?](what-is-googletest)
- [gMock Cookbook](gmock_cook_book)
- [gMock Cheat Sheet](gmock_cheat_sheet)
- [Mocking Reference](mocking)

For practical examples and usage patterns, explore the guides on writing effective tests and using advanced mocking techniques.

---

This terminological groundwork ensures you are fluent with the language of C++ testing and mocking, empowering you to leverage the full capabilities of GoogleTest and GoogleMock with confidence.
