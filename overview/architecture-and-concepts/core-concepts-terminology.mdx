---
title: "Core Concepts and Terminology"
description: "Defines critical concepts such as 'test case', 'fixture', 'assertion', 'mock', 'death test', and 'parameterized test'. Each term is explained with context for how it shows up in real workflows and mapped to relevant APIs and files."
---

# Core Concepts and Terminology

Understanding GoogleTest's foundational terms is essential for effectively writing and organizing tests. This page explores key concepts such as *test case*, *fixture*, *assertion*, *mock*, *death test*, and *parameterized test*, providing context on how these show up in practical workflows and linking them to the relevant APIs and implementation files.

---

## What Are Tests and Test Cases?

At its core, a **test** is code that verifies a particular behavior or property of your application. In GoogleTest, tests are organized into **test suites** (historically called test cases), which group related tests together. Each test suite corresponds to a particular class or functional area you want to verify.

*Example:* Suppose you are testing a `Queue` class. You might have a test suite named `QueueTest`, containing multiple individual tests such as `IsEmptyInitially` and `DequeueWorks`.

---

## Test Fixtures: Reusing Setup and Teardown Logic

A **test fixture** is a C++ class that helps share setup and teardown code across multiple tests in the same suite. It typically inherits from `testing::Test` and encapsulates shared resources or common state.

Each test runs on a *fresh* fixture instance, ensuring test independence and repeatability.

*Example:* A `QueueTest` fixture might initialize multiple queues in its constructor that various tests operate on.

```cpp
class QueueTest : public testing::Test {
 protected:
  QueueTest() {
    // Prepare queues in different states
    q0_.Clear();
    q1_.Enqueue(1);
    q2_.Enqueue(2);
    q2_.Enqueue(3);
  }

  Queue<int> q0_;
  Queue<int> q1_;
  Queue<int> q2_;
};

TEST_F(QueueTest, IsEmptyInitially) {
  EXPECT_EQ(q0_.size(), 0);
}

TEST_F(QueueTest, DequeueWorks) {
  int* n = q1_.Dequeue();
  ASSERT_NE(n, nullptr);
  EXPECT_EQ(*n, 1);
  delete n;
}
```

---

## Assertions: Checking Expectations

**Assertions** are the fundamental way GoogleTest checks whether a condition holds during test execution. They come in two forms:

- **EXPECT_*** - nonfatal checks; failure records an error but allows test continuation.
- **ASSERT_*** - fatal checks; failure aborts the current test function immediately.

Assertions verify conditions like equality (`EXPECT_EQ`), boolean value (`EXPECT_TRUE`), string comparison, exception throwing, and many others.

*Example:* 

```cpp
EXPECT_EQ(result, 5) << "Result should be 5";
ASSERT_TRUE(pointer != nullptr) << "Pointer must not be null";
```

If an assertion fails, GoogleTest logs detailed information including the location and the expected/actual values, helping you debug quickly.

---

## Mocks: Simulating Dependencies

In more complex tests, you may want to verify interactions between components without relying on actual implementations. GoogleTest integrates with **GoogleMock** to provide facilities for creating **mock objects** which simulate behavior of real objects with customizable expectations.

Mocks allow you to define:
- Which method calls to expect
- How many times these calls should occur
- What should be returned or what actions should happen upon calls

```cpp
class MockWidget {
 public:
  MOCK_METHOD(void, Draw, (), ());
  MOCK_METHOD(int, GetSize, (), (const));
};

MockWidget mock;
EXPECT_CALL(mock, Draw()).Times(1);
mock.Draw();
```

This capability facilitates testing in isolation and verifying collaboration between objects.

---

## Death Tests: Validating Fatal Failures

Some code intentionally terminates the program under invalid conditions (assertions or consistency checks). **Death tests** verify these behaviors by checking that code triggers process termination as expected.

GoogleTest provides macros like:

- `EXPECT_DEATH(statement, matcher)`
- `ASSERT_DEATH(statement, matcher)`

that run `statement` in a subprocess and check for matching messages and exit conditions.

*Example:* 

```cpp
TEST(MyDeathTest, CrashesOnBadInput) {
  ASSERT_DEATH(Foo(-1), "Invalid input");
}
```

Death tests help ensure that your program fails safely and predictably when detecting critical errors.

---

## Parameterized Tests: Testing with Varying Data

To avoid duplicating test logic for multiple inputs, **value-parameterized tests** run the same test logic repeatedly, each time with a different parameter value.

They consist of:
- A fixture inheriting from `testing::TestWithParam<T>`
- Test definitions via `TEST_P` using `GetParam()` to access the current parameter
- Instantiation of tests with parameter generators like `Values()` or `Range()`

```cpp
class FooTest : public testing::TestWithParam<int> {};

TEST_P(FooTest, IsEven) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, FooTest, testing::Values(2, 4, 6, 8));
```

This pattern streamlines coverage across different inputs without redundant code.

GoogleTest also supports **typed tests** and **type-parameterized tests** for running the same tests against multiple data types.

---

## Mapping Terms to APIs and Files

| Concept              | API / File                        | Description                              |
|----------------------|---------------------------------|------------------------------------------|
| **Test**             | `TEST()`, `TEST_F()`, `TEST_P()`| Defines an individual test function.    |
| **Test Fixture**     | Fixture class (inherits `::testing::Test` or `::testing::TestWithParam<T>`) | Holds shared setup/teardown for tests. |
| **Assertions**       | Macros like `EXPECT_*`, `ASSERT_*` | Verify conditions within tests.          |
| **Mocks**            | `MOCK_METHOD()`, `EXPECT_CALL()` (from gMock) | Define and set expectations on mock objects. |
| **Death Tests**      | `EXPECT_DEATH()`, `ASSERT_DEATH()` | Tests that code terminates as expected. |
| **Parameterized Tests** | `TEST_P()`, `INSTANTIATE_TEST_SUITE_P()` | Runs tests with multiple input parameters. |

Relevant documentation files:
- [Testing Reference](reference/testing.md) — Core test APIs and macros
- [Assertions Reference](reference/assertions.md) — Assertions explained
- [Advanced GoogleTest Topics](advanced.md) — Extended discussion on death tests, parameterized tests
- [`gtest.h`](googletest/include/gtest/gtest.h) — Main API header
- [`gtest-typed-test.h`](googletest/include/gtest/gtest-typed-test.h) — Typed and type-parameterized test macros

---

## Best Practices and Tips

- Avoid underscores in test suite and test names; they are reserved and may cause conflicts ([FAQ](faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore)).
- Use `TEST_F` when tests share a fixture for common setup.
- Prefer `EXPECT_*` for non-fatal checks to discover multiple failures in a run.
- Use `ASSERT_*` for checks that must halt the current test if failed.
- For tests that must run multiple times with different inputs, leverage `TEST_P` and instantiations with parameter generators.
- Name death test suites with suffix `DeathTest` to ensure correct ordering and runtime behavior.
- When mocking complex interfaces, use gMock's rich syntax to model expectations precisely.

---

## Troubleshooting Common Scenarios

- **Skipping tests:** Use `GTEST_SKIP()` inside tests or fixtures to dynamically skip.
- **Multiple death asserts on one line:** Avoid; they cause cryptic compilation errors.
- **Fatal assertions in helper functions:** Understand that they only abort the current function, not the entire test. Use `HasFatalFailure()` or exceptions to propagate.
- **Thread safety:** GoogleTest tests should generally be single-threaded, especially death tests.

---

## Next Steps

Explore writing your first tests using [GoogleTest Primer](primer.md), learn assertions in depth at [Assertions Reference](reference/assertions.md), and dive into mocking with [GoogleMock documentation](mocking/README.md). When ready, master parameterized tests via the [Value-Parameterized Tests](advanced.md#value-parameterized-tests) and [Typed Tests](advanced.md#typed-tests).

---

## References

- [GoogleTest Primer](primer.md)
- [Assertions Reference](reference/assertions.md)
- [Testing Reference](reference/testing.md)
- [Advanced GoogleTest Topics](advanced.md)
- [GoogleMock Introduction](googlemock/README.md)
- [FAQ](faq.md)

<Source url="https://github.com/google/googletest" paths={[{path: "docs/reference/testing.md", range: "1-646"},{path: "docs/advanced.md", range: "1-650"},{path: "docs/reference/assertions.md", range: "1-440"},{path: "docs/primer.md", range: "1-230"},{path: "docs/faq.md", range: "1-247"},{path: "googletest/include/gtest/gtest-typed-test.h", range: "1-214"}]} branch="main" />