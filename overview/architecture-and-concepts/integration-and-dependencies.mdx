---
title: "Integration & Dependencies"
description: "Describes how GoogleTest fits into your build and CI ecosystem. Explains how it integrates with GoogleMock, supported build systems (CMake, Bazel), and external dependency roadmaps (e.g., future Abseil dependencies). References primary integration points and configuration considerations."
---

# Integration & Dependencies

GoogleTest is not just a testing framework; it’s an integral part of your build and Continuous Integration (CI) ecosystem. This page explains how GoogleTest seamlessly fits alongside GoogleMock, various supported build systems, and evolving dependencies like Abseil.

---

## Why This Matters

Understanding how GoogleTest integrates with other components helps you manage your build configurations with confidence and plan for future changes. Whether you’re synthesizing mocks with GoogleMock, leveraging modern build tools like CMake or Bazel, or anticipating upcoming dependency transitions, having clarity here ensures smoother workflows and fewer surprises.

---

## Integration with GoogleMock

GoogleMock is tightly coupled with GoogleTest, extending its capabilities for mocking objects and controlling test behavior.

- **Unified Test Environment:** Both GoogleTest and GoogleMock come bundled together, enabling you to write, manage, and run tests and mocks within a single coherent framework.
- **Shared Syntax and Semantics:** Expectations and mock behaviors defined in GoogleMock complement GoogleTest’s assertions, helping you verify interactions precisely.
- **Seamless Configuration:** Setting up GoogleMock requires only including `<gmock/gmock.h>`, while GoogleTest manages the test lifecycle and reporting.

### Typical Mocking Workflow

1. Define mock classes using `MOCK_METHOD` macros derived from interfaces.
2. Use `EXPECT_CALL()` and `ON_CALL()` macros to establish expectations and default behaviors.
3. Integrate mocks into your testing logic alongside GoogleTest assertions.

This close integration simplifies validation of interactions in your code, enabling more comprehensive testing strategies.

---

## Supported Build Systems

GoogleTest and GoogleMock are designed to fit well within modern C++ build environments. The primary supported build systems are:

### CMake

- **Standard CMake Support:** GoogleTest provides CMake targets for easy integration. Just add it as a subdirectory or via FetchContent.
- **Configuration Considerations:** You can configure tests and mocks through `add_subdirectory` and link targets using `target_link_libraries`.
- **Customization:** Options control building tests and examples.

### Bazel

- **Official Bazel Rules:** GoogleTest includes Bazel BUILD files for native support.
- **Granular Dependency Management:** Easily depend on googletest and googlemock libraries.
- **Scalable Integration:** Suitable for large projects using Bazel’s parallelism and caching.

```bash
# Example CMake usage snippet
add_subdirectory(googletest)
target_link_libraries(MyTest gtest gmock)

# Example Bazel BUILD snippet
cc_test(
    name = "my_test",
    srcs = ["my_test.cc"],
    deps = ["@com_google_googletest//googletest", "@com_google_googlemock//googlemock"],
)
```

#### Best Practices

- For CMake builds, always use imported targets to benefit from transitive dependencies.
- For Bazel, pin versions and use rules consistent with your project workspace to avoid conflicts.

---

## Dependency Roadmap

GoogleTest’s evolving ecosystem currently includes core dependencies and plans to incorporate others more tightly.

### Current Dependencies

- **GoogleMock:** Bundled and maintained alongside GoogleTest.
- **Abseil (absl):** A common dependency, but currently optional.

### Future Plans

- **Abseil Integration:** Expect the dependency on Abseil’s libraries to become more prominent and potentially required in future releases.
- **Dependency Management:** This will affect build configurations, so monitor updates and plan to accommodate `absl` in your dependency graphs.

### Impact on Your Projects

Anticipate and prepare your CI and build pipelines to install and link Abseil libraries effectively. This proactive approach keeps you ahead of breaking changes and maximizes compatibility.

---

## Primary Integration Points and Configuration Considerations

- **Header Inclusion:** Use `<gtest/gtest.h>` and `<gmock/gmock.h>` for tests and mocks respectively.
- **Linking:** Always link your test binaries to both `gtest` and `gmock` libraries if using mocks.
- **Combining Expectations and Assertions:** Define mock behaviors with GoogleMock, while leveraging GoogleTest assertions for test validations.
- **Build System Linking:** Follow best practices to link the appropriate libraries based on your build tool.
- **Handling Uninteresting Calls:** Configure mocks to be "nice", "naggy", or "strict" according to your tolerance level for unexpected calls.

<Tip>
When integrating GoogleMock, prefer `NiceMock` for suppressing noise about uninteresting calls during early development, then tighten up to `StrictMock` for final verification.
</Tip>

---

## Example: Integrating GoogleTest with GoogleMock in CMake

```cmake
cmake_minimum_required(VERSION 3.14)
project(MyProject)

# Add GoogleTest and GoogleMock (assumed downloaded or submodule).
add_subdirectory(third_party/googletest)

add_executable(my_test test/my_test.cc)
target_link_libraries(my_test PRIVATE
    gtest
    gmock
    gtest_main
)
```

This simple example ensures both GoogleTest and GoogleMock are accessible in your test targets.

---

## Troubleshooting & Common Configuration Pitfalls

<AccordionGroup title="Common Integration Issues">
<Accordion title="Linker Errors When Using GoogleMock">
Ensure both `gmock` and `gtest` libraries are linked to your test binaries. Forgetting `gmock` or mixing incompatible versions leads to unresolved symbols.
</Accordion>
<Accordion title="Uninteresting Call Warnings During Test Runs">
By default, unmocked methods generate warnings. Use `NiceMock` to suppress these or explicitly specify expectations.
</Accordion>
<Accordion title="Build System Misconfiguration">
For CMake, ensure imported targets for GoogleTest and GoogleMock are used. For Bazel, check the correctness of workspace dependencies for googletest and googlemock.
</Accordion>
<Accordion title="Future Abseil Dependency Not Found">
Plan ahead by checking Abseil availability in your environment and include it as a dependency as soon as possible to avoid future breakages.
</Accordion>
</AccordionGroup>

---

## Next Steps

Once this integration is configured:

- Follow the [Setup Essentials](/getting-started/setup-basics) to prepare your environment.
- Use [Writing Your First Test](/getting-started/first-test-run/writing-first-test) to create and validate initial tests.
- Explore the [Key Features of GoogleTest](/overview/getting-started-with-googletest/core-features) and [Mocking with GoogleMock](/guides/core-workflows/mocking-basics) for deeper insight on capabilities.


---

For an architectural view on how GoogleTest and GoogleMock work together, see [GoogleTest Architecture](/overview/architecture-and-concepts/product-architecture) and for detailed mocking concepts, consult the [Core Concepts & Terminology](/overview/architecture-and-concepts/core-concepts) page.

---

<Info>
This page is part of the "Architecture & Core Concepts" section, complementing other pages focused on product architecture and mocking fundamentals. It bridges your understanding from what GoogleTest is to how it fits technically into your development pipelines.
</Info>

<Source url="https://github.com/google/googletest" />
