---
title: "Key Concepts and Terminology"
description: "Get familiar with the essential terms and concepts you’ll encounter using GoogleTest, from test cases and fixtures to assertions, mocks, and matchers. Develop a shared vocabulary before diving into practical workflows or advanced customization."
---

# Key Concepts and Terminology

Get familiar with the essential terms and concepts you’ll encounter using GoogleTest, from test cases and fixtures to assertions, mocks, and matchers. Develop a shared vocabulary before diving into practical workflows or advanced customization.

---

## Introduction

Before you start writing tests with GoogleTest and Google Mock, it’s crucial to understand the foundational concepts that form the backbone of the framework. This page builds your core vocabulary, giving you clarity on the common terms and constructs you'll use frequently. Knowing these will help you read examples, write tests confidently, and make your debugging and customization process more intuitive.

---

## Test Case & Test Suite

- **Test Case (Test Suite):**
  In GoogleTest, a *test case* groups together a collection of related tests. It often corresponds to a class under test or a logical grouping of behaviors.

- **Test:**
  Each individual test within a test case represents a specific scenario or behavior to verify.

**Why it matters:**
You organize your tests using test cases to keep your testing code clean, manageable, and understandable. GoogleTest automatically discovers test cases and tests, enabling easy test execution and reporting.

---

## Test Fixture

A *test fixture* is a structure (implemented as a class) that allows you to define setup and teardown code for multiple tests.

- **SetUp():** Runs before each test to prepare the environment.
- **TearDown():** Runs after each test to clean up.

**Benefit:**
Using fixtures lets you avoid duplicating code for initialization and cleanup across tests, ensuring consistency and reducing errors.

### Example:
```cpp
class MyTestFixture : public ::testing::Test {
 protected:
  void SetUp() override {
    // prepare common resources
  }

  void TearDown() override {
    // clean up
  }
};

TEST_F(MyTestFixture, Test1) {
  // test code
}

TEST_F(MyTestFixture, Test2) {
  // test code
}
```

---

## Assertions

*Assertions* verify that conditions you expect hold true. GoogleTest provides macros such as:

- `EXPECT_` - non-fatal assertions; test continues after failure.
- `ASSERT_` - fatal assertions; test aborts on failure.

**Examples:**
```cpp
EXPECT_EQ(expected, actual);
ASSERT_TRUE(condition);
```

Assertions are your checkpoints and the source of test results.

---

## Google Mock Core Terminology

Mocking lets you test interactions between components by replacing real collaborators with *mock objects* that record how they are used.

### Mock Object

An object that simulates behavior of a real object by:

- Intercepting calls
- Validating that calls meet expectations
- Controlling return values or side effects

### MOCK_METHOD

The macro `MOCK_METHOD` defines a mock method inside a mock class. It takes:

- Return type
- Method name
- Argument list
- Optional qualifiers (such as `const`, `override`, etc.)

**Example:**
```cpp
class MockFoo {
 public:
  MOCK_METHOD(int, GetSize, (), (const, override));
  MOCK_METHOD(void, SetValue, (int value), (override));
};
```

### EXPECT_CALL

Declares that a mock method *is expected* to be called with certain arguments.

The expectation can be finely controlled using clauses:

- `.Times(cardinality)` - how many times
- `.WillOnce(action)` / `.WillRepeatedly(action)` - what happens when called
- `.InSequence(...)` / `.After(...)` - call order constraints
- `.RetiresOnSaturation()` - disables expectation after it’s met
- `.With(matcher)` - matcher on all arguments as a tuple

**Example:**
```cpp
EXPECT_CALL(mock_foo, GetSize())
    .Times(3)
    .WillRepeatedly(Return(10));
```

### ON_CALL

Defines the *default behavior* of a mock method when called with matching arguments, *without* setting an expectation that it must be called.

- Used for stubbing to supply behavior but not verify calls.
- Must be accompanied by `.WillByDefault(action)` clause.

**Example:**
```cpp
ON_CALL(mock_foo, GetSize())
    .WillByDefault(Return(5));
```

### Matchers

Matchers specify how arguments should be compared.

- `_` matches anything (wildcard).
- Specific value matchers like `Eq(value)` or `Ge(5)`
- Combining matchers like `AllOf()`, `AnyOf()`, `Not()`, etc.
- Complex matchers for tuples or containers

**Example:**
```cpp
EXPECT_CALL(mock_foo, Process(Ge(10), _));
```

### Actions

Specifies what a mock method does when called:

- `Return(value)` - returns a value
- `ReturnRef(ref)` - returns reference
- `Invoke(callable)` - calls a function or lambda
- `DoAll(...)` - multiple chained actions
- `SetArgPointee<N>(value)` - sets value to pointer argument `N`

### Cardinalities

How many times an expectation is allowed or required to be called:

| Expression     | Meaning                          |
| -------------- | --------------------------------|
| `Times(1)`     | Exactly once                    |
| `Times(AnyNumber())` | Any number of calls          |
| `Times(AtLeast(n))`  | At least `n` times           |
| `Times(AtMost(n))`   | At most `n` times            |
| `Times(Between(m,n))`| Between `m` and `n` times    |

If omitted, GoogleMock infers it based on actions specified.

### Sequences and Ordering

- `Sequence` objects are used to link expectations into a partial order.
- `InSequence obj` puts expectations declared in its scope into an anonymous sequence enforcing call order.
- `.After()` lets you specify that this expectation must occur after others.

**Example:**
```cpp
Sequence s1, s2;
EXPECT_CALL(mock_foo, DoA()).InSequence(s1, s2);
EXPECT_CALL(mock_foo, DoB()).InSequence(s1);
EXPECT_CALL(mock_foo, DoC()).InSequence(s2);
```

### Nice, Naggy, and Strict Mocks

The behavior of handling uninteresting calls (calls without explicit expectations) can be controlled by wrapper templates:

| Mock Type     | Uninteresting Calls Behavior                  |
| ------------- | -------------------------------------------- |
| `NiceMock<T>` | Suppresses warnings on uninteresting calls. |
| `NaggyMock<T>`| (default) Prints warnings on uninteresting calls. |
| `StrictMock<T>` | Treats uninteresting calls as errors (test fails). |

Usage is analogous to normal mocks:
```cpp
NiceMock<MockFoo> nice_mock;
NaggyMock<MockFoo> naggy_mock;
StrictMock<MockFoo> strict_mock;
```

---

## Practical Terms To Know

### Expectation

An *expectation* is a declaration that a mock method will be called with certain arguments and constraints. Created by `EXPECT_CALL`.

### ExpectationSet

A *set* of expectations that can be grouped, especially to indicate that one expectation must occur after all in the set.

### Retiring Expectations

An expectation can be *active* or *retired*. Retired expectations do not match calls.

Use `.RetiresOnSaturation()` to automatically retire expectations when their cardinality is met.

### Default Actions

Behavior specified by `ON_CALL` or fallback actions used when no explicit `EXPECT_CALL` matches.

### Uninteresting Call

Call to a mock method without any expectation set. Behavior depends on `NiceMock`/`NaggyMock`/`StrictMock`.

### Unexpected Call

Call to a method that has one or more expectations, but none matches arguments.

This is always an error.

---

## Summary of Core Clauses in EXPECT_CALL & ON_CALL

| Clause             | Purpose                                | Usage Order Constraint           | Can Appear Times |
|--------------------|---------------------------------------|---------------------------------|-----------------|
| `.With(...)`       | Additional matcher predicates on args | Must be first clause              | Once            |
| `.Times(...)`      | Expected call count/cardinality       | Before `.InSequence()`, etc.     | Once            |
| `.InSequence(...)` | Sequence membership for ordering      | Before `.After()`, `.WillOnce()` | Multiple        |
| `.After(...)`      | Specify expectations that must occur first | Before `.WillOnce()`, etc.       | Multiple        |
| `.WillOnce(...)`   | Action for single calls                | Before `.WillRepeatedly()`       | Multiple        |
| `.WillRepeatedly()`| Action for remaining calls             | Before `.RetiresOnSaturation()`  | Once            |
| `.RetiresOnSaturation()` | Retire expectation after saturated | Last clause                     | Once            |

For `ON_CALL`:

| Clause           | Purpose                           | Usage Order Constraint | Can Appear Times |
|------------------|---------------------------------|-----------------------|-----------------|
| `.With(...)`     | Matcher on args                  | First clause           | Once            |
| `.WillByDefault()`| Defines mock method behavior     | Only clause            | Exactly once    |

---

## Getting Ready for Next Steps

Now that you understand the key concepts and terminology, you’re prepared to: 

- Start writing mock classes using `MOCK_METHOD`
- Define expectations and behaviors using `EXPECT_CALL` and `ON_CALL`
- Use matchers and actions effectively.

Continue to [What is GoogleTest?](/overview/intro-product-core/what-is-googletest) for product introduction or jump to practical guides like [Writing and Running Your First Test](/getting-started/configuration-first-test/first-successful-run).

---

## Additional Tips & Best Practices

- **Always set expectations before exercising the mock:** This allows Google Mock to verify interactions properly and fail fast.
- **Use `_` matcher to reduce over-specification:** Specify only necessary arguments, or use `_` to match any.
- **Prefer `ON_CALL` for unstipulated behavior:** Use expectations only when you need to verify a call.
- **Use sequences or `.After()` to express call order when necessary:** Avoid brittle tests by using partial orders.
- **Manage mock strictness consciously:** Use `NiceMock` to reduce noise and `StrictMock` to enforce rigorous tests.
- **Retire expectations for sequential call simulations:** Use `.RetiresOnSaturation()` when call counts are exact.
- **Reuse matchers and actions:** Assign complex matchers/actions to variables to improve readability.

---

## Troubleshooting Common Issues

### Uninteresting call warnings

If you see warnings about uninteresting calls, consider:

- Did you forget an expectation for a method? Add an `EXPECT_CALL` or wrap the mock with `NiceMock`.

### Unexpected call errors

Check that your expectations cover all valid call scenarios, including argument matchers.

### Multiple expectations and ordering failures

Ensure the proper use of sequences, `.After()`, and expected call counts.

### Mock object leaks

If you see warnings about leaked mocks, ensure mock objects are deleted to allow verification. Use `Mock::AllowLeak()` if intentional.

---

## Useful References

- [GoogleTest Primer](https://google.github.io/googletest/primer.html)
- [GoogleMock Tutorial: gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [Mocking Reference](../api-reference/core-apis/mocking-and-methods.html)
- [Matchers Reference](../api-reference/advanced-behaviors/argument-matchers.html)
- [Actions Reference](../api-reference/advanced-behaviors/mock-actions.html)
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)

---

## Related Documentation Pages

- **What is GoogleTest?** — Introduction to GoogleTest framework and its core purpose.
- **Core Features and Value Proposition** — Overview of GoogleTest’s features and why they matter.
- **Mocking Reference** — Detailed explanation of mocking capabilities and the `MOCK_METHOD`, `EXPECT_CALL`, and `ON_CALL` macros.

---

This page is a crucial foundation—you’ll revisit many concepts here as you explore writing effective tests and mock classes.


<Callout>
<Tip>
Keep this page handy as a glossary during your testing journey to clarify any terminology and reinforce your understanding.
</Tip>
</Callout>
