---
title: "Integration & Ecosystem"
description: "A page outlining how GoogleTest interfaces with build systems (like CMake and Bazel), continuous integration services, and other open source projects. Includes pointers to main entry points, supported platforms, and dependency information."
---

# Integration & Ecosystem

GoogleTest seamlessly integrates with popular build systems, continuous integration (CI) services, and open source projects, making it straightforward to adopt in diverse development environments. This page guides you through how GoogleTest interacts with tools like CMake and Bazel, how it supports CI workflows, and what you need to know about its entry points, supported platforms, and dependencies.

---

## GoogleTest and Build Systems

GoogleTest is designed to be flexible and easy to build in a wide range of environments, with first-class support for common C++ build systems:

### CMake Integration

- GoogleTest provides CMake configuration files (`gtest.pc.in`, `gmock.pc.in`, etc.) that facilitate importing GoogleTest and GoogleMock libraries.
- It supports building either as standalone projects or as part of a larger project via `add_subdirectory()`.
- Libraries are available with or without main functions (`gtest`, `gtest_main`, `gmock`, `gmock_main`), allowing you to choose the best linking strategy for your tests.
- The CMake scripts handle platform-specific threading support (`@CMAKE_THREAD_LIBS_INIT@`) and installation paths automatically.

**Typical workflow with CMake:**
```bash
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
mkdir build
cd build
cmake ..      # Includes GoogleMock by default
make
sudo make install
```

To build only GoogleTest without GoogleMock:

```bash
cmake .. -DBUILD_GMOCK=OFF
```

To incorporate GoogleTest into an existing CMake project:
- Use `find_package(GTest CONFIG REQUIRED)` after installation to find the libraries.
- Alternatively, add GoogleTest source as a subdirectory with `add_subdirectory()`, which ensures consistent compiler and linker settings.

### Bazel Support

While this page primarily focuses on CMake, GoogleTest also maintains support for Bazel builds. Bazel builds typically use dedicated build files included in the GoogleTest repository, enabling smooth integration into Bazel-based projects.


## Continuous Integration (CI) Integration

GoogleTest is crafted to integrate without friction into CI/CD pipelines by providing:

- **Portable Build and Test Executions:** Works consistently across Linux, Windows, and macOS, allowing CI services to run tests without platform-specific configuration changes.

- **Entry Points:** GoogleTest ships with libraries like `gtest_main` and `gmock_main` that define a standard `main()` function, simplifying test execution. This means you often just need to link your test binaries against these without writing any boilerplate main function.

- **Test Discovery and Filtering:** Supports running subsets of tests via command-line flags, which CI tools can leverage to shard or filter tests for efficiency.

- **Test Results & Reporting:** Supports XML output for test results, enabling integration with CI dashboards.

This native alignment with CI principles helps teams automate testing with minimal effort and maximum confidence in results.

## Open Source Ecosystem & Dependencies

### Main Entry Points

- **GoogleTest Libraries:** 
  - `gtest`: The core testing library without `main()`.
  - `gtest_main`: Provides a basic runnable `main()` function for tests.

- **GoogleMock Libraries:**
  - `gmock`: The mocking framework core (no `main()`).
  - `gmock_main`: Includes `main()` that initializes both GoogleMock and GoogleTest.


gtest and gmock share the same versioning and can be linked together seamlessly.

### Dependency Information

- GoogleTest is primarily self-contained but depends on:
  - **Threading Support:** Uses pthreads on Unix-like systems when available; controlled via macros like `GTEST_HAS_PTHREAD`.
  - **Standard C++17:** Requires a compiler supporting at least C++17.

- Optional dependencies or platform-specific adaptations are controlled via compile-time macros.

### Supported Platforms

GoogleTest supports building and running tests on:

- Linux
- Windows (including Windows Mobile)
- macOS
- Embedded platforms with restrictions (e.g., ESP8266, ESP32, NRF52 with Arduino)

This broad platform support reflects GoogleTest's commitment to cross-environment reliability.

---

## Practical Examples & Tips

### Linking Your Tests

Using CMake, link an example test executable as:
```cmake
add_executable(my_test test.cpp)
target_link_libraries(my_test gtest_main)
add_test(NAME my_test COMMAND my_test)
```
This automatically uses the provided `main()` from `gtest_main`.

If you need to customize the main function, link against `gtest` and define your own.

### Managing Macro Conflicts

If GoogleTest macros clash with your code or other libraries, use compile-time flags like `-DGTEST_DONT_DEFINE_TEST=1` to prefix macros, preventing conflicts.

### Continuous Integration Setup

Most CI systems simply need to build your tests and run the executables. GoogleTest's built-in support for test filtering and XML report generation helps integrate test results in CI dashboards.

### Dependency Tips

Ensure your build environment meets the C++17 requirement and threading dependencies. When using CMake, the provided scripts automatically manage these for you.

---

## Summary

This page serves as your guide to effectively integrating GoogleTest into your build systems and CI pipelines, highlighting key entry points, platform support, and dependency considerations that enable effortless adoption in modern C++ projects.

---

## Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [GoogleTest CMake Build Documentation](https://github.com/google/googletest/blob/main/googletest/README.md)
- [GoogleMock Overview](https://github.com/google/googletest/tree/main/googlemock)
- [Getting Started with GoogleTest](../getting-started/README.md)
- [Continuous Integration Setup Guide](../guides/integration-optimization/continuous-integration-setup.md)

<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "googletest/README.md", "range": "3-160"},{"path": "googlemock/README.md", "range": "1-56"},{"path": "googletest/cmake/gtest.pc.in", "range": "1-13"},{"path": "googlemock/cmake/gmock.pc.in", "range": "1-13"},{"path": "googletest/cmake/gtest_main.pc.in", "range": "1-16"},{"path": "googlemock/cmake/gmock_main.pc.in", "range": "1-16"}]} />