---
title: "Integration and Extensibility"
description: "Learn how GoogleTest fits into your development tooling, with guidance on integrating with CMake, Bazel, and popular IDEs. Discover extension points and compatibility layers for connecting with CI systems and external libraries."
---

# Integration and Extensibility

GoogleTest is designed to seamlessly fit into your existing development workflow and tooling ecosystem. This page walks you through how to integrate GoogleTest into popular build systems, IDEs, and continuous integration (CI) pipelines, as well as how to extend its core functionality for your specific needs.

---

## Integration with Build Systems

Integrating GoogleTest correctly ensures smooth compilation, linking, and test execution alongside your project.

### CMake

GoogleTest provides first-class support for CMake, making it simple to add as a dependency in your CMake-based build:

1. **FetchContent Integration**: You can declare and pull GoogleTest as an external dependency directly in your project's `CMakeLists.txt` using `FetchContent`.

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
FetchContent_MakeAvailable(googletest)

# Link against gtest_main or gtest
add_executable(my_tests test_example.cpp)
target_link_libraries(my_tests gtest_main)
add_test(NAME my_tests COMMAND my_tests)
```

2. **Static vs Shared Library**: You can control whether GoogleTest builds a static or shared library via CMake flags; typically, static linking is preferred for simplicity.

3. **C++ Standard**: Ensure your project is configured to use at least C++17, as GoogleTest requires it.

### Bazel

GoogleTest can be integrated into Bazel build environments, leveraging [rules_cc](https://docs.bazel.build/versions/main/be/c-cpp.html) for C++ support. Refer to [external workspaces setup](https://docs.bazel.build/versions/main/external.html) for including GoogleTest.

### Other Build Systems

Other build tools like Make, Ninja, or proprietary systems can incorporate GoogleTest by including its source or linking the library and including the headers properly.

---

## IDE Integration

GoogleTest is well-supported in major IDEs, which allows test discovery, running, and debugging with little configuration.

- **Visual Studio**: Supports native integration for GoogleTest projects; you can add your tests to a solution and run/debug tests directly.

- **CLion**: Detects GoogleTest tests automatically and allows running them with detailed output and filtering.

- **Eclipse CDT**: GoogleTest can be integrated and executed using CDT’s test runner or custom launch configurations.

- **VS Code**: With appropriate C++ and test extensions, you can run and debug GoogleTest tests using their test explorer.

---

## Integration with Continuous Integration (CI) Systems

Automating your testing process with GoogleTest within CI ensures early detection of regressions.

- GoogleTest supports output formats (`XML` and `JSON`) compatible with CI systems.

- Customize test execution with flags such as `--gtest_filter`, `--gtest_repeat`, and `--gtest_shuffle` to manage test runs.

- Combine GoogleTest with tools like Jenkins, GitHub Actions, GitLab CI, or CircleCI by configuring test collection and result reporting based on GoogleTest’s output.

### Example: Generating XML Reports

Run your tests with:

```bash
./my_tests --gtest_output=xml:report.xml
```

Then configure your CI system to collect and parse `report.xml`.

---

## Extensibility Points

GoogleTest allows customization to better adapt to your project and testing needs.

### Custom Test Event Listeners

Implement your own event listener by subclassing `testing::TestEventListener` or `testing::EmptyTestEventListener`. This lets you respond to test lifecycle events, produce custom output, or integrate with additional monitoring systems.

Example minimal listener:

```cpp
class MinimalistPrinter : public testing::EmptyTestEventListener {
  void OnTestStart(const testing::TestInfo& test_info) override {
    printf("*** Test %s.%s starting.\n", test_info.test_suite_name(), test_info.name());
  }

  void OnTestEnd(const testing::TestInfo& test_info) override {
    printf("*** Test %s.%s ended.\n", test_info.test_suite_name(), test_info.name());
  }
};
```

Add to your `main()`:

```cpp
testing::TestEventListeners& listeners = testing::UnitTest::GetInstance()->listeners();
delete listeners.Release(listeners.default_result_printer());
listeners.Append(new MinimalistPrinter);
```

### Custom Assertion Printers

Enhance GoogleTest’s ability to print user-defined types by implementing:

- A friend `AbslStringify()` function or
- A `PrintTo()` free function

This improves assertion message readability for your custom types.

### Customizing Temporary Directory

Override default temporary directory location by defining the macro `GTEST_CUSTOM_TEMPDIR_FUNCTION_` to a function of your choosing.

### Configurable Stack Trace Retrieval

You can provide a custom implementation for stack trace retrieval by defining `GTEST_OS_STACK_TRACE_GETTER_` macro to an implementation of `OsStackTraceGetterInterface`.

---

## Compatibility and Interoperability

GoogleTest is built to function well across platforms and alongside other tools.

- Runs on Linux, Windows, Mac OS X
- Compatible with major compilers supporting C++17
- Supports various third-party logging and debugging tools

---

## Troubleshooting Tips

- Ensure `testing::InitGoogleTest()` is called before running tests.
- Return the result of `RUN_ALL_TESTS()` from your `main()` function.
- When integrating with CI, check generated reports for completeness.
- For IDE issues, verify proper inclusion of GoogleTest headers and linkage.

---

## Next Steps

After integrating GoogleTest with your build and toolchains, explore these related guides to unlock its full potential:

- [Writing and Running Unit Tests](/guides/core-workflows/writing-unit-tests)
- [Using Assertions Effectively](/guides/core-workflows/using-assertions)
- [Mocking with GoogleMock](/guides/advanced-testing-patterns/mocking-with-googlemock)
- [Test Suite Structure and Best Practices](/guides/best-practices-integration/best-practices)

Refer to the [GoogleTest User's Guide](index.md) for an organized path through all documentation.

<Source url="https://github.com/google/googletest" paths={[{"path":"docs/advanced.md"}]} />
