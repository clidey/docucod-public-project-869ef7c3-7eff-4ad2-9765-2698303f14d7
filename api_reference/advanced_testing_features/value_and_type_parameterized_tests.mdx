---
title: "Value and Type-Parameterized Tests"
description: "Write test cases that automatically run with multiple input values or type parameters. Gain a deep understanding of the macros, registration mechanisms, and workflow for parameterized and typed tests."
---

# Value and Type-Parameterized Tests

GoogleTest provides powerful features that allow you to define tests that automatically run with multiple input values or type parameters. This enables writing concise, reusable test logic while verifying it against a broad range of inputs or implementations.

---

## Value-Parameterized Tests

*Value-parameterized tests* let you run the same test logic with different input values without duplicating code. This is ideal for data-driven testing, testing different configurations, or evaluating functions across a range of inputs.

### How Value-Parameterized Tests Work

1. **Define a Test Fixture**
   - Create a test fixture class derived from `testing::TestWithParam<T>`, where `T` is the parameter type.
   - This fixture can include setup and teardown logic as regular test fixtures do.

2. **Write Parameterized Test Cases**
   - Use the `TEST_P` macro (note the `_P`) to define tests that run for each parameter.
   - Inside the test, access the parameter with `GetParam()`.

3. **Instantiate the Test Suite**
   - Use `INSTANTIATE_TEST_SUITE_P` to generate actual tests by providing a parameter generator sequence.

### Example of Value-Parameterized Test

```cpp
// Define the fixture
class FooTest : public ::testing::TestWithParam<int> {
  // You can add fixture members here
};

// Define parameterized tests
TEST_P(FooTest, IsEven) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

TEST_P(FooTest, IsPositive) {
  EXPECT_GT(GetParam(), 0);
}

// Instantiate with values
INSTANTIATE_TEST_SUITE_P(MyInts, FooTest, ::testing::Values(2, 4, 6));
```

In this example:
- The `IsEven` and `IsPositive` tests run three times each with parameters 2, 4, and 6.
- Test names include the instantiation prefix and parameter indices, e.g., `MyInts/FooTest.IsEven/0`.

### Parameter Generators

GoogleTest provides several ready-to-use generators for parameter sequences:

| Generator                   | Description                               |
|-----------------------------|-------------------------------------------|
| `Range(start, end [, step])`| Generates numbers in `[start, end)`. `step` defaults to 1.                |
| `Values(v1, v2, ..., vN)`   | Enumerates explicit values.              |
| `ValuesIn(container)`       | Produces values from a container or iterator range. |
| `Bool()`                   | Produces `{false, true}`.                  |
| `Combine(g1, g2, ..., gN)` | Generates Cartesian product combinations of N generators. |
| `ConvertGenerator<T>(gen)` | Converts generated values to a specified type if required.  |

### Using `INSTANTIATE_TEST_SUITE_P`

You inject your parameter sequence into the test suite like this:

```cpp
INSTANTIATE_TEST_SUITE_P(
    MyPrefix,  // Instantiation name for identification
    FooTest,  // Test suite name
    ::testing::Values(1, 2, 3));  // Parameters
```

This results in tests named `MyPrefix/FooTest.TestCaseName/index`.

You can instantiate multiple parameter sequences with different names if desired.

### Custom Test Name Generators

The last optional argument of `INSTANTIATE_TEST_SUITE_P` lets you specify a function or functor that generates custom test name suffixes based on each parameter.

Example:

```cpp
INSTANTIATE_TEST_SUITE_P(
    MyNames, FooTest, ::testing::Values(1, 2, 3),
    [](const testing::TestParamInfo<int>& info) {
      return "Param_" + std::to_string(info.param);
    });
```

Results in test names like `MyNames/FooTest.TestCaseName/Param_1`.

### Key Notes and Best Practices

- The parameter generator expression is evaluated during GoogleTest initialization, allowing dynamic determination of parameters.
- Test suite setup/teardown (`SetUpTestSuite`) must be public if you use `TEST_P`.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` to suppress warnings for test suites that have `TEST_P` definitions but no instantiations.
- Parameters must be unique and valid as test name suffixes when using custom name generators.

---

## Typed Tests

*Typed tests* run the same test logic for a fixed list of types. This is invaluable when multiple types conform to the same interface or concept, and you want to ensure consistent behavior across them.

### Workflow for Typed Tests

1. **Define a Fixture Template**
   - Create a test fixture class template parameterized on type `T`, deriving from `testing::Test`.

2. **Declare Type List**
   - Define the list of types to test using `::testing::Types<...>`.

3. **Associate Types to Suite**
   - Use the `TYPED_TEST_SUITE` macro to link the fixture template and the type list.

4. **Write Individual Typed Tests**
   - Use `TYPED_TEST` macro to define tests where the type parameter is available as `TypeParam`.

### Example of Typed Tests

```cpp
// Fixture template
template <typename T>
class FooTest : public ::testing::Test {
 public:
  using Vector = std::vector<T>;
  static T shared_value;
  T value;
};

// Define types
using MyTypes = ::testing::Types<int, double, char>;

// Associate types
TYPED_TEST_SUITE(FooTest, MyTypes);

// Write tests
TYPED_TEST(FooTest, IsDefaultConstructible) {
  TypeParam val{};
  EXPECT_EQ(val, val);
}

TYPED_TEST(FooTest, SharedValueWorks) {
  this->shared_value = TypeParam{};
  EXPECT_NO_FATAL_FAILURE();
}
```

This runs the tests once each for `int`, `double`, and `char`.

### Static Members in Template Fixtures

Remember to define static members outside the class, e.g.: 

```cpp
template<typename T>
T FooTest<T>::shared_value = T();
```

### Custom Test Naming

Optionally, `TYPED_TEST_SUITE` accepts a third argument: a type with a static template method `GetName(int)` which returns a string based on the type, for nicer test suite suffix names.

Example:

```cpp
class MyNameGen {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, int>) return "Int";
    if constexpr (std::is_same_v<T, double>) return "Double";
    return "Other";
  }
};

TYPED_TEST_SUITE(FooTest, MyTypes, MyNameGen);
```

### Best Practices

- Always define a clear list of types upfront.
- Tests should leverage `TypeParam` to write generic code.
- Use consistent static member management for shared test data.

---

## Type-Parameterized Tests

*Type-parameterized tests* extend typed tests by allowing the test logic to be defined once without knowing the types upfront. These tests can be instantiated repeatedly with different type lists in separate translation units, facilitating reusable test suites for interface verification.

### Workflow for Type-Parameterized Tests

1. **Define Fixture Template**
   - Create a fixture class template derived from `testing::Test`.

2. **Declare Type-Parameterized Test Suite**
   - Use `TYPED_TEST_SUITE_P` to declare the suite.

3. **Define Tests with `TYPED_TEST_P`**
   - Write tests similarly to typed tests using `TypeParam`.

4. **Register Tests**
   - Register all test names with `REGISTER_TYPED_TEST_SUITE_P`.

5. **Instantiate with Types**
   - Use `INSTANTIATE_TYPED_TEST_SUITE_P` to instantiate the suite with type lists.

### Example

```cpp
template <typename T>
class FooTest : public ::testing::Test {
  // ... fixture members
};

TYPED_TEST_SUITE_P(FooTest);

TYPED_TEST_P(FooTest, DoesBlah) {
  TypeParam value{};
  EXPECT_GT(value, TypeParam{});
}

TYPED_TEST_P(FooTest, HasPropertyA) {
  EXPECT_TRUE(true);
}

REGISTER_TYPED_TEST_SUITE_P(FooTest, DoesBlah, HasPropertyA);

using MyTypes = ::testing::Types<int, double, char>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, FooTest, MyTypes);
```

This allows the test suite `FooTest` to be reused and instantiated with different type lists in multiple places.

### Benefits

- Encourages library and interface authors to define abstract tests validating expected properties.
- Reduces duplication of similar type-based checks.
- Supports multiple instantiations and modular test organization.

---

## Summary of Macros

| Macro                          | Purpose                                   |
|--------------------------------|-------------------------------------------|
| `TEST_P`                      | Defines a parameterized test.             |
| `INSTANTIATE_TEST_SUITE_P`    | Instantiates a parameterized test suite with parameters. |
| `TYPED_TEST_SUITE`            | Defines a typed test suite with fixed types. |
| `TYPED_TEST`                  | Defines individual typed test cases.     |
| `TYPED_TEST_SUITE_P`          | Declares a type-parameterized test suite (pattern). |
| `TYPED_TEST_P`                | Defines individual type-parameterized tests. |
| `REGISTER_TYPED_TEST_SUITE_P` | Registers type-parameterized tests.       |
| `INSTANTIATE_TYPED_TEST_SUITE_P` | Instantiates type-parameterized test suites with types. |

---

## Troubleshooting and Tips

- **Remember to instantiate** your parameterized or typed tests; otherwise, GoogleTest will warn or fail if you rely on `TEST_P` or typed tests without instantiation.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` for intentional uninstantiated parameterized tests.
- Parameter names generated by the default generator might be unreadable or invalid; provide custom name generators for clarity.
- For managing static members in template fixtures, ensure you provide explicit definitions.
- Complex parameter combinations can be created with `Combine()` to test multiple dimensions at once.

---

## Related Documentation

- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests)
- [Typed Tests](../advanced.md#typed-tests)
- [Type-Parameterized Tests](../advanced.md#type-parameterized-tests)
- [INSTANTIATE_TEST_SUITE_P](reference/testing.md#INSTANTIATE_TEST_SUITE_P)
- [TYPED_TEST_SUITE](reference/testing.md#TYPED_TEST_SUITE)
- [TYPED_TEST](reference/testing.md#TYPED_TEST)
- [REGISTER_TYPED_TEST_SUITE_P](reference/testing.md#REGISTER_TYPED_TEST_SUITE_P)
- [INSTANTIATE_TYPED_TEST_SUITE_P](reference/testing.md#INSTANTIATE_TYPED_TEST_SUITE_P)

---

## Additional Learning Resources

- [GoogleTest Primer](../primer.md)
- [Assertions and Failures](api_reference/core_testing_api/assertions_and_failures.md)
- [Advanced GoogleTest Topics](docs/advanced.md)
- [Writing Tests Guide](guides/getting-started-workflows/writing-tests.md)
