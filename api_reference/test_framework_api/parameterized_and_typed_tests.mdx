---
title: "Parameterized and Typed Tests"
description: "API for writing value- and type-parameterized tests, detailing how to create reusable test logic applied across multiple inputs or types. Covers macros, registration, and advanced features for data-driven testing."
---

# Parameterized and Typed Tests

This page details GoogleTest's API for writing value- and type-parameterized tests, enabling you to create reusable test logic applied across multiple inputs or types. Such tests promote data-driven and type-driven validation patterns that reduce code duplication and enhance coverage for variations in data or template types.

---

## Value-Parameterized Tests

Value-parameterized tests let you write a test once and run it over a series of values. This is especially useful when your tested code behaves differently depending on input parameters.

### Defining Value-Parameterized Tests

1. **Create a fixture class** inheriting from `testing::TestWithParam<T>`, where `T` is the type of parameter values:

```cpp
class MyParamTest : public testing::TestWithParam<int> {
  // Usual test fixture implementation.
};
```

2. **Write tests using `TEST_P` macro**, which allows access to the current parameter via `GetParam()`:

```cpp
TEST_P(MyParamTest, IsPositive) {
  int param = GetParam();
  EXPECT_GT(param, 0);
}
```

3. **Instantiate the test suite** using `INSTANTIATE_TEST_SUITE_P`:

```cpp
INSTANTIATE_TEST_SUITE_P(
    PositiveValues, MyParamTest,
    testing::Values(1, 10, 100));
```

The parameter generator (`testing::Values` in the example) yields parameters over which the test runs.

### Parameter Generators

GoogleTest provides built-in parameter generators:

| Generator                        | Description                                                  |
|---------------------------------|--------------------------------------------------------------|
| `Range(begin, end [, step])`      | Generates values in `[begin, end)` with optional step (default 1). |
| `Values(v1, v2, ..., vN)`         | Generates explicit list of values.                            |
| `ValuesIn(container)` / `ValuesIn(begin, end)` | Generates values from an array, container, or iterator range. |
| `Bool()`                        | Generates `{false, true}`.                                    |
| `Combine(g1, g2, ..., gN)`        | Cartesian product of multiple generators, yielding tuples.   |
| `ConvertGenerator<T>(g)` / `ConvertGenerator(g, func)` | Converts generated values to a specified type or via a callable. |

### Customizing Test Names

The optional last argument to `INSTANTIATE_TEST_SUITE_P` can be a function or functor that generates test name suffixes based on parameters. This helps produce readable and unique test names for better test output.

Example:

```cpp
INSTANTIATE_TEST_SUITE_P(
    MyGroup, MyParamTest, testing::Values(1, 2, 3),
    [](const testing::TestParamInfo<MyParamTest::ParamType>& info) {
      return "Param" + std::to_string(info.param);
    });
```

Test names generated will be like `MyGroup/MyParamTest.IsPositive/Param1`, etc.

### Suppressing Uninstantiated Parameterized Tests

If you define `TEST_P`s without instantiations, GoogleTest reports failures by default. To suppress this when intentional, use:

```cpp
GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(MyParamTest);
```


## Typed Tests

Typed tests let you repeat the same test logic for a fixed list of types, allowing testing of different implementations or template instantiations with the same test code.

### Writing Typed Tests

1. **Define a fixture class template** parameterized by type `T` and derived from `testing::Test`:

```cpp
template <typename T>
class MyTypedTest : public testing::Test {
 public:
  T value_;
};
```

2. **Associate the test suite with a list of types** using `TYPED_TEST_SUITE`:

```cpp
using MyTypes = ::testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

3. **Define typed tests with `TYPED_TEST`, using special name `TypeParam`** to access the current type:

```cpp
TYPED_TEST(MyTypedTest, HasDefaultValue) {
  TypeParam default_value{};
  EXPECT_EQ(default_value, this->value_);
}
```

### Custom Type Name Generation

`TYPED_TEST_SUITE` accepts an optional third argument, a class that must provide a templated static method `GetName(int)` returning a string which becomes the suffix for the type name in the test output.

Example:

```cpp
class CustomNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, int>) return "Int";
    if constexpr (std::is_same_v<T, double>) return "Double";
    return "Unknown";
  }
};

TYPED_TEST_SUITE(MyTypedTest, MyTypes, CustomNames);
```


## Type-Parameterized Tests

This more advanced feature lets you define abstract test patterns with `TYPED_TEST_SUITE_P` and `TYPED_TEST_P` macros, register test names, and later instantiate these patterns with arbitrary type lists in any translation unit. This enables interface/concept testing without knowing the concrete types ahead of time.

### Defining Type-Parameterized Tests

```cpp
template <typename T>
class MyAbstractTest : public testing::Test {
  // Implementation ...
};

TYPED_TEST_SUITE_P(MyAbstractTest);

TYPED_TEST_P(MyAbstractTest, FeatureOne) {
  TypeParam value{};
  EXPECT_TRUE(SomeCheck(value));
}

TYPED_TEST_P(MyAbstractTest, FeatureTwo) {
  // ...
}

REGISTER_TYPED_TEST_SUITE_P(MyAbstractTest, FeatureOne, FeatureTwo);
```

### Instantiating Type-Parameterized Tests

```cpp
using MyTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstance, MyAbstractTest, MyTypes);
```

With this, tests `MyInstance/MyAbstractTest.FeatureOne` and `FeatureTwo` will run for `int` and `double`.


## Additional Notes

- Test suite and test names cannot contain underscores (`_`) to avoid conflicts; follow naming conventions.
- Use `GetParam()` in value-parameterized tests to retrieve the current test parameter.
- Use `TypeParam` in typed and type-parameterized tests to access the current type.
- Use the allowance macro for uninstantiated parameterized test suites to suppress unused instantiation errors.

---

## Examples

### Value-Parameterized Test Example

```cpp
class NumberSignTest : public testing::TestWithParam<int> {};

TEST_P(NumberSignTest, IsPositive) {
  EXPECT_GT(GetParam(), 0);
}

INSTANTIATE_TEST_SUITE_P(
    PositiveNumbers, NumberSignTest,
    testing::Values(1, 100, 999));
```

### Typed Test Example

```cpp
template <typename T>
class NumericLimitsTest : public testing::Test {
 public:
  T min_ = std::numeric_limits<T>::min();
  T max_ = std::numeric_limits<T>::max();
};

using NumericTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericLimitsTest, NumericTypes);

TYPED_TEST(NumericLimitsTest, CheckMinMax) {
  EXPECT_LT(this->min_, this->max_);
}
```

### Type-Parameterized Test Example

```cpp
template <typename T>
class InterfaceConformanceTest : public testing::Test {
 public:
  void SetUp() override { /* Setup common to all implementations */ }
};

TYPED_TEST_SUITE_P(InterfaceConformanceTest);

TYPED_TEST_P(InterfaceConformanceTest, SupportsFoo) {
  TypeParam instance;
  EXPECT_TRUE(instance.Foo());
}

REGISTER_TYPED_TEST_SUITE_P(InterfaceConformanceTest, SupportsFoo);

using Implementations = ::testing::Types<FooImpl, BarImpl>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyPrefix, InterfaceConformanceTest, Implementations);
```

---

For examples and best practices, see the [Guides on Parameterized and Typed Tests](/guides/advanced-usage-patterns/parameterized-and-type-tests) and the [Testing Reference](reference/testing.md).

---

## Troubleshooting Tips

- Ensure fixtures used with `TEST_P` inherit publicly from `testing::TestWithParam<T>`.
- When using `INSTANTIATE_TEST_SUITE_P`, verify parameter generator expressions are valid and all parameters are accessible at runtime.
- Avoid underscores in test suite and test names to prevent name mangling conflicts.
- If no instantiations are declared for a `TEST_P` suite, suppress warnings using `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`.
- Remember that `TypeParam` is only valid within the body of typed or type-parameterized tests.

---

For deeper understanding, consult the [Advanced Guide](docs/advanced.md#value-parameterized-tests) and the [Testing Primer](docs/primer.md).

---

<Source url="https://github.com/google/googletest" paths={[{"path": "docs/reference/testing.md", "range": "2-258"},{"path": "googletest/include/gtest/gtest-param-test.h", "range": "2-211"},{"path": "googletest/include/gtest/gtest-typed-test.h", "range": "2-300"}]} />