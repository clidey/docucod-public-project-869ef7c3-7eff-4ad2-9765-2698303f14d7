---
title: "Prerequisites & Supported Platforms"
description: "Outlines essential system requirements for GoogleTest (such as minimum C++ standard, compiler versions, and supported operating systems). Helps users determine compatibility before beginning setup."
---

# Prerequisites & Supported Platforms

GoogleTest is a powerful and portable C++ testing framework that balances modern C++ programming capabilities with broad platform support. This page outlines the essential system requirements and supported platforms you must know before integrating GoogleTest into your environment. Confirm your development setup meets these prerequisites to ensure smooth installation, configuration, and execution of tests.

---

## 1. C++ Language Standards Compatibility

- **Minimum Required C++ Standard Version:** C++17

GoogleTest requires an environment that supports at least the C++17 standard. This ensures compatibility with modern language features leveraged by the framework for better safety, performance, and expressiveness.

**How to specify this in your build system:**

- For CMake projects, include the following in your top-level `CMakeLists.txt`:
  
  ```cmake
  set(CMAKE_CXX_STANDARD 17)
  set(CMAKE_CXX_STANDARD_REQUIRED ON)
  ```

- If your project is primarily C and you add GoogleTest for validation, you can also enforce C++17 via compiler flags:
  
  ```shell
  -DCMAKE_CXX_FLAGS="-std=c++17"
  ```


<Tip>
Using a compiler and environment fully compliant with C++17 is critical for both building and running GoogleTest correctly. Older standards such as C++11 or C++14 are not supported.
</Tip>

---

## 2. Supported Operating Systems

GoogleTest and GoogleMock are designed to be cross-platform. You can expect full support and features on the following systems:

- **Linux (All major distributions)**
- **Windows (including Windows Mobile and Windows CE in some configurations)**
- **macOS**

Specialized embedded environments like ESP8266, ESP32, and NRF52 (with Arduino) are also supported with some adapted startup routines.

<Note>
You can detect platform-specific behavior in your tests by using pre-defined macros such as `GTEST_OS_WINDOWS_MOBILE` or `GTEST_OS_ESP8266` when necessary.
</Note>

---

## 3. Supported Compilers and Toolchains

GoogleTest supports a wide range of C++ compilers. The key requirement is that the compiler must:

- Fully support C++17
- Properly link C++ runtime libraries

Typical toolchains include:

- **GCC 7 and later** (Linux and MinGW on Windows)
- **Clang 6 and later** (macOS, Linux)
- **MSVC 2017 and later** (including Visual Studio 2017/2019/2022)

<Tip>
For Windows users, be aware of the C++ runtime linkage. GoogleTest supports static and dynamic linking, but mismatches can cause link errors such as LNK2038. The CMake option `gtest_force_shared_crt` can help resolve these issues by aligning runtime linkage between GoogleTest and your project.
</Tip>

---

## 4. Build Environment Setup

- **Build System:** GoogleTest provides official CMake support for easy integration.
- **CMake Version:** Minimum CMake 3.13, recommended 3.14 or higher to leverage advanced features.

Typical steps to prepare your build environment:

1. Clone the GoogleTest repository at a tagged stable release:
   ```shell
   git clone https://github.com/google/googletest.git -b v1.17.0
   ```

2. Create a build directory and invoke CMake:
   ```shell
   mkdir build && cd build
   cmake ..
   ```

3. Build using native build commands:
   - Linux/macOS: `make`
   - Windows: Use generated Visual Studio solution or `msbuild`

4. Optional: Install headers and libraries:
   ```shell
   sudo make install
   ```

---

## 5. Multi-threading and Concurrency

GoogleTest is thread-safe where the pthread library is available (e.g., on Linux).

- In non-pthread environments such as some Windows configurations, concurrent use of assertions across threads is **unsafe**.

- You can control pthread support explicitly by defining the macro `GTEST_HAS_PTHREAD`:
  
  ```shell
  -DGTEST_HAS_PTHREAD=1  # Enable pthread support
  -DGTEST_HAS_PTHREAD=0  # Disable pthread support
  ```

<Tip>
If you use CMake, pthread linking is handled automatically. For custom build systems, ensure you link with `-lpthread` on Unix-like systems.
</Tip>

---

## 6. Explicit Platform Integration Details

- **GoogleMock Integration:** GoogleMock depends on GoogleTest and incorporates it for mock verification and assertions.

- **Single Main Function:**
  - For most platforms, linking against `gtest_main` or `gmock_main` provides a main function `int main(int, char**)` that:
    - Initializes GoogleMock and GoogleTest with `testing::InitGoogleMock()`.
    - Calls `RUN_ALL_TESTS()` to execute all discovered tests.

- **Embedded Platforms:**
  - ESP8266, ESP32, and NRF52 use a different startup pattern with `setup()` and `loop()` functions instead of `main()`.

---

## 7. Common Pitfalls and Advice

- **Ensure Your Compiler Supports C++17:** Failure to do so will cause compilation errors or unexpected runtime behavior.
- **Match Runtime Linking:** On Windows, mismatched CRT linkage can cause linker errors; consider adjusting `gtest_force_shared_crt`.
- **Do Not Call `RUN_ALL_TESTS()` Multiple Times:** It should only be called once per test binary.
- **Set Up Proper Build Flags for Thread Support as Needed.**
- **Account for Platform-Specific Macros:** For platform-specific conditional compilation, use provided macros like `GTEST_OS_WINDOWS_MOBILE`.

---

## 8. Verification Checklist

Before proceeding to install and run your GoogleTest-powered project, verify:

- Your compiler supports and is set to use C++17 or higher.
- Your OS and architecture are supported by GoogleTest.
- Your build system includes appropriate threading and linking flags.
- You are linking with either `gtest_main` or `gmock_main` when you need the default main function.

---

## 9. Next Steps

Proceed to the [Installation Methods](/getting-started/prereqs-installation/installation-methods) guide to learn how to build and configure GoogleTest and GoogleMock on your platform.

For troubleshooting common platform or compiler issues, visit [Setup Troubleshooting](/getting-started/troubleshooting-faq/setup-troubleshooting).

Explore core concepts and writing tests in [Writing and Running Your First Test](/getting-started/quickstart-validation/hello-test).


---

## References

- [GoogleTest Primer](https://google.github.io/googletest/primer.html)
- [GoogleMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)
- [Supported Platforms and Toolchains](https://github.com/google/googletest/blob/main/docs/overview/integration-platforms/platform-support.mdx)
- GoogleTest GitHub Repository: [https://github.com/google/googletest](https://github.com/google/googletest)

---

<Note>
If you plan to customize GoogleTest for embedded or special systems, consult the platform macro definitions and startup file `gmock_main.cc` provided in the source.
</Note>


---

## Appendix: Platform Macro Highlights (for Developers)

- `GTEST_OS_WINDOWS_MOBILE` – Defined for some Windows Mobile platform builds.
- `GTEST_OS_ESP8266`, `GTEST_OS_ESP32`, `GTEST_OS_NRF52` – For embedded targets.

Use these for platform-specific conditional compilation if your project needs special adaptation.

---

<Check>
Ensure your compiler version and standard support match GoogleTest requirements before proceeding.
</Check>

---

## Summary
This documentation page guides you through the essential prerequisites and supported platform information required before beginning your GoogleTest installation. It empowers you to evaluate your development environment compatibility, ensuring that your setup supports C++17, and details supported OSes, compilers, threading considerations, and common pitfalls for smooth integration.


---

# Code Reference: Typical `main()` function via `gmock_main` (From `gmock_main.cc`)
```cpp
int main(int argc, char** argv) {
  // Initialize GoogleMock (also initializes GoogleTest)
  testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```
This code snippet exemplifies the standard method of running all your tests once setup.

---

If your build environment or system varies, or if you're targeting embedded platforms, refer to specialized startup patterns described above.


---

This concludes the prerequisites information for GoogleTest and GoogleMock platforms and compilers support.

---
