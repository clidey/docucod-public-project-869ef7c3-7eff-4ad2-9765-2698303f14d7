---
title: "Writing and Running Your First Test"
description: "Walks users through creating a minimal test file, compiling it, and executing the test suite. Emphasizes core user actions that prove a functional install and help build confidence."
---

# Writing and Running Your First Test

This guide walks you through writing a minimal test file, compiling it, and executing the test suite using GoogleTest. By following these steps, you will confirm that your GoogleTest installation is functional and gain confidence to write more complex tests.

---

## 1. Preparing Your Minimal Test File

Start by creating a C++ source file for your first test, for example, `first_test.cc`. This file will contain a simple test case demonstrating the core structure.

### Example Minimal Test

```cpp
#include <gtest/gtest.h>

// Define a test within a test suite named SampleTest
TEST(SampleTest, SimpleCheck) {
  // A basic assertion that will always pass
  EXPECT_EQ(1, 1);
}

int main(int argc, char **argv) {
  // Initializes GoogleTest framework
  ::testing::InitGoogleTest(&argc, argv);

  // Runs all tests and returns the result
  return RUN_ALL_TESTS();
}
```

### What this does:
- `TEST(SampleTest, SimpleCheck)` defines a test named `SimpleCheck` inside test suite `SampleTest`.
- `EXPECT_EQ(1, 1);` is a basic assertion verifying that the two values are equal.
- `main()` initializes GoogleTest and runs all defined tests.

<Tip>
Ensure your file includes `<gtest/gtest.h>` and defines a `main()` function with GoogleTest initialization unless your build links with the provided `gtest_main` library which supplies a default main.
</Tip>

---

## 2. Compiling Your Test

Before compiling, verify that you have GoogleTest and GoogleMock installed, and your system meets requirements detailed in the [System Requirements](https://your-docs/getting-started/prerequisites-installation/system-requirements) guide.

### Using CMake

If you are using CMake, you can set up a simple CMakeLists.txt:

```cmake
cmake_minimum_required(VERSION 3.10)
project(FirstGoogleTest)

enable_testing()
find_package(GTest REQUIRED)

add_executable(first_test first_test.cc)
target_link_libraries(first_test GTest::gtest_main GTest::gtest GTest::gmock)
add_test(NAME first_test COMMAND first_test)
```

**Build Steps:**

```bash
mkdir build
cd build
cmake ..
cmake --build .
```

### Without CMake

Compile your `first_test.cc` directly with your compiler and link against GoogleTest and pthreads (Linux/macOS):

```bash
g++ -std=c++17 -isystem /path/to/googletest/include \
    -pthread first_test.cc /path/to/libgtest.a /path/to/libgmock.a -o first_test
```

Adjust include paths and library paths according to your installation.

<Tip>
If your system has installed GoogleTest via package manager, you may link with `-lgtest` and `-lgmock` instead of static libraries.
</Tip>

---

## 3. Running Your First Test Suite

Once compiled, execute your test binary:

```bash
./first_test
```

You will see output like:

```none
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.SimpleCheck
[       OK ] SampleTest.SimpleCheck (0 ms)
[----------] 1 test from SampleTest ran. (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

The summary shows the number of tests run and their success status.

### Success Criteria:

- The test named `SampleTest.SimpleCheck` runs and passes.
- No failures or errors reported.
- The full execution result returns `0` from `main`.

<Tip>
Use the exit code of the test binary in your CI scripts or build pipelines to determine if tests passed.
</Tip>

---

## 4. Understanding the Test Structure

- **Test Suite (`SampleTest`)** groups related tests.
- **Test (`SimpleCheck`)** is the individual test case.
- **Assertions (like `EXPECT_EQ`)** define the conditions that verify correctness.
- **`main()` function** bootstraps GoogleTest and runs all registered tests.

You can add more `TEST()` or `TEST_F()` (for fixtures) in your source files. Each will be automatically registered.

---

## 5. Tips and Best Practices

- Avoid underscores (`_`) in test suite and test names; prefer CamelCase to prevent naming issues.
- Use `ASSERT_*` when a failure should abort the current test function; use `EXPECT_*` to continue after failure.
- Make sure `RUN_ALL_TESTS()` return value is returned by your `main()` function for correct success/failure reporting.
- To isolate test failures, use filtering options like `--gtest_filter=SampleTest.SimpleCheck`.

---

## 6. Common Issues and Troubleshooting

<AccordionGroup title="Common Issues Running Your First Test">
<Accordion title="Test Binary Does Not Link or Compile">
- Verify that the GoogleTest headers and libraries are correctly referenced in your build.
- Check you are linking with pthreads (`-pthread` flag) on POSIX systems.
- Confirm that the C++17 standard is enabled in your compiler.
</Accordion>
<Accordion title="Test Runs but No Tests Are Found">
- Ensure you have called `::testing::InitGoogleTest(&argc, argv);` before running `RUN_ALL_TESTS()`.
- Do not manually register tests if you're using the macros; they handle registration automatically.
- Confirm that your test functions are not `static` or inside anonymous namespaces.
</Accordion>
<Accordion title="Tests Fail Unexpectedly">
- Review assertion messages for clues.
- Use `--gtest_break_on_failure` flag to trigger a debug break on failures.
- Disable flaky tests temporarily with `DISABLED_` prefix.
</Accordion>
</AccordionGroup>

---

## 7. Next Steps

- After confirming your test binary runs, explore writing more complex tests using fixtures (`TEST_F`), value-parameterized tests (`TEST_P`), and typed tests.
- Learn how to integrate GoogleTest with your build system in the [Configuring Your Project](https://your-docs/getting-started/project-setup-validation/configuring-project) guide.
- Review the [GoogleTest Primer](https://your-docs/docs/primer.md) for foundational concepts.

# Additional Resources
- [GoogleTest Primer](https://your-docs/docs/primer.md) — Core concepts and test writing basics.
- [Advanced Guide](https://your-docs/docs/advanced.md) — Deeper testing techniques.
- [Assertions Reference](https://your-docs/reference/assertions.md) — Details on assertions.
- [Running Tests & Filters](https://your-docs/docs/advanced.md#running-tests) — How to run subsets of tests.

---

By completing these steps, you've written your first test, verified your setup, and began your journey towards mastering GoogleTest.