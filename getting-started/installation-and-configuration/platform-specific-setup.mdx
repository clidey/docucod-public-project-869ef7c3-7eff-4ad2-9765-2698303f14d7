---
title: "Platform-Specific Setup"
description: "Find supplementary installation notes and scripts for Linux, macOS, and Windows. Ensure that environment-specific steps, such as building from source or running presubmit scripts, are clear and accessible."
---

# Platform-Specific Setup

This page provides the essential environment-specific installation notes, scripts, and commands for setting up GoogleTest on Linux, macOS, and Windows platforms. It ensures you understand any additional steps required beyond the general installation process, such as building from source and running necessary presubmit scripts according to your platform.

---

## 1. Overview

GoogleTest builds and runs successfully on all major desktop platforms — Linux, macOS, and Windows. However, each platform may have unique setup considerations, tooling differences, and environment requirements. This guide walks you through these platform-specific details to ensure a smooth installation and setup experience.

---

## 2. Linux Setup

### Prerequisites
- A Linux distribution with a C++17-compliant compiler (e.g., GCC 7+, Clang 5+).
- CMake version 3.14 or newer.
- `make` or another compatible build tool.
- Basic developer tools like `git` and `build-essential` or equivalent.

### Steps to Build GoogleTest from Source

1. **Clone the repository** (if you haven't already):

   ```bash
   git clone https://github.com/google/googletest.git -b main
   cd googletest
   ```

2. **Create and navigate to the build directory:**

   ```bash
   mkdir build && cd build
   ```

3. **Generate build files using CMake:**

   - To build both GoogleTest and GoogleMock (default):

     ```bash
     cmake ..
     ```

   - To build only GoogleTest (skip GoogleMock):

     ```bash
     cmake .. -DBUILD_GMOCK=OFF
     ```

4. **Compile the libraries:**

   ```bash
   make
   ```

5. *(Optional)* **Install on your system:**

   ```bash
   sudo make install
   ```
   This installs GoogleTest headers and libraries typically to `/usr/local/`.

### Running Presubmit Scripts

GoogleTest includes presubmit scripts to validate code style and basic quality before committing. To run these:

```bash
python3 scripts/presubmit.py
```

*Make sure Python 3 is installed.*

### Troubleshooting Tips

- If you encounter linker errors related to pthreads, add `-pthread` to your compiler and linker flags.
- Verify that your compiler supports C++17; use `gcc --version` or `clang --version`.
- If `make` is not found, ensure build tools are installed (e.g., `sudo apt-get install build-essential`).

---

## 3. macOS Setup

### Prerequisites
- macOS 10.14 Mojave or later.
- Xcode command line tools installed.
- CMake 3.14 or newer.

### Installation Steps

1. **Install Xcode command line tools (if not already installed):**

   ```bash
   xcode-select --install
   ```

2. **Clone the GoogleTest repository:**

   ```bash
   git clone https://github.com/google/googletest.git -b main
   cd googletest
   ```

3. **Create and enter the build directory:**

   ```bash
   mkdir build && cd build
   ```

4. **Configure the build with CMake:**

   - To build both test frameworks (default):

     ```bash
     cmake ..
     ```

   - To build only GoogleTest:

     ```bash
     cmake .. -DBUILD_GMOCK=OFF
     ```

5. **Build the libraries:**

   ```bash
   make
   ```

6. *(Optional)* **Install system-wide:**

   ```bash
   sudo make install
   ```

### Running Presubmit Checks

Run the included presubmit Python script to validate before contributing or building custom versions:

```bash
python3 scripts/presubmit.py
```

### Troubleshooting on macOS

- If you encounter C++17 support issues, update to the latest Xcode and Command Line Tools.
- If CMake fails to detect Xcode properly, specify the generator explicitly:
  
  ```bash
  cmake -G "Unix Makefiles" ..
  ```
- For permission issues during install, prefix commands with `sudo`.

---

## 4. Windows Setup

### Prerequisites
- Microsoft Visual Studio 2019 or later (including MSVC compiler and CMake tools).
- Git for Windows to clone repositories.

### Steps to Build

1. **Clone GoogleTest repository:**

   Open PowerShell or Command Prompt and run:
   
   ```powershell
   git clone https://github.com/google/googletest.git -b main
   cd googletest
   ```

2. **Create build directory:**

   ```powershell
   mkdir build
   cd build
   ```

3. **Generate Visual Studio solution files:**

   You can use CMake GUI or command line. For CLI, specify Visual Studio generator, e.g., for 64-bit VS 2019:

   ```powershell
   cmake .. -G "Visual Studio 16 2019" -A x64
   ```

   To build only GoogleTest (excluding GoogleMock):

   ```powershell
   cmake .. -G "Visual Studio 16 2019" -A x64 -DBUILD_GMOCK=OFF
   ```

4. **Build using Visual Studio or MSBuild:**

   - Open the generated `gtest.sln` file in Visual Studio and build the desired configuration (Debug or Release).
   - Or build from command line:

     ```powershell
     msbuild gtest.sln /p:Configuration=Release
     ```

5. **(Optional) Install or use libraries:**

   GoogleTest does not provide a standard installer on Windows. Instead, link to the built libraries in your projects.

### Notes on Linking Runtimes

- By default, Visual Studio builds GoogleTest with static CRT linkage. If your project uses dynamic CRT linkage, set the CMake option `gtest_force_shared_crt` ON:

  ```powershell
  cmake .. -G "Visual Studio 16 2019" -A x64 -Dgtest_force_shared_crt=ON
  ```

### Running Presubmit Scripts

Presubmit checks require Python. Run:

```powershell
python scripts\presubmit.py
```

### Troubleshooting

- Ensure you run the terminal or PowerShell as Administrator if you face permission errors.
- If `msbuild` or `cmake` commands are not recognized, verify that Visual Studio Build Tools and CMake are added to your `PATH`.
- For linking errors about the runtime library mismatch, revisit the `gtest_force_shared_crt` option.

---

## 5. Building from Source: Common Notes

- GoogleTest requires a C++17-compliant environment. Ensure your compiler and build tools meet this criterion.
- When building the test binaries, GoogleTest provides `gtest` and `gtest_main` libraries. Use `gtest_main` if you want the default main() function linked in.
- If customizing your test program’s main function, explicitly call `testing::InitGoogleTest()` before `RUN_ALL_TESTS()`.

---

## 6. Summary of Important Environment Variables and Scripts

| Platform | Key Scripts/Commands                              | Notes                                    |
|----------|-------------------------------------------------|------------------------------------------|
| Linux    | `cmake .. [-DBUILD_GMOCK=OFF]` , `make`, `sudo make install`| Presubmit: `python3 scripts/presubmit.py`|
| macOS    | Same as Linux, with Xcode CL tools               | Ensure latest Xcode, CMake               |
| Windows  | `cmake .. -G "Visual Studio ..." [-Dgtest_force_shared_crt=ON]`, build via VS or `msbuild` | Presubmit: `python scripts\presubmit.py` |

---

## 7. Troubleshooting Common Issues

### Build Fails Due to Missing C++17 Support
- Verify compiler version.
- On Linux/macOS, install/update GCC or Clang.
- On Windows, update Visual Studio.

### Linker Errors Related to pthreads (Linux/macOS)
- Append `-pthread` to compile/link flags, e.g., `cmake .. -DCMAKE_CXX_FLAGS="-pthread"`.

### Runtime Library Mismatches on Windows
- Use the CMake option `-Dgtest_force_shared_crt=ON` when generating build files.

### Presubmit Script Fails
- Confirm Python3 is installed and callable as `python3` (or `python` on Windows).
- Check network connection if the script requires online resources.

---

## 8. Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest) — Source, issues, and latest changes.
- [Installing with CMake](../installing-googletest-cmake) — Guide for integrating GoogleTest with CMake.
- [Supported Platforms](../../overview/integration-and-ecosystem/supported-platforms) — Details on platforms and compiler compatibility.
- [Troubleshooting Common Issues](../../getting-started/first-test-and-validation/troubleshooting) — Help with frequent problems.

---

This completes the platform-specific setup essential for initial installation and development with GoogleTest on your operating system. Follow the instructions carefully for your environment, and proceed to writing and running your first tests with confidence.
