---
title: "Validating Your Installation"
description: "Verify your installation by compiling and executing a sample test suite. Ensure everything is connected and functioning correctly before writing your own tests."
---

# Validating Your Installation

Verify that your GoogleTest and GoogleMock installation is correctly set up by compiling and running a sample test suite. This ensures all components are properly connected and functioning before you begin writing your own tests.

---

## 1. Create a Sample Test Source File

Write a simple test to confirm your build environment and the GoogleTest framework are working together. Save the following example as `sample_test.cc`:

```cpp
#include <gtest/gtest.h>

// A simple test case named SampleTest with one test named BasicAssertion.
TEST(SampleTest, BasicAssertion) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_TRUE(true);
}
```

This test checks that basic assertions function correctly.

---

## 2. Compile the Sample Test

### Using CMake

If you installed GoogleTest and GoogleMock as recommended, here is an example CMake target that builds the test executable.

Create a `CMakeLists.txt` containing:

```cmake
cmake_minimum_required(VERSION 3.14)
project(SampleTest)

# Find installed GoogleTest and GoogleMock packages
find_package(GTest REQUIRED)

add_executable(sample_test sample_test.cc)

target_link_libraries(sample_test PRIVATE GTest::gtest GTest::gtest_main GTest::gmock GTest::gmock_main)

# Enable C++17 standard as required by GoogleTest
set_target_properties(sample_test PROPERTIES CXX_STANDARD 17 CXX_STANDARD_REQUIRED ON)

# Enable testing
include(GoogleTest)
gtest_discover_tests(sample_test)
```

Then run:

```bash
mkdir build && cd build
cmake ..
cmake --build .
```

### Using Bazel

Create a `BUILD` file with:

```python
cc_test(
    name = "sample_test",
    srcs = ["sample_test.cc"],
    deps = ["@com_google_googletest//:gtest_main", "@com_google_googletest//:gmock_main"],
    copts = ["-std=c++17"],
)
```

Then build and run with:

```bash
bazel test :sample_test
```

---

## 3. Run the Test Executable

After building, run the test executable. If using CMake:

```bash
./sample_test
```

If using Bazel, tests run automatically with `bazel test`.

Expected output:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicAssertion
[       OK ] SampleTest.BasicAssertion (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

A "[  PASSED  ]" message confirms your installation works.

---

## 4. Troubleshooting Common Issues

<AccordionGroup title="Installation Validation Troubleshooting">
<Accordion title="Build Errors - Missing Headers or Libraries">
- **Symptom:** Compiler errors indicating missing `gtest/gtest.h` or `gmock/gmock.h`.
- **Cause:** Your compiler cannot find GoogleTest/GoogleMock headers or libraries.
- **Solution:**
  1. Verify your include and library paths in your build system (CMake `find_package` or Bazel dependencies).
  2. Confirm that environment variables like `GTEST_ROOT` or equivalent are set if needed.
  3. Rebuild GoogleTest and GoogleMock if you built from source.
</Accordion>
<Accordion title="Test Runs but Reports No Tests Found">
- **Symptom:** The executable runs but reports "No tests found".
- **Cause:** Your test definitions may be missing the `TEST` macro or GoogleTest isn't linking properly.
- **Solution:**
  1. Ensure tests use the `TEST` or `TEST_F` macros correctly.
  2. Check linkage includes both `gtest` and `gtest_main` (and `gmock` or `gmock_main` if mocking).
  3. Run test with `--gtest_list_tests` to see discovered tests.
</Accordion>
<Accordion title="Runtime Failures or Crashes">
- **Symptom:** Test executable crashes or fails unexpectedly.
- **Cause:** Could be linking issues or incompatible compiler settings.
- **Solution:**
  1. Verify that your compiler supports C++17 and that the build uses consistent compiler flags.
  2. Check for runtime dependencies (threading libraries).
</Accordion>
</AccordionGroup>

---

## 5. Next Steps

- Once this test passes, start writing your own tests using GoogleTest and GoogleMock.
- Consult the [Writing Your First Test](../first-test-experience/writing-your-first-test.md) guide to learn how to create more elaborated tests.
- Refer to the [Assertions Reference](../reference/assertions.md) for details on verifying test conditions.
- Learn about mocking with [Basics of Mocking Functions and Classes](../../guides/mocking-best-practices/basics-of-mocking.md) to leverage GoogleMock in your tests.

---

<Tip>
Always verify your build and test configuration before integrating tests into larger projects or CI pipelines. Early validation saves time and effort.
</Tip>

---

## Summary

You have successfully verified your GoogleTest and GoogleMock installation by compiling and running a minimal test suite.

**Congratulations on completing your installation validation!**
