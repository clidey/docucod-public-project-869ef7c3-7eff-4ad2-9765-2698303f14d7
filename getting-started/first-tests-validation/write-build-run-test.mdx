---
title: "Write, Build, and Run Your First Test"
description: "Walks users through creating their first simple test case or mock, building the test binary, and running it. Emphasizes a fast path to a 'green' test result as proof of working setup."
---

# Write, Build, and Run Your First Test

Welcome to your quick start with GoogleTest! This guide will lead you through creating your very first simple test or mock, compiling it into an executable, and running the test to see that everything is working correctly. By the end, you'll have a "green" test result confirming a successful setup.

---

## 1. Prerequisites

Before writing your first test, ensure you have the following ready:

- A C++ development environment that supports C++17 or newer
- GoogleTest source code or binary installed on your system
- Build tools such as CMake or your preferred compiler and linker
- Familiarity with basic C++

> For detailed environment setup, see [Prerequisites & System Requirements](../setup-basics/prerequisites-requirements).

---

## 2. Writing Your First Test

In GoogleTest, tests are grouped into **test suites**, each suite contains one or more **tests**. The simplest way to write a test is using the `TEST` macro.

### Example: A Simple Test

Create a new C++ source file, for example `first_test.cc`, and add the following:

```cpp
#include <gtest/gtest.h>

// Tests that 1 + 1 equals 2
TEST(SimpleMathTest, Addition) {
  EXPECT_EQ(1 + 1, 2);
}
```

- **TEST(SimpleMathTest, Addition)** defines a test called `Addition` inside the test suite called `SimpleMathTest`.
- **EXPECT_EQ** checks that the two values are equal.

### Optional: Writing a Test Fixture

When multiple tests require common setup or shared objects, define a test fixture class derived from `testing::Test`. For example:

```cpp
class QueueTest : public testing::Test {
 protected:
  void SetUp() override {
    // Prepare fresh queue for each test
  }
  void TearDown() override {
    // Cleanup
  }

  // Members for use in tests
};

TEST_F(QueueTest, IsEmptyInitially) {
  // test code
}
```

- Use `TEST_F` macro to access the fixture.

For now, start simple with `TEST()`.

---

## 3. Building Your Test Binary

To build your test executable, you will:

### Using CMake (Recommended)

1. Create a `CMakeLists.txt` in the directory with your test file:

```cmake
cmake_minimum_required(VERSION 3.10)
project(MyFirstTest)

# Enable testing
enable_testing()

# Find GoogleTest (assumed installed or downloaded)
find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})

# Add your test executable
add_executable(first_test first_test.cc)

# Link GoogleTest libraries
target_link_libraries(first_test ${GTEST_LIBRARIES} pthread)

# Register the test
add_test(NAME SimpleMathTest COMMAND first_test)
```

2. Build and run:

```bash
mkdir build && cd build
cmake ..
make
ctest
```

### Without CMake (Manual Compilation)

Compile with your preferred compiler, specifying the include path and linking the GoogleTest libraries.

Example for GCC:

```bash
g++ -std=c++17 -I/path/to/gtest/include -pthread first_test.cc /path/to/libgtest.a -o first_test
```

Replace `/path/to/gtest/include` and `/path/to/libgtest.a` with correct locations.

---

## 4. Running Your Test

Run the compiled binary directly:

```bash
./first_test
```

You should see output similar to:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SimpleMathTest
[ RUN      ] SimpleMathTest.Addition
[       OK ] SimpleMathTest.Addition
[----------] 1 test from SimpleMathTest (0 ms total)

[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This means your test ran successfully.

> Note: If you want to run only specific tests, use the `--gtest_filter` flag. For example, to run only the `Addition` test:
>
> ```bash
> ./first_test --gtest_filter=SimpleMathTest.Addition
> ```

---

## 5. Understanding the Test Output

- `[  PASSED  ]` indicates the test succeeded.
- `[  FAILED  ]` means the test failed, and GoogleTest will show which assertions failed along with file and line numbers.

### Interpreting Failures

If your test fails, GoogleTest prints messages with details:

```bash
first_test.cc:5: Failure
Expected equality of these values:
  1 + 1
    Which is: 3
  2
```

This tells you which expectation failed and why.

---

## 6. Next Steps

After confirming your first test runs successfully, try the following:

- Add more tests that check different behaviors
- Learn about **test fixtures** to share setup/teardown logic
- Explore the rich set of [assertions and matchers](../../reference/assertions.md) GoogleTest offers
- Integrate with your build system for automated testing

> For deeper understanding and examples, consult the [GoogleTest Primer](../../primer.md) and [Writing & Running Tests Guide](../../guides/writing-and-running-tests/getting-started).

---

## Troubleshooting Tips

- **Include Paths**: Confirm GoogleTest headers are reachable by your compiler
- **Linker Errors**: Ensure `libgtest.a` or equivalent is linked correctly
- **Test Discovery**: Remember that `RUN_ALL_TESTS()` runs tests registered by `TEST` and `TEST_F`
- **Ignoring RUN_ALL_TESTS return value**: Do not ignore the return from `RUN_ALL_TESTS()`, always return it from your `main()`

If you encounter issues, see [Troubleshooting Common Setup Issues](../first-tests-validation/troubleshooting).

---

## Example Complete Main Program

To complete the standard test program, use this boilerplate `main()`:

```cpp
int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This initializes the GoogleTest framework, parses command-line flags, and runs all tests.

---

## Summary

You have now:

- Written your very first GoogleTest test using the `TEST` macro
- Built an executable that links with GoogleTest
- Run the test and observed a successful result

Start expanding your test suite from here with more cases, test fixtures, and advanced assertions.

---

## References

- [GoogleTest Primer](../../primer.md)
- [Assertions Reference](../../reference/assertions.md)
- [Using Test Fixtures](../../primer.md#same-data-multiple-tests)
- [GoogleTest Tutorial and Guides](../../guides/writing-and-running-tests/getting-started)
- [Troubleshooting Guide](../first-tests-validation/troubleshooting)
- [CMake Integration](../../guides/test-automation-and-integration/integrating-with-build-systems)


---

### Helpful Command Examples

```bash
# Build all tests using CMake
mkdir build && cd build
cmake ..
make

# Run all tests
./first_test

# Run a specific test
./first_test --gtest_filter=SimpleMathTest.Addition
```

---