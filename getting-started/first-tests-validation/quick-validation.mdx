---
title: "Quick Validation Checklist"
description: "Presents a concise checklist and mini 'smoke test' to verify that GoogleTest/GoogleMock are correctly installed and working as expected. Ensures users have confidence to proceed to more advanced usage."
---

# Quick Validation Checklist

This page presents a concise checklist and a mini 'smoke test' to help you verify that your GoogleTest and GoogleMock installation is correctly set up and functioning as expected. By completing these quick validation steps, you gain confidence that your environment is ready to run meaningful tests and mocks, ensuring a smooth path towards more advanced usage.

---

## 1. Confirm Installation and Setup

Before running any tests, confirm that GoogleTest and GoogleMock are installed correctly and your build environment is configured to link against them appropriately.

### Steps

- **Build your test executable:**
  - Use your build system (e.g., CMake, Bazel, manual compilation) to compile your test binary including GoogleTest and GoogleMock headers and libraries.
  - Confirm the build completes without errors.

- **Check the library and compiler compatibility:**
  - Ensure you are using a compiler that supports at least C++17.
  - Confirm build tools such as CMake are configured according to the prerequisites.

### Verification

- A successful build with no missing headers or linker errors is the basic prerequisite for proceeding.

---

## 2. Run the Sample Smoke Test

Execute a minimal test that quickly exercises GoogleTest and GoogleMock to affirm they behave as expected.

### Minimal Test Example

Create a file `quick_validation_test.cc` with the following minimal tests:

```cpp
#include <gtest/gtest.h>
#include <gmock/gmock.h>

using ::testing::Return;

// Simple GoogleTest test
TEST(SmokeTest, BasicTruth) {
  EXPECT_TRUE(true);
}

// Minimal mock class example
class MockFoo {
 public:
  MOCK_METHOD(int, GetValue, (), ());
};

TEST(SmokeTest, MockBehavior) {
  MockFoo mock;

  // Set default behavior
  ON_CALL(mock, GetValue()).WillByDefault(Return(42));

  // Expect that the method is called exactly once
  EXPECT_CALL(mock, GetValue()).Times(1);

  // Invoke the method
  int val = mock.GetValue();

  // Verify the returned value
  EXPECT_EQ(val, 42);
}
```

### Instructions

1. Compile and link the above file with GoogleTest and GoogleMock libraries.
2. Run the executable.

### Expected Results

- The test suite should run and report all tests as passed.
- No warnings or errors related to mock expectations or uninteresting calls.

---

## 3. Check Expectations Verification

GoogleMock automatically verifies that all expectations are met when mock objects are destroyed, but you can also explicitly do this in your tests.

### How to Force Verification Early

Use `testing::Mock::VerifyAndClearExpectations(&mock_object);` to verify and clear expectations explicitly, for example:

```cpp
MockFoo foo;
EXPECT_CALL(foo, GetValue()).Times(1);
...
// Run code that invokes foo.GetValue()
...
// Explicitly verify before foo is destroyed
ASSERT_TRUE(::testing::Mock::VerifyAndClearExpectations(&foo));
```


This helps identify issues especially when mocks may live beyond the scope of the test.

---

## 4. Common Pitfalls to Avoid

- **Missing virtual destructors:**
  - Always define virtual destructors in interfaces you mock to ensure proper cleanup.

- **Setting expectations after exercising mocks:**
  - Never add `EXPECT_CALL` after the code under test has already invoked mock methods. This leads to undefined behavior.

- **Uninteresting call warnings:**
  - If warnings occur for calls to mocked methods without `EXPECT_CALL`, consider:
    - Adding an `EXPECT_CALL(...).Times(AnyNumber())` to explicitly acknowledge allowed calls.
    - Using `NiceMock` to suppress such warnings globally.

- **Order of expectations:**
  - Remember the most recent matching expectation overrides older ones.
  - Use sequences (`InSequence`) if call order matters.

---

## 5. Troubleshooting Tips

- **Build issues:**
  - Verify that required build tools (CMake, compiler versions) meet prerequisites.
  - Ensure all include paths and library paths reference the correct GoogleTest/GoogleMock versions.

- **Runtime failures:**
  - Run with `--gmock_verbose=info` to get detailed traces of mock calls and expectation matches.

- **Linker errors:**
  - Confirm GoogleMock is linked alongside GoogleTest.
  - Check for mismatched library versions.

- **Unexpected test failures:**
  - Confirm expectations are set before mock method invocations.
  - Check for missing expectations leading to uninteresting or unexpected call errors.

---

## 6. Next Steps

Once you verify the quick validation checklist, you can proceed confidently to write comprehensive tests and use advanced mocking features.

### Recommended Reading

- [Writing, Building, and Running Your First Test](../write-build-run-test.md) — to write your first real test.
- [Troubleshooting Common Setup Issues](../troubleshooting.md) — to help solve issues found during validation.
- [Using GoogleMock Effectively](../../guides/mocking-and-advanced-testing/using-googlemock-effectively.md) — for best practices and advanced mocking.

---

## Additional Resources

- GoogleTest and GoogleMock GitHub repository: [https://github.com/google/googletest](https://github.com/google/googletest)

- [Prerequisites & System Requirements](../prerequisites-requirements.md)

- [Basic Configuration](../configuration-overview.md)

- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) — friendly introduction


<Callout title="Tip">
For your quick validation, keep your test simple but ensure it covers both a GoogleTest assertion and basic GoogleMock behavior to detect a broad range of setup issues early.
</Callout>