---
title: "Installing GoogleTest"
description: "Step-by-step guides for installing GoogleTest across different environments, including CMake, Bazel, and manual build approaches. Learn which files and instructions apply to your platform (Windows, MacOS, Linux) and how to integrate GoogleTest into your build system."
---

# Installing GoogleTest

Step-by-step guides to installing GoogleTest on various platforms and build systems. This documentation helps you quickly set up GoogleTest using CMake, Bazel, or manual build approaches, tailored for Windows, macOS, and Linux environments.

---

## 1. Prerequisites & System Requirements

Before installing GoogleTest, ensure your environment meets the following:

- **C++17 or later**: GoogleTest requires a compiler supporting at least C++17.
- **Supported Platforms**: Linux, Windows, macOS, and select embedded systems.
- **Build Tools**:
  - For CMake builds: CMake 3.14 or higher is recommended.
  - For Bazel builds: A recent Bazel installation supporting your platform.
- **Development Environment**:
  - Compiler compatible with C++17 (GCC ≥ 7, Clang ≥ 5, MSVC 2017 Update 3 or later).
  - If using threading: availability of pthreads or Windows threading support.

<Tip>
If you are unsure whether your compiler supports C++17, use the compiler’s version check or try a small test program with `-std=c++17` or equivalent.
</Tip>

---

## 2. Installing GoogleTest with CMake

GoogleTest provides a straightforward CMake build system suitable for most platforms.

### 2.1 Cloning the Repository

Start by cloning the GoogleTest repository:

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
d
cd googletest
```

### 2.2 Creating a Build Directory

Create an isolated build directory to keep build artifacts separate:

```bash
mkdir build
cd build
```

### 2.3 Configuring the Build

Generate the appropriate build configuration using CMake.

- To build GoogleTest along with GoogleMock (default):

  ```bash
  cmake ..
  ```

- To build only GoogleTest (without GoogleMock):

  ```bash
  cmake .. -DBUILD_GMOCK=OFF
  ```

### 2.4 Building GoogleTest

- On **Linux/macOS** (with Makefiles):

  ```bash
  make
  ```

- On **Windows** (with Visual Studio):

  Open the generated `gtest.sln` and build the solution inside Visual Studio.

- On **macOS** (with Xcode):

  Open the generated `.xcodeproj` file.

### 2.5 Installing (Optional)

If you want to install GoogleTest system-wide (Linux/macOS):

```bash
sudo make install
```

This installs headers and libraries usually under `/usr/local/`.

### 2.6 Verifying the Installation

After building, verify the presence of the following:

- Static/shared libraries in `build/lib`
- Headers in `googletest/include/gtest`

<Tip>
Use `find_package(GTest CONFIG REQUIRED)` in your CMake project to locate installed GoogleTest libraries.
</Tip>

---

## 3. Using GoogleTest in Your CMake Project

### 3.1 Linking GoogleTest

If installed system-wide:

```cmake
find_package(GTest CONFIG REQUIRED)
target_link_libraries(your_test_target GTest::gtest_main)
```

If including GoogleTest source directly as a subdirectory:

```cmake
add_subdirectory(googletest)
target_link_libraries(your_test_target gtest_main)
```

### 3.2 C++ Standard Enforcement

Ensure your target enforces C++17:

```cmake
set_target_properties(your_test_target PROPERTIES CXX_STANDARD 17 CXX_STANDARD_REQUIRED ON)
```

---

## 4. Installing GoogleTest with Bazel

If you use Bazel as your build system, GoogleTest can be integrated as follows:

### 4.1 Defining GoogleTest in WORKSPACE

Add GoogleTest as an external dependency (directives may vary with version):

```bazel
http_archive(
    name = "com_google_googletest",
    url = "https://github.com/google/googletest/archive/refs/tags/v1.17.0.zip",
    strip_prefix = "googletest-1.17.0",
)
```

### 4.2 Loading GoogleTest in BUILD Files

In your Bazel `BUILD` file, reference GoogleTest's targets:

```bazel
cc_test(
    name = "your_test",
    srcs = ["your_test.cc"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

<Tip>
Refer to Bazel's official documentation for the latest best practices on integrating third-party libraries like GoogleTest.
</Tip>

---

## 5. Manual Build and Integration

If you prefer not to use CMake or Bazel, follow these steps:

### 5.1 Download GoogleTest Source

Get the [GoogleTest source code](https://github.com/google/googletest) for your version.

### 5.2 Compile GoogleTest

Compile the `gtest` and `gtest_main` source files manually:

```bash
# Sample commands for Linux/macOS using g++
g++ -isystem googletest/include -pthread -c googletest/src/gtest-all.cc
g++ -isystem googletest/include -pthread -c googletest/src/gtest_main.cc
# Link into a static library or directly with your test binaries
ar -rv libgtest.a gtest-all.o gtest_main.o
```

### 5.3 Linking Your Tests

When compiling your tests, link with `libgtest.a` and pthread:

```bash
g++ -pthread your_test.cc -L. -lgtest -lgtest_main -o your_test
```

<Tip>
Remember to compile all source files with the same compiler flags to avoid ABI incompatibility.
</Tip>

---

## 6. Platform-Specific Notes

### 6.1 Windows

- Build with Visual Studio or CMake-generated Visual Studio solutions.
- For Dynamic vs Static runtimes issues, consider setting the CMake option `gtest_force_shared_crt=ON`.

### 6.2 macOS

- Use `brew install cmake` to get latest CMake if needed.
- Use Xcode or terminal with Makefiles generated by CMake.

### 6.3 Linux

- Ensure pthread development headers are installed (`libpthread` and `-dev` packages).

### 6.4 Embedded and Special Platforms

- GoogleTest supports select platforms via customized entry points.
- For Arduino-like platforms (ESP8266, ESP32, NRF52), use the custom `setup()` and `loop()` functions defined internally.

---

## 7. Troubleshooting Common Issues

<AccordionGroup title="Common Installation Issues">
<Accordion title="CMake cannot find a C++17 compiler">
Make sure your development tools are up to date and that you specify the C++17 standard in CMake with `-DCMAKE_CXX_STANDARD=17`.
</Accordion>
<Accordion title="Linker errors due to mismatched runtime libraries">
Use the `gtest_force_shared_crt` option when building or integrating with Visual Studio.
</Accordion>
<Accordion title="Missing pthread library on Linux">
Ensure you have the pthread development package installed: e.g., `sudo apt-get install libpthread-stubs0-dev`.
</Accordion>
<Accordion title="Tests not found or not running">
Verify you are linking and running the `gtest_main` library or have a proper `main()` defined that calls `RUN_ALL_TESTS()` after `testing::InitGoogleTest()`.
</Accordion>
</AccordionGroup>

---

## 8. Next Steps

- After installation, consult the [Writing & Running Your First Test](getting-started/first-run-validation/your-first-test) guide to create your initial test.
- Explore [Configuring GoogleTest in Your Project](getting-started/first-run-validation/configuration) to fine-tune integration.
- Refer to [Supported Platforms and Dependencies](overview/integration-adoption/supported-platforms) to confirm compatibility.

---

## 9. Additional Resources & Links

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [What is GoogleTest? Overview](https://pkg.go.dev/github.com/google/googletest/overview/welcome-introduction/what-is-googletest)
- [Quickstart & Where to Learn More](overview/integration-adoption/quickstart)
- [Supported Platforms](overview/integration-adoption/supported-platforms)
- [GoogleTest Primer](docs/primer.md)

---

By following these instructions, you will have GoogleTest installed and integrated into your development environment, ready to write and run your C++ tests with efficiency and confidence.
