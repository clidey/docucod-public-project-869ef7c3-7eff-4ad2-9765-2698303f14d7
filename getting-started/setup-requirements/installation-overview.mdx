---
title: "Installation Overview"
description: "Get an at-a-glance understanding of how to install GoogleTest and GoogleMock, including the main installation options and when to use them. This launches you into the correct path for your platform and build environment."
---

# Installation Overview

Get an at-a-glance understanding of how to install GoogleTest and GoogleMock, including the main installation options and when to use them. This guide helps you choose the right installation path based on your platform and build environment.

---

## 1. Installation Options Overview

GoogleTest and GoogleMock offer flexible installation options designed to fit various platforms and build systems. Below is a quick summary of the main methods:

| Installation Method               | When to Use                                      |
|---------------------------------|------------------------------------------------|
| **Pre-built packages**           | Quick setup using OS package managers like `apt`, `brew`, or `vcpkg`. Great for standard Linux/macOS/Windows environments. |
| **Manual source build**          | When you want full control, customization, or the latest version. Works well with custom build environments like CMake.
| **Bundled with your project**    | Embed GoogleTest as a subdirectory for easier dependency management and version locking.
| **Bazel integration**            | For projects using the Bazel build system, facilitates seamless integration.


## 2. Choosing the Right Installation Path

| Platform          | Recommended Installation Path                      |
|-------------------|---------------------------------------------------|
| Linux/macOS       | Use the manual source build or package manager for quick integration.
| Windows           | Use sources with CMake or pre-built packages via vcpkg or NuGet.
| Embedded platforms | Refer to platform-specific guidance (e.g., Arduino).
| Bazel projects     | Use Bazel integration for best results.


## 3. Installing via Package Managers (Quick Start)

Many Linux distributions and macOS support GoogleTest packages, but verify versions to ensure compatibility.

### Linux (Debian/Ubuntu example)

```bash
sudo apt-get update
sudo apt-get install libgtest-dev
# Additional steps may be needed to build the library after installation, see your distro's docs.
```

### macOS (Homebrew example)

```bash
brew install googletest
```

### Windows (vcpkg example)

```powershell
vcpkg install gtest
```


<Tip>
Pre-built packages might not have the latest features or bug fixes. For latest enhancements or custom build configurations, opt for manual source builds.
</Tip>


## 4. Manual Source Build with CMake

Using CMake to manually build GoogleTest and GoogleMock provides maximum control and version consistency.

### Step 1: Clone the Repository

```bash
git clone https://github.com/google/googletest.git
git checkout main
cd googletest
```


### Step 2: Create a Build Directory and Configure

```bash
mkdir build && cd build
cmake ..
```

By default, this prepares build targets for GoogleTest and GoogleMock separately.


### Step 3: Build

```bash
cmake --build .
```

This compiles the libraries and creates test executables.


### Step 4: Install (Optional)

To install to system or custom directories (requires write permissions):

```bash
cmake --install .
```

You can customize install location by adding `-DCMAKE_INSTALL_PREFIX=/your/path` during the CMake configuration step.


<Note>
Make sure your compiler and CMake versions meet GoogleTest requirements for successful build.
Refer to [Prerequisites & Supported Platforms](https://github.com/google/googletest/blob/main/docs/prerequisites.md) for details.
</Note>


## 5. Using GoogleMock's gmock_main Library

GoogleMock provides a special `gmock_main` library that includes a default `main()` function.

### When to use gmock_main

Use `gmock_main` if:
- You want a ready-to-use main function to initialize GoogleTest and GoogleMock.
- You want to avoid writing your own main function in your test executable.

### How to link

When linking your test executable, include `-lgmock_main` along with `-lgmock`.

Example (CMake snippet):

```cmake
add_executable(my_tests test_file.cc)
target_link_libraries(my_tests gmock_main gmock pthread)  # Link pthread on Linux/macOS
```


## 6. Platform-Specific Notes

### Embedded Linux & Microcontrollers

GoogleMock integrates with limited environments like ESP8266 or ESP32 through special `setup()` and `loop()` functions instead of `main()`. See examples in `googlemock/src/gmock_main.cc`.

### Windows

On Windows, avoid ambiguities with `_tmain` by linking against `main()` fixture provided by GoogleMock or writing your own.


## 7. Verifying Installation

After installation, verify with a simple test executable that:
- Compiles and links correctly against GoogleTest and GoogleMock libraries.
- Runs and reports test results as expected.
- Uses the provided `RUN_ALL_TESTS()` to execute all tests.

Example minimal test to compile and run:

```cpp
#include <gtest/gtest.h>
TEST(SampleTest, TrueIsTrue) {
  EXPECT_TRUE(true);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```


## 8. Troubleshooting Installation

<AccordionGroup title="Common Installation Issues">
<Accordion title="Build fails due to missing pthread">
On Linux/macOS, missing `pthread` linkage causes errors. Add `-pthread` during compile and link commands.

In CMake, ensure `find_package(Threads REQUIRED)` and link with `Threads::Threads`.
</Accordion>

<Accordion title="Symbols missing when linking main()">
If you see link errors due to missing `main()`, ensure you link with `gmock_main` library or provide your own main.
</Accordion>

<Accordion title="Compiler incompatibility">
Make sure your compiler supports C++11 or later features as per GoogleTest requirements.
Update CMake and compilers if needed.
</Accordion>

</AccordionGroup>

## 9. Next Steps

- For detailed platform-specific instructions, see **Installing on Linux/macOS** and **Installing on Windows** guides.
- To understand usage and writing tests, see **GoogleTest Primer**.
- For mocking advanced features, see **Mocking Reference** and **gMock for Dummies**.
- Learn about integrating with Bazel in the **Using Bazel for Build & Test** guide.


---

For more details and related topics, visit the [GoogleTest User's Guide](https://google.github.io/googletest/primer.html).

---

<Check>
You have now a clear, actionable overview to install GoogleTest and GoogleMock according to your platform and use case. Choose the installation path that matches your needs, verify the setup, and move on to writing your first test!
</Check>
