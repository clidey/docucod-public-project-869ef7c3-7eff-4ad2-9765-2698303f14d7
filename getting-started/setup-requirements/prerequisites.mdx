---
title: "Prerequisite Tools and Dependencies"
description: "Identify and install the essential dependencies for building and running tests with GoogleTest. Covers introductory checks and guidance for compilers, CMake, Bazel, package managers, and other ecosystem requirements."
---

# Prerequisite Tools and Dependencies

This page guides you through identifying and installing the essential dependencies required to build and run tests using **GoogleTest**. Before you start writing or running tests, make sure your environment meets these baseline requirements and tools are properly set up.

---

## 1. Verify Your Compiler and C++ Standard Support

GoogleTest requires a compiler that supports **C++17** or later. Follow these steps to check and ensure your compiler compatibility:

### Supported Compilers

- **GCC** 7.0 and above
- **Clang** 3.4 and above
- **MSVC** 2017 Update 3 (v19.11) and above

GoogleTest uses C++17 features extensively, so compilers that do not meet this may fail to build or run properly.

### How to Check Your Compiler Version

Run the following in your terminal or command prompt:

```bash
gcc --version
clang --version
cl  # For MSVC, check version in Visual Studio Developer Command Prompt
```

### Ensure C++17 is Enabled

For build systems like CMake or direct compiler use, specify C++17 explicitly, for example:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

Or, when using direct compiler flags:

```bash
g++ -std=c++17 ...
clang++ -std=c++17 ...
cl /std:c++17 ...
```

<Tip>
If you encounter build errors related to `-std=c++17` or missing C++17 features, verify your compiler version and upgrade if necessary.
</Tip>

## 2. Install and Verify CMake

GoogleTest supports building with **CMake**, a popular cross-platform build system generator.

### Minimum CMake Version

GoogleTest requires at least **CMake 3.14** for certain modern features and dependency management.

### Installing CMake

- Download the latest version from the official site: <https://cmake.org/download/>
- Use your package manager for Linux/macOS:
  - Ubuntu/Debian: `sudo apt-get install cmake`
  - Fedora: `sudo dnf install cmake`
  - macOS (Homebrew): `brew install cmake`

### Verify Installation

Run:

```bash
cmake --version
```

Expect output similar to:

```
cmake version 3.18.2
```

<Tip>
On Windows, consider adding CMake binaries to your PATH for CLI convenience.
</Tip>

## 3. Ensure Bazel (Optional)

If you plan to build GoogleTest using **Bazel**, make sure Bazel is installed.

### Installing Bazel

- Visit <https://bazel.build/> and follow platform-specific installation guides.
- Verify installation via:

```bash
bazel version
```

If you do not have Bazel or do not plan to use it, you can skip this step.

## 4. Package Managers and Ecosystem Tools

Depending on your platform and workflow, some package managers can simplify the installation of dependencies:

### Linux Package Managers

- Debian/Ubuntu:

```bash
sudo apt-get install build-essential cmake
```

- Fedora:

```bash
sudo dnf install @development-tools cmake
```

- Arch Linux:

```bash
sudo pacman -S base-devel cmake
```

### macOS

- Install **Homebrew** (https://brew.sh/) if not already installed

- Use Homebrew to install dependencies:

```bash
brew install cmake
```

### Windows

- Use **Chocolatey** or **vcpkg**

- Chocolatey example:

```powershell
choco install cmake --installargs 'ADD_CMAKE_TO_PATH=System'
```

- vcpkg can be used to manage dependencies including GoogleTest:

```powershell
vcpkg install gtest
```

## 5. Multi-threading Support

GoogleTest automatically detects and uses **pthread** when available for thread-safe tests.

- On POSIX systems, `pthreads` should be installed by default.
- On Windows, native threading APIs are used.

If your environment does not properly detect pthread:

- For CMake, `find_package(Threads)` is used and `GTEST_HAS_PTHREAD` is set automatically.
- If needed, force this macro in your build using `-DGTEST_HAS_PTHREAD=1` or disable with `-DGTEST_HAS_PTHREAD=0`.

## 6. Build Environment and Compiler Flags

GoogleTest's build scripts tune compiler and linker flags to optimize for warnings, runtime libraries, and exception and RTTI support.

### Tweaks Made Automatically by CMake

- Prefer strict warnings (`-W4` on MSVC / `-Wall` and related on GCC/Clang).
- Enforce consistent runtime library linkage.
- Enable or disable features like exceptions and RTTI based on environment.

### For Shared Library Builds

- Use flag `-DGTEST_CREATE_SHARED_LIBRARY=1` when building GoogleTest as a shared library.
- Link your tests with `-DGTEST_LINKED_AS_SHARED_LIBRARY=1`.

## 7. Verify All Dependencies Are Installed

Before proceeding with building your tests, check that you have the following in your environment:

| Dependency           | Verification Command          | Expected Result                  |
|----------------------|-------------------------------|--------------------------------|
| C++ Compiler (C++17) | `g++ --version` / `clang++ --version` / `cl` | Version supporting C++17        |
| CMake                | `cmake --version`             | >= 3.14                        |
| Pthreads             | System-provided on POSIX      | Headers and library present     |
| Bazel (optional)     | `bazel version`               | Installed if using Bazel        |

<Tip>
If any of the above dependencies are missing or outdated, refer to the installation instructions for your platform to update.
</Tip>

## 8. Common Pitfalls and Tips

- **Compiler Support:** Using an older compiler version may lead to cryptic errors. Upgrade your compiler to the latest stable release.
- **Missing Runtime Flags:** On Windows, mismatched runtime libraries between GoogleTest and your project can cause linker errors. Use the `gtest_force_shared_crt` option in CMake to align runtimes.
- **Ensure Threading Support:** If GoogleTest incorrectly detects pthread support, forcing the `GTEST_HAS_PTHREAD` macro can resolve build/link issues.
- **CMake Version:** An older CMake may not support `FetchContent` or other features required to build GoogleTest. Update CMake accordingly.

## 9. Next Steps

Once these tools and dependencies are installed and verified, you are ready to proceed with:

- [Installing GoogleTest with CMake](../installation-initialization/installation-cmake.md)
- [Installing GoogleTest with Bazel](../installation-initialization/installation-bazel.md)
- [Setting Up Your Project Configuration](../installation-initialization/configuration-overview.md)

This foundational setup ensures smooth compilation, linking, and execution of your first GoogleTest test programs.

---

## Troubleshooting Common Dependency Issues

<AccordionGroup title="Troubleshooting Prerequisite Tools and Dependencies">
<Accordion title="Compiler Does Not Support C++17">
Make sure your compiler version meets the minimum requirement. Upgrade to GCC 7+, Clang 3.4+, or MSVC 2017 Update 3 or newer. Check your build commands include the `-std=c++17` flag.
</Accordion>
<Accordion title="CMake Command Not Found or Version Too Low">
Install CMake from the official site or via your package manager. Verify version with `cmake --version`. Ensure version is 3.14 or newer to use GoogleTestâ€™s modern build features.
</Accordion>
<Accordion title="Pthread-Related Link Errors on POSIX Systems">
Confirm presence of pthread development headers and libraries. Using CMake automatically links these if available. For custom builds, add `-pthread` compiler and linker flags.
</Accordion>
<Accordion title="Visual Studio Runtime Mismatch Errors on Windows">
Use the CMake option `gtest_force_shared_crt=ON` to ensure consistent runtime linkage with your project. Without alignment, linker errors due to runtime mismatch occur.
</Accordion>
</AccordionGroup>
