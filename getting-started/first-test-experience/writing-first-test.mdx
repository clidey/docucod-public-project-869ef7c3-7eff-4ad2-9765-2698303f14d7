---
title: "Writing and Running Your First Test"
description: "Walk through creating a minimal C++ unit test with GoogleTest, compiling it, and executing your test binary. This page gives a hands-on, copy-paste-friendly example so you can go from zero to green test in minutes."
---

# Writing and Running Your First Test with GoogleTest

Welcome to your first hands-on experience with GoogleTest! This guide walks you through writing a minimal C++ unit test, compiling it, and running your test binary to verify success. By the end, you'll have a complete test executable running a simple test that passes — getting you confidently from zero to green.

---

## 1. Writing a Minimal Test

GoogleTest simplifies testing by letting you write tests as regular C++ functions decorated with the `TEST` macro. Here's how to write your very first test.

### Step 1: Create a test source file

Create a new C++ source file, for example `sample_test.cpp`. Inside, include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

### Step 2: Define a simple test case

Use the `TEST` macro to define a test. It takes two arguments: the test suite name, and the test name. Names should be valid C++ identifiers and, for best practices, avoid underscores (_).

```cpp
// A simple test that checks 1 + 1 == 2
TEST(SimpleMath, OnePlusOne) {
  EXPECT_EQ(1 + 1, 2);
}
```

- `SimpleMath` is the test suite – a logical grouping of related tests.
- `OnePlusOne` is the name of this specific test inside that suite.
- `EXPECT_EQ` is an assertion verifying the left and right expressions are equal.

You can have multiple tests per suite, and multiple suites within your program.

### Step 3: Write multiple tests (optional)

Add more tests to cover different checks:

```cpp
TEST(SimpleMath, TwoTimesTwo) {
  EXPECT_EQ(2 * 2, 4);
}

TEST(SimpleMath, IntegerDivision) {
  EXPECT_EQ(6 / 3, 2);
}
```

---

## 2. Compiling Your Test

You need to compile your test source with the GoogleTest library.

### Step 1: Set up include and link paths

Make sure your compiler can find GoogleTest’s headers and link with its libraries. This typically means adding `-I` flags for include directories and `-L` and `-lgtest` flags for linking.

Example compilation command using g++:

```bash
g++ -std=c++17 -isystem /usr/local/include -pthread sample_test.cpp -L/usr/local/lib -lgtest -lgtest_main -o sample_test
```

- Adjust `/usr/local/include` and `/usr/local/lib` to the paths where GoogleTest is installed.
- The `-pthread` flag is required on POSIX systems for threading support.

If you installed GoogleTest via a package manager, these paths and flags may vary or be configured by your build system.

### Step 2: Verify compilation

The above command should generate an executable `sample_test`. If you have errors about missing headers or libraries, verify the installation paths and library availability.

---

## 3. Running Your Test Binary

### Step 1: Execute the test program

Run the compiled binary:

```bash
./sample_test
```

### Expected output on success:

```
[==========] Running 3 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 3 tests from SimpleMath
[ RUN      ] SimpleMath.OnePlusOne
[       OK ] SimpleMath.OnePlusOne (0 ms)
[ RUN      ] SimpleMath.TwoTimesTwo
[       OK ] SimpleMath.TwoTimesTwo (0 ms)
[ RUN      ] SimpleMath.IntegerDivision
[       OK ] SimpleMath.IntegerDivision (0 ms)
[----------] 3 tests from SimpleMath (0 ms total)

[----------] Global test environment tear-down
[==========] 3 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 3 tests.
```

This output means all tests passed.

### Step 2: Interpreting failures (if any)

If any assertion fails, GoogleTest marks the test as failed and prints failure details:

```
[ RUN      ] SimpleMath.OnePlusOne
sample_test.cpp:5: Failure
Expected equality of these values:
  1 + 1
    Which is: 3
  2
[  FAILED  ] SimpleMath.OnePlusOne (0 ms)
```

Read the message to identify which test and assertion failed.

---

## 4. A Full Example: sample_test.cpp

```cpp
#include <gtest/gtest.h>

// Tests that 1 + 1 equals 2.
TEST(SimpleMath, OnePlusOne) {
  EXPECT_EQ(1 + 1, 2);
}

// Tests that 2 * 2 equals 4.
TEST(SimpleMath, TwoTimesTwo) {
  EXPECT_EQ(2 * 2, 4);
}

// Tests integer division 6 / 3 equals 2.
TEST(SimpleMath, IntegerDivision) {
  EXPECT_EQ(6 / 3, 2);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run as previously shown. Note the `main()` function initializes GoogleTest and runs all tests.

---

## 5. Best Practices and Tips

- **Avoid underscores in test suite and test names**: Names like `SimpleMath` and `OnePlusOne` help prevent name collisions and compiler issues.
- **Use meaningful test names**: Describe what the test verifies, to ease understanding.
- **Call `InitGoogleTest` before running tests**: Always pass command-line arguments here to support GoogleTest flags.
- **Return the result of `RUN_ALL_TESTS` in `main()`**: Ensures correct exit code for CI systems.
- **Use `EXPECT_` assertions for non-fatal checks**: Allows multiple checks per test.
- **Use `ASSERT_` assertions when failure means the test cannot continue**, e.g., when setup is required.

---

## 6. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Steps">
  <Accordion title="Test binary does not compile">
  - Verify your compiler supports C++17.
  - Check GoogleTest include and library paths.
  - Added `-pthread` flag on POSIX systems.
  - Confirm GoogleTest is installed and visible to your build system.
  </Accordion>
  <Accordion title='No tests run or "0 tests" reported'>
  - Ensure your test functions use the `TEST` or `TEST_F` macros correctly.
  - Confirm `InitGoogleTest` is called in `main`.
  - Check that your tests do not have the `DISABLED_` prefix.
  </Accordion>
  <Accordion title="Tests fail unexpectedly">
  - Read failure messages carefully.
  - Use GoogleTest assertions like `EXPECT_EQ`, `ASSERT_TRUE` for precise diagnostics.
  - Use `SCOPED_TRACE` to add context if tests call helper functions.
  </Accordion>
  <Accordion title="Test output is cluttered or unreadable">
  - Use flags `--gtest_color=yes` to enable colors.
  - Redirect output and use filters for selective runs.
  </Accordion>
</AccordionGroup>

---

## 7. Next Steps

Now that you’ve written and run your first test:

- Explore [GoogleTest Primer](primer.md) to deepen your understanding of writing tests.
- Learn about [Assertions Reference](reference/testing.md#assertions) to use more powerful checks.
- Try using [Test Fixtures](primer.md#same-data-multiple-tests) with `TEST_F` for shared test setup.
- Discover [Parameterized and Typed Tests](guides/practical-testing-patterns/parameterized-testing) to avoid repetitive test code.
- Check out [Mocking Your First Class or Function](guides/getting-started/first-mock) to test complex interactions.

For build integration and detailed install, refer to the [Installation Instructions](getting-started/setup-basics/installation).

---

**Congratulations!** You are now ready to add tests and grow your test suite with confidence using GoogleTest.