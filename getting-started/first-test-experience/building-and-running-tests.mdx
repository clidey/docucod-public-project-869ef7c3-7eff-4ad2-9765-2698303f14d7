---
title: "Building and Running Tests"
description: "Instructions on compiling and executing test binaries with minimal friction, tailored for popular build systems (CMake, Bazel) and OSes. Addresses command-line usage, common pitfalls, and how to interpret test output."
---

# Building and Running Tests

This guide provides you with clear, step-by-step instructions to compile and run GoogleTest test binaries efficiently. Tailored for popular build systems such as CMake and Bazel, and compatible with major operating systems, it tackles common commands, potential pitfalls, and how to interpret test output for successful test execution.

---

## 1. Prerequisites & System Requirements

- **Build Environment:**
  - A C++ compiler that supports at least C++11 is required.
  - Your system should have CMake or Bazel installed if you use them as your build system.
- **GoogleTest Source:**
  - Ensure you have the GoogleTest source code or its integration as a dependency in your project.
- **Permissions:**
  - Ensure you have permission to build and execute binaries on your system.


## 2. Building Tests

GoogleTest tests are compiled into executable binaries using standard C++ build systems. The most common tools supported are CMake and Bazel.

### Using CMake

Follow these steps to build your tests with CMake:

1. **Create a build directory:**

   ```bash
   mkdir build && cd build
   ```

2. **Run CMake to configure the build:**

   ```bash
   cmake ..
   ```

   _(Add any necessary CMake options here, e.g., `-DCMAKE_BUILD_TYPE=Release`)_

3. **Build the test binaries:**

   ```bash
   cmake --build .
   ```

4. **Verify the build output:**

   - Check for the generated test executables typically found in the build directory.

### Using Bazel

1. **Build the test target:**

   ```bash
   bazel build //path/to:test_target
   ```

2. **Locate the built test binary:**

   - Bazel outputs its binaries under the `bazel-bin` directory.

3. **Run the test binary as described below.**

### Common Pitfall

- Ensure that your source files are added to the build targets explicitly, or tests won’t compile.
- Confirm that GoogleTest headers and libraries are correctly linked.

<Tip>
If your build fails, check your include directories and linked libraries for GoogleTest. Also, verify your compiler supports the required C++ standard.
</Tip>


## 3. Running Tests

Once your test binaries are built, you can execute them directly from the command line.

### Running the Tests

```bash
./your_test_binary
```

This runs all registered tests in the binary.

### Common Command-Line Flags

GoogleTest supports several command-line flags you can use to control test behavior:

| Flag                              | Purpose                                                    |
|----------------------------------|------------------------------------------------------------|
| `--gtest_filter=PATTERN`          | Run only tests matching PATTERN (wildcards `*` and `?` supported) |
| `--gtest_list_tests`              | List all available tests without running them              |
| `--gtest_repeat=N`                | Repeat all tests `N` times (use `-1` to repeat indefinitely) |
| `--gtest_break_on_failure`        | Break into debugger on first failure                        |
| `--gtest_output=xml:filename.xml`| Generate an XML report of test results                      |
| `--gtest_shuffle`                 | Shuffle the order of tests randomly                         |
| `--gtest_color=[yes|no|auto]`    | Control colored output in the terminal                      |

Example: Run only tests in the `MathTest` suite:

```bash
./your_test_binary --gtest_filter=MathTest.*
```


### Interpreting Test Output

- **[  PASSED  ]** indicates a test succeeded.
- **[  FAILED  ]** indicates a test failed.
- Failures often include file, line number, and failure message.
- Summary at the end shows total passed and failed tests.

<Info>
You can generate XML or JSON test reports with the `--gtest_output` flag, which can be consumed by CI/CD systems for reporting.
</Info>


## 4. Troubleshooting Common Issues

<AccordionGroup title="Common Issues"> 
<Accordion title="Tests Are Not Running"> 
- **Symptom:** You run the test binary but no tests execute.
- **Cause:** Possibly no tests defined or your filter excludes all tests.
- **Solution:** Use `--gtest_list_tests` to verify available tests. Remove or adjust filters.
</Accordion>

<Accordion title="Build Failures Related to GoogleTest"> 
- **Symptom:** Build cannot find gtest headers or libraries.
- **Cause:** GoogleTest is not correctly included or linked.
- **Solution:** Ensure your build system configuration includes GoogleTest headers and links the appropriate libraries.
- For CMake, confirm that `target_link_libraries` includes `gtest` and `gtest_main` if using.
</Accordion>

<Accordion title="Skipping Tests Unexpectedly"> 
- **Symptom:** Some tests are skipped or not running.
- **Cause:** Tests may be disabled (via `DISABLED_` prefix) or filtered out.
- **Solution:** Use `--gtest_also_run_disabled_tests` flag to include disabled tests.
- Check your filter patterns to make sure tests are not excluded.
</Accordion>

<Accordion title="Debugging Failing Tests"> 
- Run with `--gtest_break_on_failure` to break at first failure with a debugger attached.
- Use `SCOPED_TRACE` to add contextual trace messages to pinpoint failures inside subroutines.
- Check logs and failure messages carefully for file/line and assertion outputs.
</Accordion>
</AccordionGroup>


## 5. Sample Walkthrough

This minimal example shows steps from build to run:

```bash
# Step 1: Prepare build directory
mkdir build && cd build

# Step 2: Configure CMake
cmake ..

# Step 3: Build tests
cmake --build .

# Step 4: Run tests (runs all)
./your_test_binary

# Step 5: Run subset (only FooTest suite)
./your_test_binary --gtest_filter=FooTest.*

# Step 6: Generate XML report
./your_test_binary --gtest_output=xml:report.xml
```

<EarlySuccess>
If output ends with `[  PASSED  ] N tests.`, you know your tests ran successfully.
</EarlySuccess>


## 6. Additional Tips and Best Practices

- Use meaningful test names to make filtering easier.
- Disable flaky tests temporarily via `DISABLED_` prefix rather than commenting out to keep visibility.
- Use `RecordProperty` to store extra info during tests, which gets output in XML reports.
- Harness `SCOPED_TRACE` for debugging complex test failures inside helper functions.
- When using Bazel, keep your `BUILD` files tidy to ensure tests are properly compiled and linked.

<Tip>
Always check test binary outputs carefully; GoogleTest provides rich diagnostics to help resolve failures.
</Tip>

## 7. References and Next Steps

- [GoogleTest Primer](https://doi.org/your-docs-path/getting-started/first-test-experience/write-first-test) — Learn how to write your first tests.
- [Setup Basics - Installation and Configuration](https://doi.org/your-docs-path/getting-started/setup-basics/installation-instructions) — For complete build environment setup.
- [GoogleTest Flags Reference](https://doi.org/your-docs-path/docs/reference/testing) — Detailed command-line flag options.
- [Advanced Guide on Writing Tests](https://doi.org/your-docs-path/docs/advanced) — Harness advanced test features.

---

Start with these steps to ensure your tests are compiled and run smoothly, and gradually explore advanced features for powerful testing workflows.
