---
title: "Running Tests & Validating Setup"
description: "Walks through compiling and executing tests on your platform, interpreting test output, and verifying your setup is working. Provides actionable steps to confirm successful installation and example outputs that signal correct operation."
---

# Running Tests & Validating Setup

This guide walks you through the process of compiling and running tests using GoogleTest on your platform. It helps you interpret test outputs and verify that your GoogleTest setup is working correctly, providing clear steps, example outputs, and troubleshooting tips.

---

## 1. Compile Your Test Program

Before running any tests, you must first compile your test sources into an executable binary. This typically involves:

- Ensuring your build system links against GoogleTest and GoogleMock libraries.
- Including the appropriate headers (`<gtest/gtest.h>` and `<gmock/gmock.h>` where necessary).

> **Example:**
>
> If using CMake, your `CMakeLists.txt` might include:
>
> ```cmake
> find_package(GTest REQUIRED)
> add_executable(MyTests test_main.cc foo_test.cc)
> target_link_libraries(MyTests GTest::gtest GTest::gtest_main GTest::gmock)
> ```

Compile your test program as you would any other C++ binary.

### Verification

Successful compilation will produce a runnable test executable (e.g., `MyTests`). If you encounter compilation errors, ensure:

- GoogleTest and GoogleMock are installed and discoverable.
- Include paths and library paths are correctly configured.

## 2. Running Your Tests

Once you have your test binary, run it from the command line:

```bash
./MyTests
```

or on Windows:

```powershell
MyTests.exe
```

Running this executable launches all registered GoogleTest tests in your program.

### Expected Output

The output lists tests run, their pass/fail status, and summary information. For example:

```plaintext
Running main() from gmock_main.cc
[==========] Running 3 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 3 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[ RUN      ] FactorialTest.HandlesNegativeInput
[       OK ] FactorialTest.HandlesNegativeInput (0 ms)
[----------] 3 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 3 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 3 tests.
```

> The line `Running main() from gmock_main.cc` indicates successful initialization of GoogleTest & GoogleMock.

### Exit Code

The executable returns `0` if all tests pass, or a non-zero value if any test fails. Always check the exit code to verify test success.

## 3. Understanding Test Output

Test output is organized as follows:

- **Test Suite and Test Names:** Each test is reported with its suite and test name.
- **Pass/Fail Indication:** `[       OK ]` for pass, `[  FAILED  ]` for failures.
- **Summary:** Total tests ran, total passed/failed.

For example, a failing test will show:

```plaintext
[ RUN      ] FactorialTest.HandlesNegativeInput
/path/to/factorial_test.cc:23: Failure
Expected: Factorial(-1) throws an exception
  Actual: it throws nothing.
[  FAILED  ] FactorialTest.HandlesNegativeInput (0 ms)
```

This output points you to the exact source file and line where the assertion failed.

### Advanced Output Options

You can control verbosity and output formatting using the following options:

- `--gtest_filter=TestSuiteName.TestName` — run specific tests only.
- `--gtest_output=xml:filename.xml` — generate XML test reports.
- `--gmock_verbose=info|warning|error` — adjust GoogleMock message verbosity.

Example:

```bash
./MyTests --gtest_filter=MySuite.MyTest
./MyTests --gtest_output=xml:results.xml
```

## 4. Running Your First Example Test

Let's walk through running a simple test example.

### Step 1: Write a Basic Test

In `example_test.cc`:

```cpp
#include <gtest/gtest.h>

int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n - 1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(4), 24);
}
```

### Step 2: Compile the Test

Compile with your build system or directly:

```bash
g++ example_test.cc -lgtest -lgmock -lpthread -o example_test
```

### Step 3: Run the Test

```bash
./example_test
```

Expected output:

```plaintext
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)
[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

## 5. Verifying Your Setup

To confirm your environment is correctly configured:

- Ensure your test executable runs without linker errors.
- Run the tests and confirm they pass.
- Inspect output for the line `Running main() from gmock_main.cc` which signals proper GoogleMock initialization.
- Use exit code `echo $?` (Linux/macOS) or `$LASTEXITCODE` (PowerShell) to confirm `0`.

<Tip>
If your tests produce warnings about "uninteresting mock function calls," consider using `NiceMock` wrappers in your test mocks or adding catch-all expectations to suppress noise.
</Tip>

## 6. Troubleshooting Common Issues

<AccordionGroup title="Common Issues and Solutions">
<Accordion title="Linker Errors Related to GoogleTest Symbols">
Ensure that you link your test target with **both** `gtest` and `gmock` libraries (and optionally `gtest_main` for default main function). Verify that the include paths and library paths are properly set in your build.
</Accordion>
<Accordion title="Test Executable Runs But No Tests Are Found">
Make sure your tests use `TEST()` or `TEST_F()` macros to register tests properly. Also ensure `InitGoogleMock()` or `InitGoogleTest()` is called once, usually in your `main` function, before calling `RUN_ALL_TESTS()`.
</Accordion>
<Accordion title="Tests Fail Unexpectedly with ‘Uninteresting Mock Function Call’ Messages">
Either add explicit expectations with `EXPECT_CALL(mock, Method(_)).Times(AnyNumber())` to suppress warnings, or wrap your mocks in `NiceMock<T>` to accept uninteresting calls without warning.
</Accordion>
<Accordion title="Test Output Includes Stack Traces But I'm Overwhelmed">
Adjust verbosity by passing `--gmock_verbose=warning` or `--gmock_verbose=error` flags to reduce output noise.
</Accordion>
</AccordionGroup>

## 7. Next Steps

After confirming your tests run successfully:

- Explore writing your own test cases and test fixtures with `TEST_F()`.
- Learn about [Writing Your First Test](/getting-started/first-test-experience/writing-your-first-test) for detailed instructions on defining tests.
- Check out the [Assertions and Failures Guide](/overview/core-concepts/assertions-and-failures) to write more effective test checks.
- Get started with mocks through [Introduction to Mocking](/overview/core-concepts/mocking-basics) and [gMock for Dummies](/docs/gmock_for_dummies.md).

<Check>
Confirm you have:
- Built test program linking gtest and gmock
- Run test executable and observed successful test runs
- Understood how to read the output and exit codes
- Basic troubleshooting knowledge for common setup issues
</Check>

---

## Reference Links

- [GoogleTest Primer](primer.md) - Learn how to write simple tests.
- [gMock for Dummies](docs/gmock_for_dummies.md) - Introduction to mocking.
- [Installation Methods](getting-started/setup-basics/installation-methods.mdx) - How to compile and link.
- [Configuration & Initial Integration](getting-started/setup-basics/configuration-setup.mdx) - Set up build files.
- [Troubleshooting Common Setup Issues](getting-started/first-test-experience/troubleshooting-common-issues) - Solve common problems.

For deeper integration and advanced usage, consult the [GoogleTest User’s Guide](docs/index.md).

---

## Example Main Function for Running Tests

If you need to write your own `main()`, here is a minimal example:

```cpp
#include <gtest/gtest.h>

int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This function initializes GoogleTest with command line flags and runs all registered tests.

---

## Practical Tips

- Run each test executable once per test run to gather complete results.
- Use verbosity flags to gain insight when debugging tests.
- Always write expectations *before* exercising the mock - out-of-order usage leads to undefined behavior.
- Take advantage of XML output options for CI integration.

---

This page is specifically focused on guiding you through running your tests and verifying your setup with GoogleTest and GoogleMock. For writing tests or configuring advanced features, refer to related guides.
