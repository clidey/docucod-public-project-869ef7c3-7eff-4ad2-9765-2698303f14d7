---
title: "Writing Your First Test"
description: "Step-by-step guide to authoring a simple test case with GoogleTest. Learn about basic test syntax and assertions so you can quickly see results and understand the test feedback provided."
---

# Writing Your First Test

Welcome to your first step into writing tests with GoogleTest. This guide will walk you through authoring a simple test case using GoogleTest, demonstrating the basic test syntax and assertions. You'll quickly see how tests inform you of success or failure, helping you ensure your code behaves as expected.

---

## 1. Understanding the Test Structure

A basic GoogleTest test consists of three parts:

- A **test case name**: groups related tests together.
- A **test name**: identifies the specific test.
- The **test body**: contains the code that exercises functionality and verifies outcomes.

Hereâ€™s the simplest example:

```cpp
#include <gtest/gtest.h>

// Defines a test case named "ExampleTest" with a test named "SimpleAssertion".
TEST(ExampleTest, SimpleAssertion) {
  // Test body: using an ASSERT macro
  ASSERT_EQ(1, 1);  // Verifies that 1 equals 1.
}
```


### What Happens Here?

When the test runs, GoogleTest reports success if the condition holds; otherwise, it signals failure and prints diagnostic information.


## 2. Writing Your First Test: Step-by-Step

Follow these practical steps to author and run your first test:

### Step 1: Include GoogleTest Header

Add this inclusion at the top of your test source file:

```cpp
#include <gtest/gtest.h>
```

This gives you access to all GoogleTest macros and functions.


### Step 2: Define a Test

Use the `TEST` macro, which takes two arguments: the test case name and the test name. Inside the macro, write your test code.

Example:

```cpp
TEST(ArithmeticTest, AdditionWorks) {
  EXPECT_EQ(2 + 2, 4);  // Checks if 2 + 2 equals 4
}
```

The `EXPECT_EQ` macro checks for equality and records failure if the condition is false but allows the test to continue.


### Step 3: Add Assertions

There are two common assertion types:

- **`ASSERT_*`**: Causes the test to stop immediately on failure.
- **`EXPECT_*`**: Reports failure but continues running.

Examples:

```cpp
ASSERT_TRUE(is_valid());
EXPECT_NE(value, 0);
```

Use `ASSERT_` when the rest of the test depends on a condition being true, and `EXPECT_` when you want to check multiple conditions independently.


### Step 4: Compile Your Test

Make sure your build includes linking against GoogleTest.

A simple `g++` command (adjust include and lib paths as needed):

```bash
g++ my_test.cc -lgtest -lgtest_main -pthread -o my_test
```


### Step 5: Run Your Test

Execute the test binary:

```bash
./my_test
```

You will see output indicating which tests passed or failed.

Example output of a passing test:

```
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from ArithmeticTest
[ RUN      ] ArithmeticTest.AdditionWorks
[       OK ] ArithmeticTest.AdditionWorks (0 ms)
[----------] 1 test from ArithmeticTest (0 ms total)
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 1 test.
```

If a test fails, GoogleTest prints detailed diagnostics to help you identify the problem.

---

## 3. Practical Tips for Writing Effective Tests

- **Name tests descriptively.** Use names that convey what is being tested.
- **Keep tests small and focused.** Each test should verify one behavior.
- **Use `EXPECT_` for multiple checks in a test.** Use `ASSERT_` if subsequent code depends on a prior condition.
- **Check both expected and unexpected conditions.** Testing edge cases ensures robustness.

---

## 4. Sample Test Code: Complete Example

```cpp
#include <gtest/gtest.h>

// Simple function to test
int Add(int a, int b) {
  return a + b;
}

// Test case named MathTest, testing Add function correctness
TEST(MathTest, AddPositiveNumbers) {
  EXPECT_EQ(Add(1, 2), 3);
  EXPECT_EQ(Add(10, 20), 30);
}

TEST(MathTest, AddNegativeNumbers) {
  EXPECT_EQ(Add(-1, -2), -3);
  EXPECT_EQ(Add(-10, 2), -8);
}

TEST(MathTest, AddMixedSignNumbers) {
  EXPECT_EQ(Add(-1, 1), 0);
  EXPECT_EQ(Add(0, 0), 0);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run this test to immediately see your first GoogleTest results.

---

## 5. Understanding Test Feedback

GoogleTest reports failures with clear messages including:

- The assertion that failed (e.g., `EXPECT_EQ`)
- Actual values versus expected values
- Source file and line number where failure occurred

Example failure output:

```
test.cc:15: Failure
Expected equality of these values:
  Add(1, 2)
    Which is: 4
  3
```

This tells you what was expected and what was returned, pinpointing the failure for quick fixes.

---

## 6. Next Steps

Once you're comfortable with basic tests:

- Learn about more assertions and matchers to validate complex conditions.
- Explore test fixtures (`TEST_F`) to share setup and teardown for related tests.
- Integrate mock objects with GoogleMock to test interactions and dependencies.
- Check out [Running & Validating Tests](../running-and-validating-tests) for test execution and filtering.
- Review common pitfalls and troubleshooting tips in [Troubleshooting & Common Issues](../troubleshooting-and-common-issues).


---

## Troubleshooting Common Issues

- **Tests not running?** Ensure you call `RUN_ALL_TESTS()` in your main function.
- **Assertion macros missing?** Verify you included `<gtest/gtest.h>`.
- **Tests failing unexpectedly?** Check if the expected and actual values are what you intended to test.
- **Linker errors?** Link your test program with the GoogleTest libraries (`-lgtest -lgtest_main`).


---

## References

- [GoogleTest Primer](../primer)
- [GoogleMock Cookbook](../gmock_cook_book)
- [Matchers Reference](../matchers.md)
- [Setting Expectations and Actions](../mock-expectations-actions.md)


---

For questions or help, see the [GoogleTest FAQ](../../faq/getting-started-troubleshooting/faq-quickstart-resources).
