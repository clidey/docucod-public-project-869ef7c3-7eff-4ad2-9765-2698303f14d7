---
title: "Writing Your First Test"
description: "Guide users through the process of creating their first C++ test file, importing the main test headers, and using basic assertions. Introduces the canonical workflow of writing, compiling, and understanding simple test cases."
---

# Writing Your First Test

Welcome to your first step in mastering GoogleTest! This guide will take you through creating your very first test, starting from writing a simple C++ test file, including the necessary headers, and using basic assertions to validate your code.

By the end of this page, you will understand how to write a canonical test case, compile it, run it, and interpret the results.

---

## 1. Create Your First Test File

Begin by creating a new C++ source file to hold your test code, for example, `sample_test.cc`.

Inside this file, include the essential GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

This header provides all the testing macros and functionalities you need.

## 2. Writing a Simple Test Case

GoogleTest uses a macro-based approach where you define test cases using the `TEST` macro.

Its canonical form is:

```cpp
TEST(TestSuiteName, TestName) {
  // Test code here
}
```

- `TestSuiteName`: Groups related tests
- `TestName`: Identifies the specific test

### Example

Let's write a test that verifies a simple addition:

```cpp
TEST(MathTest, SimpleAddition) {
  int sum = 2 + 2;
  EXPECT_EQ(sum, 4);
}
```

Here, `EXPECT_EQ` is an assertion that checks if the two values are equal.

## 3. Basic Assertions

GoogleTest provides a rich set of assertions, starting with simple ones:

- **`EXPECT_EQ(val1, val2)`** — checks equality (non-fatal failure)
- **`ASSERT_EQ(val1, val2)`** — checks equality (fatal failure)
- **`EXPECT_NE(val1, val2)`**, **`EXPECT_LT`**, **`EXPECT_LE`**, **`EXPECT_GT`**, **`EXPECT_GE`** — for comparison

Use **`EXPECT_`** macros when your test can continue after failure, **`ASSERT_`** macros to abort immediately on failure.

## 4. Compiling Your Test

GoogleTest works with standard C++ build systems. Here's a simple example using `g++`:

```bash
# Compile your test executable
 g++ -std=c++17 -isystem /path/to/googletest/include \
   -pthread sample_test.cc /path/to/libgtest.a /path/to/libgtest_main.a -o sample_test
```

- Replace `/path/to/` with your actual GoogleTest installation paths.
- If you use CMake or Bazel, see the [Platform Support and Build Integration](overview/architecture-integration/platform-and-tool-integration) page for details.

## 5. Running Your Test

Simply execute the compiled binary:

```bash
./sample_test
```

Expected output for a passing test:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from MathTest
[ RUN      ] MathTest.SimpleAddition
[       OK ] MathTest.SimpleAddition (0 ms)
[----------] 1 test from MathTest (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

If the test fails, GoogleTest will clearly indicate which assertion failed and why.

## 6. Understanding the Test Structure

Each `TEST` macro defines a test function behind the scenes, which GoogleTest automatically discovers and runs.

- Tests in the same test suite share a common theme.
- Assertions verify the expected behavior.
- Test failures help locate and diagnose issues quickly.

For more on test organization and discovery, see [Test Structure and Discovery](/overview/core-concepts/test-structure-discovery).

## 7. Best Practices & Tips

- Keep test names descriptive and meaningful to understand the purpose.
- Use `EXPECT_` if you want the test to continue on failure.
- Use `ASSERT_` when failure should prevent further test execution.
- Write small focused tests verifying one thing at a time.
- Remember to include `gtest/gtest.h` in every test file.

## 8. Common Pitfalls

- **Missing the main function:**
  - Link against `gtest_main.a` or provide your own main that calls `RUN_ALL_TESTS()`.
- **Incorrect include paths:**
  - Make sure the compiler can find `gtest/gtest.h`.
- **Not setting expectations properly:**
  - For mock objects (covered in other pages), setup expectations before exercising code.

## 9. Next Steps

- Write tests covering your real application logic.
- Explore test fixtures for sharing setup via [Test Fixtures & Test Case Management](/api-reference/core-testing-api/test-fixtures-test-case-management).
- Learn to run and interpret tests on the [Running Tests & Validating Setup](/getting-started/first-test-experience/running-tests-and-validating-setup) page.
- Dive into assertions and failure management on [Assertions and Failure Handling](/overview/core-concepts/assertions-and-failures).

---

### Practical Example: Your First Complete Test File

```cpp
#include <gtest/gtest.h>

TEST(MathTest, Addition) {
  int result = 1 + 1;
  EXPECT_EQ(result, 2);
}
```

Compile and run as instructed, then observe the passing test result.

<Tip>
Remember that every test file must include `gtest/gtest.h`, and the `TEST` macro defines an independent test case automatically discovered by the framework.
</Tip>

<Note>
If you prefer working with mocks, consider reading the [Mocking Basics](/overview/core-concepts/mocking-basics) documentation next.
</Note>
