---
title: "Troubleshooting Common Setup Issues"
description: "Addresses the most frequent roadblocks in installation and first useâ€”such as build errors, missing dependencies, and linking problems. Offers actionable tips and pointers to community support resources, so users can quickly resolve setup frustrations."
---

# Troubleshooting Common Setup Issues

This page helps you quickly identify and resolve frequent problems encountered during the installation, configuration, and initial use of GoogleTest and GoogleMock. It covers build errors, dependency issues, and linking problems, providing practical tips and directions to community resources for fast recovery.

---

## Common Setup Problems & How to Fix Them

### 1. Build Failures During Compilation

**Symptoms:**
- Compiler errors referencing missing headers like `<gtest/gtest.h>` or `<gmock/gmock.h>`.
- Undefined symbols referencing GoogleTest or GoogleMock functions.

**Solutions:**
- **Check Include Paths:** Make sure your compiler is configured with the correct include directories pointing to the GoogleTest source or installed headers.
- **Link Libraries:** Ensure your build links against `gtest` and `gmock` libraries (and `gtest_main` if needed).
- **Use Supported Compilers and Flags:** Confirm your compiler version and flags meet [prerequisites](https://github.com/google/googletest/blob/main/docs/getting-started/setup-installation/prerequisites-requirements.md).
- **Review Build System Integration:** If using CMake or Bazel, follow platform-specific [installation guides](https://github.com/google/googletest/blob/main/docs/getting-started/setup-installation/installing-standard-platforms.md) carefully.

---

### 2. Linking Errors

**Symptoms:**
- Linker errors about unresolved symbols from GoogleTest or GoogleMock.

**Solutions:**
- Link with `-lgtest`, `-lgmock`, and optionally `-lgtest_main`.
- Ensure the library paths (`-L`) include the directories where these libraries reside.
- Confirm consistent static or shared linking settings for all components.
- When integrating, verify your build scripts properly list GoogleTest libraries as dependencies.

---

### 3. Missing Dependencies or Required Compiler Features

**Symptoms:**
- Errors about missing C++11 support or incompatible compiler versions.
- Build fails due to absent third-party libraries.

**Solutions:**
- Verify your platform and compiler version comply with [compiler requirements](https://github.com/google/googletest/blob/main/docs/getting-started/setup-installation/prerequisites-requirements.md#compiler-requirements).
- Make sure third-party dependencies are installed and accessible.
- Adjust your compiler flags as recommended (e.g., enable C++11 with `-std=c++11` or higher).

---

### 4. Unexpected Test Failures on First Run

**Symptoms:**
- Tests fail despite following the tutorial.
- Errors related to expectations or mock behavior.

**Solutions:**
- Confirm you have correctly written and linked your tests as per [Writing and Running Your First Test](https://github.com/google/googletest/blob/main/docs/getting-started/first-test-experience/writing-first-test.md).
- Run with `--gmock_verbose=info` to get detailed mock interaction logs.
- Check for uninitialized mocks or missing `EXPECT_CALL` statements where needed.

---

## Practical Tips and Best Practices

- **Set Expectations Before Calls**: Always declare `EXPECT_CALL` before exercising any mock method (to avoid undefined behavior).
- **Use `ON_CALL` for Default Behavior**: Use `ON_CALL` to specify default mock method behavior without setting call expectations.
- **Be Mindful of Matchers and Times**: Carefully specify matchers to avoid overspecification; set meaningful cardinalities with `Times()`.
- **Suppress Uninteresting Call Warnings**: Use `NiceMock` to suppress warnings about uninteresting calls when appropriate.
- **Verify Setup with Sample Tests**: Confirm your setup by compiling and running a basic test as detailed in the [Quick Validation & Sanity Checks](https://github.com/google/googletest/blob/main/docs/getting-started/first-test-experience/quick-validation.md).

---

## Troubleshooting Tools

- **Verbose Logging**: Run tests with `--gmock_verbose=info` to trace mock calls, their matches, and expectations.
- **Heap Checker**: Enable heap checking to detect leaked mocks, ensuring all mocks are correctly destroyed.
- **Consult Compiler and Linker Output**: Read build logs carefully for clues on missing includes or library paths.

---

## Where to Get Help

- **Official Documentation**:
  - [GoogleTest Primer & Tutorials](https://github.com/google/googletest/blob/main/docs/getting-started/first-test-experience/writing-first-test.md)
  - [gMock Cookbook](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md)
  - [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md)

- **Community Support**:
  - GitHub Issues: Report setup or build problems at the [GoogleTest GitHub repository](https://github.com/google/googletest/issues)
  - Stack Overflow: Use tags [googletest] and [googlemock] for questions

- **Common Flags**:
  - `--gmock_verbose=info|warning|error`: Control logging verbosity
  - `--gmock_catch_leaked_mocks=1`: Enable detection of leaked mocks

---

## Summary

Keeping a clean, properly linked environment with supported compilers and correct GoogleTest/GoogleMock integration resolves most setup issues. Use diagnostic flags and follow incremental validation to isolate problems swiftly.

---

## Additional Resources

| Topic | Link |
|---------|-------|
| Prerequisites & Requirements | [prerequisites-requirements.md](https://github.com/google/googletest/blob/main/docs/getting-started/setup-installation/prerequisites-requirements.md) |
| Installation on Platforms | [installing-standard-platforms.md](https://github.com/google/googletest/blob/main/docs/getting-started/setup-installation/installing-standard-platforms.md) |
| Configuration Basics | [configuration-basics.md](https://github.com/google/googletest/blob/main/docs/getting-started/setup-installation/configuration-basics.md) |
| Writing Your First Test | [writing-first-test.md](https://github.com/google/googletest/blob/main/docs/getting-started/first-test-experience/writing-first-test.md) |
| Quick Validation & Sanity Checks | [quick-validation.md](https://github.com/google/googletest/blob/main/docs/getting-started/first-test-experience/quick-validation.md) |
| gMock Cookbook | [gmock_cook_book.md](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md) |

---

## Troubleshooting Checklist

- Confirm include paths and library links.
- Validate compiler compatibility and flags.
- Use `ON_CALL` and `EXPECT_CALL` correctly.
- Enable verbose logging to trace issues.
- Verify your first test runs as expected.
- Consult documentation or community resources if stuck.

---