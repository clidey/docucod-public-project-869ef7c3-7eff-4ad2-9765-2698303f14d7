---
title: "Validating Your Setup"
description: "A checklist and troubleshooting guide to ensure your installation and first test ran correctly. Provides steps to check your environment, interpretation of common errors, and pointers to further help resources."
---

# Validating Your Setup

This page provides a practical checklist and troubleshooting guide to ensure your GoogleTest installation and your first test run correctly. It helps you verify your environment, interpret common error messages, and points to additional resources for assistance.

---

## 1. Essential Environment Checks

Before you run your first test, confirm that your setup meets all the necessary conditions:

- **Verify Compiler Compatibility**: Ensure your compiler version meets GoogleTest's requirements (see [Prerequisites & Supported Platforms](/getting-started/setup-requirements/prerequisites) for details).
- **Confirm Build and Linkage**: Your project must properly link with `gtest` and `gmock` libraries. If using `gtest_main`, the default main() is provided.
- **Check CMake or Bazel Integration**: Make sure your build files include GoogleTest as described in installation guides (e.g., [Installing on Linux/macOS](/getting-started/installation-guides/linux-macos-install) or [Using Bazel for Build & Test](/getting-started/installation-guides/bazel-integration)).
- **Review Environment Variables**: Confirm no conflicting environment variables interfere with your test execution.

<Tip>
Running your build and link commands with verbose flags (e.g., `VERBOSE=1` for CMake) helps reveal any linkage or dependency problems early.
</Tip>

---

## 2. Running Your First Test

Once your environment is prepared, attempt running your test executable. Here's what to do:

<Steps>
<Step title="Initialize and Run Tests">
Invoke `RUN_ALL_TESTS()` in your `main()` function or link against `gtest_main` to automatically provide main().

```cpp
int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Ensure this function is called before running tests.
</Step>
<Step title="Execute the Test Binary">
Run the compiled test binary from your command line or IDE.

Expected behavior:

- Tests will run sequentially.
- Output will indicate passed and failed tests.
</Step>
<Step title="Interpret Output">
Look for:

- `PASSED` messages indicating successful tests.
- Failure messages highlighted with file and line numbers.

If the test binary fails to run, confirm your system path and dependencies.
</Step>
</Steps>

<Check>
If your test does not run or crashes immediately, check for build or runtime errors as detailed in the troubleshooting section below.
</Check>

---

## 3. Common Errors and How to Diagnose Them

This section outlines typical issues you may encounter during validation and solutions.

### Build and Link Errors

- **Undefined References**: Often caused by missing linkage to `gtest` or `gmock`.
  - *Solution*: Confirm you link your test executable with `-lgtest -lgmock` (or relevant static libraries).
- **Runtime Library Mismatch** (Windows): Occurs if CRT linkage differs between your code and GoogleTest.
  - *Solution*: Build GoogleTest with the same runtime as your project (see platform-specific guides).

### Test Failures Immediately After Running

- **Failure: Tests Not Found or Skipped**
  - *Cause*: Tests might not be registered properly.
  - *Solution*: Ensure `TEST()` or `TEST_F()` macros are used and your test files are linked.

- **Uninteresting Mock Function Call Warnings**
  - *Cause*: A mock method was called without any expectations set.
  - *Solution*: Set expectations using `EXPECT_CALL()` or use `NiceMock` to suppress warnings.
  - Use `--gmock_verbose=info` to trace mock calls for insight.

### Unexpected Test Behavior

- **Tests Always Passing or Failing Unexpectedly**
  - *Cause*: Missing `RUN_ALL_TESTS()` call or improper initialization.
  - *Solution*: Verify your `main()` calls `testing::InitGoogleTest()` and `RUN_ALL_TESTS()` exactly once.

- **Crash in Destruction of Mock Objects**
  - *Cause*: Base classes lack virtual destructors.
  - *Solution*: Add a virtual destructor to all base classes used by mocks.

---

## 4. Tips for Effective Validation

- **Use Verbose Output**
  Run your test executable with:

  ```shell
  ./your_test_binary --gmock_verbose=info --gtest_repeat=1
  ```

  This logs detailed mock call information and test execution flow.

- **Verify Default Actions for Mock Methods**
  If a mock method returns a value but you have not specified a return action, GoogleTest provides a default. Confirm this matches your test's needs or set explicit `ON_CALL` or `EXPECT_CALL` actions.

- **Check Call Ordering if Sequence Matters**
  Use `InSequence` or `After` clauses to enforce call order in mocks and ensure your setup respects these constraints.

- **Run Tests One by One**
  Use `--gtest_filter=TestSuiteName.TestName` to isolate and debug specific tests.

---

## 5. Where to Go From Here

- For detailed installation problems, consult [Installation Overview](/getting-started/setup-requirements/installation-overview) and platform-specific guides.
- To learn how to write and run tests, including setting up project files, see [Writing & Running Your First Test](/getting-started/first-test-experience/writing-your-first-test) and [Project Setup & Configuration](/getting-started/first-test-experience/project-setup).
- For understanding and using mocks effectively, see the [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) and [Mocking Reference](/api-reference/mocking-apis/mock-class-definition).
- If you face specific issues, explore the [Troubleshooting & Best Practices FAQ](/faq/troubleshooting-and-best-practices/build-and-link-errors).
- Get help from the community or report issues at the [Support & Community Resources](/faq/support-and-community/where-to-get-help).

---

## 6. Troubleshooting Quick Reference

<AccordionGroup title="Common Issues">
<Accordion title="Build fails with undefined references to gtest or gmock">
Verify your linker flags include `-lgtest -lgmock` or equivalent static libs.
Check your CMake or Bazel build files for correct GoogleTest target dependencies.
</Accordion>

<Accordion title="Test executable runs but no tests execute">
Ensure all test files are linked and contain valid `TEST()` / `TEST_F()`.
Confirm `RUN_ALL_TESTS()` runs in your `main()`.
</Accordion>

<Accordion title="Warnings about uninteresting mock calls">
Set expectations on the called mock methods using `EXPECT_CALL()`.
Suppress warnings using `NiceMock` when appropriate.
Use `--gmock_verbose=info` to understand mock call patterns.
</Accordion>

<Accordion title="GoogleMock complains about missing virtual destructors">
Add virtual destructors to all polymorphic base classes you intend to mock.
Ensure destructors are `virtual` to prevent memory leaks and undefined behavior.
</Accordion>

<Accordion title="Tests fail or crash unexpectedly">
Run with `--gtest_repeat=1` and `--gmock_verbose=info` to get detailed tracing.
Check your test setup for exception safety and memory issues.
</Accordion>
</AccordionGroup>

<Note>
Problems not resolved here can often be solved by ensuring your system matches prerequisites and reviewing build configurations. Always consult platform-specific guides for details.
</Note>

---

## 7. Additional Resources

- [GoogleTest Primer](docs/primer.md) — Learn the basics of writing tests
- [GoogleMock for Dummies](googlemock/README.md) — Understand mocking concepts and usage
- [Mocking Reference](docs/reference/mocking.md) — Comprehensive mock API
- [GoogleTest Troubleshooting FAQ](/faq/troubleshooting-and-best-practices/build-and-link-errors)
- [Community Support](https://github.com/google/googletest/issues) — Report issues or get help

---

## Summary Diagram

```mermaid
flowchart TD
  A[Start Test Setup] --> B[Check Compiler & Build Tools]
  B --> C{Is environment ready?}
  C -->|No| D[Fix Environment Issues]
  D --> B
  C -->|Yes| E[Build/Link GoogleTest & Mocks]
  E --> F{Build Success?}
  F -->|No| G[Review build/link errors]
  G --> E
  F -->|Yes| H[Write Your First Test or Use Sample]
  H --> I[Run Test Executable]
  I --> J{Did tests run?}
  J -->|No| K[Verify test discovery & RUN_ALL_TESTS()]
  K --> I
  J -->|Yes| L{Failures or Warnings?}
  L -->|Yes| M[Review error messages and fix]
  M --> H
  L -->|No| N[Setup Validated - Proceed]
```

---

<Tip>
Use the above flow to systematically verify and fix your setup before progressing to writing extensive tests.
</Tip>
