---
title: "Writing and Running Your First Test"
description: "Leads users through creating a simple test file, compiling it, running it, and interpreting the results. Provides a concrete confidence milestone: a passing (or intentionally failing) test."
---

# Writing and Running Your First Test

This guide walks you through creating your first test with GoogleTest, compiling and running it, and understanding the test output. Completing this tutorial confirms that GoogleTest is correctly installed and configured, laying a solid foundation for writing more comprehensive tests.

---

## 1. Create Your First Test File

Start by writing a simple C++ test file that uses GoogleTest's testing macros. This example tests a trivial scenario that is expected to pass.

Create a file named `sample_test.cc` and add the following code:

```cpp
#include <gtest/gtest.h>

// A simple test case named ExampleTest with a test named BasicAssertion.
TEST(ExampleTest, BasicAssertion) {
  // Verify that true is true.
  EXPECT_TRUE(true);
}
```

> **Tip:** Save the file in your project's test directory or workspace where you build your tests.

---

## 2. Compile the Test Program

To compile your test, you must link against the GoogleTest library. The exact commands vary depending on your build tool, but here's a simple example using `g++` and assuming GoogleTest is installed and available.

```bash
# Compile sample_test.cc with GoogleTest headers and link to gtest library
# Adjust include and library paths as necessary.
g++ -std=c++17 -isystem /usr/local/include -pthread sample_test.cc \
    -L/usr/local/lib -lgtest -lgtest_main -o sample_test
```

### Key points:
- The `-std=c++17` flag specifies the required C++ standard.
- The `-isystem` flag points to the location of GoogleTest headers.
- The `-pthread` flag enables threading support.
- Link with `-lgtest` and `-lgtest_main`, which provides a main()

> **Warning:** Paths may differ depending on your system and installation method. Adjust accordingly or use your build system (CMake, Bazel) to handle this.

---

## 3. Run the Test Executable

Once compiled, run your test binary:

```bash
./sample_test
```

### Expected output on success:

```none
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.BasicAssertion
[       OK ] ExampleTest.BasicAssertion (0 ms)
[----------] 1 test from ExampleTest ran. (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This output shows the hierarchical test structure, the test that ran, its status, and the run time.

---

## 4. Interpret Your Test Results

- **[       OK ]** means the test passed successfully.
- If an assertion fails, you will see a failure message including the file and line number.
- A summary at the end reports the number of tests run, passed, and failed.

> **Example failure message:**
>
> ```none
> sample_test.cc:6: Failure
> Expected: true
> Actual: false
> ```

Failing tests are reported with details to help you quickly diagnose issues.

---

## 5. Running a Failing Test Example

To see the behavior when a test fails, modify the previous test as follows:

```cpp
TEST(ExampleTest, Fails) {
  EXPECT_EQ(1, 2) << "This test intentionally fails.";
}
```

Recompile and run `sample_test`. You will see output like:

```none
[ RUN      ] ExampleTest.Fails
sample_test.cc:8: Failure
Expected equality of these values:
  1
  2
This test intentionally fails.
[  FAILED  ] ExampleTest.Fails (0 ms)
```

This confirms GoogleTest correctly reports failed assertions and provides useful diagnostics.

---

## 6. Best Practices and Tips

- **Use meaningful test and suite names.** Test suite names group related tests; test names indicate the scenario or behavior.
- **Use EXPECT_ macros for non-fatal checks**; this allows multiple assertions to run within a test, showing multiple failures.
- **Use ASSERT_ macros when a failure should abort the current test function immediately.**
- **Keep tests independent and isolated** for reliability and easier debugging.
- **Stream custom failure messages** using `<<` to provide context on assertion failures.

---

## 7. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting First Test Failures">
<Accordion title="Test Does Not Compile">
Check that GoogleTest headers are correctly included and your compile flags properly set:
- Confirm the `-isystem` path points to the installed GoogleTest headers.
- Ensure you link with `-lgtest` and `-lgtest_main` if your test program requires a main function.
</Accordion>
<Accordion title="Runtime Errors or Missing Main">
If your test executable does not run or complains about missing `main()`:
- Link to `gtest_main` library, which provides `main()`.
- Alternatively, define your own `main()` as described in the Getting Started guide.
</Accordion>
<Accordion title="Test Fails Unexpectedly">
- Inspect failure messages carefully to determine cause.
- Check test logic and assertions.
- Verify that your test environment setup is correct.
</Accordion>
</AccordionGroup>

---

## 8. Next Steps

- Write more tests using the richer set of assertions described in the [Assertions Reference](../../reference/assertions.md).
- Explore test fixtures with `TEST_F` for shared setup/teardown.
- Learn how to run subsets of tests and use filters.
- Check out value-parameterized tests with `TEST_P` and `INSTANTIATE_TEST_SUITE_P` for data-driven testing.
- Explore [GoogleTest Primer](../../docs/primer.md) for foundational concepts.

---

## Additional Resources

- [GoogleTest Primer](../../docs/primer.md) - Concepts and introductory guide
- [Assertions Reference](../../reference/assertions.md) - Complete listing of assertion macros
- [Advanced GoogleTest Topics](../../docs/advanced.md) - Advanced features and test idioms
- [INSTANTIATE_TEST_SUITE_P Reference](../../reference/testing.md#INSTANTIATE_TEST_SUITE_P) - Parameterized test instantiation

---

Start with this simple workflow to build confidence and quickly verify your GoogleTest setup. Once your first tests run reliably, you can unlock the full power of the framework to build robust automated tests for your project.
