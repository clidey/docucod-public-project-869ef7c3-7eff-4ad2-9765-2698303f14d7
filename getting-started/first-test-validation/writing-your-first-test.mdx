---
title: "Writing Your First Test"
description: "A beginner-friendly walkthrough of creating your first basic test case. Includes a minimal code sample, an explanation of the syntax, and maps each concept to the framework's files."
---

# Writing Your First Test

Welcome to GoogleTest! This guide walks you through creating your very first basic test case using the GoogleTest framework. You'll see a minimal example, understand the essential syntax, and learn how concepts in the code relate to actual files in the framework.

---

## 1. Overview

GoogleTest is a C++ testing framework that helps you write reliable, repeatable, and structured tests. At its core, tests consist of assertions verifying your code's behavior. Writing your first test is about creating these assertions in a well-defined format inside test functions.

This guide is designed for beginners who want to:

- Understand how to write a simple test function
- Learn the syntax conventions for test suites and test names
- Map the concepts to the underlying framework source files

## 2. The Test Structure

Every test in GoogleTest is defined using the `TEST` macro, which declares a test function within a test suite. The test suite groups related tests under a shared name for better organization.

### Minimal Example

```cpp
// Include the GoogleTest header to use its testing features
#include <gtest/gtest.h>

// Define a test suite named MathTest, and within it a test named HandlesZeroInput
TEST(MathTest, HandlesZeroInput) {
  // An assertion to check that Factorial(0) returns 1
  EXPECT_EQ(Factorial(0), 1);
}
```

### Explanation

- `TEST(TestSuiteName, TestName)`: Defines a test function inside the suite. Neither name should contain underscores.
- Inside the test body, you write assertions like `EXPECT_EQ` to verify conditions.
- If any assertion fails, the test fails.

### Important Naming Rules

- Test suite and test names must be valid C++ identifiers without underscores.
- Tests from different suites can share the same test name.

## 3. Writing Your First Test Step-by-Step

Follow these clear steps to write and run your first test case:

### Step 1: Set Up Your Source File

Create a new C++ source file, say `factorial_test.cpp`.

### Step 2: Include GoogleTest Header

At the top of your file, include the testing API header:

```cpp
#include <gtest/gtest.h>
```

This gives you access to `TEST` and assertion macros.

### Step 3: Implement the Function to Test (Optional)

If your function under test isnâ€™t yet implemented elsewhere, define it for testing:

```cpp
int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n - 1);
}
```

### Step 4: Define a Test Suite and Test Case

Use the `TEST` macro with a clear suite and test case name:

```cpp
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}
```

Here, `FactorialTest` is the suite name grouping related tests, and `HandlesZeroInput` describes the test.

### Step 5: Add More Tests

Expand the coverage with additional cases:

```cpp
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

### Step 6: Write a Main Function to Run Tests

The simplest way is to link with `gtest_main` which provides `main()` for you. Alternatively, write your own:

```cpp
int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Step 7: Build Your Test Executable

Compile your test file, linking with GoogleTest libraries. For CMake projects, GoogleTest provides instructions (see [googletest/README.md](https://github.com/google/googletest/blob/main/googletest/README.md)).

### Step 8: Run Your Tests

Execute the compiled test binary. You should see output indicating how many tests ran and their pass/fail status.

## 4. Understanding the Syntax

### The `TEST` Macro

- Defines a **test function** without parameters.
- First argument: the **test suite name** (groups related tests).
- Second argument: the **test name** within that suite.

Example:

```cpp
TEST(MySuite, DoesThisWork) {
  // test code
}
```

### Assertions

- Macros like `EXPECT_EQ`, `ASSERT_TRUE`, etc., check conditions.
- `EXPECT_*` records a non-fatal failure and continues.
- `ASSERT_*` records a fatal failure and aborts the current function.

### Naming Conventions

- Suites and tests should be descriptive, concise, and avoid underscores.
- Names must be valid C++ identifiers.

## 5. Mapping Concepts to Framework Files

Your test and the GoogleTest framework interact as follows:

| Concept                | File(s) in googletest Source                                          |
|------------------------|----------------------------------------------------------------------|
| `TEST` macro           | `include/gtest/gtest.h` (macro definitions and API declarations)      |
| Assertions (`EXPECT_EQ`) | `include/gtest/gtest.h` and underlying helpers in `gtest-internal.h` |
| Test runner (`RUN_ALL_TESTS`)  | Defined in `include/gtest/gtest.h` calling into internal classes    |

When you write a test using `TEST`, GoogleTest registers it internally before execution.

## 6. Practical Tips

- Use descriptive test suite and test names to make outputs meaningful.
- Group logically related tests into the same suite to allow future sharing of fixtures.
- Use `EXPECT_*` for non-fatal checks that do not abort the test.
- Use `ASSERT_*` when the subsequent test steps depend on the assertion.
- Avoid underscores in names to prevent internal naming collisions.
- Link with `gtest_main` to avoid writing your own `main()` when possible.

## 7. Common Pitfalls

- Forgetting to call `::testing::InitGoogleTest` before `RUN_ALL_TESTS()` may prevent tests from running properly.
- Ignoring the return value of `RUN_ALL_TESTS()` lets the process exit with success even if tests fail.
- Using underscores in test or suite names can cause issues due to internal macro expansions.
- Using `ASSERT_*` in non-void-returning functions results in compile errors.

## 8. Troubleshooting

### Tests Do Not Run

- Confirm `InitGoogleTest` is called with proper `argc` and `argv` before `RUN_ALL_TESTS()`.
- Verify that tests are linked into your test executable.

### Compile Errors About Missing Default Constructor

- Ensure your test fixture class has a public default constructor if using `TEST_F`.

### Naming Conflicts or Duplicate Test Names

- Avoid using underscores in test and suite names.
- Use unique names within the same test suite.

## 9. Next Steps

After you have written your first basic tests:

- Explore [Test Fixtures](../primer.md#same-data-multiple-tests) to reuse setup logic.
- Learn about [Assertions and Failures](../api-reference/gtest-api/assertions-and-failures) for more verification power.
- Understand [Parameterized and Typed Tests](../api-reference/gtest-api/parameterized-and-typed-tests) to cover multiple input cases.
- Check the [GoogleTest Primer](../docs/primer.md) for a more in-depth tutorial.

---

# Summary
Writing your first test with GoogleTest is about understanding how to use the `TEST` macro to group assertions inside named suites and test cases. This guide provided a clear path from minimal example code to practical usage, perfect for those starting with the framework. The syntax and naming conventions, along with mapping to framework files and troubleshooting guidance, prepare you to move confidently toward building effective C++ tests.

---

_For detailed build and integration steps, refer to the [googletest/README.md](https://github.com/google/googletest/blob/main/googletest/README.md). For advanced usage, see the [Testing Reference](../docs/reference/testing.md)._
