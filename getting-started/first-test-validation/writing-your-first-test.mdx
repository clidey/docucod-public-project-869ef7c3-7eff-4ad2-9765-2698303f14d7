---
title: "Writing Your First Test"
description: "Introduces the process for writing a basic test case using GoogleTest's xUnit-style syntax, with a simple, concrete example. Highlights assertion usage and structuring a test file."
---

# Writing Your First Test

Welcome to your first step in mastering GoogleTest, the leading C++ testing framework. This guide walks you through writing a basic test case using GoogleTest's familiar xUnit-style syntax, enabling you to quickly validate your code and understand assertion usage.

---

## 1. Understand the Purpose

Writing your first test helps you establish a foundation for automated verification of your C++ code’s correctness. GoogleTest’s simple and expressive macros allow you to define test suites and tests that run independently and report detailed results.

---

## 2. Prerequisites for Writing Tests

- Ensure GoogleTest is installed and properly set up in your build environment. Refer to the [Installation Methods](../../getting-started/setup-intro/installation-methods) guide for setup instructions.
- Include the GoogleTest header in your test source file:

  ```cpp
  #include <gtest/gtest.h>
  ```

- Basic familiarity with C++ function syntax and macros is helpful.

---

## 3. Create a Simple Test Case

GoogleTest uses the `TEST(TestSuiteName, TestName)` macro to define a test. Each test consists of plain C++ statements with assertions to validate expected behavior.

### Step-by-Step Example

1. **Define the test suite and test name**: Pick names without underscores for clarity and to avoid naming conflicts.
2. **Include assertions**: Use assertions such as `EXPECT_EQ` to check conditions.

```cpp
// Define a test suite named FactorialTest with a test called HandlesZeroInput
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);  // Checks that Factorial(0) returns 1
}

// Another test in the same suite
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

### Explanation

- `TEST` macro creates a function for each test.
- Test names appear in test reports as `TestSuiteName.TestName` (e.g., `FactorialTest.HandlesZeroInput`).
- Assertions such as `EXPECT_EQ` verify conditions and record failures without aborting the test.

<Note>
Test suites group logically related tests, helping with organization and reporting.
</Note>

---

## 4. Understand Assertions

- Use `EXPECT_*` macros for nonfatal failures that let tests continue.
- Use `ASSERT_*` macros to abort the current test function on failure.

Example:

```cpp
EXPECT_EQ(value, expected) << "Value mismatch detected";
ASSERT_TRUE(pointer != nullptr) << "Pointer must not be null";
```

See the [Assertions Reference](../../docs/reference/assertions.md) for a complete list.

---

## 5. Compile and Run Your Test

### Compile

Include your test source file in your build targeting GoogleTest libraries (`gtest` or `gtest_main`).

- If using CMake, link your test executable with `gtest_main` for an auto-generated main function.
- Example compile command (assuming g++ and gtest installed):

```bash
g++ -std=c++17 -I/path/to/gtest/include -L/path/to/gtest/lib my_test.cc -lgtest_main -lgtest -pthread -o my_test
```

### Run

Run the compiled test binary:

```bash
./my_test
```

GoogleTest will discover all tests declared with `TEST()` macros and run them automatically.

You will see output indicating which tests passed or failed.

---

## 6. Interpreting Test Output

An example passed test output looks like:

```
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

On failure, GoogleTest prints the file and line where the assertion failed and a detailed message.

---

## 7. Best Practices and Tips

- Avoid underscores in test suite and test names to prevent naming conflicts, as described in [FAQ - Why should test suite names and test names not contain underscore?](../../docs/faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore)
- Use `ASSERT_*` when a failure means the test cannot meaningfully continue, otherwise prefer `EXPECT_*`.
- Name test suites to reflect the class or module being tested.
- Write focused tests that check a single aspect to simplify failure investigation.

---

## 8. Common Pitfalls

- Forgetting to link with GoogleTest libraries can cause compile or link errors.
- Ignoring the return value of `RUN_ALL_TESTS()` in your main function causes the test framework not to report failures correctly.

  ```cpp
  int main(int argc, char **argv) {
    testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();  // Always return this value
  }
  ```

- Misspelling `SetUp()` as `Setup()` in fixtures.

---

## 9. Next Steps

- Explore writing test fixtures to share setup for multiple tests: [Test Fixtures](../../docs/primer.md#same-data-multiple-tests)
- Learn about assertions in detail: [Assertions Reference](../../docs/reference/assertions.md)
- Understand building and running tests: [Building and Running Tests](../../getting-started/first-test-validation/building-and-running-tests)

---

### Additional Resources

- [GoogleTest Primer](../../docs/primer.md) for an in-depth introduction
- [Test Structure & Lifecycle](../../api-reference/core-testing-apis/test-structure-and-lifecycle) for lifecycle details
- Official GoogleTest repository: [https://github.com/google/googletest](https://github.com/google/googletest)

---

Welcome to the GoogleTest community! As you write your first tests, remember that practice is key. Each test you write strengthens your confidence and brings robustness to your code base.
