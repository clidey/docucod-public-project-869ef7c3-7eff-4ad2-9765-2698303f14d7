---
title: "Writing and Running Your First Test"
description: "Guides users through creating a basic test file using GoogleTest's core macros. Explains how to compile, run, and interpret test output. Includes usage of main entry points and demonstrates simple assertions in a minimal viable example."
---

# Writing and Running Your First Test

Welcome to your first hands-on experience with GoogleTest! This guide will take you step-by-step through creating a simple test file with GoogleTest's core macros, compiling it, running the test, and understanding the output. You'll write a minimal viable test, learn how to use the test's main entry points, and see how simple assertions verify your code’s behavior.

---

## 1. Prepare Your First Test File

Your journey begins with a plain C++ source file where you'll write your first test. Typically, this file has a `.cc` or `.cpp` extension.

### Step 1.1: Include the GoogleTest Header

Start by including the GoogleTest header that provides all essential testing macros and functionality:

```cpp
#include <gtest/gtest.h>
```

### Step 1.2: Write a Simple Test Case

Use the `TEST` macro to define your first test. The `TEST` macro takes two arguments: a test suite name, and a test name. These should be valid C++ identifiers, typically written without underscores.

Here's the minimal test you can write:

```cpp
TEST(ExampleTest, BasicAssertions) {
  // Use assertions to verify expected conditions.
  EXPECT_EQ(7 * 6, 42);  // This will succeed
  EXPECT_NE(7 * 6, 41);  // This will succeed
}
```

- `EXPECT_EQ` checks if the two values are equal.
- `EXPECT_NE` checks if they are not equal.

If either of these assertions fail, GoogleTest will report it.

<Tip>
Remember that assertions starting with `EXPECT_` are non-fatal: the test continues even if they fail. Use `ASSERT_` variants if you need to abort early on failure.
</Tip>

---

## 2. Compile Your Test Program

To run your test, you need to compile your test source file against the GoogleTest library.

### Step 2.1: Use Your Build Tool

You can compile your file using your preferred method. Here’s an example using `g++`:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include -pthread your_test.cc /path/to/libgtest.a -o your_test
```

Replace `/path/to/googletest/include` and `/path/to/libgtest.a` with the actual paths to your GoogleTest installation.

If you are using CMake or Bazel, follow the instructions in the installation guides before this step.

### Step 2.2: Linking Note

Make sure to link against the pthread library (`-pthread`) as GoogleTest uses threading.

<Note>
If you are unsure where GoogleTest is installed, refer to the documentation page 'Installing with CMake' or 'Installing with Bazel' for detailed instructions.
</Note>

---

## 3. Run Your Test Executable

After compiling, you get a test executable which you can run directly:

```bash
./your_test
```

You will see the test output informing you about the execution of your test:

```shell
Running main() from .../gtest_main.cc
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.BasicAssertions
[       OK ] ExampleTest.BasicAssertions (0 ms)
[----------] 1 test from ExampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This output confirms that your test ran successfully.

<Tip>
If your test fails, the output will highlight the failure with file, line number, and a message showing the expected vs actual values.
</Tip>

---

## 4. How the Test Runs: Understanding the Main Entry Points

GoogleTest provides a default main function in the `gtest_main` library. If you need to write your own (uncommon), use the following pattern:

```cpp
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- `InitGoogleTest` initializes internal GoogleTest state and parses command line flags.
- `RUN_ALL_TESTS` runs all registered tests and returns zero when all pass.

When linking, ensure you link your test with `gtest_main` if you don't provide your own `main`.

<Note>
You should call `RUN_ALL_TESTS()` only once per execution.
</Note>

---

## 5. Make More Complex Assertions (Optional Introduction)

GoogleTest provides many assertion macros beyond `EXPECT_EQ` and `EXPECT_NE`. Examples include:

- `EXPECT_TRUE(condition)`: Verify boolean condition true
- `EXPECT_FALSE(condition)`: Verify boolean condition false
- `EXPECT_LT(a, b)`: Assert a < b
- `EXPECT_LE(a, b)`: Assert a <= b
- `EXPECT_GT(a, b)`: Assert a > b
- `EXPECT_GE(a, b)`: Assert a >= b

You can even supply custom messages with `<<`:

```cpp
EXPECT_EQ(Factorial(3), 6) << "Factorial of 3 should be 6.";
```

For full list and details, see the [Assertions Reference](../reference/assertions.md).

---

## 6. Troubleshooting Common Issues

### Compilation Errors

- **Missing header**: Ensure the GoogleTest headers are correctly included with `#include <gtest/gtest.h>`.
- **Linker errors**: Confirm that the GoogleTest (and optionally gtest_main) library is linked.

### Tests Not Running Or Found

- Confirm test functions use the `TEST` or `TEST_F` macro correctly.
- Ensure no typos in suite or test names (C++ identifiers).

### Tests Fail Unexpectedly

- Carefully read failure messages: they include line numbers and expected vs actual values.
- Make sure you do not call tested code that depends on uninitialized data.

<Tip>
Run your test executable with `--gtest_filter=*` to run all tests or a specific one.
</Tip>

---

## 7. Next Steps

- Write additional tests using the same pattern.
- Group related tests using test fixtures (`TEST_F`).
- Explore the rich set of [GoogleTest Assertions](../reference/assertions.md).
- Integrate GoogleMock for mocking dependencies if needed. See: [Mocking for Dummies](../docs/gmock_for_dummies.md).
- Consult Installation Verification guide to ensure your environment is set up correctly.

---

### Example: Complete Minimal Test Program

```cpp
#include <gtest/gtest.h>

TEST(ExampleTest, BasicAssertions) {
  EXPECT_EQ(7 * 6, 42);
  EXPECT_NE(7 * 6, 41);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This program compiles and runs your first test, verifying simple multiplication results.

---

For further learning, explore the following related documentation sections within the Getting Started tab:

- [System Requirements](/getting-started/prerequisites-installation/system-requirements): Learn about the environment and dependencies needed.
- [Installing with CMake](/getting-started/prerequisites-installation/install-cmake): How to install GoogleTest if you haven't.
- [Verifying Your Installation](/getting-started/first-test-validation/installation-verification): Steps to confirm your setup.
- [Configuring GoogleTest](/getting-started/configuration-troubleshooting/configuration-basics): Customize your test project settings.

<Tip>
Practice writing and running simple tests as shown here before moving on to advanced testing techniques.
</Tip>
