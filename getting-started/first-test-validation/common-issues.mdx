---
title: "Troubleshooting Setup Issues"
description: "Helps users quickly resolve common installation and configuration problems, such as missing dependencies, compiler errors, or test failures during initial setup. Empowers users with actionable solutions and key diagnostic tips."
---

# Troubleshooting Setup Issues

This guide helps you quickly resolve common problems encountered during the installation and initial configuration of GoogleTest and GoogleMock. It addresses missing dependencies, compiler errors, linking issues, and test failures you might encounter when setting up your testing environment.

---

## 1. Common Installation Problems and Solutions

### Missing Dependencies or Tools
- **Problem:** The build fails due to missing C++ compiler support or build tools like CMake or Bazel.
- **Solution:**
  1. Verify your compiler supports at least **C++17** standards.
  2. Confirm you have the required build tools installed:
     - For CMake `>=3.10`, confirm with `cmake --version`.
     - For Bazel, ensure proper installation according to your platform.
  3. Verify that your system PATH includes these tools.

### Incompatible or Old Compiler
- **Problem:** Compiler errors indicating unsupported language features or standard headers.
- **Solution:**
  - Upgrade your compiler to a recent version supporting C++17 or later.
  - Consult [System Requirements & Prerequisites](/getting-started/prerequisites-installation/system-requirements) for supported compilers.

### Linking Errors
- **Problem:** You get linker errors mentioning undefined symbols related to GoogleTest or GoogleMock.
- **Solution:**
  1. Ensure you are linking against the GoogleTest and GoogleMock libraries correctly.
  2. Confirm the linking order places GoogleMock before GoogleTest if both are linked.
  3. If building manually, link with `-lgmock` and `-lgtest` libraries.
  4. When using CMake or Bazel, verify your `CMakeLists.txt` or BUILD files include the correct dependencies.

### Conflicts with Other Versions
- **Problem:** Multiple versions of GoogleTest headers or libraries cause conflicts.
- **Solution:**
  - Clean all build artifacts.
  - Remove or isolate older versions of GoogleTest/GoogleMock from your include and library paths.
  - Use a package manager or vendored copy consistently throughout the project.

## 2. Compiler and Build Troubleshooting Steps

### Step-by-Step Verification

1. **Check Compiler Version:**
   ```bash
   g++ --version   # or clang++ --version
   ```
2. **Confirm C++ Standard Flag:**
   Add `-std=c++17` to your compiler flags explicitly.

3. **Build a Simple Test Program:**
   Create a simple file `test.cc`:
   ```cpp
   #include <gtest/gtest.h>

   TEST(SampleTest, Success) {
     EXPECT_EQ(1, 1);
   }

   int main(int argc, char **argv) {
     ::testing::InitGoogleTest(&argc, argv);
     return RUN_ALL_TESTS();
   }
   ```
   Then compile and link:
   ```bash
   g++ -std=c++17 -isystem <gtest_include_dir> -pthread test.cc \
       <gtest_lib_dir>/libgtest.a <gtest_lib_dir>/libgtest_main.a -o test_executable
   ./test_executable
   ```
4. **Check for Build Output Errors or Warnings.**

### Troubleshooting Common Compiler Errors

| Error Type                         | Cause                                | Tips and Fixes                                  |
|----------------------------------|------------------------------------|------------------------------------------------|
| `undefined reference`             | Linking GoogleTest/GoogleMock libs | Verify correct library paths and linking order |
| `No such file or directory`       | Missing header files                 | Check include directories                       |
| `error: use of deleted function` | Copy or usage of mock objects wrong | Verify mock method signatures and usage        |

## 3. Running and Validating Your First Test

After you successfully build your test executable:

1. Run your tests:
   ```bash
   ./test_executable
   ```
2. The output should look like this:
   ```
   [==========] Running 1 test from 1 test suite.
   [----------] Global test environment set-up.
   [----------] 1 test from SampleTest
   [ RUN      ] SampleTest.Success
   [       OK ] SampleTest.Success (0 ms)
   [----------] 1 test from SampleTest finished (0 ms total)

   [----------] Global test environment tear-down
   [==========] 1 test from 1 test suite ran. (0 ms total)
   [  PASSED  ] 1 test.
   ```

3. If the test does not run, check the following:
   - Are you passing correct command line flags?
   - Is `RUN_ALL_TESTS()` called from `main` after `InitGoogleTest()`?

## 4. Troubleshooting Test Failures During Initial Run

### Tests Link But Fail to Run or Crash
- Possible causes include misconfiguration, runtime environment issues, or incompatible compiler settings.
- Try disabling optimizations and enable debug symbols for better diagnostics.
  - For GCC/Clang: use `-g -O0`

### Test Executable Immediately Fails or No Tests Are Found
- Verify that `RUN_ALL_TESTS()` function is reached and executed.
- Make sure the test code includes the `TEST()` or `TEST_F()` macros.
- Running with `--gtest_list_tests` should reveal registered tests; if empty, tests are missing or not linked.

### Compiler or Linker Warning: Duplicate Symbols or Conflicting Versions
- Clean your build directory and rebuild.
- Avoid linking multiple versions of GoogleTest.
- Ensure that static/shared libraries are consistent.

## 5. Key Diagnostic Tips

- **Use Verbose Mode:**
  Run the test executable with `--gtest_verbose=info` to get detailed logs.
- **List Tests:**
  ```bash
  ./test_executable --gtest_list_tests
  ```
  to confirm tests are registered.
- **Filter Tests:**
  Use `--gtest_filter=TestSuiteName.TestName` to run specific tests.
- **Break On Failure:**
  Use `--gtest_break_on_failure` to stop execution in a debugger at first failure.

## 6. Best Practices and Recommendations

- Always build GoogleTest and GoogleMock with the same compiler and settings as your project.
- Keep GoogleTest headers and libraries in a dedicated location and update project include and library paths accordingly.
- Use supported compilers with C++17 features.
- Use `CMake` or `Bazel` for managing dependencies and building tests to reduce manual errors.
- Regularly run a simple sample test to validate the environment before writing complex tests.

## 7. Additional Resources

- [System Requirements & Prerequisites](/getting-started/prerequisites-installation/system-requirements)
- [Installing with CMake](/getting-started/prerequisites-installation/installation-cmake)
- [Installing with Bazel](/getting-started/prerequisites-installation/installation-bazel)
- [Writing Your First Test](/getting-started/first-test-validation/writing-basic-test)
- [Running Tests](/getting-started/first-test-validation/running-tests)
- [Mocking Reference](docs/reference/mocking.md)

<Tip>
If you encounter persistent or unusual errors, enabling verbose output and systematically isolating the failing components step-by-step is the fastest way to identify root causes.
</Tip>

<Warning>
Do not ignore compiler warnings and linker errors; they often point directly to integration issues needing correction before tests can run reliably.
</Warning>

---

## Sample Minimal CMake Test Setup

Here is a minimal `CMakeLists.txt` snippet to help ensure you have a working GoogleTest setup:

```cmake
cmake_minimum_required(VERSION 3.10)
project(MyTestProject CXX)

enable_testing()

# Fetch GoogleTest externally or locate installed one
find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})

add_executable(my_test test.cc)

target_link_libraries(my_test ${GTEST_LIBRARIES} pthread)

add_test(NAME my_test COMMAND my_test)
```

Replace `test.cc` with your test source file.

## Getting Help

If problems persist, seek help from:

- GoogleTest and GoogleMock [GitHub Issues](https://github.com/google/googletest/issues)
- Community forums and StackOverflow with `googletest` and `gmock` tags
- Review FAQ pages:
  - [Getting Started and Installation Issues](/faq/general-questions/getting-started-issues)
  - [Mocking and Assertion FAQ](/faq/integration-and-optimization/mocking-and-assertion-faq)

---