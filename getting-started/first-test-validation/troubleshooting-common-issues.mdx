---
title: "Troubleshooting Common Setup Issues"
description: "Encounter a snag? Accelerate your path to success with holistic troubleshooting for common setup pitfalls—such as linker errors, missing libraries, or misconfigured build files. Direct links to FAQs and proven solutions reduce friction for new users."
---

# Troubleshooting Common Setup Issues

When integrating GoogleTest and GoogleMock into your development environment, encountering setup issues such as linker errors, missing libraries, or misconfigured build files can stall progress. This guide provides targeted troubleshooting strategies and practical solutions to common obstacles faced during initial setup, helping you rapidly get back on track.

---

## Common Setup Issues and How to Resolve Them

### 1. Linker Errors (Undefined References)

**Problem:** Linker errors indicating undefined references to GoogleTest or GoogleMock symbols.

**Cause:**
- GoogleTest or GoogleMock libraries are not linked correctly.
- Missing source files or libraries in build configuration.

**Solutions:**
- Verify that your build system (CMake, Bazel, or others) includes GoogleTest and GoogleMock targets or libraries properly.
- If using CMake, ensure you `find_package(GTest REQUIRED)` and link your target with `GTest::gtest` and `GTest::gmock`.
- For Bazel, check your `BUILD` files to depend on the relevant `googletest` and `googlemock` targets.
- Confirm that you compile GoogleTest and GoogleMock sources or have installed packages correctly.

<Tip>
Always confirm that your build configuration links both GoogleTest and GoogleMock libraries if you use mocking functionality.
</Tip>

---

### 2. Missing Headers or Include Errors

**Problem:** Compiler cannot find headers like `gtest/gtest.h` or `gmock/gmock.h`.

**Cause:**
- Include paths are not correctly set.
- GoogleTest/GoogleMock source or installed packages are unreachable.

**Solutions:**
- Ensure your compiler include paths (`-I` flags) include the directories where GoogleTest and GoogleMock headers reside.
- If using CMake, targets like `GTest::gtest` automatically handle includes; make sure to link targets appropriately.
- Double-check any manual include path settings for typos or incorrect paths.

---

### 3. Mismatched Compiler or C++ Standard

**Problem:** Compilation fails due to unsupported language features or errors referencing C++ standard library components.

**Cause:**
- GoogleTest requires a C++17 compatible compiler.
- Build system may use an older C++ standard version.

**Solutions:**
- Confirm your compiler supports C++17 or newer.
- Set the C++ standard explicitly in your build system (`-std=c++17` or newer).
- Verify that all dependencies and your project use the same C++ standard level.

<Note>
Using incompatible compiler versions or mismatched language standards leads to subtle build issues; consistency across all components is essential.
</Note>

---

### 4. Runtime Linking Issues on Windows

**Problem:** Runtime errors or crashes due to mismatched runtime libraries (e.g., LNK2001 unresolved symbols).

**Cause:**
- Mixing dynamic and static runtime libraries.
- GoogleTest binaries linked against a different runtime setting than your project.

**Solutions:**
- Align the runtime library options (e.g., `/MT` vs `/MD`) between GoogleTest and your project.
- Rebuild GoogleTest from source with your desired runtime settings if necessary.

---

### 5. Build Configuration Missteps

For CMake:

- Confirm you use recommended GoogleTest integration patterns:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/main.zip
)
FetchContent_MakeAvailable(googletest)

add_executable(my_test test.cpp)
target_link_libraries(my_test PRIVATE GTest::gtest GTest::gmock GTest::gtest_main)
```

- Check that `ENABLE_TESTING()` is called if you use `include(GoogleTest)`.

For Bazel:

- Ensure your `BUILD` files declare the correct dependencies:

```
cc_test(
  name = "my_test",
  srcs = ["my_test.cc"],
  deps = ["//third_party/googletest:gtest_main", "//third_party/googlemock:gmock_main"],
)
```

---

## Diagnosing and Fixing Common gMock Warnings and Errors

### Uninteresting Call Warnings

You might see warnings like:

```shell
Uninteresting mock function call - default action taken..
```

**What it means:** A mocked method was called without any explicit `EXPECT_CALL`.

**Resolution:**
- This is a friendly notification and not a test failure.
- If you want to silence these warnings, wrap your mock object with `NiceMock<YourMock>`, which suppresses uninteresting call warnings.

```cpp
using ::testing::NiceMock;
NiceMock<MockFoo> mock;
```

- To treat uninteresting calls as errors, use `StrictMock<YourMock>` instead.

### Expectation Failures and Order Misunderstandings

- Use `--gmock_verbose=info` when running tests to get detailed mock invocation traces.
- Verify that all `EXPECT_CALL`s are set **before** exercising the mocks; setting expectations after is undefined behavior.

---

## Additional Resources for Troubleshooting

- [GoogleTest CMake Integration Guide](https://github.com/google/googletest/blob/main/README.md#using-with-cmake)
- [Legacy gMock FAQ](https://google.github.io/googletest/gmock_faq.html) for deeper answers to common mocking pitfalls.
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) for advanced mocking patterns and usage troubleshooting.
- [Supported Platforms & Integration Points](/overview/architecture-audience-integration/platforms-and-integration-points) documenting environment-specific notes.

---

## Summary Checklist Before Seeking Support

- Confirm compiler and C++ standard compliance.
- Verify build system properly links GoogleTest and GoogleMock.
- Ensure include paths point to correct header locations.
- Use `NiceMock` or `StrictMock` wrappers appropriately to manage uninteresting calls.
- Run tests with `--gmock_verbose=info` to gain comprehensive insight on mock interactions.

<Tip>
Troubleshooting early saves development time. Knowing common causes and using GoogleTest’s diagnostic flags ensures your testing framework integration is reliable and smooth.
</Tip>

---

If these steps do not resolve your issue, consult the GoogleTest [Community & Support Channels](/getting-started/next-steps-and-resources/community-and-support) or open an issue on the [GoogleTest GitHub repository](https://github.com/google/googletest).

---

For a broader introduction to writing tests and using mocks, see [Writing Your First Test Case](/getting-started/first-test-validation/writing-your-first-test) and [Running & Validating Tests](/getting-started/first-test-validation/running-and-validating-tests).