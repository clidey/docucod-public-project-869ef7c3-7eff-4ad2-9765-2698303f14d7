---
title: "Building and Running Tests"
description: "Learn how to compile your project and execute tests using your chosen build system. Explains typical output, test discovery, and test suite reporting, ensuring the 'quick win' of running validated tests."
---

# Building and Running Tests

Learn how to compile your project and execute tests using your chosen build system. This guide explains typical console output, test discovery, and test suite reporting to ensure you achieve a quick win by running validated tests.

---

## 1. Preparing to Build Your Tests

Before compiling your projectâ€™s tests, ensure your system is correctly set up with GoogleTest and all dependencies installed as per your preferred build environment (CMake, Bazel, or manual build). For detailed setup, see:

- [System Requirements](/getting-started/setup-requirements/system-requirements)
- [Prerequisite Tools and Dependencies](/getting-started/setup-requirements/prerequisites)
- [Installing with CMake](/getting-started/installation-initialization/installation-cmake)
- [Installing with Bazel](/getting-started/installation-initialization/installation-bazel)


## 2. Building Your Test Program

### Using CMake

Follow these steps to build your test executable with CMake:

1. **Generate Build Files:**

   ```bash
   mkdir build && cd build
   cmake ..
   ```

2. **Build the Project:**

   ```bash
   cmake --build .
   ```

   _This command compiles all source files, including your tests linked against GoogleTest._

3. **Verify the Executable:**

   You should now have an executable (e.g., `your_test_binary`) in your build directory.

### Using Bazel

If using Bazel, ensure your `BUILD` files declare your test binaries properly:

```starlark
cc_test(
    name = "my_tests",
    srcs = ["my_tests.cc"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

Build and run your tests with:

```bash
bazel test //:my_tests
```

### Manual Build

For manual compilation, set include paths and link the test binary with `libgtest.a` and `libgmock.a` as needed. For detailed build commands, see [Manual and Advanced Installation](/getting-started/installation-initialization/installation-manual).


## 3. Running Your Tests

### Default Execution

Once built, run your test executable directly:

```bash
./your_test_binary
```

### Typical Output

When tests run successfully, you will see console output similar to this:

```none
[==========] Running 3 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 3 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[ RUN      ] FactorialTest.HandlesNegativeInput
[       OK ] FactorialTest.HandlesNegativeInput (0 ms)
[----------] 3 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 3 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 3 tests.
```

This indicates all tests passed. If any fail, they will be listed with detailed failure messages.


## 4. Test Discovery and Execution Details

When you run the test binary, GoogleTest automatically discovers all tests defined via `TEST()`, `TEST_F()`, `TEST_P()`, or typed test macros included in the binary.

- **Test Suites & Tests:** Tests are grouped into test suites. Tests in the same suite share a name prefix.
- **Disabled Tests:** Tests prefixed with `DISABLED_` are compiled but skipped during runs.
- **Test Filters:** Run a subset of tests by passing the `--gtest_filter` flag, e.g.,

  ```bash
  ./your_test_binary --gtest_filter=FactorialTest.HandlesPositiveInput
  ```

- **Repeat Tests:** Use `--gtest_repeat=N` to run tests multiple times to catch flaky failures.


## 5. Understanding Test Suite Reporting

GoogleTest reports per-suite and summary statistics to help you understand the test coverage and outcomes:

- **Total tests run**: Shows the count of tests executed.
- **Passed tests**: Number of tests without failures.
- **Failed tests**: Tests where assertions or crashes occurred.
- **Disabled tests**: Compiled but skipped tests.
- **Duration**: Milliseconds taken for each test and total execution time.

Additionally, GoogleTest supports generating test result files:

- **XML Report:** Use the `--gtest_output=xml` flag for CI tools integration.
- **JSON Report:** Use `--gtest_output=json` for machine-readable test reports.

For example:

```bash
./your_test_binary --gtest_output=xml:results.xml
```


## 6. Handling Build and Runtime Errors

### Build Issues

- Verify your compiler supports at least C++17.
- Ensure GoogleTest headers and libraries are accessible to your build system.
- Confirm linkage against both `gtest` and `gtest_main` (or `gmock` if mocking).

### Runtime Issues

- Check for missing or misnamed tests if your run reports "No tests found."
- Confirm your main function calls `testing::InitGoogleTest()` before `RUN_ALL_TESTS()`.
- Use the `--gtest_list_tests` flag to verify that tests are properly discovered:

  ```bash
  ./your_test_binary --gtest_list_tests
  ```

- Carefully review any assertion failures for location and message details.

See also the [Troubleshooting and Common Setup Issues](/getting-started/first-test-validation/troubleshooting-setup) page for detailed diagnostics.


## 7. Example: Building and Running a Simple Test Program

### Sample Test File (sample_test.cc)

```c++
#include <gtest/gtest.h>

TEST(SampleTest, Addition) {
  EXPECT_EQ(2 + 2, 4);
}

int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Build with CMake

Create a `CMakeLists.txt`:

```cmake
cmake_minimum_required(VERSION 3.14)
project(SampleTestProject CXX)

find_package(GTest REQUIRED)

add_executable(sample_test sample_test.cc)
target_link_libraries(sample_test GTest::gtest_main)
```

Commands to build and run:

```bash
mkdir build && cd build
cmake ..
cmake --build .
./sample_test
```

You should see output indicating that the test `SampleTest.Addition` passed successfully.


## 8. Tips & Best Practices

- Arrange related tests into suites to make filtering and diagnosis easier.
- Use `RUN_ALL_TESTS()` only once in your main function.
- For custom setups, initialize GoogleTest flags with `testing::InitGoogleTest()`.
- Enable verbose XML output for continuous integration systems.
- Use test filters to accelerate debugging of specific test failures.
- Regularly run `--gtest_list_tests` to validate test discovery.


## Additional Resources

Explore these related documentation pages for a deeper understanding:

- [Creating Your First Test](/getting-started/first-test-validation/creating-first-test)
- [Troubleshooting and Common Setup Issues](/getting-started/first-test-validation/troubleshooting-setup)
- [GoogleTest Primer](primer.md) for core concepts and test writing
- [Supported Platforms & Compatibility](/overview/integration-platforms/supported-platforms)


---

<Check>
Make sure you have:
- Verified system prerequisites
- Configured your build system to include and link GoogleTest
- Written and compiled test files using GoogleTest macros
- Run your test executable and examined console output
- Used test filters and report generation flags as needed
</Check>

---

For troubleshooting and examples, please refer to the official sample test directories and quickstarts included in the GoogleTest repository.

---

<Source url="https://github.com/google/googletest" paths={[{"path": "googletest/README.md", "range": "1-150"},{"path": "docs/primer.md", "range": "1-390"},{"path": "docs/reference/testing.md", "range": "1-1050"}]} />
