---
title: "Installation on Major Platforms"
description: "Step-by-step instructions to install GoogleTest using Bazel, CMake, or your preferred build system, across Linux, macOS, and Windows. Includes tips for integrating GoogleTest into existing C++ projects using different workflows."
---

# Installation on Major Platforms

This guide provides clear, step-by-step instructions to install GoogleTest on Linux, macOS, and Windows platforms using Bazel, CMake, or other common build systems. It also includes practical tips for integrating GoogleTest into your existing C++ projects through various workflows.

---

## 1. Prerequisites & System Requirements

Before you begin, ensure your environment meets the following requirements:

- **C++ Standard Support:** GoogleTest requires a C++17-compliant compiler.
- **Supported Platforms:** Linux, macOS, and Windows.
- **Build Tools:** Must have one or more of the following installed:
  - Bazel (latest stable version)
  - CMake (version 3.14 or later)
  - Your preferred build system with C++ support
- **Network Access:** Required for cloning the GoogleTest repository from GitHub.

<Tip>
If you plan to build GoogleTest as part of another CMake project, ensure your project uses CMake 3.14 or later for seamless integration.
</Tip>

---

## 2. Installation Instructions

### Option A: Installing with Bazel

1. **Clone the Repository with Submodules:**
   ```bash
   git clone https://github.com/google/googletest.git -b main
   cd googletest
   git submodule update --init --recursive
   ```

2. **Build the Tests:
**   ```bash
   bazel build //...
   ```

3. **Verify Build Success:**
   The build output should complete without errors.

### Option B: Installing with CMake (Standalone Project)

1. **Clone the Repository:**
   ```bash
   git clone https://github.com/google/googletest.git -b main
   cd googletest
   ```

2. **Create Build Directory:**
   ```bash
   mkdir build && cd build
   ```

3. **Generate Build Files:**
   ```bash
   cmake ..
   ```
   To exclude GoogleMock, run:
   ```bash
   cmake .. -DBUILD_GMOCK=OFF
   ```

4. **Build the Library:**
   ```bash
   cmake --build .
   ```

5. **Optional: Install (requires admin privileges):**
   ```bash
   sudo cmake --install .
   ```

### Option C: Integration with Existing CMake Projects

Instead of building GoogleTest standalone, you can integrate it directly within your project:

1. **Add the following snippet to your `CMakeLists.txt`:**
   ```cmake
   include(FetchContent)

   FetchContent_Declare(
     googletest
     URL https://github.com/google/googletest/archive/main.zip
   )

   # Avoid overriding your compiler/linker settings on Windows
   set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)

   FetchContent_MakeAvailable(googletest)

   add_executable(your_test_exec test_file.cpp)
   target_link_libraries(your_test_exec gtest_main)
   add_test(NAME your_test COMMAND your_test_exec)
   ```

2. **Build your project as usual.**

<Tip>
This method uses CMake's FetchContent and requires CMake 3.14+. It ensures consistent compiler settings across your project and GoogleTest.
</Tip>

---

## 3. Platform-Specific Notes

### Linux
- Ensure your compiler supports C++17.
- You may need to install build essentials and dependencies (e.g., `build-essential`, `cmake`, `bazel`).

### macOS
- Install Xcode command line tools:
  ```bash
  xcode-select --install
  ```
- Use Homebrew or MacPorts to install Bazel or CMake if needed.

### Windows
- Use Visual Studio 2017 or later with C++ workload installed.
- When using CMake,
  - Open the Developer Command Prompt for VS.
  - Use CMake GUI or command line.
- When using Bazel, install Windows Bazel binary and ensure PATH is configured.

<Warning>
Building GoogleTest with older Visual Studio versions (earlier than VS 2017) is unsupported.
</Warning>

---

## 4. Integrating GoogleTest into Your C++ Project

GoogleTest can work with several build systems. Hereâ€™s how to incorporate it:

### Using Installed Libraries (CMake `find_package`)

If GoogleTest is installed system-wide:

1. **In your `CMakeLists.txt`, add:**
   ```cmake
   find_package(GTest CONFIG REQUIRED)
   target_link_libraries(your_target GTest::gtest GTest::gtest_main)
   ```

2. **Include GoogleTest headers in your source files:**
   ```cpp
   #include <gtest/gtest.h>
   ```

### Building from Source as a Subdirectory

1. Add GoogleTest as a subproject using `add_subdirectory()`:
   ```cmake
   add_subdirectory(path/to/googletest)
   target_link_libraries(your_target gtest_main)
   ```

2. This method ensures matching build options and no separate installation is needed.

### Using Bazel Dependencies

If using Bazel, declare the GoogleTest dependency in your `BUILD` files:
```bazel
cc_test(
    name = "my_test",
    srcs = ["my_test.cpp"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

<Note>
For all methods, ensure your compiler flags and linker settings are consistent with your project (e.g. runtime library settings).
</Note>

---

## 5. Running Your First Test

Once GoogleTest is built and linked, confirm functionality with a simple test.

### Example Test Code
```cpp
#include <gtest/gtest.h>

TEST(SampleTest, BasicAssertions) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_TRUE(true);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Build & Run
- Compile and link against `gtest_main` or provide your own `main` as above.
- Run the resulting executable.
- Expect output showing test pass/fail status.

<Tip>
If you use GoogleMock alongside GoogleTest, initialize with `testing::InitGoogleMock()` instead of `InitGoogleTest()`.
</Tip>

---

## 6. Best Practices & Tips

- **Consistency:** Match your compiler and runtime settings across your project and GoogleTest to avoid linkage problems.
- **Limit Third-Party Dependencies:** GoogleTest focuses on native C++17 features, so avoid adding extra unnecessary dependencies.
- **Use `gtest_main` for quick setup:** This library provides a `main` function, speeding up simple tests without writing boilerplate.
- **Handle Platform Variations:** When targeting multiple OSes, test builds on all supported platforms to catch environment-specific issues early.

---

## 7. Troubleshooting Common Installation Issues

### Problem: C++ Standard Not Supported
- **Symptom:** Compilation errors related to language features.
- **Solution:** Confirm your compiler supports C++17, and ensure your build system passes flags like `-std=c++17`.

### Problem: Linking Errors
- **Symptom:** `undefined reference` errors to GoogleTest symbols.
- **Solution:** Verify you link against the correct GoogleTest libraries (`gtest`, `gtest_main`), and ensure consistent runtime settings (e.g., dynamic vs static CRT on Windows).

### Problem: Bazel Build Failures
- **Symptom:** Build errors from Bazel.
- **Solution:** Ensure Bazel version is compatible and the repository is fully cloned with submodules.

### Problem: Unable to Find Installed GoogleTest via `find_package`
- **Symptom:** CMake cannot locate GTest.
- **Solution:** Confirm GoogleTest is properly installed and CMake prefix paths include its location. Alternatively, use FetchContent or subdirectory method.

<Check>
Consult the [Troubleshooting Common Setup Issues](/getting-started/first-run-validation/troubleshooting-common-issues) guide for more in-depth resolutions.
</Check>

---

## 8. Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [CMakeLists.txt for GoogleTest](https://github.com/google/googletest/blob/main/CMakeLists.txt)
- [GoogleMock Main Function Usage](https://github.com/google/googletest/blob/main/googlemock/src/gmock_main.cc)
- [GoogleTest Main Function Usage](https://github.com/google/googletest/blob/main/googletest/src/gtest_main.cc)

---

This page fits within the overall Getting Started guide, linking closely to prerequisites, project setup and configuration, first run walkthroughs, and troubleshooting documentation.

---