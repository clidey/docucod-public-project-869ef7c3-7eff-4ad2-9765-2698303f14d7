---
title: "Writing and Running Your First Test"
description: "Start by authoring a simple test case in C++ using GoogleTest, compiling it, and running the test program to see a passing output. Example code included for immediate hands-on experience."
---

# Writing and Running Your First Test

Welcome to your first hands-on experience with GoogleTest! This guide will walk you through authoring a simple C++ test case using GoogleTest's `TEST` macro, compiling it, and running the resulting test binary to see your test pass. Along the way, you'll get a complete working example so you can start immediately.

---

## 1. Create Your First Test File

Start by creating a C++ source file for your test. For example, name it `sample_test.cc`.

Add the following minimal example code into it:

```cpp
#include <gtest/gtest.h>

// This is a simple test checking that 1 + 1 equals 2.
TEST(SimpleMathTest, Addition) {
  EXPECT_EQ(1 + 1, 2);
}
```

### Explanation:
- `#include <gtest/gtest.h>`: Includes the necessary GoogleTest headers.
- `TEST(SimpleMathTest, Addition)`: Defines a test named `Addition` in the test suite `SimpleMathTest`.
- `EXPECT_EQ(...)`: An assertion that checks the values are equal.


<Check>
Make sure your test suite and test names do NOT contain underscores (`_`) to avoid name clashes and reserved identifier issues.
See the [GoogleTest FAQ on naming](https://github.com/google/googletest/blob/main/docs/faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore) for details.
</Check>

## 2. Prepare Your Build Environment

Before compiling, confirm the following prerequisites are met:

- You have a working C++ compiler supporting at least C++17.
- GoogleTest is installed and its headers and libraries are accessible in your environment.
- Your build system (e.g., CMake, Makefile) is configured to link with GoogleTest.

If you do not yet have GoogleTest set up, see the [Quickstart: Building with CMake](https://github.com/google/googletest/blob/main/docs/quickstart-cmake.md) for a full tutorial.

## 3. Compile the Test Program

Compile your test program, ensuring you link against GoogleTest libraries. Below are examples for common compilers:

### Using `g++` from the command line (assuming GoogleTest is installed):

```bash
# Replace /path/to/gtest/include and /path/to/gtest/lib with actual paths

g++ -std=c++17 -isystem /path/to/gtest/include \
    -pthread sample_test.cc /path/to/gtest/lib/libgtest.a /path/to/gtest/lib/libgtest_main.a \
    -o sample_test
```

### Using CMake

If you're using CMake, add the following to your `CMakeLists.txt`:

```cmake
add_executable(sample_test sample_test.cc)
target_link_libraries(sample_test GTest::gtest_main)
include(GoogleTest)
gtest_discover_tests(sample_test)
```

Then build:

```bash
cmake -S . -B build
cmake --build build
```

This example uses the official CMake module for GoogleTest and auto-discovers tests.

## 4. Run Your Test and Observe Output

Once compiled, execute your test binary:

```bash
./sample_test
```

You should see output similar to this:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SimpleMathTest
[ RUN      ] SimpleMathTest.Addition
[       OK ] SimpleMathTest.Addition (0 ms)
[----------] 1 test from SimpleMathTest ran. (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

### What It Means:
- `[ RUN      ]`: The test being executed.
- `[       OK ]`: Test passed successfully.
- `[  PASSED  ]`: Summary of all passed tests.

If your test fails, GoogleTest prints clear diagnostic information showing which assertion failed and where.

## 5. Verify and Understand Success

A passing test means your setup and test code are correct. If all tests pass, your process is:

- Including GoogleTest headers correctly.
- Linking GoogleTest appropriately.
- Writing valid test code.
- Running the tests and receiving expected outputs.

## 6. Tips and Best Practices

- Keep your test names descriptive yet concise, and avoid underscores to prevent naming conflicts.
- Prefer using `EXPECT_` assertions to allow multiple checks per test, and use `ASSERT_` for fatal failures that should stop test execution.
- Use `EXPECT_EQ` for value comparisons â€” if comparing C strings use `EXPECT_STREQ`.
- Always return the value of `RUN_ALL_TESTS()` from your `main()` function or rely on `gtest_main` which provides a default `main()`.

## 7. Troubleshooting Common Issues

<AccordionGroup title="Common Issues and Fixes">
<Accordion title="Linker Errors about Undefined References">
Make sure GoogleTest libraries are linked properly. When building manually, link both `libgtest.a` and `libgtest_main.a` if not providing your own `main()`.
</Accordion>
<Accordion title="Tests Not Running or No Tests Found">
Verify that you have at least one `TEST()` or `TEST_F()` defined, and that your build includes your test source files. Check for typos in macro names (e.g., `TEST` vs `TEST_F`).
</Accordion>
<Accordion title="Compiler Errors Regarding Underscores in Names">
Follow the naming restriction: Test suite names and test names cannot have underscores to avoid internal name clashes. Rename any tests violating this.
</Accordion>
</AccordionGroup>

## 8. Next Steps

Once you are comfortable writing and running your first test, explore:

- [GoogleTest Primer](primer.md) to learn how to write richer test cases.
- [Assertions Reference](reference/assertions.md) to understand the assertion macros you can use.
- [Test Fixtures](primer.md#same-data-multiple-tests) for sharing setup between related tests.
- [Integration with Build Systems](overview/integration-ecosystem/integration-with-build-and-ci.mdx) for continuous integration.

---

Happy testing with GoogleTest!

---

_For the full API reference and additional tutorials, see [GoogleTest Documentation](https://github.com/google/googletest/tree/main/docs)._