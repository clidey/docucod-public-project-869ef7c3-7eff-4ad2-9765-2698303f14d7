---
title: "Building and Running Your First Test"
description: "Guide users through writing, compiling, and executing their very first test with GoogleTest. Include a minimal code sample, how to use the test runner, and expected output for successful and failed cases."
---

# Building and Running Your First Test with GoogleTest

Welcome to GoogleTest, the powerful C++ testing framework that simplifies writing, running, and organizing your tests. This guide walks you through writing your very first test, compiling it, running the test runner, and interpreting the results.

---

## 1. Writing Your First Test

Getting started means writing a simple test function to validate behavior. GoogleTest uses the `TEST()` macro to define individual tests.

### Steps:

1. **Include the GoogleTest header** at the beginning of your test file:

```cpp
#include <gtest/gtest.h>
```

2. **Write a test case using the `TEST()` macro:**

The first argument is the test suite name (group of related tests), and the second is the test name.

```cpp
TEST(SampleTest, AdditionWorks) {
  int a = 2 + 2;
  EXPECT_EQ(a, 4);  // Verifies that a equals 4
}
```

3. **Optionally, add more tests** in the same or different test suites:

```cpp
TEST(SampleTest, SubtractionWorks) {
  int b = 5 - 3;
  EXPECT_EQ(b, 2);
}
```

### Explanation:
- The `EXPECT_EQ` assertion checks for expected equality.
- If an assertion fails, GoogleTest outputs an informative message.
- Tests are logically grouped by their suite name for clarity.

---

## 2. Compiling the Test

Before running your tests, compile your test source code and link against the GoogleTest libraries.

### Prerequisites:
- GoogleTest installed and built (see the installation documentation).
- C++ compiler supporting C++17 or later.

### Example Compilation Command (Linux/macOS):

```bash
# Assuming g++ compiler and GoogleTest installed in /usr/local/lib
# Replace with your actual GoogleTest include and lib paths.
g++ -std=c++17 -isystem /usr/local/include -pthread \
    your_test_file.cc -L/usr/local/lib -lgtest -lgtest_main -o your_test
```

### Notes:
- `-pthread` : Enables multithreaded support needed by GoogleTest.
- `-lgtest` and `-lgtest_main` : Links with the GoogleTest core and default main.

On Windows, adjust accordingly with your compiler and environment (e.g., Visual Studio).

---

## 3. Running the Test Runner

Once compiled, run the resulting executable to execute all defined tests.

### Command:

```bash
./your_test
```

### Expected Output for a Passing Test:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from SampleTest
[ RUN      ] SampleTest.AdditionWorks
[       OK ] SampleTest.AdditionWorks
[ RUN      ] SampleTest.SubtractionWorks
[       OK ] SampleTest.SubtractionWorks
[----------] 2 tests from SampleTest (0 ms total)
[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

### Output When a Test Fails:

```
[ RUN      ] SampleTest.AdditionWorks
/path/to/test_file.cc:5: Failure
Expected equality of these values:
  a
    Which is: 5
  4
[  FAILED  ] SampleTest.AdditionWorks
```

GoogleTest reports the file, line number, and failure message showing the actual and expected.

---

## 4. Summary

### What You've Achieved

- Written your first C++ test using GoogleTest macros.
- Compiled your test code linking with GoogleTest.
- Executed the test binary to run all tests.
- Interpreted both successful and failed test outputs.

### Tips and Best Practices

- Use descriptive and consistent test suite and test names.
- Use `EXPECT_*` assertions unless you want to abort the test function immediately (`ASSERT_*`).
- Group related tests in the same test suite.
- When a test fails, use the output file and line number to debug.

### Next Steps

- Learn about test fixtures to reuse setup code across tests.
- Explore advanced assertions for more complex validations.
- Integrate GoogleTest with your build system for automated testing.

---

## 5. Troubleshooting

### Common Issues

- **Compilation errors:** Ensure compiler supports C++17 and GoogleTest includes are correctly referenced.
- **Linker errors:** Confirm linkage with `-lgtest` and `-lgtest_main` and correct library search paths.
- **Tests not running:** Check test names do not start with `DISABLED_` which disables them.
- **Failed assertions:** Review the detailed failure output to identify assertion conditions and correct your code or tests.

### Getting Help

Refer to the official [GoogleTest Primer](primer.md) and [GoogleTest FAQ](https://github.com/google/googletest/blob/main/docs/FAQ.md) for in-depth guidance.

---

For additional support and examples, visit the [GoogleTest GitHub repository](https://github.com/google/googletest).

---

*Written with a focus on actionable progression from writing to running your first test, this guide ensures a beginner-friendly experience while maintaining clarity and confidence for success.*