---
title: "Installation (All Platforms)"
description: "Follow step-by-step installation guides tailored for various platforms and common build systems like CMake and Bazel. Whether you're starting from scratch or integrating into an existing workflow, this page gets GoogleTest up and running on your machine."
---

# Installation (All Platforms)

Get GoogleTest up and running quickly on your machine with step-by-step installation guides tailored for various platforms and common build tools like CMake and Bazel. Whether you want to build GoogleTest standalone or integrate it into your existing project workflow, this guide walks you through precise, actionable steps to install and configure GoogleTest successfully.

---

## 1. Prerequisites & System Requirements

Before installing GoogleTest, ensure your environment meets these criteria:

- **Supported Platforms:** Linux, Windows, macOS
- **Compiler Compatibility:** Any compiler with C++17 support (e.g., GCC ≥7, Clang, MSVC 2017+)
- **Build Tools:** 
  - CMake (version 3.13 or higher recommended, 3.14+ required for advanced features)
  - For Bazel users, Bazel installed and configured
- **Network Access:** Required if downloading GoogleTest from GitHub or using CMake's FetchContent

<Tip>
Ensure your compiler and build tools are correctly installed and accessible from your command line. On Linux/macOS, confirm with commands like `gcc --version` or `cmake --version`.
</Tip>

## 2. Installation Instructions

### A. Building and Installing GoogleTest Using CMake (All Platforms)

This method is the most flexible across platforms and allows both standalone builds and integration.

#### Step 1: Clone the GoogleTest Repository

```bash
git clone https://github.com/google/googletest.git -b main
cd googletest
```

#### Step 2: Create a Build Directory

```bash
mkdir build
cd build
```

#### Step 3: Generate Build Files

- To build GoogleTest **with GoogleMock included (default):**

```bash
cmake ..
```

- To build only GoogleTest (exclude GoogleMock):

```bash
cmake .. -DBUILD_GMOCK=OFF
```

#### Step 4: Build the Libraries

- On Linux/macOS:

```bash
make
```

- On Windows with Visual Studio:

Open the generated `gtest.sln` or `.vcxproj` files in Visual Studio and build.

- Alternatively, you can use CMake's build command cross-platform:

```bash
cmake --build .
```

#### Step 5: (Optional) Install GoogleTest System-wide

If you have administrative privileges, run:

```bash
sudo make install
```

This installs GoogleTest headers and libraries usually under `/usr/local/`.

<Warning>
Only install system-wide if you understand the implications; sometimes keeping GoogleTest isolated per project is preferable.
</Warning>

#### Step 6: Confirm Installation

Check that the libraries (`libgtest.a`, `libgtest_main.a`) and headers (`include/gtest/gtest.h`) exist in your build or install directories.

---

### B. Integrate GoogleTest into Your Existing CMake Project

If you prefer to build GoogleTest as part of your project, avoiding version conflicts and ensuring consistent compiler options, add the following to your project’s `CMakeLists.txt`:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/main.zip
)
# For Windows: Ensure runtime matches parent project
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
FetchContent_MakeAvailable(googletest)
```

Then link your test executables with `gtest_main` accordingly:

```cmake
add_executable(my_test my_test.cpp)
target_link_libraries(my_test GTest::gtest_main)
include(GoogleTest)
gtest_discover_tests(my_test)
```

<Tip>
`FetchContent` requires CMake 3.14 or later. Adjust the URL or commit hash often to keep GoogleTest up to date.
</Tip>

---

### C. Installing with Bazel

If your project uses Bazel:

- Refer to the official Bazel workspace integration.
- Declare dependencies on `@com_google_googletest//:gtest` and/or `@com_google_googletest//:gmock` in your `WORKSPACE` and `BUILD` files.

For detailed Bazel setup, see [Quickstart for Bazel](quickstart-bazel.md).

---

## 3. Configuration & Build Tweaks

GoogleTest can be customized via compiler flags and CMake options.

### Key Options

- **`gtest_force_shared_crt` (Windows only):**
  Forces GoogleTest to use dynamically linked C++ runtime libraries matching your project.

- **`BUILD_SHARED_LIBS`:**
  Set to `ON` if you prefer to build GoogleTest as shared libraries (DLLs).

- **C++ Standard:**
  Ensure your project sets `CMAKE_CXX_STANDARD` to 17 or higher.

### Compiler Tweaks

- GoogleTest internally tweaks compiler flags on MSVC, Clang, GCC to enforce warnings and handle exceptions.
  If you encounter build errors related to runtime libraries, consider enabling `gtest_force_shared_crt`.

<Note>
If you use a custom build system, you must manually define `GTEST_HAS_PTHREAD` if needed, and link the pthread library on Unix-like systems.
</Note>

---

## 4. Running Your First Build

After building or integrating GoogleTest, confirm it's functioning by compiling and running a simple test.

### Sample Test File (`sample_test.cc`)

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, BasicAssertions) {
  EXPECT_EQ(1, 1);
  EXPECT_NE(1, 0);
}
```

### Build Command with CMake Standalone Build

```bash
# From the root of googleTest repo or your project directory
cmake -S . -B build
cmake --build build
cd build
ctest
```

You should see output reporting the tests passed successfully.

---

## 5. Troubleshooting Common Installation Issues

<AccordionGroup title="Common Issues During Installation">
<Accordion title="CMake Not Found or Outdated">
Make sure you have CMake installed and at a suitable version (>= 3.13). On Unix, try `cmake --version`. On Windows, verify installation path and environment variables.
</Accordion>
<Accordion title="Compiler Version Too Low">
GoogleTest requires C++17 support. Upgrade your compiler or adjust your build environment to use a compatible one.
</Accordion>
<Accordion title="Runtime Library Mismatch on Windows">
Enable `gtest_force_shared_crt` to ensure GoogleTest uses the same runtime library linkage as your project. Pass it as:

```bash
cmake .. -Dgtest_force_shared_crt=ON
```
</Accordion>
<Accordion title="Linker Errors Related to pthreads on Linux/macOS">
If not using the CMake script, you may need to link pthread manually by adding `-pthread` or `-lpthread`.
</Accordion>
</AccordionGroup>

---

## 6. Next Steps

- Proceed to [Configuration & Project Integration](configuration-setup.md) to learn how to set up GoogleTest within your project.
- See [Your First Test Run](first-test-run.md) to understand how to write and execute your initial tests.
- Consult [Troubleshooting & Common Issues](troubleshooting.md) for deeper help.

---

## Additional Resources

- [GoogleTest on GitHub](https://github.com/google/googletest) — source repository and latest updates
- [CMake Documentation](https://cmake.org/documentation/) — detailed guidance on build systems
- [Supported Platforms](platform-support-and-build-integration.md) — compatibility details

---