---
title: "Installing GoogleTest"
description: "Walks through installation options including building from source with CMake, integrating with Bazel, and using package managers. Includes step-by-step commands and advice for common pitfalls."
---

# Installing GoogleTest

This guide walks you through the main methods for installing GoogleTest, including building from source using CMake, integrating with Bazel, and installing via popular package managers. Each section includes practical, step-by-step instructions, verification methods, and common pitfalls to avoid.

---

## 1. Prerequisites

Before proceeding, ensure your system meets the prerequisites outlined in the [System Requirements & Prerequisites](/getting-started/setup-overview/prerequisites-and-requirements) guide:

- A compiler supporting **C++17**
- CMake version **3.13** or higher
- Basic development tools (make, Visual Studio, or Xcode depending on platform)
- pthread library support for multithreaded tests (Linux/macOS)

> Refer to the prerequisites guide for platform-specific notes and troubleshooting common setup issues.

---

## 2. Installation Methods

### 2.1 Building From Source Using CMake

Building GoogleTest from source with CMake is the recommended and most flexible option, allowing customization and direct control.

#### Step 1: Clone the Repository

Open a terminal and clone the official GoogleTest GitHub repository at a stable release tag:

```bash
# Clone GoogleTest repository at version 1.17.0 (adjust tag as needed)
git clone https://github.com/google/googletest.git -b v1.17.0
goto googletest
```

#### Step 2: Create a Build Directory

To keep source and build files separated:

```bash
cd googletest
mkdir build
cd build
```

#### Step 3: Generate Build Files

Configure the build with CMake. By default, GoogleMock is included; disable it if you only want GoogleTest:

```bash
cmake ..
# Or to build only GoogleTest
cmake .. -DBUILD_GMOCK=OFF
```

If you want to customize options (e.g., enable shared libraries), you can pass flags here.

#### Step 4: Build the Libraries

Run your platform’s build system:

- On Linux/macOS:

  ```bash
  make
  sudo make install    # Installs to /usr/local/ by default, may require sudo
  ```

- On Windows (with Visual Studio):

  - Open the generated `gtest.sln` solution
  - Build the solution in your configuration (Debug/Release)

- On macOS (with Xcode):

  - Open the `.xcodeproj` project
  - Build using Xcode

#### Step 5: Verify Installation

Check that the headers and libraries are installed correctly (commonly under `/usr/local/include` and `/usr/local/lib`).

You can also test the build by compiling a simple test program linking against `gtest_main` or `gtest`.

<Check>
Tip: If you encounter missing pthread link errors on Linux, ensure the pthread library is installed and linked (`-lpthread`). The CMake build takes care of this automatically.
</Check>

---

### 2.2 Integrating GoogleTest with Bazel

GoogleTest supports integration as a Bazel external dependency.

#### Step 1: Add Dependency in `WORKSPACE`

Add a Bazel `http_archive` rule pointing to the GoogleTest release, for example:

```python
load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")

http_archive(
    name = "com_google_googletest",
    urls = ["https://github.com/google/googletest/archive/v1.17.0.zip"],
    strip_prefix = "googletest-1.17.0",
    sha256 = "<SHA256_CHECKSUM_HERE>",
)
```

Replace `<SHA256_CHECKSUM_HERE>` with the actual checksum from the release page.

#### Step 2: Reference GoogleTest in `BUILD` files

Use GoogleTest targets such as `@com_google_googletest//:gtest_main` as dependencies in your `cc_test` or `cc_binary` rules.

> Refer to Bazel's official documentation or the [Integration & Ecosystem](/overview/features-integration/integration-ecosystem) page for detailed examples.

---

### 2.3 Installing via Package Managers

Many environments provide GoogleTest as part of their package repositories, enabling quick installation.

#### Linux

- On Debian/Ubuntu:

  ```bash
  sudo apt-get update
  sudo apt-get install libgtest-dev
  ```

  Note: `libgtest-dev` installs source files only. You need to build and install manually:

  ```bash
  cd /usr/src/gtest
  sudo cmake .
  sudo make
  sudo cp lib/*.a /usr/lib
  ```

- On Fedora:

  ```bash
  sudo dnf install googletest-devel
  ```

#### macOS

- Using Homebrew:

  ```bash
  brew install googletest
  ```

  You may need to link includes manually or specify paths in your build system.

#### Windows

- Using vcpkg:

  ```powershell
  vcpkg install gtest
  ```

- Or use precompiled binaries if your IDE supports it.

<Note>
Package manager versions might lag behind the latest GoogleTest release. If you require the latest features or fixes, building from source is recommended.
</Note>

---

## 3. Common Pitfalls and Troubleshooting

- **Compiler support for C++17:** Ensure your compiler fully supports C++17;
  otherwise, builds will fail.
- **Pthread linking errors:** On some Linux-based systems, you may get linker errors if `-lpthread` is not linked explicitly.
- **Mixing static vs dynamic runtimes on Windows:** Use `-Dgtest_force_shared_crt=ON` in CMake to align with your project’s runtime linkage.
- **Build system mismatches:** Make sure the GoogleTest build uses the same compiler flags and ABI settings as your project to avoid mysterious link errors.

Refer also to the [Common Setup Issues & Solutions](/getting-started/troubleshooting-and-validation/common-issues) page for detailed troubleshooting guidance.

---

## 4. Verifying Your Installation

After installation, confirm GoogleTest works by compiling and running a simple test:

```cpp
#include <gtest/gtest.h>

// Simple test that should always pass
TEST(ExampleTest, BasicAssertions) {
  EXPECT_EQ(1, 1);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile with:

```bash
# Adjust include and library paths as needed
g++ -std=c++17 -isystem /usr/local/include -pthread example_test.cpp -L/usr/local/lib -lgtest_main -lgtest -o example_test
```

Run it:

```bash
./example_test
```

Expected output:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.BasicAssertions
[       OK ] ExampleTest.BasicAssertions (0 ms)
[----------] 1 test from ExampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

If it passes, your installation is successful.

---

## 5. Next Steps

- Proceed to [Writing Your First Test](/getting-started/first-steps/create-first-test) to start authoring test cases.
- Learn how to run and validate your tests in the [Running and Validating Tests](/getting-started/first-steps/running-tests) guide.
- If mocking abilities are desired, explore [Getting Started with GoogleMock (Optional)](/getting-started/first-steps/first-mock-test).

For detailed configuration and advanced build setup, see the [Initial Configuration](/getting-started/setup-overview/configuration-setup) section.

<Tip>
Regularly revisit the Quick Installation Check guide to ensure your setup remains healthy after updates or environment changes.
</Tip>

---

For comprehensive platform compatibility and toolchain support, refer to the [Supported Platforms](/overview/features-integration/supported-platforms) documentation.


---