---
title: "Installation Instructions (All Platforms)"
description: "Follow step-by-step installation guidance for different operating systems, including Linux, macOS, and Windows. Covers use of package managers, building from source, and integration with CMake or Bazel, empowering developers to install the framework in varied development contexts."
---

# Installation Instructions (All Platforms)

Welcome to the comprehensive installation guide for GoogleTest and GoogleMock. This document offers clear, step-by-step instructions tailored to Linux, macOS, and Windows, empowering you to smoothly install the testing framework with your preferred method—whether via package managers, building from source, or integrating into your existing build system using CMake or Bazel. By following this guide, you will have the framework up and running, ready to write and execute your first tests.

---

## 1. Prerequisites & System Requirements

Before starting installation, ensure your environment meets the following requirements:

- **Supported Platforms:** Linux, macOS, Windows.
- **Compiler Support:** Must support C++17 standard. Examples include GCC 7.3+, Clang 5+, MSVC 2017 (VS 15.7)+.
- **CMake:** Version 3.14 or higher is required for builds involving FetchContent and advanced integration.
- **Build Tools:** `make` for Unix-like systems; Visual Studio build tools on Windows.
- **Permissions:** Administrative/sudo access for system-wide installations.

For details, visit the [Prerequisites and System Requirements guide](/getting-started/setup-overview/system-prerequisites).

<Tip>
Ensure your compiler and build tools are up to date to avoid compatibility issues during the installation process.
</Tip>

---

## 2. Installation Methods

GoogleTest and GoogleMock can be installed in multiple ways depending on your workflow and platform.

### 2.1 Using Package Managers

- **Linux (Debian/Ubuntu):**
  ```bash
  sudo apt-get update
  sudo apt-get install libgtest-dev
  # You'll need to build the library after installation
  cd /usr/src/gtest
  sudo cmake .
  sudo make
  sudo cp *.a /usr/lib
  ```

- **macOS (Homebrew):**
  ```bash
  brew install googletest
  ```

- **Windows (vcpkg):**
  ```powershell
  vcpkg install gtest
  ```

<Note>
Package manager installations might not include GoogleMock or may have older versions. For the latest or customized builds, proceed with source installations.
</Note>

### 2.2 Building from Source (All Platforms)

Follow these steps to build the framework yourself:

1. **Clone the repository:**
   ```bash
   git clone https://github.com/google/googletest.git -b main
   cd googletest
   ```

2. **Create a build directory:**
   ```bash
   mkdir build && cd build
   ```

3. **Generate build files using CMake:**

   - To build both GoogleTest and GoogleMock (includes mocks):
     ```bash
     cmake ..
     ```

   - To build only GoogleTest (no mocks):
     ```bash
     cmake .. -DBUILD_GMOCK=OFF
     ```

4. **Build the binaries:**

   - On Linux/macOS use:
     ```bash
     make
     ```

   - On Windows with Visual Studio, open `gtest.sln` in the build folder and build the solution.

5. **Optional: Install the libraries system-wide:**

   Requires administrative privileges:
   ```bash
   sudo make install
   ```

<Tip>
When building with CMake in your own projects, you can integrate GoogleTest as a subdirectory to maintain consistent compiler settings and ease maintenance.
</Tip>

### 2.3 Integration Using CMake in Your Project

If your project already uses CMake, integrate GoogleTest directly to simplify management:

1. Add the following snippet to your `CMakeLists.txt`:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/refs/tags/release-1.17.0.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)  # For Windows runtime compatibility
FetchContent_MakeAvailable(googletest)

add_executable(your_test your_test.cpp)
target_link_libraries(your_test GTest::gtest_main)
add_test(NAME your_test COMMAND your_test)
```

2. Run CMake configure and build commands:

```bash
cmake -S . -B build
cmake --build build
ctest --test-dir build
```

<Tip>
Ensure you have CMake 3.14 or above to use `FetchContent_MakeAvailable()`.
</Tip>

### 2.4 Using Bazel

GoogleTest can also be built and integrated using Bazel. Refer to the Bazel-specific instructions in the [Integration & Ecosystem guide](/overview/core-concepts/integration-landscape) for detailed setup steps.

---

## 3. Verification of Installation

After installation, verify that GoogleTest and GoogleMock are properly built and ready for use.

### 3.1 Sample Verification Steps

#### Running GoogleTest’s Built-in Tests

- Navigate to the build directory and run:
  ```bash
  ./googletest/gtest/gtest
  ```
- You should see a summary of test cases executed successfully.

#### Compiling and Running a Simple Test

Create a minimal test file named `example_test.cpp`:

```c++
#include <gtest/gtest.h>

TEST(SimpleTest, Addition) {
  EXPECT_EQ(2 + 2, 4);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run this test:

```bash
# Assuming GoogleTest is installed in /usr/local
g++ -std=c++17 example_test.cpp -lgtest -lpthread -o example_test
./example_test
```

If the output shows the test passed, GoogleTest is correctly installed.

<Tip>
For Windows using Visual Studio, link against `gtest.lib` or `gtest_main.lib` as appropriate.
</Tip>

---

## 4. Troubleshooting Common Installation Issues

Here are solutions to frequent problems you may encounter during installation:

<AccordionGroup title="Troubleshooting Installation Issues">
<Accordion title="CMake Version Too Low">

- **Problem:** FetchContent commands not found or build errors citing missing CMake features.
- **Solution:** Verify CMake version with `cmake --version`. Upgrade to 3.14 or later.

</Accordion>
<Accordion title="Compiler Does Not Support C++17">

- **Problem:** Compilation errors related to C++17 features.
- **Solution:** Update your compiler to a version supporting C++17.

</Accordion>
<Accordion title="GoogleMock Missing After Build">

- **Problem:** Intended to use mocks but not found or build failing.
- **Solution:** Ensure you do NOT pass `-DBUILD_GMOCK=OFF` when configuring CMake.

</Accordion>
<Accordion title="Linker Errors On Windows Related to Runtime Libraries">

- **Problem:** Mismatched runtime library error (e.g., MTd vs MDd).
- **Solution:** Use the CMake option `-Dgtest_force_shared_crt=ON` when configuring.

</Accordion>
<Accordion title="Package Manager Version Outdated">

- **Problem:** Installed package doesn't include latest features or GoogleMock.
- **Solution:** Build from source or integrate using CMake FetchContent.

</Accordion>
</AccordionGroup>

---

## 5. Additional Tips

- Always run `testing::InitGoogleTest(&argc, argv);` before calling `RUN_ALL_TESTS()` in your `main` function to ensure proper initialization.
- For CI/CD pipelines, building GoogleTest from source ensures consistent and reproducible environments.
- When writing tests, leverage the GoogleMock framework integrated by default when building with `BUILD_GMOCK=ON`.

---

## 6. Where to Go Next

Once installation is successful, proceed to:

- Writing and running your first test: [Your First Test: Author and Run](/getting-started/first-test-run/writing-running-first-test)
- Configuration basics: [Configuration Setup](/getting-started/setup-overview/configuration-basics)
- Troubleshooting setup: [Troubleshooting Common Issues](/getting-started/troubleshooting-getting-started/common-setup-issues)

Explore these to unlock the full potential of GoogleTest and GoogleMock in your development workflow.

---

## References and Resources

- Official Repository: [GoogleTest GitHub](https://github.com/google/googletest)
- GoogleTest Primer: [docs/primer.md](https://github.com/google/googletest/blob/main/docs/primer.md)
- Package Manager Options
- Integration & Ecosystem: [Core Concepts](/overview/core-concepts/integration-landscape)

---

## Appendix: Minimal CMake Example to Build GoogleTest in Your Project

```cmake
cmake_minimum_required(VERSION 3.14)
project(MyTestProject CXX)

include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/release-1.17.0.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
FetchContent_MakeAvailable(googletest)

add_executable(my_test example_test.cpp)
target_link_libraries(my_test GTest::gtest_main)
add_test(NAME my_test COMMAND my_test)
```

This snippet retrieves GoogleTest at configure time then builds and links your test executable against it.

---

Congratulations, your environment is now ready for robust, scalable C++ testing!
