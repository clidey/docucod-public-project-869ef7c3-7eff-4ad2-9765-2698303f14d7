---
title: "Installation Methods"
description: "Step-by-step instructions for installing GoogleTest and GoogleMock using CMake, Bazel, or manual integration. Includes guidance for Linux, macOS, and Windows users with links to relevant build scripts and quickstart guides."
---

# Installation Methods

This guide provides step-by-step instructions to install GoogleTest and GoogleMock using three common approaches: CMake, Bazel, and manual integration. You will find platform-specific notes for Linux, macOS, and Windows users, along with links to build scripts and quickstart guides.

---

## Prerequisites

Before proceeding with installation, ensure the following:

- You have a C++17-capable compiler and environment (see [System Requirements](/getting-started/prerequisites-installation/system-requirements))
- Necessary developer tools like CMake (version 3.13 or later) or Bazel are installed if you use those build systems
- Familiarity with your platform's build environment (Terminal, Command Prompt, or PowerShell)

---

## 1. Installing with CMake

CMake offers a flexible and widely-adopted method to build and install GoogleTest and GoogleMock.

### Step 1: Clone the GoogleTest repository

```bash
# Clone the repo from GitHub
$ git clone https://github.com/google/googletest.git -b main
$ cd googletest
```

### Step 2: Create a build directory

```bash
$ mkdir build
$ cd build
```

### Step 3: Configure the build

- To build GoogleTest *with* GoogleMock (default):

```bash
$ cmake ..
```

- To build GoogleTest *only* (no GoogleMock):

```bash
$ cmake .. -DBUILD_GMOCK=OFF
```

### Step 4: Build the libraries

```bash
$ cmake --build .
```

On Unix platforms, you can also use `make`:

```bash
$ make
```

### Step 5: (Optional) Install GoogleTest and GoogleMock

With appropriate permissions, install to system directories (usually `/usr/local`):

```bash
$ sudo make install
```

This makes the libraries and headers available globally.

---

### Platform Notes

- **Linux/macOS:** All commands can be run in a terminal.
- **Windows:** Use either "Developer Command Prompt for VS" or PowerShell with CMake and build tools in PATH.

---

### Using GoogleTest in your projects via CMake

- Use `find_package(GTest REQUIRED)` if installed.
- Link your target with `GTest::gtest`, `GTest::gtest_main`, `GTest::gmock`, or `GTest::gmock_main` according to your needs.

Example snippet in your `CMakeLists.txt`:

```cmake
find_package(GTest REQUIRED)

add_executable(MyTests my_tests.cc)
target_link_libraries(MyTests GTest::gmock_main)
add_test(NAME MyTests COMMAND MyTests)
```

For more details and troubleshooting, see the [Build with CMake guide](/overview/use-cases-integration/integration-with-build-systems).

---

## 2. Installing with Bazel

If you use Bazel as your build system, adding GoogleTest and GoogleMock is straightforward.

### Step 1: Add GoogleTest dependency

In your `WORKSPACE` file, add the official GoogleTest GitHub repository or use the remote repository rules:

```bazel
http_archive(
    name = "com_google_googletest",
    urls = ["https://github.com/google/googletest/archive/main.zip"],
    strip_prefix = "googletest-main",
)
```

### Step 2: Declare dependencies in your `BUILD` files

```bazel
cc_test(
    name = "my_tests",
    srcs = ["my_tests.cc"],
    deps = ["@com_google_googletest//googletest:gtest_main", "@com_google_googletest//googlemock:gmock_main"],
)
```

### Step 3: Build and run tests

```bash
$ bazel test //path/to:my_tests
```

Bazel automatically handles downloading and building GoogleTest.

---

## 3. Manual Integration

If you prefer manual integration, you can build GoogleTest and GoogleMock as source in your project.

### Step 1: Include source files

Copy the following directories into your project repository or reference them as submodules:

- `googletest/include/gtest`
- `googletest/src`
- `googlemock/include/gmock`
- `googlemock/src`

### Step 2: Add source files to your build system

Compile and link** gtest-all.cc** and **gmock-all.cc** along with your test sources.

### Step 3: Example commands

```bash
# Compile gtest and gmock individually
$ g++ -std=c++17 -Igoogletest/include -Igooglemock/include googlemock/src/gmock-all.cc googletest/src/gtest-all.cc -c
# Compile your test source
$ g++ -std=c++17 -Igoogletest/include -Igooglemock/include my_tests.cc -c
# Link everything
$ g++ gmock-all.o gtest-all.o my_tests.o -pthread -o my_tests
```

Note:
- Always compile with C++17 or higher.
- Link with pthread on Linux/macOS.
- Include the appropriate header search paths.

---

## Verification After Installation

After you install GoogleTest and GoogleMock via any method, verify the installation:

- Build and run a simple test (see [Write and Build Your First Test](/getting-started/first-test-run/create-first-test))
- Confirm that your build links against `gtest` and optionally `gmock`
- Run `RUN_ALL_TESTS()` and ensure tests execute successfully

---

## Additional Resources

- GoogleTest [Primer](https://github.com/google/googletest/blob/main/docs/primer.md) for the basics of writing tests
- [Integration with Build Systems](/overview/use-cases-integration/integration-with-build-systems) for advanced build integration details
- [Mocking Reference](docs/reference/mocking.md) for working with GoogleMock

---

If you encounter issues during installation, please consult the [Troubleshooting Common Setup Issues](/getting-started/troubleshooting/common-setup-issues) page.

If you want to get started quickly, try the [Setup and Quickstart Guide](/guides/getting-started/setup-quickstart).

---