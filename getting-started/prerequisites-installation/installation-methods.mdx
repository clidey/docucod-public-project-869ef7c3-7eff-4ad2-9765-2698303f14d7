---
title: "Installation on Different Platforms"
description: "Step-by-step instructions to install GoogleTest and GoogleMock using popular approaches such as CMake, Bazel, and manual build. Covers Windows, macOS, and Linux with commands and troubleshooting tips for each method."
---

# Installation on Different Platforms

This guide walks you through installing GoogleTest and GoogleMock on Windows, macOS, and Linux using popular methods: CMake, Bazel, and manual build. Each section provides tested commands, platform-specific tips, and troubleshooting advice to ensure a successful setup.

---

## 1. Prerequisites & System Requirements

Before installation, ensure your system meets the following:

- **Supported Platforms:** Windows, macOS, Linux
- **Compiler Support:** A C++17-compliant compiler (e.g., GCC 7+, Clang 5+, MSVC 2017+)
- **Build Tools:**
  - CMake (version 3.13 or later recommended)
  - Bazel (if using Bazel builds)
  - A working compiler toolchain (e.g., Visual Studio, Xcode, gcc)
- **Additional tools for manual:** `make` or equivalent build tool

<Tip>
Check your compiler version by running:

```bash
# GCC
gcc --version

# Clang
clang --version

# MSVC
cl
```

Ensure your CMake version is 3.13 or higher with `cmake --version`.
</Tip>

---

## 2. Installing Using CMake

GoogleTest is distributed with a CMake build script that supports multiple platforms and simplifies the build process.

### 2.1 Clone the Repository

Begin by cloning GoogleTest (includes GoogleMock):

```bash
git clone https://github.com/google/googletest.git -b main
googletest
```

### 2.2 Build and Install

#### For Linux/macOS:

```bash
cd googletest
mkdir build && cd build
cmake ..                   # Generate build files with GoogleMock included by default
make                       # Build libraries
sudo make install          # Install headers and libraries system-wide
```

If you want to build only GoogleTest (no GoogleMock):

```bash
cmake .. -DBUILD_GMOCK=OFF
make
sudo make install
```

#### For Windows with Visual Studio:

1. Open a developer command prompt.
2. Execute:

```powershell
cd googletest
mkdir build
cd build
cmake ..                # Generates Visual Studio project files
cmake --build .         # Builds libraries
cmake --install .       # Installs libraries and headers
```

Alternatively, open the generated solution (`gtest.sln`) in Visual Studio and build.

### 2.3 Verify Installation

Confirm `gtest` and `gmock` headers are installed (e.g., under `/usr/local/include` or `%ProgramFiles%` on Windows).

You can link them in projects using `find_package(GTest CONFIG REQUIRED)` and linking `GTest::gtest` or `GTest::gmock_main`.

### 2.4 Integrate Into Existing CMake Projects

For projects already using CMake, either link against the installed libraries or add GoogleTest as a git submodule and include it with `add_subdirectory()`.

Sample usage in your `CMakeLists.txt`:

```cmake
find_package(GTest CONFIG REQUIRED)
add_executable(my_tests test.cpp)
target_link_libraries(my_tests GTest::gtest_main)
add_test(NAME my_tests COMMAND my_tests)
```

<Tip>
Use the CMake option `-Dgtest_force_shared_crt=ON` on Windows if your project uses dynamic MSVC runtimes to avoid runtime mismatch errors.
</Tip>

<Warning>
GoogleTest requires C++17 standard. Ensure your project sets `CMAKE_CXX_STANDARD` to 17 or higher.
</Warning>

---

## 3. Installing Using Bazel

GoogleTest supports Bazel for builds, fitting well with CI pipelines and large-scale projects.

### 3.1 Add GoogleTest to WORKSPACE

Add a git_repository rule to your Bazel WORKSPACE file:

```python
http_archive(
    name = "com_google_googletest",
    urls = [
        "https://github.com/google/googletest/archive/main.zip",
    ],
    strip_prefix = "googletest-main",
    sha256 = "<insert-latest-sha256>"
)
```

Replace `<insert-latest-sha256>` with the SHA256 of the archive.

### 3.2 Load and Use in BUILD Files

In your BUILD file, declare dependencies on `@com_google_googletest//:gtest` and/or `:gmock`.

Example:

```python
cc_test(
    name = "my_test",
    srcs = ["my_test.cc"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

Run tests with:

```bash
bazel test //path/to:my_test
```

<Tip>
Ensure Bazel is installed and up-to-date for best compatibility.

If you encounter build errors, verify the repository URL and SHA256 are correct.
</Tip>

---

## 4. Manual Build Installation

If you prefer or require manual build without CMake, follow these steps.

### 4.1 Clone GoogleTest

```bash
git clone https://github.com/google/googletest.git -b main
googletest
```

### 4.2 Build With Make (Linux/macOS)

```bash
cd googletest
gmake -j$(nproc)
```

or with GNU Make:

```bash
make -j$(nproc) -C googletest
make -j$(nproc) -C googlemock
```

### 4.3 Build on Windows

Create a Visual Studio project manually or open the solution generated by CMake and build the static libraries:

- Build `gtest` and `gmock` static libraries.
- Link these libraries with your tests manually.

### 4.4 Link Libraries in Your Project

Add `-I` flags to include `googletest/include` and `googlemock/include` headers.

Link against `libgtest.a`, `libgmock.a` or their static/dynamic equivalents.

### 4.5 Compile and Run

An example g++ command:

```bash
g++ -std=c++17 -isystem googletest/include -isystem googlemock/include \
    -pthread test.cpp \
    googletest/libgtest.a googlemock/libgmock.a -o test_binary
./test_binary
```

<Tip>
Link with `-pthread` on Linux/macOS to avoid threading link errors.
</Tip>

---

## 5. Platform-Specific Tips and Known Pitfalls

### 5.1 Windows

- Use Visual Studio Developer Command Prompt for environment setup.
- Enable `gtest_force_shared_crt` option in CMake to avoid runtime library mismatches.
- Building as shared libraries is optional but ensure DLLs are accessible.

### 5.2 macOS

- Xcode command line tools should be installed (`xcode-select --install`).
- Use Homebrew to install CMake if missing.

### 5.3 Linux

- Install build essentials: `build-essential`, `cmake`, `git`.
- Use your distro's package manager to fetch dependencies.

### 5.4 Troubleshooting Build Errors

<AccordionGroup title="Common Issues & Solutions">
<Accordion title="CMake Unable to Find Compiler">
Ensure your compiler is installed and in your PATH.
Example:

```bash
which g++
which clang++
```

If missing, install or configure your environment.
</Accordion>
<Accordion title="Runtime Library Mismatch on Windows">
Enable `-Dgtest_force_shared_crt=ON` in CMake:

```bash
cmake .. -Dgtest_force_shared_crt=ON
```
</Accordion>
<Accordion title="Undefined References to pthread Functions">
Make sure to link with pthread: add `-pthread` to compiler and linker flags.
</Accordion>
<Accordion title="Test Binary Runs but Reports No Tests Found">
Verify that tests are registered with the framework and linked with `gtest_main` or `gmock_main`.
</Accordion>
</AccordionGroup>

---

## 6. Running Your First Tests

Once installed, create a simple test file `example_test.cpp`:

```c++
#include <gtest/gtest.h>

TEST(SampleTest, BasicAssertions) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_TRUE(true);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile linking with `gtest_main` or provide your own main:

```bash
g++ -std=c++17 example_test.cpp -lgtest_main -lpthread -o example_test
./example_test
```

You should see output showing tests running and results, confirming installation success.

<Tip>
To avoid writing your own `main()`, link against `gtest_main` or `gmock_main` which provide a standard entry point.
</Tip>

---

## 7. Next Steps & Additional Resources

- Explore [Setup and Project Integration](/getting-started/configuration-first-run/configuration-setup) to include GoogleTest in your projects.
- Learn to write your first test using [Your First Test: From Source to Success](/getting-started/configuration-first-run/your-first-test).
- For specialized build system integration, see [Integration Points & Ecosystem Support](/overview/architecture-features/integration-entrypoints).
- Review troubleshooting tips in [Troubleshooting Common Setup Issues](/getting-started/validation-troubleshooting/common-issues).

<Tip>
Visit the official [GoogleTest GitHub repository](https://github.com/google/googletest) for latest releases, examples, and community-contributed solutions.
</Tip>

---

# Summary

This guide empowers you to install and get started with GoogleTest and GoogleMock on Windows, macOS, and Linux via CMake, Bazel, or manual builds. It balances simplicity and practical depth with platform-specific advice and troubleshooting. After following this guide, you'll be ready to integrate GoogleTest into your C++ projects and start writing effective tests.

---