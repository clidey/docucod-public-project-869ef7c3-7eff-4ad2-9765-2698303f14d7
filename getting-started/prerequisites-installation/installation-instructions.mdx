---
title: "Installation Instructions"
description: "Step-by-step instructions for downloading and installing GoogleTest using multiple methods, including CMake and Bazel. Covers platform-specific processes for Linux, macOS, and Windows."
---

# Installation Instructions for GoogleTest

This guide provides step-by-step instructions to download, build, and install GoogleTest on Linux, macOS, and Windows platforms using multiple methods including standalone CMake builds and integration with existing CMake projects. It ensures you have a practical, clear path to get GoogleTest up and running for your C++ testing needs.

---

## 1. Prerequisites

Before installing GoogleTest, ensure your system meets the following requirements:

- **C++17 Compiler:** GoogleTest requires a compiler with C++17 support (GCC 7+, Clang 5+, MSVC 2017+).
- **Build Tools:** CMake 3.14 or later is required for configuring builds.
- **Platform Requirements:** Supported on Linux, macOS, and Windows.
- **Optional:** Git to clone the repository.

For details on system requirements and supported platforms, see [System Requirements & Supported Platforms](../prerequisites-installation/system-requirements).

---

## 2. Installation Methods

Choose the method below that best fits your development environment.

### 2.1 Standalone Build Using CMake

This method is ideal if you want to build and install GoogleTest separately.

#### Step 1: Clone GoogleTest Repository

Open your terminal and run:

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
```

#### Step 2: Create a Build Directory

```bash
mkdir build
cd build
```

#### Step 3: Configure the Build

To build both GoogleTest and GoogleMock (recommended):

```bash
cmake ..
```

To build only GoogleTest (without GoogleMock):

```bash
cmake .. -DBUILD_GMOCK=OFF
```

> Tip: On Windows, you can run CMake from PowerShell or cmd. On macOS/Linux, use your terminal shell.

#### Step 4: Build the Library

- **On Linux/macOS**:

```bash
make
```

- **On Windows (Visual Studio):**

Open the generated `.sln` file (e.g., `gtest.sln`) in Visual Studio and build the solution.

#### Step 5: Optional - Install to System

If you have administrator privileges and want to install GoogleTest headers and libraries system-wide:

- **Linux/macOS:**

```bash
sudo make install
```

- **Windows:**

Install manually or set up your Visual Studio environment to reference built libraries.

#### Step 6: Verify Installation

Check that the include files and built libraries are available in the install directories (e.g., `/usr/local/include/gtest` and `/usr/local/lib`).

---

### 2.2 Integrate GoogleTest Into Your Existing CMake Project

Rather than building GoogleTest standalone, you can build it as part of your project's build process. This method ensures consistent compiler options and easier dependency management.

#### Option A: Using Installed GoogleTest

If GoogleTest is installed on your system, import it by adding the following to your `CMakeLists.txt`:

```cmake
find_package(GTest CONFIG REQUIRED)

add_executable(your_test your_test.cpp)
target_link_libraries(your_test PRIVATE GTest::gtest GTest::gtest_main)
```

#### Option B: Build GoogleTest Within Your Project

Download GoogleTest source or add it as a submodule and include it by adding:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
# For Windows: Prevent runtime mismatch
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
FetchContent_MakeAvailable(googletest)

add_executable(your_test your_test.cpp)
target_link_libraries(your_test PRIVATE gtest_main)
add_test(NAME your_test COMMAND your_test)
```

This requires **CMake 3.14 or later**.

---

### 2.3 Bazel Build (Brief Mention)

GoogleTest can also be built and integrated via Bazel. Since this page focuses on CMake and platform-specific installation, refer to the [Supported Platforms & Integration](../../overview/architecture-features-integration/platforms-and-integration) for detailed Bazel setup instructions.

---

## 3. Platform-Specific Notes

### Linux/macOS

- Make sure you have `make` and CMake installed.
- Use package managers to install CMake if missing: `sudo apt install cmake` (Ubuntu) or `brew install cmake` (macOS).
- `sudo make install` requires root access.

### Windows

- Use CMake GUI or command line targeting your Visual Studio version.
- Visual Studio solution files (`.sln`) and project files (`.vcxproj`) are generated.
- Use CMake option `-DBUILD_SHARED_LIBS=ON` if you want to build DLL versions.

<Tip>
To avoid runtime library mismatches on Windows (common with Visual Studio), enable:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

This aligns GoogleTest's runtime library linkage with your project.
</Tip>

---

## 4. Verification

After building GoogleTest, create and compile a small test to verify installation:

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, AssertionTrue) {
  EXPECT_TRUE(true);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile linking to `gtest_main`:

```bash
g++ -std=c++17 sample_test.cpp -lgtest_main -pthread -o sample_test
./sample_test
```

You should see GoogleTest run the first test successfully.

---

## 5. Troubleshooting Common Issues

<AccordionGroup title="Common Installation Issues and Solutions">
<Accordion title="CMake Version Too Low">
Ensure you have **CMake 3.14+** for FetchContent features. Update CMake if older:
- On Ubuntu: `sudo apt-get install cmake`
- On macOS (Homebrew): `brew upgrade cmake`
</Accordion>
<Accordion title="Runtime Library Mismatch on Windows">
Enable `gtest_force_shared_crt` to match your Visual Studio runtime linking:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

Also, ensure Debug and Release modes use matching runtimes.
</Accordion>
<Accordion title="Missing pthread on Linux">
On some Linux systems, the pthread library is required. The CMake scripts handle this automatically, but if you use custom build scripts, link with `-pthread`.
</Accordion>
<Accordion title="Make or Build Command Not Found">
Make sure build tools like `make` (Linux/macOS) or Visual Studio (Windows) are installed and in your system PATH.
</Accordion>
</AccordionGroup>

---

## 6. Additional Tips

- Always specify the C++17 standard in your project to ensure compatibility:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

- If you want only GoogleTest without GoogleMock, pass `-DBUILD_GMOCK=OFF` to `cmake`.

- For continuous integration, embedding GoogleTest with FetchContent is recommended for automated builds.

- GoogleTest can be compiled as shared or static libraries. Static linking is simplest; shared libraries require extra linker flags.

---

## 7. Next Steps

- After installation, move to configuring your **project** as described in [Project Configuration](../configuration-initial-run/project-setup).
- Try writing and running your [First Unit Test](../configuration-initial-run/first-test).
- If you encounter issues, visit [Troubleshooting Installation & Configuration](../../troubleshooting-common-issues/common-setup-issues) for detailed guidance.

---

## 8. References

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [GoogleTest Official CMakeLists.txt](https://github.com/google/googletest/blob/main/CMakeLists.txt)
- [System Requirements & Supported Platforms](../prerequisites-installation/system-requirements)
- [Supported Platforms & Integration](../../overview/architecture-features-integration/platforms-and-integration)
- [Troubleshooting Installation & Configuration](../../troubleshooting-common-issues/common-setup-issues)


---