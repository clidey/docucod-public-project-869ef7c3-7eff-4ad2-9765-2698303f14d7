---
title: "Installation on Linux, macOS, and Windows"
description: "Follow platform-specific installation steps using CMake, Bazel, or manual builds to integrate GoogleTest and GoogleMock into your C++ projects. Detailed guides for major operating systems ensure you get up and running smoothly."
---

# Installation on Linux, macOS, and Windows

This guide walks you through the platform-specific steps to install and build GoogleTest and GoogleMock, the robust open-source C++ testing and mocking frameworks by Google. Whether you're using CMake, Bazel, or prefer manual builds, these instructions will ensure GoogleTest and GoogleMock are properly integrated into your C++ projects across Linux, macOS, and Windows.

---

## 1. Prerequisites & System Requirements

Before you begin, ensure your development environment meets the following:

- **C++17 Support**: Your compiler must support at least the C++17 standard.
- **Supported Platforms**: Linux, macOS, and Windows are all supported platforms.
- **Build Tools**:
  - CMake (3.14 or higher recommended)
  - Bazel (if using Bazel builds)
  - Native build tools like Make, Visual Studio, or Xcode
- **Dependencies**:
  - Threading libraries: GoogleTest uses pthread on Unix-like platforms.
  - Internet access (if downloading dependencies or cloning repositories)

> See the [System Requirements](../prerequisites-installation/system-requirements) page for detailed platform compatibility.

---

## 2. Installation Methods

GoogleTest and GoogleMock support multiple build and installation methods tailored for different workflows.

### 2.1 Build Using CMake (Recommended)

#### Standalone Build

Follow these steps to build GoogleTest and GoogleMock as standalone projects.

1. Clone the repository, specifying the version or branch you want:

```bash
# Clone GoogleTest repo
$ git clone https://github.com/google/googletest.git -b main
d$ cd googletest
```

2. Create a build directory and invoke CMake:

```bash
# Create and enter build dir
d$ mkdir build && cd build

# Generate build files with GoogleMock included (default)
$ cmake ..

# OR generate build files with only GoogleTest
$ cmake .. -DBUILD_GMOCK=OFF
```

3. Build the libraries and optionally install:

```bash
$ make

# (Optional) Use sudo for system-wide install
$ sudo make install
```

> On Windows, CMake generates Visual Studio solution files which you can open and build within Visual Studio.
> On macOS, Xcode project files may be generated.

#### Incorporate into Your Existing CMake Project

- Use `find_package(GTest CONFIG REQUIRED)` if GoogleTest is installed.
- Link your tests to `GTest::gtest` or `GTest::gmock` for GoogleMock support.

Alternatively, add GoogleTest as a subdirectory in your project:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/refs/tags/v1.17.0.zip
)
FetchContent_MakeAvailable(googletest)

add_executable(my_tests my_tests.cpp)
target_link_libraries(my_tests gtest_main)
add_test(NAME my_tests COMMAND my_tests)
```

> This ensures all compiler flags and settings are consistent across your project.

---

### 2.2 Build with Bazel

GoogleTest ships with Bazel build definitions for those using Bazel in their projects.

- The core Bazel targets include `//:gtest`, `//:gtest_main`, and `//:gtest_for_library`.
- Bazel automatically handles dependencies like pthread where applicable.
- To run tests, define Bazel test targets depending on these libraries.

Steps:

1. Add GoogleTest to your Bazel workspace.
2. Depend on Bazel targets such as `@com_google_googletest//:gtest_main` in your `BUILD` files.
3. Build and run tests using Bazel commands.

> Refer to the BUILD.bazel file for examples and to your Bazel build system’s documentation for configuration details.

---

### 2.3 Manual Builds (Without CMake or Bazel)

If you prefer manual builds or have custom build scripts:

1. Include the GoogleTest headers from `googletest/include/gtest/` and GoogleMock headers from `googlemock/include/gmock/`.
2. Compile the source files from:
   - `googletest/src/*.cc`
   - `googlemock/src/*.cc`
3. Ensure you compile your tests with the `-std=c++17` flag.
4. Link your tests against the compiled GoogleTest/GoogleMock object files or static libraries.

> You must add pthread linking on Unix-like systems: e.g., `-pthread` compiler and linker flag.

---

## 3. Platform-Specific Notes

### Linux/macOS

- Standard `make` or Ninja can be used post-CMake generation.
- Pthread is automatically detected and linked.
- For default installs, GoogleTest and GoogleMock are installed in `/usr/local/`.

### Windows

- Visual Studio solutions are generated by CMake.
- By default, CMake configures static runtime linkage. Use `-Dgtest_force_shared_crt=ON` if you want dynamic runtimes.
- You can build with MSVC Command Prompt using generated `.sln` files.

<Tip>
On Windows, ensure Visual Studio’s C++ workload is installed before building.
</Tip>

---

## 4. Verification

After building and installing GoogleTest and GoogleMock, verify your setup:

1. Create a simple test file, e.g., `sample_test.cpp`:

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, Passes) {
    EXPECT_EQ(1, 1);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

2. Compile it linking against GoogleTest libraries.
3. Run the executable; you should see output indicating tests passed.

```bash
$ ./sample_test
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.Passes
[       OK ] SampleTest.Passes (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

---

## 5. Troubleshooting Common Installation Issues

<AccordionGroup title="Common Installation Problems and Solutions">
<Accordion title="CMake cannot find pthread library on Linux">
Ensure pthread development headers and libraries are installed.
On Debian/Ubuntu, run:

```bash
sudo apt-get install libpthread-stubs0-dev
```

Also confirm CMake output detects pthread in your configuration.
</Accordion>
<Accordion title="Windows build fails due to runtime mismatch">
Use the CMake option `-Dgtest_force_shared_crt=ON` to align runtime linkage with your project.
Also, ensure Visual Studio version supports C++17.
</Accordion>
<Accordion title="Link errors when building manually">
Add the `-pthread` flag to both compilation and linking commands on Linux/macOS.
Ensure all GoogleTest source files are compiled and linked.
</Accordion>
</AccordionGroup>

---

## 6. Next Steps

- Once installed, learn how to start writing your first tests by visiting the [Writing Your First Test](../first-steps-with-tests/writing-first-test) guide.
- Explore [Building and Configuring Your Project](../prerequisites-installation/building-configuring-project) for more advanced setup options.
- For deeper integration, check out the [Integration and Dependencies](../../overview/architecture-integration-usecases/integration-and-dependencies) guide.

---

## References

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [CMake Official Website](https://cmake.org/)
- [System Requirements](../prerequisites-installation/system-requirements)
- [Bazel Build Documentation](https://docs.bazel.build/)

---