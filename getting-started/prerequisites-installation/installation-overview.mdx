---
title: "Installation Overview"
description: "A comprehensive overview of installation workflows, comparing manual, CMake, and Bazel processes. Directs users to detailed, platform-specific installation instructions."
---

# Installation Overview

GoogleTest and GoogleMock offer flexible installation workflows designed to fit different project setups and user preferences. This guide provides a comprehensive comparison of the main installation methods—manual setup, CMake-based builds, and Bazel integration—and points you to detailed, platform-specific instructions.

---

## 1. Overview of Installation Workflows

You can install GoogleTest and GoogleMock using one of the following approaches:

- **Manual Installation**: Download and build the source manually, then link against the compiled libraries.
- **CMake Integration**: Use CMake to build and optionally install GoogleTest and GoogleMock, either standalone or embedded within your existing project.
- **Bazel Build**: Use Bazel build system to incorporate GoogleTest into your project with minimal configuration.

Each method serves different use cases depending on your development environment, build system preference, and target platform.

---

## 2. Manual Installation

Manual installation is valuable if you want full control over the build and installation, or if your build system does not support CMake or Bazel.

### Steps:

1. **Clone the repository**:

    ```bash
    git clone https://github.com/google/googletest.git
    cd googletest
    ```

2. **Build the source**:

    - On Unix-like systems with `make`:

      ```bash
      mkdir build
      cd build
      cmake ..
      make
      ```

    - On Windows, open the generated Visual Studio solution (`gtest.sln`) and build.

3. **Install (optional)**:

    Install to system directories (requires admin privileges):

    ```bash
    sudo make install
    ```

4. **Link in your projects**:

    Link against the built `libgtest.a`, `libgmock.a`, or respective dynamic libraries.

### Verification:

- Confirm built libraries exist in your `build` directory (e.g., `libgtest.a` or `gtest.lib`).
- Run the example tests with `ctest` or directly execute test binaries to verify correctness.

### Tips and Pitfalls:

- Cloning a specific release tag (e.g., `v1.17.0`) ensures stable builds.
- Remember to specify C++17 in your compiler flags.
- On Windows, ensure runtime libraries match between GoogleTest and your project to avoid linker errors.

---

## 3. Installation with CMake

CMake is the recommended approach for many users, providing seamless integration and easy configuration.

### Standalone GoogleTest Build:

1. Clone the repo and create a build directory:

    ```bash
    git clone https://github.com/google/googletest.git -b v1.17.0
    cd googletest
    mkdir build
    cd build
    ```

2. Generate native build scripts:

    ```bash
    cmake ..
    ```

    To build only GoogleTest (without GoogleMock):

    ```bash
    cmake .. -DBUILD_GMOCK=OFF
    ```

3. Build the libraries:

    ```bash
    make
    ```

4. Install (optional):

    ```bash
    sudo make install
    ```

### Integrating GoogleTest into Your CMake Project:

- Use `FetchContent` to automatically download and add GoogleTest at configure time.

Example snippet for your `CMakeLists.txt`:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE) # For Windows compatibility
FetchContent_MakeAvailable(googletest)

add_executable(example example.cpp)
target_link_libraries(example gtest_main)
add_test(NAME example_test COMMAND example)
```

### Important Configuration Notes:

- Requires CMake 3.14 or later.
- Set `CMAKE_CXX_STANDARD` to 17 or above in your project or pass appropriate flags.
- Use `gtest_force_shared_crt` on Windows to avoid runtime library mismatches.

### Verification:

- `cmake` output shows found targets `gtest`, `gtest_main`, `gmock`, and `gmock_main`.
- Run your tests with `ctest` or via the executable.

### Troubleshooting:

- Linking errors on Windows generally relate to runtime mismatch—ensure `gtest_force_shared_crt` is enabled.
- Missing pthread linkage on Unix-like systems—add `-pthread` compiler and linker flags.

---

## 4. Bazel Build Integration

For projects using Bazel, standard Bazel rules support GoogleTest as a dependency.

### Steps:

1. Add GoogleTest as a Bazel external repository.
2. Declare dependencies on GoogleTest targets in your `BUILD` files.

Example `WORKSPACE` snippet:

```python
http_archive(
    name = "com_google_googletest",
    urls = ["https://github.com/google/googletest/archive/release-1.11.0.tar.gz"],
    strip_prefix = "googletest-release-1.11.0",
)
```

Example usage in `BUILD`:

```python
cc_test(
    name = "my_test",
    srcs = ["my_test.cpp"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

### Verification:

Build your tests with Bazel and run them via `bazel test`.

---

## 5. Summary Comparison

<CardGroup cols={3}>
<Card title="Manual Installation">
- Greatest control over build.
- Requires manual build and linking.
- Useful for non-CMake or legacy build systems.
</Card>
<Card title="CMake Integration">
- Recommended method.
- Easy integration for standalone or CMake projects.
- Supports automatic download via FetchContent.
</Card>
<Card title="Bazel Integration">
- Ideal for Bazel-based projects.
- Simple workspace and build file setup.
- Automatic dependency management.
</Card>
</CardGroup>

---

## 6. Next Steps & Links

- Follow platform-specific installation instructions for detailed deployment:
  - [System Requirements](../../getting-started/prerequisites-installation/system-requirements)
  - [Platform-Specific Setup](../../getting-started/prerequisites-installation/platform-specific-instructions)
- Begin writing tests: [GoogleTest Primer](../../docs/primer.md)
- Explore mocking: [GoogleMock README](../../googlemock/README.md)
- Set up your project build with GoogleTest and GoogleMock: [Project Setup Guide](/guides/getting_started/project_setup)

---

## 7. Troubleshooting Common Issues

<AccordionGroup title="Installation Troubleshooting">
<Accordion title="Build Fails Due to Missing C++17 Support">
Ensure your compiler supports C++17 or higher. Set the `-std=c++17` flag or configure `CMAKE_CXX_STANDARD` properly.
</Accordion>
<Accordion title="Linker Errors on Windows">
Enable `gtest_force_shared_crt` in your CMake configuration to align runtimes, or adjust Visual Studio runtime settings to be consistent.
</Accordion>
<Accordion title="Pthread Library Not Found on Linux/Unix">
Add `-pthread` flag to both compiler and linker options.
</Accordion>
<Accordion title="Tests Not Running or Not Discovered">
Verify you are linking against the appropriate main library such as `gtest_main` or `gmock_main`, which provide the `main()` function.
</Accordion>
</AccordionGroup>

---

By choosing the installation approach best suited to your environment and project, you can rapidly incorporate GoogleTest and GoogleMock into your testing workflow, ensuring reliable, maintainable C++ tests.


---

<Check>
Make sure to consult platform-specific setup guides after installation to configure your environment optimally.
</Check>

<Info>
The installation workflows described here are continuously improved; refer to the [GitHub repo](https://github.com/google/googletest) for the latest updates.
</Info>
