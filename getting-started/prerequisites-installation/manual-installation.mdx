---
title: "Manual Installation & Source Build"
description: "Instructions for manually building and incorporating GoogleTest into projects where CMake or Bazel are not an option. Walks users through downloading, compiling, and linking the library by hand."
---

# Manual Installation & Source Build

This guide provides clear instructions for manually downloading, building, and integrating GoogleTest into your projects when automated tools like CMake or Bazel are not an option. Follow these steps to compile the GoogleTest source code and link the resulting libraries by hand.

---

## 1. Prerequisites & System Requirements

- **Operating System:** Compatible with Linux, macOS, Windows, and others supporting standard build tools
- **Compiler:** A C++17-compliant compiler (e.g., GCC 7+, Clang 6+, MSVC 2017+)
- **Build Tools:** Basic tools such as `make`, `ninja`, or your system's compiler build commands
- **Permissions:** Read and write access in your build and install directory

<Tip>
Having the latest stable release of your compiler and build tools ensures smoother compilation and fewer compatibility issues.
</Tip>

## 2. Downloading the GoogleTest Source

You need to fetch the GoogleTest source code manually.

### Step 1: Clone or Download from GitHub

Using Git:

```bash
# Clone the repository (for stable releases, replace with a tag or branch as needed)
git clone https://github.com/google/googletest.git
cd googletest
```

Or download the ZIP archive from GitHub:

- <https://github.com/google/googletest/archive/refs/heads/main.zip>

Unpack the archive and navigate into the extracted `googletest` directory.

<Tip>
Ensure your network or proxy setup allows you to reach GitHub or download archives.
</Tip>

## 3. Building GoogleTest Manually

In the absence of CMake or Bazel, you can build GoogleTest by compiling the source files directly.

### Step 1: Locate Source Files

GoogleTest's main source files are in the following directories:

- `googletest/src`
- `googlemock/src` (included with GoogleTest repository, if you want GoogleMock)

### Step 2: Compile Source Files into Object Files or Static Libraries

You can create static libraries (`.a` or `.lib`) for reuse.

Using GCC or Clang (Linux/macOS):

```bash
# Compile GoogleTest sources
clang++ -std=c++17 -isystem googletest/include -isystem googlemock/include -Igoogletest -Igooglemock -c googletest/src/gtest-all.cc
clang++ -std=c++17 -isystem googletest/include -isystem googlemock/include -Igoogletest -Igooglemock -c googlemock/src/gmock-all.cc

# Create static libraries
ar rcs libgtest.a gtest-all.o
ar rcs libgmock.a gmock-all.o
```

Using MSVC (Windows) from Developer Command Prompt:

```batch
cl /EHsc /I googletest/include /I googlemock/include /I googletest /I googlemock /c googletest\src\gtest-all.cc
lib /OUT:gtest.lib gtest-all.obj
cl /EHsc /I googletest/include /I googlemock/include /I googletest /I googlemock /c googlemock\src\gmock-all.cc
lib /OUT:gmock.lib gmock-all.obj
```

### Step 3: Link Your Test Executable

When linking your test program, include these libraries and link against pthread (Linux/macOS) if necessary:

```bash
clang++ -std=c++17 your_test.cc -Lpath/to/libs -lgtest -lgmock -lpthread -o your_test
```

Or with MSVC (adjust paths and names accordingly):

```batch
cl /EHsc your_test.cc gtest.lib gmock.lib
```

<Tip>
Make sure the include paths match the location of header files in your build commands.
</Tip>

## 4. Linking GoogleTest Without CMake or Bazel

When manually configuring your project or IDE:

- Add `googletest/include` and `googlemock/include` (if using GoogleMock) to your project's include directories.
- Add the compiled static libraries (`libgtest.a`, `libgmock.a` or their equivalents) to your linker's input.
- Link necessary platform libraries:
  - On POSIX systems, add `-lpthread`.
  - On Windows, ensure the relevant system libraries are linked.

## 5. Running Your First Test

Once built and linked, running your test executable should execute your GoogleTest tests and output results to the console.

```bash
./your_test
```

You should see output similar to:

```
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[ RUN      ] ExampleTest.DoesFoo
[       OK ] ExampleTest.DoesFoo (0 ms)
[----------] 1 test from ExampleTest (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 1 test.
```

## 6. Troubleshooting Common Issues

<AccordionGroup title="Manual Build Troubleshooting">
<Accordion title="Compilation Errors Related to C++ Standard">
<p>If you encounter errors about unsupported features or unknown flags, confirm that your compiler supports at least C++17. Upgrade your compiler if necessary or specify the proper flags (`-std=c++17`).</p>
</Accordion>
<Accordion title="Missing Pthread on Linux/macOS">
<p>If linking fails with pthread-related errors, ensure to add <code>-lpthread</code> to your linker command.</p>
</Accordion>
<Accordion title="Include Path Errors">
<p>Errors about missing headers usually indicate incorrect include paths. Double-check that your compile commands use the correct relative or absolute paths to the <code>googletest/include</code> and <code>googlemock/include</code> folders.</p>
</Accordion>
<Accordion title="Linker Cannot Find GoogleTest Libraries">
<p>Make sure the compiled static libraries are correctly named and placed in directories the linker searches. Use the <code>-L</code> flag on Unix-like systems or adjust Visual Studio library paths on Windows.</p>
</Accordion>
<Accordion title="Tests Do Not Run or No Output Shown">
<p>Verify that your test source code either registers test cases with GoogleTest or uses the standard <code>TEST/TEST_F</code> macros. Also ensure your test executable runs without immediate crashes and standard output is visible.</p>
</Accordion>
</AccordionGroup>

## 7. Best Practices & Tips

- If your project grows complex, consider migrating to CMake or Bazel to benefit from build automation.
- When compiling manually, keep track of compiler and linker flags matching your project configuration.
- Consider building GoogleTest as a shared or static library once for your environment and reusing it.
- Verify GoogleTest and your test are built with the same compiler settings (e.g., debug vs release) to avoid ABI incompatibilities.

<Tip>
A manual build setup is suitable for simple or legacy environments, but take care to maintain consistent build configurations across your project.
</Tip>

---

For further guidance on using GoogleTest, consult the official [GoogleTest User's Guide](primer.md) and [Getting Started Guides](https://github.com/google/googletest/tree/main/docs/getting-started).

---

## Related Documentation and Resources

- [GoogleTest Primer](primer.md) — Start writing simple tests.
- [Installation with CMake](installation-cmake.md) — Recommended for automated builds.
- [Installation with Bazel](installation-bazel.md) — For Bazel build environments.
- [GoogleMock for Dummies](gmock_for_dummies.md) — Learn mocking concepts.
- Official GitHub Repository: <https://github.com/google/googletest>



