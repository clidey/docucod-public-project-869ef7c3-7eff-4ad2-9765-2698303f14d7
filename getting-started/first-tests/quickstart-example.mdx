---
title: "Quickstart: Write & Run Your First Test"
description: "Create, build, and execute a basic test suite from scratch. Walks through a simple example test case, shows how to organize test files, use basic assertions, and check the output to confirm everything works."
---

# Quickstart: Write & Run Your First Test

Welcome to your first hands-on experience with GoogleTest! This guide walks you through creating, building, and running a simple test suite for a C++ function from scratch. By the end, you will have a working test program that demonstrates core concepts like defining tests, assertions, and test execution.

---

## 1. Prepare Your Environment

Before writing your first test, ensure GoogleTest is properly installed and accessible in your build environment. If you need installation instructions, see the [Installation Guide](/getting-started/setup-requirements/installation-guide).

<Tip>
You can write your test code using any C++ IDE or a simple text editor, and compile it with your favorite build system such as CMake or Make.
</Tip>

---

## 2. Create a Test Source File

Start by creating a new C++ source file. For example, name it `factorial_test.cpp`.

Inside this file, you'll write the tests for a simple function:

```c++
// Declaration of the function we want to test.
int Factorial(int n);  // Returns the factorial of n
```

You don’t need to implement the function here; GoogleTest focuses on testing the behavior.

---

## 3. Write Your First Test Suite and Test

Use the `TEST()` macro to define your test suite and individual tests. The first argument is the test suite name, grouping related tests, and the second is the test name.

Add this example to `factorial_test.cpp`:

```c++
#include <gtest/gtest.h>

// Tests factorial of 0.
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

// Tests factorial of positive numbers.
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

Here, `EXPECT_EQ` is an assertion that checks if the value returned by `Factorial()` matches the expected result. It reports failures without aborting the test function, allowing all checks to run.

---

## 4. Provide a `main()` Function or Link with `gtest_main`

Most users can link their tests with the `gtest_main` library, which provides a default `main()` function that runs all tests.

If you prefer to write your own, add this boilerplate to your test file:

```c++
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This initializes GoogleTest, parses any command-line flags, and runs all registered tests.

---

## 5. Build Your Test Program

If you use CMake, create a minimal `CMakeLists.txt` with the following content:

```cmake
cmake_minimum_required(VERSION 3.14)
project(FactorialTest)

# Find the installed GoogleTest package
find_package(GTest REQUIRED)

add_executable(factorial_test factorial_test.cpp)

# Link the test executable to GoogleTest libraries
target_link_libraries(factorial_test GTest::gtest_main)

# Enable test discovery for 'ctest'
include(GoogleTest)
gtest_discover_tests(factorial_test)
```

Then run your build commands:

```bash
mkdir build
cd build
cmake ..
cmake --build .
```

<Tip>
If GoogleTest is not installed on your system, you can include it as a git submodule or use the FetchContent module in CMake to download it at configure time.
</Tip>

---

## 6. Run Your Tests

Execute your test binary—in this example:

```bash
./factorial_test
```

You will see output summarizing which tests passed or failed:

```
Running main() from /path/to/gtest_main.cc
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

This output confirms all tests ran successfully.

---

## 7. Interpreting Results and Next Steps

- If your tests pass, GoogleTest returns an exit code of `0`; if any test fails or crashes, it returns `1`.
- Start adding more tests to cover edge cases and other functions.
- Learn to use test fixtures (`TEST_F`) to share setup and teardown code across tests.
- Explore GoogleTest’s rich assertion set for more complex validations.

For more details, see:

- [Writing Your First Test](/guides/getting-started/writing-first-test)
- [Assertions Reference](/api-reference/core-testing-apis/assertions-and-failures)
- [Test Fixtures & Code Reuse](/guides/core-test-design/test-fixtures-sharing-code)

---

## Troubleshooting Common Issues

<AccordionGroup title="Common Problems and Their Solutions">
<Accordion title="Test Binary Fails to Link with Undefined References">
Check your build configuration ensures linking against `gtest` or `gtest_main` libraries. If you wrote your own `main()`, link with `gtest` only. If you rely on Google's default main, link `gtest_main`.
</Accordion>
<Accordion title="GoogleTest Headers Not Found">
Verify include paths are set correctly in your build system. If using CMake `find_package(GTest REQUIRED)`, this should be automatic.
</Accordion>
<Accordion title="Tests Run But Show No Output or Nothing Happens">
Make sure you call `RUN_ALL_TESTS()` and that your main function returns its result.
</Accordion>
</AccordionGroup>

<Tip>
You can run individual tests or filter test runs by using command-line flags. For example, `./factorial_test --gtest_filter=FactorialTest.HandlesZeroInput` runs only the named test.
</Tip>

---

Congratulations! You now have a solid foundation for writing and running tests using GoogleTest. Continue exploring the framework’s features to build robust, maintainable tests.

---

## References

- [GoogleTest Primer](primer.md) - For foundational concepts
- [Installation Guide](/getting-started/setup-requirements/installation-guide) - Setup instructions
- [Writing Your First Test](/guides/getting-started/writing-first-test) - More detailed test examples
- [Assertions Reference](/api-reference/core-testing-apis/assertions-and-failures) - Complete assertion listings
- [Test Fixtures & Code Reuse](/guides/core-test-design/test-fixtures-sharing-code) - For using shared setup



