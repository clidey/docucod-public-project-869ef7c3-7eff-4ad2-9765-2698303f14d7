---
title: "Validate Your Setup"
description: "How to confirm that GoogleTest/GoogleMock is correctly installed and operational. Includes running provided sample tests and checking test output to verify that your system is ready for real test development."
---

# Validate Your Setup

Confirming that your GoogleTest and GoogleMock installation is correct and your environment is ready for productive testing is the crucial next step after installation. This page guides you through running the provided sample tests and interpreting their output to ensure your system is fully operational.

---

## 1. Run the Sample Tests

GoogleTest and GoogleMock come with sample tests that verify the core functionality of the frameworks. Running these tests is the fastest way to validate your setup.

### Step-by-Step to Run Sample Tests

<Steps>
<Step title="Locate Sample Tests">
Sample test source files are included in the `googletest` and `googlemock` directories of the source tree. The `gtest` and `gmock` targets typically compile these automatically.
</Step>
<Step title="Build the Tests">
Use your build system (e.g., CMake or Bazel) to build the sample test binaries. For CMake users:
```bash
mkdir build
cd build
cmake ..
make
```
This will produce test binaries like `gtest` and `gmock` or `sample_unittest`.
</Step>
<Step title="Execute the Tests">
Run the test executable from your build directory:
```bash
./sample_unittest
```
or:
```bash
./gmock_test
```
The tests run automatically and produce a summary report of passed/failed tests.
</Step>
<Step title="Interpret the Output">
You should see a console output similar to:
```
[==========] Running 10 tests from 2 test suites.
[----------] Global test environment set-up.
[ RUN      ] ExampleTest.Succeeds
[       OK ] ExampleTest.Succeeds (0 ms)
...
[  PASSED  ] 10 tests.
[==========] 10 tests ran.
```
Successful tests indicate a valid, working setup.
</Step>
</Steps>

<Note>
If the tests fail to run or you see linking errors, verify that you followed the [Installation Guide](/getting-started/setup-requirements/installation-guide) closely and rebuilt your project correctly.
</Note>

---

## 2. Use the Provided gmock_main.cc Entry Point

For convenience, GoogleMock comes with a ready-made main function in `gmock_main.cc`. This file initializes the framework and runs all registered tests.

### Usage
- When building your test executable, link against `gmock_main` instead of providing your own `main()`.
- This entry point handles calling `testing::InitGoogleMock()`, which also initializes GoogleTest.

Example usage:

```cpp
#include <gmock/gmock.h>

int main(int argc, char** argv) {
  testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Most users can simply link `gmock_main` (provided as part of the GoogleMock distribution) without writing their own main function.

---

## 3. Verify Test Discovery and Execution

GoogleTest auto-discovers tests defined using the `TEST`, `TEST_F`, and related macros.

### Confirm Test Discovery
- When you run tests, all your defined test cases should appear in the output.
- Example:

```text
[----------] 3 tests from MyTestSuite
[ RUN      ] MyTestSuite.Test1
[       OK ] MyTestSuite.Test1
[ RUN      ] MyTestSuite.Test2
[       OK ] MyTestSuite.Test2
```

If tests are missing:
- Ensure your test files are compiled and linked into the test target.
- Ensure no naming or build system omissions impede test discovery.

---

## 4. Check GoogleMock Expectations

If you're using GoogleMock features:

- Make sure your mocks are properly defined using `MOCK_METHOD` macros.
- Set expectations using `EXPECT_CALL` and default behaviors with `ON_CALL`.
- Run tests exercising mocks to verify that expectations are satisfied.

The sample `gmock_test` executable includes built-in tests that exercise mocking functionality and report detailed messages.

---

## 5. Troubleshooting Common Issues

<AccordionGroup title="Common Problems During Setup Validation">
<Accordion title="Tests Not Found or Not Running">
- Verify all source files with tests are compiled and linked.
- Confirm your build system includes the test sources.
- Ensure correct initialization by calling `testing::InitGoogleMock()` or linking with `gmock_main`.
- Avoid overriding the main function unintentionally.
</Accordion>
<Accordion title="Linker Errors on gmock and gtest Symbols">
- Confirm library paths and include paths are set correctly.
- Rebuild the libraries if you changed compiler versions or settings.
- For CMake, import targets properly and link as shown in the [Installation Guide](/guides/getting-started/installation-setup).
</Accordion>
<Accordion title="Uninteresting Call Warnings">
- These indicate mock methods called without expectations.
- Use `NiceMock` to suppress warnings for non-critical mocks.
- Alternatively, add `EXPECT_CALL(...).Times(AnyNumber())` for methods you want to ignore.
- Do not add spurious `EXPECT_CALL`s just to silence warnings.
</Accordion>
<Accordion title="Tests Fail Unexpectedly With ‘Actions Ran Out’ or Similar">
- Review `EXPECT_CALL` usage – ensure the number of `.WillOnce()` matches expectations.
- Use `.WillRepeatedly()` for sustained behavior.
- Confirm `RetiresOnSaturation()` use if applicable.
</Accordion>
</AccordionGroup>

---

## 6. Additional Validation Tips

- Run tests with `--gmock_verbose=info` to get detailed logs on mock calls, expectations, and matches.
- Use `--gtest_repeat=N` to run tests multiple times.
- Set `--gtest_shuffle` to randomize test execution order and expose flaky tests early.

---

## 7. Next Steps

Once your setup is validated:

- Explore [Writing Your First Test](/guides/getting-started/writing-first-test) to learn test authoring.
- Learn about [Test Discovery & Execution](/guides/getting-started/test-discovery-execution).
- Refer to [Common Setup Issues](/getting-started/first-tests/common-troubleshooting) for further help.

---

<Check>
You have successfully run the sample tests.
The mock expectations match and all tests passed.
Your GoogleTest and GoogleMock environment is fully operational.
</Check>

---

## References

- [Installation Guide](../setup-requirements/installation-guide)
- [Writing Your First Test](../writing-first-test)
- [Mocking Reference](../../reference/mocking.md)
- [Common Troubleshooting](../first-tests/common-troubleshooting)

---

*This completes validation of your GoogleTest/GoogleMock installation and confirms readiness for real test development.*

---

#### Source
You can check the main entry point source [gmock_main.cc here](https://github.com/google/googletest/blob/main/googlemock/src/gmock_main.cc).

---

