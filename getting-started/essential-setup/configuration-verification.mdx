---
title: "Configuration and Verification"
description: "Walks users through the essential configuration steps—project linking, include paths, and dependency setup—alongside clear instructions for verifying a first successful test run. This ensures users can confidently compile, link, and execute tests in their chosen environment."
---

# Configuration and Verification

This guide walks you through the essential configuration steps for GoogleTest and GoogleMock, focusing on setting up your project to compile and run tests successfully. You will configure project linking, include paths, and dependencies, and validate your environment by compiling and running your first test.

---

## 1. Prerequisites

Before proceeding, make sure you have met the following requirements:

- Your system supports C++17, as GoogleTest and GoogleMock require this standard.
- You have a compatible compiler installed (e.g., GCC, Clang, MSVC).
- Your build system supports CMake (v3.14 or newer recommended) or other compatible build tools.
- The necessary developer tools and environment variables are configured for your platform.

> <Note>
> Refer to the [Prerequisites & System Requirements](/getting-started/essential-setup/prerequisites-requirements) for detailed setup guidance.
> </Note>

---

## 2. Project Configuration

Follow these steps to integrate GoogleTest and GoogleMock into your C++ project.

### 2.1 Clone the Repository (if needed)

If you are including GoogleTest from source, begin by cloning its repository:

```bash
# Clone GoogleTest repository
git clone https://github.com/google/googletest.git
cd googletest
```

### 2.2 Add Include Paths

Configure your project to include the following directories in your compiler's include path:

- `googletest/include`
- `googlemock/include`

This ensures your source files can find headers like `<gtest/gtest.h>` and `<gmock/gmock.h>`.


### 2.3 Link Libraries

Depending on your build environment, link your test targets against the GoogleTest and GoogleMock libraries.

If using CMake, your `CMakeLists.txt` might include:

```cmake
find_package(GTest REQUIRED)  # or add_subdirectory(googletest)

add_executable(MyTests test_main.cpp my_tests.cpp)
target_link_libraries(MyTests GTest::gtest GTest::gmock GTest::gtest_main)
```


### 2.4 Configure Dependencies

Ensure these dependencies are met:

- The libraries are built with the same compiler and runtime settings as your project.
- Avoid mismatches in runtime libraries, especially on Windows (e.g., static vs dynamic CRT).
- If building GoogleTest and GoogleMock yourself, enable multithreading support if your tests run in parallel.

> <Warning>
> Mismatched runtimes or ABI incompatibilities may cause linker errors or runtime crashes.
> </Warning>

---

## 3. Verifying Your Setup

After configuring your project, verify that GoogleTest and GoogleMock integrate correctly:

### 3.1 Create a Simple Test File

Create a simple test case file named `example_test.cpp`:

```cpp
#include <gtest/gtest.h>

// A simple test to verify test framework integration
TEST(SimpleTest, BasicAssertions) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_TRUE(true);
}
```


### 3.2 Build the Test Executable

Compile and link the test executable using your configured build system. For example:

```bash
cmake --build . --target MyTests
```


### 3.3 Run the Test

Execute your test binary to confirm GoogleTest runs the tests:

```bash
./MyTests
```

You should see output similar to:

```
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from SimpleTest
[ RUN      ] SimpleTest.BasicAssertions
[       OK ] SimpleTest.BasicAssertions (0 ms)
[----------] 1 test from SimpleTest finished (0 ms total)

[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 1 test.
```

If tests pass and you see this output, the configuration is correct.

> <Tip>
> Running tests under an IDE or debugger can simplify development. Make sure to configure environment settings accordingly.
> </Tip>

---

## 4. Setting Up GoogleMock

To verify GoogleMock is working, perform the following additional steps:

### 4.1 Write a Mock Class and Test Example

Create a `mock_example.h` with a simple interface and mock:

```cpp
#include <gmock/gmock.h>

class MyInterface {
 public:
  virtual ~MyInterface() = default;
  virtual int Foo(int x) = 0;
};

class MockMyInterface : public MyInterface {
 public:
  MOCK_METHOD(int, Foo, (int x), (override));
};
```


Create a test file `mock_example_test.cpp` that uses this mock:

```cpp
#include "mock_example.h"
#include <gtest/gtest.h>

using ::testing::Return;

TEST(MockTest, SimpleExpectCall) {
  MockMyInterface mock;

  EXPECT_CALL(mock, Foo(5))
      .Times(1)
      .WillOnce(Return(10));

  EXPECT_EQ(mock.Foo(5), 10);
}
```


### 4.2 Build with GoogleMock

Link your test executable against GoogleMock and GoogleTest libraries just like previously.


### 4.3 Run the Mock Test

Execute the test binary and confirm that it runs and passes.

If it fails, check that:

- The mock class is defined in your include paths.
- GoogleMock headers and linked libraries are properly configured.

---

## 5. Troubleshooting

- **Compile Errors:** Verify include paths and that `gmock` and `gtest` libraries are present and up to date.
- **Linker Errors:** Check that libraries are linked in the correct order and that ABI flags (e.g., runtime libs) match.
- **Runtime Failures:** Make sure all virtual destructors are declared; mismatches can cause undefined behavior.
- **Test Not Running:** Confirm your test filenames and names follow GoogleTest conventions.

For detailed troubleshooting, see [Troubleshooting & Common Issues](/getting-started/quickstart-and-troubleshooting/troubleshooting-validation).

---

## 6. Next Steps

Now that your environment is configured and verified:

- Proceed to [Your First Test: Quickstart Sample](/getting-started/quickstart-and-troubleshooting/quickstart-example) to get hands-on with writing tests.
- Explore [Defining and Using Mock Classes](/guides/mocking-in-action/defining-mocks) for deeper mock integration.
- Review [Installation (All Platforms)](/getting-started/essential-setup/installation-multiple-platforms) for platform-specific guidance.

---

## References

- [GoogleTest Overview and Architecture]( /overview/architecture-concepts/architecture-overview )
- [gMock for Dummies]( https://google.github.io/googletest/gmock_for_dummies.html )
- [gMock Cheat Sheet]( /docs/gmock_cheat_sheet.md )
- [GoogleTest GitHub Repository]( https://github.com/google/googletest )

---

By following this guide, you ensure your development environment is correctly configured, enabling confident test compilation, linking, and execution with GoogleTest and GoogleMock.
