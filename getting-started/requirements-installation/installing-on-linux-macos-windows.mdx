---
title: "Installing on Linux, macOS, and Windows"
description: "Choose your path: install GoogleTest on your preferred platform using CMake, Bazel, or package managers. Step-by-step guides ensure you get up and running no matter your environment. Includes platform-specific notes, hints for different workflows, and references to official quickstart guides."
---

# Installing on Linux, macOS, and Windows

Welcome to the platform-specific installation guide for GoogleTest. Whether you're on Linux, macOS, or Windows, this page walks you through installing GoogleTest using popular build systems and package managers. Step-by-step instructions, platform nuances, and troubleshooting pointers ensure a seamless setup so you can quickly start writing and running your first tests.

---

## 1. Understanding Your Installation Options

GoogleTest supports flexible installation methods suited to your workflow and platform:

- **CMake-based builds**: Ideal for custom or standalone GoogleTest builds across all platforms.
- **Bazel builds**: For users using Bazel as a build system.
- **Package managers**: Quick installs via platform-native package managers where available.

This guide emphasizes CMake as the primary, cross-platform supported approach and includes notes for Windows, macOS, and Linux users.

---

## 2. Prerequisites & Preparation

Before installation, ensure the following:

- **C++17 Compiler**: Confirm your compiler supports C++17 (e.g., GCC 7+, Clang 5+, MSVC 2017+).
- **CMake installed**: Version 3.14 or later is required. Download from [https://cmake.org/](https://cmake.org/).
- **Git installed**: For cloning the repository if building from source.
- **Administrator privileges**: Required for installing GoogleTest system-wide.


<Tip>
If unsure about your C++ compiler version, run `g++ --version`, `clang --version`, or check Visual Studio settings depending on your platform.
</Tip>

---

## 3. Installing GoogleTest with CMake

### 3.1 Clone the Repository
Open your terminal or command prompt and execute:

```bash
# Clone the stable tagged release, here using v1.17.0 as an example
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
```

### 3.2 Create and Enter the Build Directory

```bash
mkdir build
cd build
```

### 3.3 Configure the Build

You have two configuration choices:

- Include GoogleMock (default):

  ```bash
  cmake ..
  ```

- Build GoogleTest only (without GoogleMock):

  ```bash
  cmake .. -DBUILD_GMOCK=OFF
  ```

This command generates platform-specific build files.

### 3.4 Build the Libraries

- On Linux/macOS:

  ```bash
  make -j$(nproc)
  ```

- On Windows (with Visual Studio):

  Open the generated `.sln` file (e.g., `gtest.sln`) in Visual Studio and build the solution using the IDE.

### 3.5 Optional: Install GoogleTest System-wide

For system-wide availability (requires admin privileges):

```bash
sudo make install
```

By default, this installs libraries to `/usr/local/lib` and headers to `/usr/local/include` on Linux/macOS.

<Warning>
Ensure you have appropriate permissions to avoid install failures. Consider using a local directory if system install is restricted.
</Warning>

---

## 4. Using GoogleTest in Your Projects

### 4.1 Finding Installed Libraries

If installed system-wide, you can use CMake's `find_package` to locate GoogleTest:

```cmake
find_package(GTest CONFIG REQUIRED)
# Link against the libraries
target_link_libraries(your_target PRIVATE GTest::gtest GTest::gtest_main)
```

### 4.2 Embedding GoogleTest as a Subdirectory

Alternatively, add GoogleTest as part of your project build by including its source:

```cmake
add_subdirectory(path/to/googletest)
target_link_libraries(your_target PRIVATE gtest gtest_main)
```

This ensures compile/link settings match your project.

### 4.3 Using Compiler Flags for Threading Support

GoogleTest detects pthread availability automatically. If necessary, override with compile definitions:

```
-DGTEST_HAS_PTHREAD=1
```

This is usually handled by CMake but manual builds require attention.

---

## 5. Platform-Specific Notes

### 5.1 Linux

- Ensure you have `build-essential` and `cmake` packages installed.
- Use `gcc` or `clang` with C++17 support.
- If linking errors related to pthread occur, confirm `-pthread` flags are included. CMake scripts handle this.

### 5.2 macOS

- Use Xcode's command line tools (`xcode-select --install`) to get compiler and `make`.
- CMake will generate Xcode projects if run from the Terminal.

### 5.3 Windows

- Visual Studio 2017 or later recommended.
- After running `cmake ..`, open the generated `gtest.sln` and build inside VS.
- To avoid mismatch errors with Visual Studio runtimes, set the option:
  
  ```cmake
  cmake .. -Dgtest_force_shared_crt=ON
  ```

- This forces GoogleTest to link the runtime dynamically, matching Visual Studio defaults.

<Note>
Ensure your VS project and GoogleTest build use compatible runtime libraries to prevent linker errors.
</Note>

---

## 6. Installing via Package Managers (Optional)

If you prefer quick installation using native package managers:

- **Ubuntu/Debian**:
  
  ```bash
  sudo apt-get install libgtest-dev
  cd /usr/src/gtest
  sudo cmake .
  sudo make
  sudo cp *.a /usr/lib/
  ```

- **macOS (Homebrew)**:
  
  ```bash
  brew install googletest
  ```

- **Windows (vcpkg)**:
  
  ```powershell
  vcpkg install googletest
  ```

This method installs static libraries ready for linking.

<Warning>
Package manager versions might lag behind the latest GoogleTest releases. Building from source is recommended for cutting-edge features.
</Warning>

---

## 7. Verification: Confirm Your Installation

### 7.1 Compile a Simple Test
Save the following as `sample_test.cpp`:

```c++
#include <gtest/gtest.h>

TEST(SampleTestSuite, SampleTest) {
  EXPECT_EQ(1 + 1, 2);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### 7.2 Build the Test

If GoogleTest is installed system-wide:

```bash
g++ sample_test.cpp -lgtest_main -lgtest -pthread -o sample_test
```

Or, if embedded as a subdirectory, configure via CMake.

### 7.3 Run It

```bash
./sample_test
```
You should see GoogleTest's output indicating the test passed.

<Check>
Successful run outputs: "[  PASSED  ] 1 test."
</Check>

---

## 8. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Installation Problems">
<Accordion title="CMake Not Found or Version Too Low">
Ensure CMake 3.14 or higher is installed. Run:

```bash
cmake --version
```
Update via your package manager or from https://cmake.org/.
</Accordion>
<Accordion title="Compiler Lacks C++17 Support">
Verify your compiler version supports C++17. Upgrade GCC/Clang or Visual Studio to recent versions.
</Accordion>
<Accordion title="Linker Errors Relating to pthread or Library Mismatch">
On Linux/macOS, link with `-pthread`. On Windows, use `-Dgtest_force_shared_crt=ON` when configuring with CMake to match runtime linkage.
</Accordion>
<Accordion title="Permission Denied on Installation">
Check administrative rights or install locally by specifying `CMAKE_INSTALL_PREFIX` during CMake configuration:

```bash
cmake .. -DCMAKE_INSTALL_PREFIX=~/local
make
make install
```
Adjust your include and library paths accordingly.
</Accordion>
</AccordionGroup>

---

## 9. Related Resources and Next Steps

- Read the [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) to understand basic concepts.
- Explore [Writing Your First Test Case](https://docs.example.com/getting-started/first-test-validation/writing-your-first-test) to create tests.
- Check out the [Supported Platforms & Integration Points](https://docs.example.com/overview/architecture-audience-integration/platforms-and-integration-points) for advanced build configurations.

---

This page ensures you can get GoogleTest set up quickly and correctly in your environment. With GoogleTest installed, you're ready to focus on creating effective tests and improving code quality.

---