---
title: "Installing on Linux"
description: "Step-by-step walkthrough to install GoogleTest and GoogleMock using CMake or Bazel on Linux platforms. Includes instructions for fetching dependencies, configuring your build, and validating installation."
---

# Installing on Linux

This guide walks you through the complete process of installing GoogleTest and GoogleMock on Linux using CMake or Bazel. You'll learn how to fetch dependencies, configure your build, compile the libraries, and verify your installation step-by-step.

---

## 1. Prerequisites & System Requirements

Before proceeding, ensure your environment meets the following:

- **Operating System:** A Linux distribution with a Bash-compatible shell.
- **Compiler:** A C++ compiler supporting C++17 or later (e.g., GCC 7.1+, Clang 5.0+).
- **Build Tools:**
  - [CMake](https://cmake.org/) version 3.14 or later (required for CMake build).
  - [Bazel](https://bazel.build/) (optional, for Bazel builds).
- **Git:** To clone the repository.
- **Sudo privileges:** For installing GoogleTest system-wide.
- **Internet access:** Required to clone repositories and download dependencies.

### Tip
If you don't have CMake installed, follow your distroâ€™s package manager instructions or download from the official site.

---

## 2. Installing with CMake

### 2.1 Cloning the Repository

Open a terminal and run:

```bash
# Clone GoogleTest repository (version 1.17.0 used here as example)
git clone https://github.com/google/googletest.git -b v1.17.0
d
````

Navigate to the cloned directory:

```bash
cd googletest
```

### 2.2 Configuring the Build

Create and move into a separate build directory to keep source files clean:

```bash
mkdir build
cd build
```

Generate build files with CMake, including GoogleMock by default:

```bash
cmake ..
```

**Alternatively**, to build only GoogleTest without GoogleMock:

```bash
cmake .. -DBUILD_GMOCK=OFF
```

### 2.3 Building the Libraries

Run `make` to compile GoogleTest and GoogleMock:

```bash
make
```

This builds static libraries by default in the `build` directory.

### 2.4 Installing GoogleTest (Optional)

To install GoogleTest and GoogleMock system-wide (usually in `/usr/local/`), run:

```bash
sudo make install
```

This step requires sudo privileges but allows easier usage by other projects.

### 2.5 Verifying the Build

You can run tests to verify the build:

```bash
ctest --output-on-failure
```

Test results should pass without failures or errors.

---

## 3. Alternative: Building with Bazel

If your project uses Bazel or you prefer it, follow this approach.

### 3.1 Setup

Ensure Bazel is installed and available in your PATH.

Clone the repository similarly:

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
d
```

Navigate into the directory:

```bash
cd googletest
```

### 3.2 Running Tests with Bazel

To build and run tests for all configurations:

```bash
bazel test ... --cxxopt=-std=c++17
```

This command compiles and runs GoogleTest and GoogleMock tests using C++17.

### Tip
You can add extra Bazel flags to control warnings, vendor modes, or compilation modes as needed.

---

## 4. Using GoogleTest in Your Projects

Once built and/or installed, you can link against GoogleTest libraries:

- With CMake, `find_package(GTest CONFIG REQUIRED)` can locate installed libraries.
- Link your test executable with `GTest::gtest` and `GTest::gmock` targets or static libraries.

Example snippet to add to your CMake project:

```cmake
find_package(GTest CONFIG REQUIRED)

add_executable(my_test my_test.cpp)
target_link_libraries(my_test PRIVATE GTest::gtest GTest::gmock)
enable_testing()
add_test(NAME my_test COMMAND my_test)
```

---

## 5. Common Pitfalls & Troubleshooting

<AccordionGroup title="Troubleshooting Common Issues">
<Accordion title="CMake Can't Find Compilers or Libraries">
Make sure your C++ compiler supports C++17. Verify with `gcc --version` or `clang --version`. Update if too old.
</Accordion>
<Accordion title="Build Fails Due to Missing Dependencies">
Confirm CMake version is 3.14 or newer. Older versions lack `FetchContent_MakeAvailable`. Upgrade CMake.
</Accordion>
<Accordion title="Tests Fail to Run or Link">
- Verify you linked against `gtest` and `gmock` libraries correctly.
- If using installed libraries, confirm your environment's library path includes where GoogleTest is installed.
- On some systems, explicitly link pthread: add `-pthread` to linker and compiler flags.
</Accordion>
<Accordion title="Permission Denied on `sudo make install`">
Sudo privileges are required to install globally. Alternatively, skip installation and use GoogleTest from the build directory.
</Accordion>
<Accordion title="Bazel Build Errors">
Ensure Bazel is current and supports your compiler version and C++ standard. Use `bazel version` to check.
</Accordion>
</AccordionGroup>

---

## 6. Next Steps

- Explore [Configuring Your Project](../initial-setup-usage/project-configuration) to integrate GoogleTest into your build system.
- Learn how to write and run tests in [Writing and Running Your First Test](../initial-setup-usage/writing-first-test).
- Visit [System Requirements & Supported Platforms](./system-requirements) for detailed compiler and environment support.

---

## Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [GoogleTest Primer and User's Guide](https://github.com/google/googletest/blob/main/docs/primer.md)
- [Official CMake Documentation](https://cmake.org/cmake/help/latest/)
- [Bazel User Manual](https://bazel.build/docs)

---

### Summary Diagram: Installation Workflow

```mermaid
flowchart TD
  A[Clone googletest repo] --> B{Choose Build System}
  B -->|CMake| C[Create build directory]
  C --> D[Run cmake ..]
  D --> E[Run make]
  E --> F[Run ctest (optional)]
  F --> G[Install (optional)]
  B -->|Bazel| H[Run bazel test ...]
  G --> I[Use installed libraries]
  E --> I
  H --> I
```

This flowchart captures the core user journey for installing and verifying GoogleTest on Linux.

---

<Check>
You have completed the installation of GoogleTest and GoogleMock on Linux!
Verify your build success by running the built tests. Proceed to integrating GoogleTest into your projects for unit testing.
</Check>