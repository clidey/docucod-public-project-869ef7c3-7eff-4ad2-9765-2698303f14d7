---
title: "Other Installation Methods"
description: "Provides guidance on integrating GoogleTest and GoogleMock via package managers or manual source inclusion for users with unique build systems, and points to relevant sample configurations."
---

# Other Installation Methods

This guide provides detailed instructions to integrate GoogleTest and GoogleMock using alternative methods tailored for users with unique build systems. Whether you prefer installing via package managers or manually including source code, this page helps you adapt GoogleTest and GoogleMock to your project setup effectively. Sample configuration snippets are also provided to accelerate integration.

---

## 1. Installing via Package Managers

GoogleTest and GoogleMock can be obtained through popular package management tools, simplifying setup and ensuring that dependencies and versions are managed automatically.

### Supported Package Managers

- **vcpkg** (Windows, Linux, macOS)
- **Conan** (cross-platform C++ package manager)
- **Homebrew** (macOS)

> Note: Package availability and version may vary. Always verify the package version supports C++17 and above, as GoogleTest requires.

### Example: Installing with vcpkg

1. Open your terminal or command prompt.
2. Run the following command to install GoogleTest:

```bash
vcpkg install gtest
```

3. Integrate vcpkg with your build environment (CMake, Visual Studio, etc.):

```bash
vcpkg integrate install
```

4. Use the installed package by including `gtest` and `gmock` in your project’s dependencies and include paths according to vcpkg's instructions.

### Example: Installing with Conan

1. Add GoogleTest as a dependency in your `conanfile.txt` or `conanfile.py`:

```ini
[requires]
google_test/1.13.0

[generators]
cmake
```

2. Install packages:

```bash
conan install . --build=missing
```

3. Include the Conan-generated files in your CMake or build scripts.

### Benefits of Package Manager Integration

- Automatically resolves dependencies
- Ensures consistent versions
- Simplifies updates and environment management

<Tip>
Always confirm your chosen package manager’s version of GoogleTest includes GoogleMock, as some packages separate them.
</Tip>

---

## 2. Manual Source Inclusion

If your build system does not support CMake or package managers, or you prefer complete control, you can manually include GoogleTest and GoogleMock source files in your project.

### Downloading Source

1. Clone the official repository or download the release archive:

```bash
git clone https://github.com/google/googletest.git -b main
```

2. Copy the `googletest` and `googlemock` directories into your project’s source tree or a dedicated third-party folder.

### Integrating into Your Build

1. Add source files from these directories into your build configurations:

   - `googletest/src/gtest-all.cc`
   - `googlemock/src/gmock-all.cc`

2. Add the include directories for compiler search paths:

   - `googletest/include`
   - `googlemock/include`

3. Set necessary compiler flags to require C++17 or higher, as GoogleTest uses modern C++ features.

4. Link the compiled objects or static libraries built from the source to your test executables.

### Sample Build System Snippet (Makefile)

```makefile
GTEST_DIR = third_party/googletest
GMOCK_DIR = third_party/googlemock

CPPFLAGS += -isystem $(GTEST_DIR)/include -isystem $(GMOCK_DIR)/include

GTEST_SRCS = $(GTEST_DIR)/src/gtest-all.cc
GMOCK_SRCS = $(GMOCK_DIR)/src/gmock-all.cc

# Build static libraries
libgtest.a: $(GTEST_SRCS)
	$(CXX) $(CPPFLAGS) -c $^ -o gtest-all.o
	ar rcs $@ gtest-all.o

libgmock.a: $(GMOCK_SRCS) libgtest.a
	$(CXX) $(CPPFLAGS) -I$(GTEST_DIR) -c $< -o gmock-all.o
	ar rcs $@ gmock-all.o

# Your test executable
my_test: my_test.o libgmock.a libgtest.a
	$(CXX) $^ -o $@ -lpthread
```

<Tip>
If you experience link errors related to `pthread`, ensure threading support and link flags are set correctly on your platform.
</Tip>

<Tip>
Regularly update your copy from the main repository to ensure you have the latest fixes and features.
</Tip>

---

## 3. Sample Configuration and Usage

The following example demonstrates including GoogleTest and GoogleMock manually and compiling a simple test.

### Example Test File: `sample_test.cpp`

```cpp
#include <gtest/gtest.h>
#include <gmock/gmock.h>

using ::testing::Return;

class MockFoo {
 public:
  MOCK_METHOD(int, Bar, (int n), ());
};

TEST(MockTest, ReturnsExpectedValue) {
  MockFoo mock;
  EXPECT_CALL(mock, Bar(5))
      .WillOnce(Return(10));

  EXPECT_EQ(mock.Bar(5), 10);
}
```

### Compile and Link Command Example

```bash
c++ -std=c++17 -isystem path/to/googletest/include \
    -isystem path/to/googlemock/include \
    -pthread \
    sample_test.cpp \
    path/to/googletest/src/gtest-all.cc \
    path/to/googlemock/src/gmock-all.cc \
    -o sample_test
```

### Running Tests

Execute your test binary:

```bash
./sample_test
```

Expected output should indicate test success, e.g.: 

```
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from MockTest
[ RUN      ] MockTest.ReturnsExpectedValue
[       OK ] MockTest.ReturnsExpectedValue (0 ms)
[----------] 1 test from MockTest (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 1 test.
```

---

## 4. Troubleshooting Common Issues

<Tip>
If build or link errors occur:
- Verify include paths correctly point to GoogleTest and GoogleMock headers.
- Ensure source files `gtest-all.cc` and `gmock-all.cc` are compiled and linked.
- Add `-pthread` when compiling and linking on POSIX systems for thread support.
</Tip>

<Tip>
If tests fail to run or you encounter runtime issues:
- Confirm your compiler supports C++17 or later.
- Check for mismatched library versions if using package managers.
- Use verbose test output by running your test binaries with `--gtest_verbose=info`.
</Tip>

---

For a comprehensive introduction on standard installation methods and getting started with GoogleTest and GoogleMock, see the [Installing with CMake](../installation-initialization/install-cmake.md) and [Installing with Bazel](../installation-initialization/install-bazel.md) guides.

---

## 5. Related Resources

- [GoogleTest Primer](https://google.github.io/googletest/primer.html): Learn the basics of writing tests with GoogleTest.
- [Mocking with GoogleMock Guide](/guides/core-workflow/writing-mocks): Detailed instructions for writing mocks.
- [Mocking Reference](../mocking-framework/mocking-and-method-mocking.md): Complete API reference for mocking macros and classes.
- [Integration & Dependencies](../framework-architecture-concepts/integration-and-dependencies.md): Guidance on build system and ecosystem integration.


