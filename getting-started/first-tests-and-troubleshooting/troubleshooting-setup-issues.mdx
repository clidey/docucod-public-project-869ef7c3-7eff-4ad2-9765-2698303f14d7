---
title: "Troubleshooting & Common Issues"
description: "Find practical tips and solutions for common setup problems: build errors, missing symbols, version mismatches, and linking difficulties. This page aggregates the most frequent user problems with tested, actionable fixes to get you unstuck swiftly."
---

# Troubleshooting & Common Issues

GoogleTest is designed to be straightforward and reliable, but occasionally you might encounter build or runtime issues during your setup or test runs. This guide consolidates the most frequent problems—including build errors, missing symbols, version mismatches, and linking difficulties—and offers proven, actionable fixes to get your environment working smoothly.

---

## 1. Build Errors

### 1.1 Missing or Incorrect Compiler Support

- **Symptom:** Compilation fails with errors related to unsupported C++ features or missing headers.
- **Cause:** GoogleTest requires a compiler supporting at least C++17.
- **Action:**
  1. Verify your compiler version supports C++17 (GCC ≥7, Clang ≥5, MSVC ≥2017).
  2. In your build configuration (e.g., `CMakeLists.txt`), explicitly set:
     ```cmake
     set(CMAKE_CXX_STANDARD 17)
     set(CMAKE_CXX_STANDARD_REQUIRED ON)
     ```
  3. If you don’t control the top-level project, append compiler flags manually, for example:
     ```bash
     -DCMAKE_CXX_FLAGS='-std=c++17'
     ```

### 1.2 CMake Build Errors

- **Symptom:** Failure running `cmake ..` or build commands.
- **Cause:** Missing CMake installation or incompatible CMake version.
- **Action:**
  1. Ensure CMake version 3.14 or newer is installed (`cmake --version`).
  2. If building GoogleTest as a subproject, use `FetchContent` properly:
     ```cmake
     include(FetchContent)
     FetchContent_Declare(
       googletest
       URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
     )
     set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)  # Windows runtime fix
     FetchContent_MakeAvailable(googletest)
     ```
  3. Check and fix any permission or directory issues in `build/`.

### 1.3 Visual Studio Runtime Mismatches

- **Symptom:** Linker error about mismatch in `RuntimeLibrary` (e.g., `MTd_StaticDebug` vs `MDd_DynamicDebug`).
- **Cause:** Your project links C runtime dynamically while GoogleTest default uses static linkage.
- **Action:**
  - Enable the CMake option:
    ```bash
    -Dgtest_force_shared_crt=ON
    ```
  - Rebuild GoogleTest and your tests after this change.

### 1.4 Missing Symbols or Linker Errors

- **Symptom:** Errors like `undefined reference to gtest::...` or unresolved external symbols.
- **Cause:** Test binaries not properly linked against GoogleTest libraries.
- **Action:**
  1. Link your test executable against `gtest` or `gtest_main` target.
     Example with CMake:
     ```cmake
     target_link_libraries(your_test_executable gtest_main)
     ```
  2. If building GoogleTest as a subdirectory, ensure sources are included and compiled.
  3. Confirm library paths and names are correct in your build configuration.

### 1.5 MacOS Xcode Build Issues

- **Symptom:** Xcode project generation or build fails.
- **Cause:** Missing or incompatible Xcode version, or insufficient macOS SDK.
- **Action:**
  1. Use CMake to generate an `.xcodeproj`:
     ```bash
     cmake -G Xcode ..
     ```
  2. Use a recent Xcode version that supports C++17.
  3. Check Xcode Command Line Tools are installed:
     ```bash
     xcode-select --install
     ```

---

## 2. Version and Compatibility Mismatches

### 2.1 Compiler Flags Not Set for C++17

- **Symptom:** New C++ features used by GoogleTest cause errors.
- **Action:** Explicitly add C++17 flags.

### 2.2 Mixing Debug and Release Libraries

- **Symptom:** Linker errors or incorrect behavior when combining debug and release builds.
- **Action:**
  - Build GoogleTest and your tests in the same mode (both Debug or both Release).
  - Avoid mixing static and shared libraries.

---

## 3. Linking and Macro Conflicts

### 3.1 Macro Name Clashes

- **Symptom:** Your code/library defines macros that clash with GoogleTest macros.
- **Action:**
  - Rename conflicting macros in GoogleTest by passing defines like:
    ```bash
    -DGTEST_DONT_DEFINE_TEST=1
    ```
  - Write `GTEST_TEST` or `GTEST_TEST_F` instead of `TEST` or `TEST_F` accordingly.
  - Check for other macros such as `ASSERT_EQ`, `EXPECT_EQ` that might conflict.

### 3.2 Multiple Definition or Linker Symbol Conflicts

- **Symptom:** Linker errors about duplicate symbols.
- **Action:**
  - Avoid linking GoogleTest multiple times.
  - Prefer building GoogleTest as a shared library to reduce binary duplication.
  - Make sure your build system does not include GoogleTest sources multiple times.

---

## 4. Common Runtime Issues

### 4.1 Tests Not Executing or Being Skipped Unexpectedly

- **Symptom:** Tests silently skip or no tests appear to run.
- **Causes & Actions:**
  1. Check the `--gtest_filter` flag or `GTEST_FILTER` environment variable; it might be filtering out all tests.
  2. Disabled tests start with `DISABLED_`; they will not run unless `--gtest_also_run_disabled_tests` is passed.
  3. Sharding environment variables (`GTEST_TOTAL_SHARDS`, `GTEST_SHARD_INDEX`) may cause tests to be skipped on incorrect shards.
  4. Call `testing::InitGoogleTest(&argc, argv);` before `RUN_ALL_TESTS()` in your `main()`.

### 4.2 GoogleTest Flags Not Working

- **Symptom:** Passing flags like `--gtest_repeat` or `--gtest_shuffle` appears to have no effect.
- **Action:**
  - Confirm that `InitGoogleTest()` is called to parse and process flags.
  - Pass flags on the command line when running tests, not to your compiler or linker.

### 4.3 Sudden Crashes or Abort During Tests

- **Action:**
  - Use the `--gtest_break_on_failure` flag to automatically break on a failure for easier debugging.
  - Employ death tests carefully, following GoogleTest guidelines.

---

## 5. Troubleshooting Tips

### 5.1 Building in Custom or Embedded Environments

- Define necessary macros such as `GTEST_HAS_PTHREAD` if your platform doesn’t auto-detect pthread availability.
- Use build flags to tweak GoogleTest features if defaults don’t apply.

### 5.2 Using GoogleTest as a Shared Library

- Compile with:
  ```
  -DGTEST_CREATE_SHARED_LIBRARY=1
  ```
- Compile tests with:
  ```
  -DGTEST_LINKED_AS_SHARED_LIBRARY=1
  ```

---

## 6. Where to Get Help

- Reference the [GoogleTest Primer](primer.md) for beginner-friendly walkthroughs.
- Check the [Testing Reference](reference/testing.md) for detailed API and usage.
- Explore [GoogleTest Advanced Topics](advanced.md) for deeper troubleshooting and patterns.
- Visit the [GitHub repository](https://github.com/google/googletest) to view issues and contribute.
- Use community forums and issue trackers for assistance with specific problems.

---

## 7. Summary Table of Common Issues

| Issue                                | Symptom                      | Likely Cause                             | Quick Fix                         |
|------------------------------------|------------------------------|-----------------------------------------|----------------------------------|
| Compiler errors                    | Unsupported C++ features     | Old compiler or missing C++17 flag      | Update compiler, set C++17 flag  |
| Linker undefined symbols          | Missing GoogleTest linkage    | Missing gtest or gtest_main in linker   | Link with gtest_main             |
| Runtime no tests running          | Tests skipped                | Filter or disabled tests                 | Remove/adjust filter, enable disabled tests |
| Visual Studio runtime mismatch    | LNK2038 errors              | Static vs dynamic CRT mismatch          | Set `-Dgtest_force_shared_crt=ON` |
| Macro conflicts                   | Compile errors due to macro redefinitions | Clashing test macros                    | Use `-DGTEST_DONT_DEFINE_TEST=1` |

---

This page is updated regularly with the latest known issues and solutions. If your problem is not listed here, consider consulting other documentation pages or opening an issue on the repository.

---

## Related Documentation

- [Getting Started with GoogleTest](getting-started/setup-and-installation/prerequisites-system-requirements)
- [Installation Guide (CMake, Bazel, Manual)](getting-started/setup-and-installation/installing-with-cmake-bazel)
- [Writing Your First Test](getting-started/first-tests-and-troubleshooting/writing-your-first-test)
- [Using GoogleMock](getting-started/first-tests-and-troubleshooting/using-googlemock)
- [GoogleTest Primer](primer.md)
- [Testing Reference](reference/testing.md)
- [Advanced GoogleTest Topics](advanced.md)

---

<Tip>
Always keep your build and runtime environments consistent and review compiler/linker outputs carefully—many common issues are caused by subtle misconfigurations in build files or environment setup.
</Tip>

<Warning>
Avoid mixing static and shared GoogleTest builds or different runtime libraries across dependencies, as this leads to elusive linking and runtime errors.
</Warning>

<Note>
Remember to always invoke `testing::InitGoogleTest` before running your tests to properly initialize flags and environment.
</Note>

