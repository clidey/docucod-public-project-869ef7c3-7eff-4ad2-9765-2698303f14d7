---
title: "Writing and Running Your First Test"
description: "Leads users step-by-step through creating a simple test case, compiling, and running it. Includes example code and expected output, ensuring users can validate their setup and achieve an early success."
---

# Writing and Running Your First Test

Welcome to the start of your journey with GoogleTest! This guide walks you through creating your first simple test case, compiling it, and running it, so you can quickly validate that your test environment is set up correctly and you are ready to write robust C++ tests.

---

## 1. Setting Up Your First Test

Writing your first test in GoogleTest involves just a few straightforward steps. You'll author a small test function that checks some behavior or value and see it run.

### Step 1: Include GoogleTest Headers
Include the main GoogleTest header in your test source file:

```cpp
#include <gtest/gtest.h>
```

### Step 2: Write a Basic Test
Use the `TEST()` macro to define a test. This macro creates a test case with a test suite name and a test name:

```cpp
TEST(SampleTest, BasicAssertions) {
  // Expect two values to be equal.
  EXPECT_EQ(7 * 6, 42);
  
  // Expect a string to start with a prefix.
  EXPECT_TRUE(std::string("hello world").find("hello") == 0);
}
```

- The first argument `SampleTest` is the test suite. Group related tests together with the same suite name.
- The second argument `BasicAssertions` is the test name.

### Step 3: Implement the main function (Optional)
Most users don't need to write a `main()` because GoogleTest provides one via linking with the `gtest_main` library. But if you want to customize startup or aren't using `gtest_main`, here is a minimal `main()`:

```cpp
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This initializes GoogleTest and runs all tests you've defined.

---

## 2. Compiling Your Test

Compile your test code by linking against GoogleTest libraries. Here is a typical `g++` command example:

```bash
g++ -std=c++17 -isystem /path/to/gtest/include \
    -pthread test_file.cc /path/to/libgtest.a /path/to/libgtest_main.a -o my_test
```

- Replace `/path/to/gtest/include` and the library paths with correct locations in your environment.
- Use `-pthread` for thread support.

If you're using CMake or Bazel for your project, refer to the [Project Setup guide](/getting-started/configuration-and-first-run/project-setup) for integrating GoogleTest into your build system.

---

## 3. Running Your Test

Run the compiled test binary:

```bash
./my_test
```

Expected output when tests pass looks like this:

```text
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicAssertions
[       OK ] SampleTest.BasicAssertions (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

If a test fails, GoogleTest will print informative details about the location, expected value, and actual value.

---

## 4. Understanding Basic Assertions

GoogleTest provides a rich set of assertions. For common checks:

- `EXPECT_EQ(val1, val2)` verifies equality (non-fatal failure).
- `ASSERT_TRUE(condition)` verifies that a condition is true (fatal failure - aborts current test).
- `EXPECT_NE(val1, val2)` verifies inequality.
- `EXPECT_LT(val1, val2)` less than.

Use `EXPECT_*` when you want the test to continue after a failure to catch more issues, and `ASSERT_*` when a failure makes continuing useless or invalid.

Take a look at the [Assertions Reference](/api-reference/core-testing-apis/assertions) for a full list.

---

## 5. Tips for Your First Success

- **Keep tests simple**: Start with small, focused tests to build confidence.
- **Name tests clearly**: Use meaningful test names to describe what you verify.
- **Compile with warnings enabled**: Use compiler flags like `-Wall -Wextra` to catch mistakes.
- **Run tests frequently**: Make sure each test passes before adding more.

---

## 6. Troubleshooting Common Issues

<AccordionGroup title="Common Issues When Writing and Running Your First Test">
<Accordion title="Linker Errors about main()">
If you get errors about missing `main()`, make sure you link with `gtest_main` or provide your own `main()` as shown above.
</Accordion>
<Accordion title="Tests Not Running or Being Discovered">
Verify your test functions use `TEST()` or `TEST_F()` macros and that your test binary runs with no filters limiting tests.
</Accordion>
<Accordion title="Assertions Failing Unexpectedly">
Check that the expected values and actual values are correctly computed and you understand the assertion semantics (`EXPECT_` vs `ASSERT_`).
</Accordion>
</AccordionGroup>

---

## 7. Next Steps

With your first test passing, explore:

- [Writing More Tests and Test Fixtures](/guides/core-workflows/getting-started) to create reusable test environments.
- [Assertions and Expectations](/api-reference/core-testing-apis/assertions) for deeper verification patterns.
- [Integrating with Your Build System](/getting-started/configuration-and-first-run/project-setup).
- Explore [GoogleMock](https://google.github.io/googletest/gmock_for_dummies.html) for mocking dependencies.

---

Happy Testing! ðŸŽ‰

---

# Example Complete Test Program

```cpp
#include <gtest/gtest.h>

// Basic math test
TEST(SampleTest, BasicAssertions) {
  EXPECT_EQ(7 * 6, 42);
  EXPECT_TRUE(std::string("hello world").find("hello") == 0);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Run it, receive a passing test result, and celebrate your first success with GoogleTest!
