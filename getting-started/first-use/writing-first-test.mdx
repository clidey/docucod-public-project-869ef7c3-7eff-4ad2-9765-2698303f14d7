---
title: "Writing Your First Test"
description: "Shows how to write a simple test using GoogleTest, providing a focused code example and explanation. Builds confidence by clarifying core concepts such as test cases, assertions, and test functions."
---

# Writing Your First Test

This guide shows you how to write a simple test using GoogleTest. It provides a focused code example and explanation to help you build confidence with core concepts such as test cases, assertions, and test functions.

---

## 1. Understanding the Basics of a GoogleTest

GoogleTest is a C++ testing framework that lets you write tests to verify your code's correctness. At its core, a test consists of:

- **Test case**: A group of related tests, identified by a test suite name.
- **Test function**: A function that contains test code and assertions.
- **Assertion**: A condition check that confirms if the tested code behaves as expected.

By writing small, focused tests, you can systematically validate the behavior of your code.

<Note>
GoogleTest tests are written as C++ functions, and are grouped logically into test suites (previously called test cases).
</Note>

---

## 2. Writing Your First Test Step-by-Step

Follow these steps to create and run your first test with GoogleTest:

### Step 1: Include the GoogleTest Header

Start your test file by including the GoogleTest header which contains all the necessary declarations:

```cpp
#include <gtest/gtest.h>
```

<Check>
Make sure your build system includes GoogleTest headers and links the GoogleTest library.
</Check>

### Step 2: Define a Simple Test Case and Test

Use the `TEST` macro to define a test case and a test function. The macro takes two parameters:

- The **test suite name** (group name for related tests)
- The **test name**

Example:

```cpp
TEST(MathTest, Addition) {
  int sum = 2 + 2;
  EXPECT_EQ(sum, 4);  // Assertion: expects sum to be 4
}
```

In this example:

- `MathTest` is the test suite
- `Addition` is the test function name
- `EXPECT_EQ` is an assertion macro that checks equality

When this test runs, it will pass if `sum == 4`, otherwise it will fail.

### Step 3: Run the Test

Use the GoogleTest main function to run all tests in your executable:

```cpp
int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and link your test program with GoogleTest, then run the executable. You should see output indicating the tests ran and whether they passed or failed.

<Warning>
You must call `RUN_ALL_TESTS()` to execute the test runner and verify your tests.
</Warning>

### Step 4: Add More Assertions

GoogleTest provides many assertion macros beyond simple equality, such as:

- `EXPECT_TRUE(condition)` / `ASSERT_TRUE(condition)`
- `EXPECT_FALSE(condition)` / `ASSERT_FALSE(condition)`
- `EXPECT_NE(val1, val2)` (not equal)
- `EXPECT_LT(val1, val2)` (less than)
- `EXPECT_GT(val1, val2)` (greater than)

**`EXPECT_`** macros allow the test to continue after failure; **`ASSERT_`** macros abort the test immediately on failure.

Example:

```cpp
TEST(MathTest, Inequalities) {
  EXPECT_LT(1, 2);
  ASSERT_GT(3, 2);
}
```

---

## 3. Core Concepts Explained

### Test Suites and Tests

- Tests are grouped into suites to organize related checks.
- Each test runs independently.

### Assertions

- Assert that something about your code is true.
- Fail the test if an assertion is not met.
- Use appropriate assertion macros to express conditions clearly.

### Test Function Signatures

- Use the `TEST` macro to define tests; no need to write separate function bodies.
- Avoid side effects between tests; each test should be self-contained.

---

## 4. Example: Full Minimal Test Program

Here is an example program containing multiple tests demonstrating key points:

```cpp
#include <gtest/gtest.h>

TEST(MathTest, BasicAssertions) {
  EXPECT_EQ(7 * 6, 42);
  EXPECT_NE(0, 1);
  EXPECT_TRUE(4 < 5);
  ASSERT_FALSE(false);
}

TEST(StringTest, Equality) {
  std::string hello = "hello";
  EXPECT_EQ(hello, "hello");
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run this program. If all assertions are true, the test runner will report success.

---

## 5. Tips for Successful Testing

- **Keep tests small and focused.** Test one logical feature per test.
- **Name tests descriptively.** Something like `MathTest.Addition` clearly indicates intent.
- **Use `EXPECT_` for non-critical checks** so tests can report multiple failures.
- **Use `ASSERT_` for fatal conditions** where continuing makes no sense.
- **Re-run tests frequently** to catch regressions early.

<Callout>
If your tests fail unexpectedly, run with `--gtest_verbose` or check the test output for details to debug.
</Callout>

---

## 6. Troubleshooting Common Issues

- **Linking errors:** Ensure your build system links against the gtest (and gmock if used) libraries.
- **Compiler errors on missing headers:** Verify include paths are set correctly.
- **Tests not running:** Confirm proper use of `RUN_ALL_TESTS()` in main.
- **Assertion failures:** Check the condition and test data correctness.

---

## 7. Next Steps

After successfully writing and running your first test:

- Explore parameterized and typed tests to cover many cases efficiently.
- Learn about mocking dependencies using GoogleMock if your code relies on interfaces.
- Dive into detailed assertion macros and advanced GoogleTest features.

Helpful pages to continue your journey:

- [GoogleTest Primer](https://google.github.io/googletest/primer.html)
- [Mocking with GoogleMock](https://google.github.io/googletest/gmock_for_dummies.html)
- [GoogleTest Assertions Reference](https://google.github.io/googletest/reference/assertions.html)

---

## 8. References

- [GoogleTest Official Documentation](https://google.github.io/googletest/)
- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [GoogleTest Primer](https://google.github.io/googletest/primer.html)

---

This page focuses solely on writing your first GoogleTest test case, providing examples and related guidance for immediate hands-on practice.
