---
title: "Writing Your First Test"
description: "Learn how to quickly draft a simple test case, using provided templates and recommended test structure. Discover essential GoogleTest macros and best practices for writing readable, maintainable tests."
---

# Writing Your First Test

Learn how to quickly draft a simple test case, using provided templates and recommended test structure. Discover essential GoogleTest macros and best practices for writing readable, maintainable tests.

---

## 1. Understanding the Basics of a GoogleTest

GoogleTest is designed to help you write clear and concise C++ tests efficiently. Your journey begins by understanding GoogleTest's core constructs:

- **Test Suites**: Logical grouping of related tests.
- **Tests**: Individual test cases validating specific behavior.
- **Assertions**: Statements that check conditions and determine test outcomes.

Each test belongs to a test suite. Tests within the same suite share a meaningful context.


## 2. Creating a Simple Test

Follow this step-by-step guide to write your first test using the `TEST()` macro:

<Steps>
<Step title="Define the Test Suite and Test">
Use the `TEST(TestSuiteName, TestName)` macro.

- The *TestSuiteName* is a descriptive name grouping your tests.
- The *TestName* describes the particular scenario being tested.

Example:

```cpp
TEST(FactorialTest, HandlesZeroInput) {
  // Your test code here
}
```
</Step>
<Step title="Use Assertions Within the Test">
Within the test body, use assertions like `EXPECT_EQ`, `ASSERT_TRUE` to validate behavior.

Example verifying a `Factorial` function:

```cpp
EXPECT_EQ(Factorial(0), 1);
```
</Step>
<Step title="Keep Tests Self-Contained and Clear">
Write only the necessary logic and assertions related to the test case.

Avoid dependencies between tests to ensure independence and repeatability.
</Step>
</Steps>


## 3. Recommended Sample Test: Factorial Function

Here is a minimal test suite that checks a simple factorial function:

```cpp
// Prototype of the function to test
int Factorial(int n);  

// Test factorial of 0
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

// Test factorial of positive numbers
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

### What This Achieves

- **Organized tests under `FactorialTest` suite**: logically grouping tests of the factorial function.
- **Clear individual test names**: `HandlesZeroInput` and `HandlesPositiveInput` describe test intent.
- **Readable assertions**: `EXPECT_EQ` compares actual and expected values with concise failure output on mismatch.


## 4. Naming Conventions

Use these best practices to name your test suites and tests:

- Use **CamelCase** or **PascalCase** for names.
- Avoid underscores to stay consistent and avoid compilation issues.
- Start with the feature or component name as the test suite.
- Use descriptive, specific test names that explain what the test verifies.

Example: `TEST(StringUtilsTest, ConvertsToUpperCase)`


## 5. Handling Assertions

GoogleTest provides two main types of assertions:

- **`ASSERT_*`**
  - Generate fatal failure.
  - Abort the current function immediately.
  - Use when continuing the test after failure is meaningless or causes crashes.

- **`EXPECT_*`**
  - Generate nonfatal failure.
  - Continue executing the rest of the test.
  - Preferred when you want to detect multiple errors in a single run.

### Adding Custom Failure Messages

Stream custom messages after assertions for clearer diagnostics:

```cpp
ASSERT_EQ(x.size(), y.size()) << "Vectors have different lengths";
```


## 6. Running Your Tests

Once your tests are defined, invoke them in your `main()` function as follows:

```cpp
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This ensures that all tests are executed and the program exits with appropriate status.

> Tip: Typically, you shouldn't need to write `main()` yourself if you link against `gtest_main`.


## 7. Tips for Success

- **Write independent tests**: Avoid dependencies among tests to simplify diagnosis.
- **Keep tests small and focused**: Test one behavior or condition per test.
- **Use `EXPECT_*` assertions when possible**: To get comprehensive test failure information.
- **Group related tests logically**: Use descriptive test suite names.
- **Follow naming conventions**: Consistency helps readability and maintenance.


## 8. Troubleshooting Common Issues

- **Compilation Errors Due to Naming or Macro Use**: 
  - Verify that test suite and test names are valid C++ identifiers without underscores.
  - Check you use the correct macro (`TEST()` for simple tests).

- **Tests Not Being Found or Run**:
  - Ensure your test binary links against GoogleTest properly.
  - Call `testing::InitGoogleTest` before `RUN_ALL_TESTS()` in `main()`.

- **Assertions Abort Test Prematurely**:
  - Confirm if `ASSERT_*` is needed; try `EXPECT_*` if you want to continue after failure.


## 9. Next Steps

- Explore the [GoogleTest Primer](primer.md) to deepen your understanding of writing tests and test fixtures.
- Try the [Googletest Samples](samples.md) to see more complete examples.
- When ready, learn how to [Use Assertions Effectively](guides/getting-started/using-assertions.md) for robust test conditions.


---

_For detailed configuration and build instructions, refer to [Quickstart: Building with CMake](getting-started/prereq-install/quickstart-cmake.md)._