---
title: "Quick Validation Checklist"
description: "A concise checklist and troubleshooting guide to confirm a successful GoogleTest/GoogleMock setup. Covers verifying version, resolving typical first-run issues, and ensuring your installation works as expected."
---

# Quick Validation Checklist

This page provides a concise, practical checklist and troubleshooting guide to confirm a successful GoogleTest/GoogleMock setup on your system. It helps you verify your installed version, check your test environment, and resolve common first-run issues so you can be confident that your installation works as expected.

---

## 1. Confirm GoogleTest Version

Verify that you have the correct version of GoogleTest installed for your project requirements.

### Steps:

1. Locate your `gtest/include/gtest/gtest.h` header file.
2. Open it and look for the version number constants or check your package manager.
3. If built from source, check your cloned repository tag or branch.

Example for Git clone:
```bash
cd googletest
git describe --tags
```

### Tip:
Your environment should be using the version you expect. Mixing versions may cause linker or runtime conflicts.

---

## 2. Verify Initial Build and Installation

Make sure GoogleTest and optionally GoogleMock have been correctly built and installed.

### Standalone CMake Project Example:
1. Clone GoogleTest repository:
```bash
git clone https://github.com/google/googletest.git -b v1.17.0
doe
```

2. Create and navigate to a build directory:
```bash
mkdir build
dh build
```

3. Generate build files:
```bash
cmake ..             # Builds both GoogleTest and GoogleMock
# Or to build GoogleTest only:
cmake .. -DBUILD_GMOCK=OFF
```

4. Build the project:
```bash
make
```

5. Optional: Install to default system paths:
```bash
sudo make install
```

### Verification:
- Successful build output without errors.
- Header and library files present (e.g. `/usr/local/include/gtest`, `/usr/local/lib/libgtest.a`).

---

## 3. Check Linking and Include Setup in Your Project

Ensure your project's build configuration correctly includes GoogleTest headers and links against the appropriate libraries.

### For example, in CMakeLists.txt:
```cmake
find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})
target_link_libraries(my_test_target GTest::gtest_main)
```

Verify that include paths point to the directory containing `gtest/gtest.h`.

---

## 4. Run Your First Test Program

A quick test to ensure GoogleTest is integrated and functioning.

### Example Test:
```cpp
#include <gtest/gtest.h>

TEST(SimpleTest, TrueCondition) {
  EXPECT_TRUE(true);
}

int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Compile and run:
```bash
g++ -std=c++17 my_test.cpp -lgtest_main -lpthread -o my_test
./my_test
```

### Expected Outcome:
- Test runs and reports success:
```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SimpleTest
[ RUN      ] SimpleTest.TrueCondition
[       OK ] SimpleTest.TrueCondition (0 ms)
[----------] 1 test from SimpleTest ran. (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

---

## 5. Validate Test Execution Environment

Check for common first-run issues that can prevent tests from running correctly:

- **Missing Default `main()`**: Ensure your test project links with `gtest_main` which provides a default main function, or provide your own `main()` that calls GoogleTest initialization and `RUN_ALL_TESTS()`.
- **Incorrect Test Fixture Usage**: `TEST_F()` requires a default constructor in your test fixture class.
- **Dependencies**: Ensure your build links to pthread or other needed system libraries.

---

## 6. Use GoogleTest Command Line Flags to Confirm Behavior

Run your test binary with helpful flags to list tests or filter runs:

- List all tests:
```bash
./my_test --gtest_list_tests
```
- Run a specific test suite or test:
```bash
./my_test --gtest_filter=SimpleTest.TrueCondition
```
- Stop after first failure:
```bash
./my_test --gtest_fail_fast
```

Make sure the output reflects expected test discovery and filtering behavior.

---

## 7. Troubleshoot Common Problems

<AccordionGroup title="Common Issues and Solutions">
<Accordion title="Tests Not Running or Discovered">
- Verify that test names and suite names do **not** contain underscores `_`.
- Confirm `InitGoogleTest()` is called before `RUN_ALL_TESTS()`.
- Ensure the test binary actually links to GoogleTest libraries.
- Use `--gtest_list_tests` to check discovery.
</Accordion>
<Accordion title="Linker Errors or Undefined References">
- Confirm GoogleTest libraries are linked (e.g., `-lgtest`, `-lgtest_main`).
- Make sure the library paths are correctly specified.
- Check for mismatched C++ standards or compiler versions between your code and GoogleTest.
</Accordion>
<Accordion title="Test Fixture Construction Errors">
- Provide a default constructor for any test fixture class.
- Make sure no non-default constructors prevent default construction.
</Accordion>
<Accordion title="Thread and Exception Support">
- Ensure your environment supports pthreads if using multithreaded tests.
- If exceptions are disabled, avoid using fatal assertions in non-void functions.
- Consider enabling `--gtest_catch_exceptions` to catch test-thrown exceptions.
</Accordion>
<Accordion title="Death Test Failures or Hangs">
- Death tests run in subprocesses; ensure no threading conflicts exist before.
- Try setting death test style to "threadsafe" using `--gtest_death_test_style=threadsafe`.
- Keep mocks inside the `EXPECT_DEATH` macro to avoid leak detection failures.
</Accordion>
</AccordionGroup>

---

## 8. Confirm Output and Behavior

When your tests run successfully, you should see clear output indicating the number of tests run, how many passed or failed, timing, and any failures with detailed diagnostic messages.

Example failure message snippet from GoogleTest:
```none
Value of: my_value
  Actual: 42
Expected: 43
```

Check that custom assertions and matchers print helpful diagnostic texts.

---

## 9. Next Steps

After confirming your setup:

- Write more tests using `TEST`, `TEST_F`, typed tests, or parameterized tests.
- Explore advanced assertions and custom matchers to express complex test conditions.
- Set up continuous integration with automated test execution and XML or JSON reports.
- Consult the [GoogleTest Primer](../primer.md) and [Assertions Reference](../reference/assertions.md) for deeper understanding.

---

## Additional Resources

- [Installation Methods Guide](../prerequisites-installation/installation-methods.md)
- [Initial Configuration](../prerequisites-installation/initial-configuration.md)
- [Writing Your First Test](../first-test-run/create-first-test.md)
- [Running Your Tests](../first-test-run/run-tests.md)
- [Troubleshooting Common Setup Issues](../troubleshooting/common-setup-issues.md)

---

<Check>
Remember: Your project build must call `testing::InitGoogleTest(&argc, argv);` before invoking `RUN_ALL_TESTS()`. Ignoring the return value of `RUN_ALL_TESTS()` causes the test outcome to be lost.
</Check>

<Note>
Skipping disabled tests requires the flag `--gtest_also_run_disabled_tests`.
</Note>

<Warning>
Avoid underscores in test suite and test names: `TEST(Foo_Bar, Baz)` can cause tests to be undiscovered or conflict with internal naming.
</Warning>

---