---
title: "Troubleshooting Common Setup Issues"
description: "Find solutions to common problems encountered during installation and first use: build failures, linker errors, missing dependencies, and unsupported platform messages. This resource helps you identify and quickly address typical blockers."
---

# Troubleshooting Common Setup Issues

Find solutions to common problems encountered during installation and first use of GoogleTest and GoogleMock. This guide helps you quickly identify and address typical blockers such as build failures, linker errors, missing dependencies, and unsupported platform messages.

---

## 1. Build Failures

### Common Causes
- **Compiler or Platform Unsupported**: Ensure your compiler supports C++11 or later as required by GoogleTest/GoogleMock.
- **Missing Dependencies**: Verify that all necessary dependencies (e.g., CMake, compatible compiler toolchain) are installed.
- **Incorrect Build Configuration**: Misconfigured CMake files or use of incompatible flags can cause compilation errors.

### How to Diagnose
- Review error messages carefully; look for missing headers or incompatible flags.
- Confirm your compiler version and platform compatibility with the requirements outlined in the [Prerequisites & System Requirements](/getting-started/setup-basics/prerequisites-requirements).
- Check CMake logs for errors related to project configuration.

### Common Fixes
- Upgrade your compiler to a supported version (e.g., GCC 4.8+, Clang 3.3+, MSVC 2015+).
- Install or update CMake to the latest version.
- Use recommended build commands as shown in the [Installation Instructions](/getting-started/setup-basics/installation-instructions) guide.
- Avoid using non-standard compiler flags that might break the build.

<Warning>
If you encounter errors related to variadic templates or `decltype`, your compiler likely does not meet the minimum C++ standard requirements.
</Warning>

---

## 2. Linker Errors

### Common Causes
- **Missing GoogleMock or GoogleTest Libraries**: The linker cannot find the required static or shared libraries.
- **Incorrect Link Flags or Order**: Libraries not linked in the proper order or missing linker flags.
- **Conflicting or Multiple Versions**: Different versions of GoogleTest or GoogleMock linked simultaneously.

### How to Diagnose
- Inspect the linker error messages; look for "undefined reference" to GoogleTest or GoogleMock symbols.
- Verify linker flags in your build system or compilation commands include `-lgmock`, `-lgtest`, and `-lpthread` (Linux/macOS).
- Use verbose compiler output by adding `VERBOSE=1` to your `make` command or enabling verbose output in your build tool.

### Common Fixes
- Ensure you link against `gmock_main` or explicitly call `testing::InitGoogleMock()` in your test executable.

```bash
# Example linking with gmock_main
g++ my_tests.o -lgmock_main -lgmock -lgtest -lpthread -o my_tests
```

- For CMake, link your test target with `gmock_main` target as shown:

```cmake
add_executable(my_tests my_tests.cc)
target_link_libraries(my_tests gmock_main)
```

- Avoid mixing shared and static libraries of GoogleTest/GoogleMock.
- Clean old builds or object files before rebuilding.

<Note>
Building and linking using the [Installation Instructions](/getting-started/setup-basics/installation-instructions) examples ensures correct linkage.
</Note>

---

## 3. Missing Dependencies

### Description
- Certain OS-specific libraries or tools required for building or running GoogleTest/GoogleMock might be absent.

### How to Diagnose
- Errors in build logs pointing to missing headers, libraries (e.g., `pthread.h` or Windows SDK components).
- Runtime errors indicating missing DLLs or shared libraries.

### Common Fixes
- On Linux, install `pthread` development packages (`libpthread-dev` or equivalent).
- On Windows, ensure Windows SDK and C++ build tools are installed.
- Ensure CMake and compiler environment variables are correctly set.

<Info>
The integration details in [Integration & Dependencies](/overview/architecture-and-concepts/integration-and-dependencies) provide a deeper reference to requirements for various platforms.
</Info>

---

## 4. Unsupported Platform Messages

### Description
- Trying to run or build GoogleTest/GoogleMock on a platform not officially supported results in warnings or errors.

### Common Causes
- Platform lacks necessary threading or system API support.
- No official builds or precompiled binaries are available.

### How to Diagnose
- Review startup messages or build warnings that mention unsupported platforms.
- Check whether core components like threads and atomic operations are disabled.

### Common Fixes
- Use a supported platform or compatible compiler as described in the [Prerequisites & System Requirements](/getting-started/setup-basics/prerequisites-requirements).
- If using embedded or unusual platforms, consider alternative testing approaches or porting GoogleTest if feasible.

<Warning>
GoogleTest/GMock supports many platforms but may not support all embedded devices. Refer to the official platform support status.
</Warning>

---

## 5. General Troubleshooting Tips

- **Enable Verbose Logging:** Run tests or builds with increased verbosity (e.g., `--gmock_verbose=info`) to gain insights.
- **Clean Environment:** Remove intermediate build files and rebuild to avoid stale object files.
- **Check Documentation Sections:** Reference the [Installation Instructions](/getting-started/setup-basics/installation-instructions) and [Configuration & Environment Setup](/getting-started/setup-basics/configuration-setup) for detailed setup guidance.
- **Verify Sample Tests:** Build and run a supplied sample test to verify your environment works.
- **Check Compiler Flags:** Ensure that your compiler flags do not disable exceptions or RTTI unless deliberately intended, as GoogleTest requires them.

---

## 6. Where to Get Help

- **Official Documentation:** Refer to the [GoogleTest Architecture Overview](/overview/architecture-and-concepts/product-architecture) and [Core Concepts](/overview/architecture-and-concepts/core-concepts) to understand internal design, which informs troubleshooting.
- **Community and Support:** Visit the [GoogleTest GitHub repository](https://github.com/google/googletest) for issues, discussions, and updates.
- **Related Guides:** Check the [Writing and Building Your First Test](/getting-started/first-test-run/writing-first-test) and [Mocking with GoogleMock](/guides/core-workflows/mocking-basics) for usage best practices.

---

## Example: Diagnosing a Common Linker Error

Suppose the linker complains about missing symbols from GoogleMock:

```text
undefined reference to `testing::InitGoogleMock(int*, char**)'...
```

**Resolution:**

1. Verify that your test executable links to `gmock_main` or that your `main` calls `testing::InitGoogleMock()`.
2. If you use CMake, add:

```cmake
target_link_libraries(your_test_target gmock_main)
```

3. Confirm the libraries `gmock`, `gtest`, and `pthread` (or their equivalents on Windows) are linked properly.

---

# Quick Checklist for Setup Issues

| Symptom                         | Action                                        |
| -------------------------------| ---------------------------------------------|
| Build failure                  | Check compiler version, dependencies, and CMake configuration |
| Linker error                  | Confirm correct library linkage including `gmock_main` |
| Missing headers or libs       | Install required development packages        |
| Unsupported platform warning  | Validate platform support and consider alternatives |
| Runtime test failures         | Increase verbosity with `--gmock_verbose=info` and verify test environment |

---

# Additional Diagnostic Commands

```bash
# Check compiler version
g++ --version

# Run cmake with verbose output
cmake -DCMAKE_VERBOSE_MAKEFILE=ON ..

# Show all link flags passed
make VERBOSE=1
```


<br />

---

_For detailed installation instructions and platform support, see [Installation Instructions](/getting-started/setup-basics/installation-instructions) and [Prerequisites & System Requirements](/getting-started/setup-basics/prerequisites-requirements)._

---

# Related Documentation

- [Writing and Building Your First Test](/getting-started/first-test-run/writing-first-test)
- [Mocking with GoogleMock: A Practical Introduction](/guides/core-workflows/mocking-basics)
- [Integration & Dependencies Overview](/overview/architecture-and-concepts/integration-and-dependencies)

---

<Callout title="Tip">
Keeping your build environment clean and aligned with the recommended setup can prevent most common issues.
</Callout>

<Callout title="Note">
When building on Windows, use the Visual Studio Developer Command Prompt or equivalent, and ensure environmental variables are set properly.
</Callout>

