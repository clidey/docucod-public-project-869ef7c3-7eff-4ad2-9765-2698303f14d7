---
title: "Quick Validation and Sanity Check"
description: "Run a quick test cycle to confirm your environment is functional. Follow guidance to check your installation, run sample tests, and interpret typical outputs, so you know your setup is correct before diving deeper."
---

# Quick Validation and Sanity Check

Ensure your GoogleTest and GoogleMock setup is functional by running a quick test cycle. This page guides you through checking your installation, executing sample tests, and interpreting common test output patterns, so you can confidently proceed with deeper testing.

---

## 1. Confirm Your Installation

Before running any tests, verify that GoogleTest and GoogleMock are properly installed and linked.

### Steps to Verify:

1. **Create a Simple Mock Class and Test**

   Use a minimal mock class to confirm that mocking facilities work as expected.

   ```cpp
   #include <gmock/gmock.h>
   #include <gtest/gtest.h>

   class Foo {
    public:
     virtual ~Foo() = default;
     virtual int DoBar(int x) = 0;
   };

   class MockFoo : public Foo {
    public:
     MOCK_METHOD(int, DoBar, (int x), (override));
   };

   TEST(MockTest, BasicExpectation) {
     MockFoo mock;
     EXPECT_CALL(mock, DoBar(::testing::_))
         .WillOnce(::testing::Return(5));

     EXPECT_EQ(mock.DoBar(10), 5);
   }

   int main(int argc, char** argv) {
     testing::InitGoogleMock(&argc, argv);
     return RUN_ALL_TESTS();
   }
   ```

2. **Build and Run the Test**

   Follow your project’s build configuration (using CMake, Bazel, or other build system) to compile this test.

3. **Check Test Results**

   If your installation is correct, the test will pass, displaying a success message like:

   ```
   [==========] Running 1 test from 1 test suite.
   [----------] Global test environment set-up.
   [----------] 1 test from MockTest
   [ RUN      ] MockTest.BasicExpectation
   [       OK ] MockTest.BasicExpectation (0 ms)
   [----------] 1 test from MockTest (0 ms total)

   [----------] Global test environment tear-down
   [==========] 1 test from 1 test suite ran. (0 ms total)
   [  PASSED  ] 1 test.
   ```


### Troubleshooting Installation Failures

- If you get linker errors, ensure that your build system links to `gmock` and `gtest` libraries.
- If headers are missing, confirm that include paths reference the `googletest` source or installation directory.
- For platform or compiler compatibility issues, check the [Supported Platforms Matrix](https://github.com/google/googletest/blob/main/docs/README.md#supported-platforms).

---

## 2. Run the Sample Tests Included with GoogleTest

GoogleTest comes with a suite of sample tests that exercise core functionality. Running these tests validates your environment beyond just minimal mocks.

### How to Run Sample Tests

- Navigate to your `googletest` source directory.
- Use the build tool (e.g., `bazel test //googletest/...` or `cmake` with `ctest`) to build and run all tests.

Successful completion with all tests passing confirms a robust setup ready for use.

---

## 3. Understand Typical Test Output

Knowing how to read GoogleTest and GoogleMock output helps you quickly spot problems or confirm correctness.

### Expected Successful Call Output

When your expectation is met, the log includes messages similar to:

```
FILE:#: EXPECT_CALL(mock_foo, DoBar(_)) invoked
Stack trace:

FILE:#: Mock function call matches EXPECT_CALL(mock_foo, DoBar(_))...
    Function call: DoBar(10)
          Returns: 5
Stack trace:
```

### Common Warning Messages

#### Uninteresting Call Warning

Appears when a method with no explicit expectation is called.

```
GMOCK WARNING:
Uninteresting mock function call - returning default value.
    Function call: DoBar(42)
NOTE: You can safely ignore the above warning unless this call should not happen.  Do not suppress it by adding an EXPECT_CALL() if you don't mean to enforce the call.
```

This is informational, reminding you about calls made to mock methods without `EXPECT_CALL`.

#### Excessive Call Failure

If a mock function is called more times than expected:

```
Mock function called more times than expected - returning default value.
    Function call: DoBar(10)
          Returns: 0
         Expected: to be called once
           Actual: called twice - over-saturated and active
```

This indicates a logic error where test expectations are violated.

### Interpreting Failures

GoogleTest provides clear messages explaining the mismatch between expected and actual calls, including argument values, call counts, and stack traces.

---

## 4. Verify Your First Test Workflow

Once your setup confirms successful compilation and execution of a simple test, you can proceed with writing and running more comprehensive tests.

### Best Practices

- Establish expectations **before** exercising the mock.
- Use matchers like `_` to allow flexible argument matching when specifics are irrelevant.
- Use `WillOnce` and `WillRepeatedly` to specify return values or actions.
- Utilize sequences (`InSequence`) to enforce call order if needed.

### Tips

- Control verbosity of Mock's output via the `--gmock_verbose` flag (`info`, `warning`, `error`).
- Suppress uninteresting call warnings using `NiceMock<T>` if they clutter output.

---

## 5. Next Steps

- Explore the [Writing and Running Your First Test](../first-test-run/writing-running-first-test) guide for a full walkthrough.
- Dive into the [gMock Cookbook](../docs/gmock_cook_book.md) for recipes on mocking techniques and complex usage.
- Review the [Mocking Reference](../docs/reference/mocking.md) for API details.
- For environment setup issues, consult the [Troubleshooting Common Issues](../getting-started/troubleshooting-getting-started/common-setup-issues).

---

## 6. Resources

- [GoogleTest Primer](../guides/getting_started_workflows/introduction_and_primer)
- [GoogleMock for Dummies](../docs/gmock_for_dummies.md)
- [API Reference - Mocking](../api-reference/mocking-framework/mock-classes-methods)
- Official GoogleTest GitHub - https://github.com/google/googletest

<Tip>
Always run your test binary after adding or modifying expectations to catch errors early.
</Tip>

<Note>
If this is your first time using GoogleMock, start simple, then progressively add expectations and default behaviors.
</Note>

<Warning>
Avoid setting expectations after exercising the mock — this leads to undefined behavior.
</Warning>
