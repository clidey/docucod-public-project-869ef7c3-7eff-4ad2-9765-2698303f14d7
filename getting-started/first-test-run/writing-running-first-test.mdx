---
title: "Your First Test: Author and Run"
description: "Create and execute your inaugural unit test with GoogleTest. This page provides concrete examples for writing a simple test case, building it, and validating the results, ensuring a seamless introduction to core xUnit-style workflows."
---

# Your First Test: Author and Run

Create and execute your inaugural unit test with GoogleTest. This guide walks you through writing a simple test, building it, and validating the results to ensure a smooth introduction to the core xUnit-style workflows.

---

## 1. Prerequisites & Setup Considerations

Before writing your first test, ensure your development environment meets these basic requirements:

- **Compiler Support**: Use a C++ compiler supporting at least C++11 (C++14 or C++17 recommended).
- **GoogleTest Installation**: Have GoogleTest and GoogleMock installed or built in your environment. Refer to the [Installation Instructions (All Platforms)](/getting-started/setup-overview/installation-multi-platform) for detailed steps.
- **Build System Integration**: Make sure your build system (e.g., CMake, Bazel) is configured to compile and link test code with GoogleTest binaries.


<Note>
If you're new to GoogleTest, you may want to review the [GoogleTest Primer](primer.md) which introduces foundational concepts essential for test writing.
</Note>

---

## 2. Writing Your First Test Case

A GoogleTest test encapsulates a single logical check in your code. Use the `TEST()` macro to define one, composing of a test suite name and test name.

### Step-by-Step Example

```cpp
#include <gtest/gtest.h>

// A simple function to test
int Factorial(int n) {
  if (n <= 1) return 1;
  else return n * Factorial(n - 1);
}

// Define the test
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

**Explanation:**
- `FactorialTest` is the test suite name grouping related tests.
- `HandlesZeroInput` and `HandlesPositiveInput` are specific test names within this suite.
- `EXPECT_EQ` verifies that the actual factorial result matches the expected value.

---

## 3. Compiling and Linking Your Test

Compile your test source file with GoogleTest libraries linked. Here’s an example for a simple `g++` command assuming GoogleTest is installed system-wide:

```bash
# Compile test file
 g++ -std=c++14 -isystem /usr/include/gtest -pthread mytest.cc -lgtest -lgtest_main -o mytest
```

- Replace `/usr/include/gtest` with the correct include path.
- Link against `-lgtest` and `-lgtest_main` to bring in GoogleTest runtime and main function.

<Info>
Linking with `gtest_main` saves you from writing a main function; it defines a basic `main()` that runs all tests.
</Info>

---

## 4. Running Your Tests

Once built, run your test executable:

```bash
./mytest
```

Expected output looks like:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

Each test produces a pass/fail result with elapsed time. GoogleTest runs each test independently to avoid interference.

---

## 5. Understanding Test Outputs

- `PASSED`: The test met all expectations.
- `FAILED`: One or more assertions failed in the test.
- Failure Output:
  When a test fails, GoogleTest prints:

  - The file and line number of the failed assertion.
  - A description of what was expected and what was actual.
  - The test continues unless a fatal assertion `ASSERT_*` was used.

Example failure snippet:

```
path/to/mytest.cc:12: Failure
Expected equality of these values:
  Factorial(3)
    Which is: 5
  6
```

This indicates the `Factorial(3)` call unexpectedly returned `5` instead of `6`.

---

## 6. Writing a Main Function (Optional)

If you are not linking against `gtest_main`, provide your own main program as follows:

```cpp
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- `InitGoogleTest()` parses command-line flags for GoogleTest control.
- `RUN_ALL_TESTS()` runs all tests registered by the `TEST()` macros.

---

## 7. Tips for Your First Test

- Use meaningful test suite and test names to clearly describe what is tested.
- Prefer `EXPECT_*` assertions if you want the test to continue on failure and report multiple failures.
- Use `ASSERT_*` assertions if subsequent test code depends on a condition being true.
- Build and run tests frequently while authoring to catch issues early.
- Consider writing test fixtures (`TEST_F`) when your tests share common setup or state.

---

## 8. Troubleshooting Common Issues

<AccordionGroup title="Common Problems When Authoring and Running First Test">
<Accordion title="The Test Does Not Compile">
Make sure:
- GoogleTest headers are correctly included.
- The compiler uses `-std=c++11` or higher.
- Your build links against GoogleTest (`-lgtest`, `-lgtest_main`).
</Accordion>
<Accordion title="Tests Run but Report as Failing Unexpectedly">
- Check that the function under test returns expected results.
- Verify that your expectations (`EXPECT_EQ`) match intended outputs.
- Use verbose output with `--gtest_verbose=info` to gather detailed info.
</Accordion>
<Accordion title="Tests Are Not Detected or Executed">
- Confirm that your test executable runs and prints test results.
- Make sure your tests are defined with `TEST` or `TEST_F` macros.
- If using a custom main, ensure `RUN_ALL_TESTS()` is called.
</Accordion>
</AccordionGroup>

---

## 9. Next Steps

- Explore writing parameterized tests with `TEST_P` for data-driven testing.
- Learn to use test fixtures (`TEST_F`) to share setup logic.
- Try the [Using Mocks and Matchers](guides/getting_started_workflows/using_mocks_and_matchers) guide to integrate GoogleMock into your tests.
- Review the [GoogleTest Primer](primer.md) for a deeper foundational understanding.

---

## References

- [GoogleTest Primer](primer.md)
- [Writing and Running Tests](guides/getting_started_workflows/basic_test_workflow)
- [Using Mocks and Matchers](guides/getting_started_workflows/using_mocks_and_matchers)
- [Installation Instructions (All Platforms)](/getting-started/setup-overview/installation-multi-platform)
- [GoogleMock README](googlemock/README.md)

---

## Example Project Structure

```
project_root/
  ├─ tests/
  │    └─ my_first_test.cc
  ├─ include/
  │    └─ (your headers)
  ├─ src/
  │    └─ (your source files)
  ├─ CMakeLists.txt
```

---

### Sample Minimal `my_first_test.cc` Content

```cpp
#include <gtest/gtest.h>

int Add(int a, int b) {
  return a + b;
}

TEST(AdditionTest, HandlesPositiveNumbers) {
  EXPECT_EQ(Add(2, 3), 5);
}

int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run this to verify your test environment.

---

<Tip>
Running an initial simple test quickly confirms your GoogleTest installation and build environment are correctly configured. Start small and build confidence before testing larger or more complex code.
</Tip>