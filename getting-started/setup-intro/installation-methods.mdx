---
title: "Installation Methods"
description: "Provides detailed, step-by-step instructions for installing GoogleTest using common build systems like CMake and Bazel, with notes for additional environments such as Linux, macOS, and Windows. Users will be guided to choose the right method and follow relevant instructions."
---

# Installation Methods for GoogleTest

This page provides clear, step-by-step instructions to help you install GoogleTest using commonly adopted build systems like **CMake** and **Bazel**. Whether you're on Linux, macOS, or Windows, you will find guidance to select the right installation method for your environment and workflow.

---

## Choosing Your Installation Method

GoogleTest supports multiple installation approaches depending on your project’s build system and platform: 

- **CMake-based Installation:** Preferred for projects using CMake. Provides flexibility and supports a wide range of configurations.
- **Bazel-based Installation:** Ideal if you use Bazel as your build tool.
- **Alternative Methods:** Includes manual build and installation, or using package managers available on your platform.

Each method results in GoogleTest libraries and headers ready to use in your C++ projects.

---

## Installing GoogleTest with CMake

CMake is the most common way to build and install GoogleTest. Follow these actionable steps to build and install GoogleTest with CMake.

### 1. Prerequisites

- Ensure you have an environment with a C++ compiler that supports C++17 or later
- Make sure CMake (version 3.13 or higher) is installed.
- Git is required to clone the GoogleTest repository.

### 2. Clone the Repository

Open your terminal and run:

```bash
git clone https://github.com/google/googletest.git -b main
googletest
```

This clones the latest GoogleTest source code.

### 3. Create a Build Directory

Navigate into the cloned directory and create a separate build directory:

```bash
cd googletest
mkdir build && cd build
```

This helps keep build files separate from source files.

### 4. Configure the Build

Invoke CMake to configure the project. To build GoogleMock (included with GoogleTest), use:

```bash
cmake ..
```

If you want to build GoogleTest only (excluding GoogleMock), use:

```bash
cmake .. -DBUILD_GMOCK=OFF
```

*Tip:* You can specify additional CMake options here if necessary, like custom install paths.

### 5. Build the Project

Build the binaries by running:

```bash
make  # On Unix-like systems
# or
cmake --build . --config Release  # On Windows Command Prompt or PowerShell
```

The build will produce libraries such as `libgtest.a`, `libgmock.a` and executables.

### 6. Install GoogleTest (Optional)

If you want to install GoogleTest system-wide or to a custom location:

```bash
sudo make install  # Use admin privileges as needed
```

This installs libraries and headers into standard directories like `/usr/local/lib` and `/usr/local/include` by default.

### 7. Verification

After installation, verify it by checking the installed libraries and include folder:

```bash
ls /usr/local/lib | grep gtest
ls /usr/local/include/gtest
```

You can also use `pkg-config` if available:

```bash
pkg-config --modversion gtest
```

### Common Pitfalls & Troubleshooting

<AccordionGroup title="Troubleshooting CMake Installation">
<Accordion title="CMake version too old or missing">
Ensure you have CMake 3.13 or newer. Check with `cmake --version` and upgrade if needed.
</Accordion>
<Accordion title="Compiler does not support C++17">
Verify your compiler supports C++17 features; update your compiler if necessary.
</Accordion>
<Accordion title="Build errors on Windows with Visual Studio">
It can help to generate Visual Studio project files using CMake GUI or `cmake .. -G "Visual Studio 16 2019"`.
</Accordion>
<Accordion title="Installation directories differ from expectations">
Customize install paths with CMake options such as `-DCMAKE_INSTALL_PREFIX=/your/path`.
</Accordion>
</AccordionGroup>

---

## Installing GoogleTest with Bazel

If your project uses Bazel, GoogleTest can be incorporated by defining dependencies.

### 1. Add GoogleTest as a Dependency

In your Bazel `WORKSPACE` file add:

```starlark
http_archive(
    name = "com_google_googletest",
    url = "https://github.com/google/googletest/archive/main.zip",
    strip_prefix = "googletest-main",
)
```

### 2. Use GoogleTest in Your BUILD Files

Declare your test targets with dependencies on `@com_google_googletest//googletest`.

Example:

```starlark
cc_test(
    name = "my_test",
    srcs = ["my_test.cc"],
    deps = ["@com_google_googletest//googletest"]
)
```

### 3. Build and Run Tests

Execute:

```bash
bazel test //path/to:my_test
```

---

## Platform-Specific Notes

### Linux

- Most Linux distributions allow installation of CMake and Git via package managers.
- You may also find GoogleTest packages in your distribution’s repositories, but building from source ensures the latest version.

### macOS

- Install CMake via Homebrew: `brew install cmake`.
- Building from source is recommended for latest updates.

### Windows

- Use CMake GUI or command line to generate Visual Studio projects.
- Ensure your compiler supports C++17 (Visual Studio 2017+).

---

## Summary

By choosing the correct installation method, you can seamlessly integrate GoogleTest into your workflow. Building with CMake offers wide configurability, while Bazel integration simplifies dependency management for Bazel users.

In all cases, verify compiler compatibility and build environment before proceeding.

---

## Additional Resources

- [GoogleTest Primer](../primer.md) — Learn how to write tests after setup.
- [Supported Platforms and Integrations](../overview/features-and-getting-started/supported-platforms-and-integrations.mdx) — Details on system compatibility.
- [Setting Up with CMake and Bazel](../guides/integration-best-practices/setting-up-with-cmake-and-bazel) — For integration tips.
- Official GoogleTest GitHub repository: https://github.com/google/googletest

---

## Want More Help?

If you run into issues, consult the [Common Setup Issues and Solutions](../getting-started/troubleshooting-support/common-issues-fixes) page or visit the community forums.


---


### Example CMake installation command summary

```bash
# Clone the repo
$ git clone https://github.com/google/googletest.git -b main googletest

# Create and enter build directory
$ cd googletest
$ mkdir build && cd build

# Configure and generate build files
$ cmake ..

# Build
$ make

# Optional: install
$ sudo make install
```

### Example Bazel usage snippet for WORKSPACE

```starlark
http_archive(
    name = "com_google_googletest",
    url = "https://github.com/google/googletest/archive/main.zip",
    strip_prefix = "googletest-main",
)
```

---

*This concludes the installation methods for GoogleTest. Move next to [Configuration and Initialization](../getting-started/setup-intro/configuration-and-initialization) to start using GoogleTest.*