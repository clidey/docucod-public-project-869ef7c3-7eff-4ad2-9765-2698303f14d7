---
title: "Prerequisites & Dependencies"
description: "Guides users through installing and configuring essential prerequisites, including supported compilers, CMake or Bazel, and optional dependencies like Abseil. Covers any relevant environment variables or system libraries required before GoogleTest installation."
---

# Prerequisites & Dependencies

This guide walks you through installing and configuring the essential prerequisites required before installing and using GoogleTest and GoogleMock. You'll learn about supported compilers, build systems, optional dependencies like Abseil, and environment variables or system libraries that must be set up for a smooth GoogleTest installation.

---

## 1. Supported Compilers and C++ Standard

GoogleTest requires a compiler with support for **C++17** to guarantee successful builds and runtime behavior.

- Ensure your compiler supports the C++17 standard or later.
- For CMake projects, specify this in the top-level `CMakeLists.txt`:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

- Alternatively, specify the standard with compiler flags:

```bash
-DCMAKE_CXX_FLAGS='-std=c++17'
```

> <Info>
> GoogleTest verifies your compiler’s C++ standard support at build time, but pre-configuring this prevents build errors and ensures consistency.
> </Info>

---

## 2. Required Build Systems: CMake or Bazel

GoogleTest supports two primary build systems:

### A. CMake

- Download and install from <https://cmake.org/> if not already installed.
- GoogleTest provides a ready-to-use `CMakeLists.txt` enabling native builds across platforms.
- CMake handles necessary compiler and linker flags automatically, including pthread on supported systems.

### B. Bazel

- Bazel can also build GoogleTest as part of a larger workspace.
- Bazel setup is documented separately but shares dependency requirements.

> <Tip>
> For most users, CMake is the recommended and easiest way to build and integrate GoogleTest.
> </Tip>

---

## 3. Optional Dependencies and Libraries

### Abseil (optional)

- GoogleTest can be built with Abseil support, which provides advanced utilities and better regex support.
- When built with Abseil, GoogleTest requires Abseil’s libraries and header files.
- Abseil must be available on your system or included as part of your project.

### Property: PThread Library

- On POSIX-compliant systems, GoogleTest uses pthread for thread safety.
- CMake automatically detects and links pthread.
- If your environment lacks pthread or its detection is incorrect, you can force threading support:

```bash
-DGTEST_HAS_PTHREAD=1
```

or disable it:

```bash
-DGTEST_HAS_PTHREAD=0
```

> <Warning>
> On MinGW, pthread support is not fully functional. GoogleTest will default to Windows threading primitives.
> </Warning>

---

## 4. Environment Variables and System Libraries

### System Libraries

- GoogleTest generally requires standard C++ runtime libraries and threading libraries.
- No special system libraries are required beyond those provided by your compiler and OS.

### Environment Variables

- Typically, you do not need to set environment variables for GoogleTest.
- If you use custom build scripts or a non-standard install location, you may need to update:
  - `CMAKE_PREFIX_PATH` for CMake to locate GoogleTest builds
  - `PKG_CONFIG_PATH` when using pkg-config files like `gmock.pc` or `gmock_main.pc`

---

## 5. GoogleMock Optional Dependencies

- GoogleMock integrates with GoogleTest and inherits all its dependencies and prerequisites.
- GoogleMock’s build also requires C++17 support and depends on the same system threading libraries.
- Additional compiler or linker flags may be necessary only if you customize the build (e.g., building shared libraries).

---

## 6. Version Compatibility and Platform Notes

- GoogleTest supports Linux, Windows, and macOS officially.
- Make sure your build environment aligns with supported platforms.
- Windows users with Visual Studio must configure runtime linking properly using the `gtest_force_shared_crt` CMake option if needed.

---

## 7. Recap and Best Practices

- **Compiler:** Must support C++17.
- **Build Tool:** CMake (recommended) or Bazel.
- **Threads:** Pthread supported on UNIX-like systems; Windows uses native threading.
- **Optional:** Abseil for extended functionality.
- **Environment:** Usually no special environment variables necessary.

Follow the installation steps from the [Installing with CMake](installing-cmake) or [Installing with Bazel](installing-bazel) guides after completing these prerequisites.

---

## Troubleshooting Common Prerequisite Issues

<AccordionGroup title="Common Prerequisite Issues">
<Accordion title="Compiler Does Not Support C++17">
Verify your compiler version and update if necessary. C++17 support is essential for GoogleTest.
</Accordion>
<Accordion title="Pthread Not Found or Link Errors">
Ensure pthread is installed and accessible. On Linux, install development headers (`libpthread-dev` or equivalent).
In CMake builds, passing `-DGTEST_HAS_PTHREAD=1` can help force detection.
</Accordion>
<Accordion title="Visual Studio Runtime Mismatch Errors">
Use the CMake option `-Dgtest_force_shared_crt=ON` to align GoogleTest’s runtime linkage with your project.
</Accordion>
<Accordion title="Abseil Not Found When Required">
Confirm Abseil is properly installed or included in your project if enabling GoogleTest’s Abseil features.
</Accordion>
</AccordionGroup>

---

## Useful References

- GoogleTest GitHub Repository: <https://github.com/google/googletest>
- CMake Official Site: <https://cmake.org/>
- Abseil Repository: <https://github.com/abseil/abseil-cpp>

---

_Attach this prerequisite validation as your vital first step to seamless GoogleTest and GoogleMock installation and usage._


---

## Appendix: Environment Variable Examples

If you install GoogleMock and GoogleTest to a custom location, configure your environment variables like this:

```bash
export PKG_CONFIG_PATH=/custom/path/lib/pkgconfig:$PKG_CONFIG_PATH
export CMAKE_PREFIX_PATH=/custom/path:$CMAKE_PREFIX_PATH
```

This ensures build tools locate GoogleTest’s pkg-config files (`gmock.pc`, `gmock_main.pc`) and CMake configurations.


---

## Summary

By meeting these prerequisites and dependencies, you'll ensure a smooth journey through the installation, build, and usage of GoogleTest and GoogleMock.

If you encounter any roadblocks in these steps, consult the [Installation and Setup Troubleshooting](../faq/getting_started/setup-troubleshooting) guide.


---

<Check>
Are you ready to proceed to installation?
If so, move on to [Installing with CMake](/getting-started/installation-config/installing-cmake) or [Installing with Bazel](/getting-started/installation-config/installing-bazel) depending on your environment.
</Check>


<Source url="https://github.com/google/googletest" paths={[{"path": "googletest/README.md", "range": "1-240"},{"path": "googletest/cmake/internal_utils.cmake", "range": "1-280"},{"path": "googlemock/internal/gmock-port.h", "range": "1-160"}]} branch="main" />
