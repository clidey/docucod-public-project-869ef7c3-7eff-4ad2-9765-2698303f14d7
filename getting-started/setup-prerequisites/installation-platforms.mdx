---
title: "Installation (All Platforms)"
description: "Get step-by-step instructions for installing GoogleTest and GoogleMock using common build systems such as CMake and Bazel. Choose the path that matches your development workflow—covering Linux, Windows, and macOS."
---

# Installation (All Platforms)

This guide provides clear, step-by-step instructions to install GoogleTest and GoogleMock on your development environment. Whether you are using Linux, Windows, or macOS, and whether your build system is CMake or Bazel, follow the path that fits your workflow to get up and running quickly.

---

## 1. Prerequisites & System Requirements

- **C++17 support is mandatory.** Ensure your compiler supports C++17 or later.
- **CMake (version 3.14 or later)** is required for CMake-based build instructions.
  Download it from [https://cmake.org/](https://cmake.org/).
- **Bazel** users should have Bazel installed and configured.
- **Operating Systems Supported:** Linux, Windows, macOS.
- **Build tools:** GCC, Clang, MSVC, or other compatible compilers.
- **Administrator or appropriate permissions:** Required if installing system-wide.

<Tip>
If you're unsure about compiler support, verify your compiler’s version supports C++17 before proceeding.
</Tip>

---

## 2. Installing GoogleTest Using CMake

GoogleTest comes bundled with GoogleMock and is designed for seamless integration using CMake.

### 2.1 Clone the Repository

```bash
git clone https://github.com/google/googletest.git -b main
cd googletest
```

### 2.2 Create and Enter a Build Directory

Keep build outputs separate from source files:

```bash
mkdir build
cd build
```

### 2.3 Configure Build

- To build both GoogleTest and GoogleMock (default):

```bash
cmake ..
```

- To build only GoogleTest (skip GoogleMock):

```bash
cmake .. -DBUILD_GMOCK=OFF
```

### 2.4 Build The Libraries

On Linux/macOS:

```bash
make
```

On Windows (with Visual Studio):

Open generated `gtest.sln` and build using the IDE, or run:

```powershell
cmake --build . --config Release
```

### 2.5 (Optional) Install Libraries and Headers

System-wide installation (Linux/macOS):

```bash
sudo make install
```

This copies headers and libraries to `/usr/local/include` and `/usr/local/lib` by default.

<Tip>
To avoid conflicts with existing packages, consider using a custom install prefix by passing `-DCMAKE_INSTALL_PREFIX=<path>` to `cmake ..`.
</Tip>

---

## 3. Installing GoogleTest Using Bazel

While not included directly here, GoogleTest supports Bazel build integration.

### 3.1 Add GoogleTest as a Dependency

Reference the GoogleTest repository in your `WORKSPACE` file, and then include it in your `BUILD` files.

### 3.2 Build Your Tests

Use Bazel commands to build and run tests that link to GoogleTest and GoogleMock.

For detailed Bazel integration, please refer to the [Integrating GoogleTest with Your Workflow](/overview/concepts-architecture/integration-overview) documentation.

---

## 4. Verifying Installation

### 4.1 Verify CMake Build

- After build, you should see built library files:
  - `libgtest.a` / `gtest.lib`
  - `libgmock.a` / `gmock.lib`
  - For shared builds, corresponding dynamic libraries like `.so`, `.dll`, or `.dylib` will be present.

### 4.2 Test with Sample Code

Create a minimal test file `sample_test.cc`:

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, BasicAssertions) {
  EXPECT_EQ(1, 1);
  EXPECT_NE(1, 0);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and link with the installed GoogleTest libraries:

```bash
# For static linkage, example command (adjust paths accordingly):
clang++ sample_test.cc -lgtest -pthread -o sample_test
```

Run:

```bash
./sample_test
```

You should see output indicating the test passed.

---

## 5. Best Practices & Tips

- When using Visual Studio, consider setting the `gtest_force_shared_crt` option in CMake to avoid runtime library conflicts.
- To prevent GoogleMock macro name clashes, refer to customization options available in `gmock-port.h`.
- For multi-threaded tests, ensure your environment correctly supports pthread or equivalent threading primitives.
- Use CMake’s `FetchContent` to easily add GoogleTest as an external project for smooth integration with your own builds.

---

## 6. Troubleshooting Common Installation Issues

<AccordionGroup title="Installation Troubleshooting">
<Accordion title="C++17 Not Supported">
Check your compiler version; GoogleTest requires C++17 standard support. Upgrade your compiler or use a newer version.
</Accordion>
<Accordion title="Missing pthread Library on Linux/macOS">
Ensure pthread development headers and libraries are installed. For Debian/Ubuntu: `sudo apt-get install build-essential pthreads`
</Accordion>
<Accordion title="Build Fails on Windows with Runtime Library Conflict">
Enable CMake option `-Dgtest_force_shared_crt=ON` to match your Visual Studio project’s runtime library.
</Accordion>
<Accordion title="Unable to Link to GoogleTest Libraries">
Verify the library search path and headers are correctly included in your build configuration.
</Accordion>
</AccordionGroup>

---

## 7. Next Steps

- Proceed to [Configuring & Integrating GoogleTest](/getting-started/first-run-usage/configuration-integration) to set up GoogleTest in your project build system.
- Learn to write your first test with GoogleTest and GoogleMock by visiting [Your First Test & Mock](/getting-started/first-run-usage/writing-first-test).
- Explore [Troubleshooting & Quick Validation](/getting-started/first-run-usage/troubleshooting-quick-validation) for more tips on diagnosing problems.

---

## References

- Official GoogleTest GitHub repository: [https://github.com/google/googletest](https://github.com/google/googletest)
- CMake official site: [https://cmake.org/](https://cmake.org/)
- Supported platforms: [docs/platforms.md](/docs/platforms.md)
- Integration Overview: [Integrating GoogleTest with Your Workflow](/overview/concepts-architecture/integration-overview)

---

By following these instructions, you will have a fully functional GoogleTest and GoogleMock installation ready for building and running your C++ tests across all major platforms and build systems.