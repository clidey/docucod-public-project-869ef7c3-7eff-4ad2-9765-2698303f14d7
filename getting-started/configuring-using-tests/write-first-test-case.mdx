---
title: "Writing Your First Test Case"
description: "A beginner-friendly walkthrough of creating a simple C++ test with GoogleTest: test structure, assertions, and best practices. Includes a sample test code block and notes how test discovery and execution work out-of-the-box."
---

# Writing Your First Test Case with GoogleTest

Welcome to your first hands-on experience creating a C++ test using GoogleTest. This guide walks you through the fundamental structure of a simple test, demonstrates usage of assertions, and highlights best practices for writing clean, maintainable tests. You will also see how GoogleTest automatically discovers and runs your test without extra configuration.

---

## 1. Understanding the Test Structure

A GoogleTest test case consists of the following components:

- **Test Suite Name:** Groups related tests logically.
- **Test Name:** The individual test within the suite.
- **Test Body:** C++ code containing the actual test logic and assertions.

The macro `TEST(TestSuiteName, TestName)` defines a test function that will be automatically detected and run by the GoogleTest framework.

Example:

```cpp
TEST(MathTest, Addition) {
  EXPECT_EQ(2 + 2, 4);
}
```

- `MathTest` is the test suite.
- `Addition` is the test name.
- `EXPECT_EQ()` asserts equality â€” a core building block for verifying behavior.


## 2. Writing Your First Test

Follow these steps to write and run your first GoogleTest test:

### Step 1: Include the GoogleTest header

```cpp
#include <gtest/gtest.h>
```

This header provides all necessary macros and definitions.

### Step 2: Define the test with the TEST macro

Write your test function using the `TEST()` macro.
Example:

```cpp
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}
```

### Step 3: Add assertions

GoogleTest provides two main types of assertions:

- `EXPECT_*`: Non-fatal; test continues even if the assertion fails. Useful for checking multiple conditions in a test.
- `ASSERT_*`: Fatal; current test function aborts if the assertion fails.

For example:

```cpp
EXPECT_EQ(Factorial(1), 1);
ASSERT_GT(Factorial(5), 0);
```

Choose `EXPECT_*` when you want to continue testing after a failure, and `ASSERT_*` when an assertion failing means the rest of the test cannot continue meaningfully.

### Step 4: Compile your test

Make sure your build system links against GoogleTest libraries and compiles with C++11 support or later.

### Step 5: Run the test executable

Upon running, GoogleTest automatically detects and runs all tests, printing a summary:

```
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[----------] 1 test from FactorialTest (0 ms total)

[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```


## 3. Sample Complete Test Case

Here is a complete, minimal example of a C++ file containing a GoogleTest for the factorial function.

```cpp
#include <gtest/gtest.h>

// Simple factorial function to test.
int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n - 1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run this file as your first test program.


## 4. How GoogleTest Discovers and Executes Tests

- All test cases defined with `TEST` or `TEST_F` macros are automatically registered.
- When `RUN_ALL_TESTS()` is called, GoogleTest executes each registered test.
- Test results are collected and summarized in the output.

No manual registration or configuration is needed.


## 5. Best Practices for Your First Tests

- **Keep tests small and focused.** Each test should verify one logical behavior.
- **Use descriptive test suite and test names.** Names like `FactorialTest` and `HandlesZeroInput` communicate intent clearly.
- **Prefer `EXPECT_*` to `ASSERT_*` unless failure means test cannot continue.** This allows the test to report multiple issues at once.
- **Group related tests in test suites.** This improves organization and readability.
- **Write tests before implementing complex features.** GoogleTest encourages test-driven development.


## 6. Common Pitfalls to Avoid

- Forgetting to link against GoogleTest libraries or missing include paths.
- Naming test suites or tests with underscores or invalid identifiers; GoogleTest requires valid C++ identifiers without underscores.
- Using `ASSERT_*` excessively in simple tests, which can hide multiple potential failures.
- Writing a custom `main()` function without calling `testing::InitGoogleTest()`.


## 7. Next Steps

- Explore `TEST_F` macros to use test fixtures for sharing setup and teardown code.
- Learn about more assertion types in the [Assertions Reference](../api-reference/core-testing-api/assertions.md).
- See how to run and interpret tests in the [Running Tests & Interpreting Output](../getting-started/configuring-using-tests/running-tests-validate-output.md) page.
- Get hands-on with writing mocks using gMock in [Getting Started with Mocks](../guides/mocking-and-advanced-scenarios/mocking-basics.md).


---

## Related Documentation

- [GoogleTest Primer](../getting-started/prep-requirements-installation/prerequisites-requirements.md)
- [Project Setup & Integration](../getting-started/configuring-using-tests/project-setup-integration.md)
- [Writing Your First Test](../guides/core-testing-workflows/writing-basic-tests.md)
- [Running Tests & Interpreting Output](../getting-started/configuring-using-tests/running-tests-validate-output.md)
- [gMock for Dummies](../docs/gmock_for_dummies.md) for easy introduction to mocking


<Info>
GoogleTest automatically registers tests defined via macros; no extra manual steps are required. Make sure to call `testing::InitGoogleTest` in your `main()` before running tests.
</Info>

<Tip>
Use meaningful names for your test suites and test cases. It makes maintaining and extending tests easier as your codebase grows.
</Tip>

<Warning>
Do not use underscores (`_`) in test suite or test names; GoogleTest requires valid C++ identifiers without underscores for these names.
</Warning>

