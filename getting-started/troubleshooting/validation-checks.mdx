---
title: "Quick Validation Steps"
description: "Offers concise steps and checks to confirm a working installation, making it simple to verify GoogleTest is properly integrated and ready for further development."
---

# Quick Validation Steps

This guide offers you clear, concise steps to validate that GoogleMock is correctly installed and integrated in your development environment. By following these checks, you can quickly confirm your setup is functional and ready for developing your first mock-based tests.

---

## 1. Confirm Build and Link Success

- **Build your test binary that includes GoogleMock mocks and expectations.**

- *Expected Outcome:* Compilation should succeed without errors or warnings related to GoogleMock headers or symbols.

- *Tip:* If building fails due to missing headers, verify your include paths correctly include `googlemock/include` and linked libraries include GoogleMock.

---

## 2. Run a Sample Mock Test

Create a minimal test with a mocked class, an `EXPECT_CALL`, and an invocation:

```cpp
#include <gmock/gmock.h>
#include <gtest/gtest.h>

// Interface to mock
class Foo {
public:
  virtual ~Foo() = default;
  virtual int GetValue() = 0;
};

// Mock class
class MockFoo : public Foo {
public:
  MOCK_METHOD(int, GetValue, (), (override));
};

TEST(SmokeTest, SimpleMockCall) {
  MockFoo foo;

  EXPECT_CALL(foo, GetValue())
      .WillOnce(::testing::Return(42));

  EXPECT_EQ(foo.GetValue(), 42);
}
```

- **Build and run this test.**

- *Expected Outcome:* The test should pass.

- *Troubleshooting:* If the test fails or GoogleMock functions are unresolved, re-check your linking and installation.

---

## 3. Observe Mock Output Verbosity

GoogleMock supports different verbosity levels via the flag `--gmock_verbose`.

- To enable detailed tracing of expected and uninteresting calls, run your test executable with:

  ```shell
  ./your_test_binary --gmock_verbose=info
  ```

- *Expected Outcome:* You will see detailed logs about mock function calls matching or warnings for uninteresting calls, aiding in debugging.

- *Tip:* Adjust verbosity to `warning` (default) or `error` to reduce logging noise.

---

## 4. Validate Common Failure and Warning Messages

In your test runs, familiarize yourself with GoogleMock’s output messages for issues like:

- **Unexpected Calls:** When a mock method is called with arguments that have no matching `EXPECT_CALL`.
- **Excessive Calls:** When a mock method is called more times than expected by the cardinality (`Times()`).
- **Uninteresting Calls:** Calls to mock methods without an `EXPECT_CALL` which trigger warnings (naggy mode).
- **Retired Expectations:** Calls matching expectations that have already been retired due to `.RetiresOnSaturation()`.
- **Unsatisfied Prerequisites:** Calls on expectations with preconditions not yet met.

The sample test suite `googlemock/test/gmock_output_test_.cc` demonstrates these scenarios. Running this suite helps you confirm that your GoogleMock installation reports accurately.

---

## 5. Check for Mock Object Leaks

Unreleased mock objects imply that their expectations are never verified and usually indicate a test bug.

- GoogleMock will print errors at program exit if mock objects are leaked, including their addresses.

- To avoid false positives, you can explicitly allow leaks using:

  ```cpp
  testing::Mock::AllowLeak(mock_object);
  ```

- *Best Practice:* Always ensure your mocks are properly destructed, or use RAII ownership.

---

## 6. Use GoogleMock Helper Classes for Different Mock Behavior

- **NaggyMock:** Default behavior, warns on uninteresting calls.
- **NiceMock:** Suppresses warnings, less noisy for frequently called mocks.
- **StrictMock:** Treats uninteresting calls as failures, useful for ensuring no unexpected calls.

Using these classes on your mocks can help tune the sensitivity and logging during validation.

Example:

```cpp
using ::testing::NiceMock;
NiceMock<MockFoo> foo;
EXPECT_CALL(foo, GetValue()).WillOnce(Return(42));
```

---

## 7. Run GoogleMock's Own Validation Tests (Optional)

- GoogleMock includes a rich suite of tests in `googlemock/test/gmock_output_test_.cc` that verify expected output messages and behaviors.

- Running these tests ensures your installation and environment behave exactly as intended.

---

## Troubleshooting Common Validation Failures

- **Mock Methods Not Called:** Check if your code under test correctly calls the mocks in the expected way.

- **Unexpected Call Errors:** Review your `EXPECT_CALL` arguments and cardinalities.

- **Verbose Logs Showing Stack Traces:** Enable `--gmock_verbose=info` to get detailed traces and identify call origins.

- **Leaked Mocks Errors:** Confirm all mocks are properly deleted or marked with `AllowLeak` if intentional.

- **Compilation Issues:** Ensure C++17 or later and compatible compiler versions are used.

For further assistance, review the [General Usage FAQ](https://google.github.io/googletest/faq/common-usage-issues/faq-general) and the [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html).

---

## Summary

Running through these quick validation steps ensures your GoogleMock setup is operational and ready for effective mocking in tests. Early verification avoids hours of debugging later and confirms that your tests can rely on GoogleMock’s powerful mocking features.


---

# Additional Resources

- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) – Beginner-friendly mock tutorial
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) – Recipes for advanced mocking
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html) – API details
- [Writing Your First Test](../writing-first-test.md) – For next steps after validation
- [Running and Interpreting Test Results](../running-tests.md) – Understand outputs and failures

---