---
title: "Common Installation & Setup Issues"
description: "Covers frequently encountered problems during installation or initial test runs across platforms, such as missing dependencies, C++ standard support, build errors, and misconfigured paths."
---

# Common Installation & Setup Issues

This page addresses frequent problems users encounter during installation or when running initial tests with GoogleTest. The goal is to help you quickly identify and resolve common pitfalls related to dependencies, C++ standard support, build errors, and misconfigured environment settings.

---

## 1. Missing Dependencies or Incomplete Installation

### Problem
Your build or test invocation fails because some headers or libraries cannot be found.

### Cause
- GoogleTest headers or binaries are not installed or linked properly.
- Build system configuration missing include paths or library paths.

### Solution
1. Confirm that GoogleTest source and header files are present.
2. For CMake builds, ensure you have either:
   - Installed GoogleTest system-wide correctly, or
   - Added the correct `add_subdirectory()` path to the GoogleTest source.
3. Link your tests against `gtest` or `gtest_main` properly.
4. Verify your include paths cover the directory containing `gtest/gtest.h`.

#### Example: CMake snippet to integrate GoogleTest
```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/release-1.17.0.zip
)
FetchContent_MakeAvailable(googletest)

add_executable(my_test test.cpp)
target_link_libraries(my_test gtest_main)
```


## 2. Compiler Does Not Support C++17 or Higher

### Problem
Compilation fails due to use of C++17 features or `testing::InitGoogleTest()` enforcing a minimum C++ version.

### Cause
GoogleTest requires a C++17 compatible compiler and standard library.

### Solution
- Ensure your compiler version meets the minimum requirements for C++17.
- Add compiler flags to enable C++17, for example:

  - GCC/Clang: `-std=c++17`
  - MSVC: `/std:c++17`

- Use CMake's configuration to set the C++ standard:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```


## 3. Build Errors Linking GoogleTest as a Shared Library

### Problem
Linker errors referencing `gtest` symbols when building or running tests using shared libraries.

### Cause
Missing compile-time flags or incorrect linkage when building GoogleTest as a shared library or when using it.

### Solution
- Compile GoogleTest with `-DGTEST_CREATE_SHARED_LIBRARY=1`.
- When linking your tests against GoogleTest shared library, define `-DGTEST_LINKED_AS_SHARED_LIBRARY=1`.
- Confirm linker paths include the location of the GoogleTest shared library.


## 4. Environment Variables or Paths Misconfigured

### Problem
Test framework does not locate temporary directories, source directories, or test data, causing test failures or unexpected behavior.

### Cause
Incorrect or missing environment variables such as `TEST_TMPDIR` or `TEST_SRCDIR`.

### Solution
- Verify environment variables are set before running tests.
- Use GoogleTest helpers `testing::TempDir()` and `testing::SrcDir()` which rely on these variables.
- On platforms with filesystem support, ensure the directories referenced actually exist and are accessible.


## 5. Tests Not Running or Being Skipped Unexpectedly

### Problem
No tests are run, or you get messages indicating tests were skipped.

### Cause
- Filters such as `--gtest_filter` or environment variable `GTEST_FILTER` exclude all tests.
- Tests are disabled with `DISABLED_` prefix.
- Fatal failure or skip triggered in global environment or test fixture setup.

### Solution
- Check any filters and disable them or use wildcards.
- Remove the `DISABLED_` prefix to enable tests.
- Review initialization code in `SetUpTestSuite()`, `SetUp()`, or global environments that may skip or abort tests (look for `GTEST_SKIP()`).


## 6. Common Compilation Flags and Configuration Tips

- Always call `testing::InitGoogleTest(&argc, argv);` before `RUN_ALL_TESTS()` in your `main()`.
- Use `gtest_main` library if you don't want to provide your own `main()` function.
- For Windows with Unicode projects, use the wchar_t variant `InitGoogleTest(int* argc, wchar_t** argv)`.
- Avoid underscores in test suite and test names to prevent naming conflicts.


## 7. Troubleshooting Runtime Errors or Unexpected Test Failures

- Verify that tests do not have unmet dependencies or require specific runtime permissions.
- Ensure global test environments properly handle failures and skips.
- Check for exceptions or signals causing tests to terminate prematurely.


## Additional Resources

- For more detailed installation instructions, see [Installation (CMake, Bazel, and Manual)](/getting-started/prerequisites-installation/installation-cmake-bazel).
- For understanding test execution results and filtering, see [Running and Interpreting Test Results](/getting-started/first-steps/running-tests).
- For common platform-specific advice, consult [Platform-Specific Advice](/getting-started/troubleshooting-common-issues/platform-specific-advice).


---

<Tip>
When encountering setup errors, start by running a minimal example test with the basic `TEST()` macro and confirm it runs correctly. This helps isolate installation issues from test logic errors.
</Tip>

<Warning>
Avoid mixing incompatible compiler settings or linking against multiple versions of GoogleTest. Consistency in build system and compiler options is critical for successful builds.
</Warning>

<Note>
If you have questions or need community support, visit the [GoogleTest GitHub](https://github.com/google/googletest) repository or refer to the Getting Started and FAQs sections in this documentation.
</Note>
