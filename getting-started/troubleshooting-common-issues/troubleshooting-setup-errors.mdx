---
title: "Troubleshooting Common Setup Errors"
description: "Lists and describes typical installation and build errors, with actionable solutions and links to detailed FAQs if needed. Covers issues like compiler version mismatches, missing C++17, misconfigured includes/links, and environment-specific quirks."
---

# Troubleshooting Common Setup Errors

When setting up GoogleTest and GoogleMock, several typical installation and build errors can occur. This guide helps you identify those issues, understand their causes, and apply effective solutions to get your environment up and running smoothly.

---

## Common Setup Errors and How to Fix Them

### 1. Compiler Version Mismatch

**Symptom:**
- Build fails with errors complaining about unsupported C++ features.
- Errors related to missing `std::filesystem`, `std::optional`, or other C++17 components.

**Cause:**
- GoogleTest and GoogleMock require a compiler that supports at least C++17.
- Using an older compiler or one not configured for C++17 causes these errors.

**Solution:**
1. Verify your compiler version:
   - For GCC: run `g++ --version` and ensure version 7 or above.
   - For Clang: run `clang++ --version` and ensure version 5 or above.
   - For MSVC: Visual Studio 2017 or later is required.

2. Enable C++17 support in your build system:
   - For CMake, add:
     ```cmake
     set(CMAKE_CXX_STANDARD 17)
     set(CMAKE_CXX_STANDARD_REQUIRED ON)
     ```
   - For Bazel, specify `cxxopts = ["-std=c++17"]` or equivalent.

3. Update your compiler or toolchain if it does not meet requirements.

---

### 2. Missing C++17 Standard Library Support

**Symptom:**
- Linker errors or missing symbols related to standard library features like `std::variant`, `std::filesystem`.

**Cause:**
- Compiler might support the standard but your standard library does not.

**Solution:**
- Ensure your standard library implementation supports C++17 (e.g., libstdc++ >= GCC 7, libc++ >= Clang 5).
- On Linux, install latest development packages such as `libstdc++-dev` or update your distribution packages.
- On Windows, use up-to-date Visual Studio installs.

---

### 3. Misconfigured Include and Link Paths

**Symptom:**
- Compiler cannot find `gmock/gmock.h` or `gtest/gtest.h` includes.
- Linker errors about missing `libgmock` or `libgtest` symbols.

**Cause:**
- The include or library paths are not set correctly during build configuration.
- Build system (Bazel, CMake, or others) is not properly linking against GoogleTest/GoogleMock.

**Solution:**
- Verify you have installed or added GoogleTest and GoogleMock sources correctly.
- For CMake:
  - Use `find_package(GTest REQUIRED)` if installed via package manager.
  - Or add GoogleTest and GoogleMock as subdirectories using the repository.
- For Bazel:
  - Include `@com_google_googletest//:gmock_main` or appropriate targets.
- Confirm your compiler command lines include `-I` flags pointing to header locations.
- Confirm your linker is passed `-lgmock`, `-lgtest`, or corresponding library files.

---

### 4. Environment-Specific Issues

Some quirks depend on your OS, environment, or build system.

#### a) Windows Visual Studio Particularities

- Ensure your project settings enable C++17 standard.
- Using legacy compilers or incorrect runtime libraries can cause mysterious link errors.
- Avoid mixing static and dynamic CRTs with GoogleTest libraries.

#### b) Bazel Workspace Setup

- Missing or incorrect `MODULE.bazel` or WORKSPACE configurations can break resolving dependencies.
- Make sure you include GoogleTest and GoogleMock deps correctly.

#### c) CMake Version

- Older CMake versions may lack necessary support for modern C++ standards; upgrade to at least 3.8.

---

## Practical Tips and Best Practices

- Use recent, stable versions of GoogleTest and GoogleMock from the official repository.
- Always configure your compiler to use C++17 explicitly.
- Verify environment variables such as `CPATH`, `LIBRARY_PATH` if you use manual installations.
- Run sample tests from provided sources to verify your setup before writing custom tests.
- Use verbose build options (e.g., `VERBOSE=1` for make, or `--verbose_failures` for Bazel) to diagnose issues.

---

## Links to Detailed FAQs and Guides

- [GoogleTest Primer](../docs/primer.md): Understanding basic GoogleTest concepts.
- [gMock Cookbook](../docs/gmock_cook_book.md): Recipes for effective mocking.
- [Legacy gMock FAQ](../docs/gmock_faq.md): Troubleshooting common mocking issues.
- [gMock Cheat Sheet](../docs/gmock_cheat_sheet.md): Quick access to mocking syntax.
- [Supported Platforms and Environments](../../overview/workflow-integration/supported-platforms.mdx): Details on compatible compilers and OS.
- [Installation with Bazel](../../getting-started/set-up-prerequisites-installation/installation-bazel.mdx): Bazel-specific setup guidance.
- [Installation with CMake](../../getting-started/set-up-prerequisites-installation/installation-cmake.mdx): CMake-specific setup guidance.

---

## Troubleshooting Workflow

1. Confirm your compiler version and C++17 compatibility.
2. Check your build system for correct include and library paths.
3. Build and run the sample GoogleTest sample tests to isolate the problem.
4. Review specific error messages for hints on missing dependencies or symbols.
5. Consult detailed GoogleMock FAQs for questions related to mocking behavior after setup.
6. Reach out to the community or support channels if issues persist.

---

## Troubleshooting Example: Compiler Does Not Support MOCK_METHOD

**Scenario:** Using an old compiler which produces errors around the `MOCK_METHOD` macro.

**Action:**
- Upgrade the compiler to a version supporting C++17 features.
- Verify including `<gmock/gmock.h>` is done before any mocks are defined.

---

## Troubleshooting Example: Uninteresting Mock Function Call Warning

**Symptom:** Your test outputs "Uninteresting mock function call" warnings during execution.

**Cause:** You did not specify an expectation (`EXPECT_CALL`) for some mock methods used.

**Solution:**
- Add `EXPECT_CALL` with `.Times(AnyNumber())` or `ON_CALL` with an appropriate default action.
- Suppress warnings by wrapping mock in `::testing::NiceMock<>` if appropriate.

---

### Summary of Key Setup Errors

| Error Type                      | Cause                                  | Solution Summary                   |
| -------------------------------|--------------------------------------|----------------------------------|
| Compiler version mismatch       | Old compiler without C++17 support   | Update compiler, enable C++17    |
| Missing C++17 library support   | Standard library not updated          | Upgrade system stdlib            |
| Include/link path misconfiguration | Build system does not find headers/lib | Adjust include/link paths in project |
| Environment quirks              | OS/platform/build system specifics   | Follow platform-specific docs    |
| Unexpected mock call warnings   | Missing expectations in tests         | Add `EXPECT_CALL` or use `NiceMock` |

---

## Getting Additional Help

If you encounter errors not covered here or need deeper understanding:

- Review the [Legacy gMock FAQ](../docs/gmock_faq.md) for expanded troubleshooting.
- Explore [gMock Cookbook](../docs/gmock_cook_book.md) for practical examples.
- Use the GoogleTest and GoogleMock community forums or GitHub issues.

---

## Final Check

Before proceeding to use GoogleTest and GoogleMock, run your sample tests following the [Quick Validation & Sample Projects](../../getting-started/configuration-first-run-validation/quick-validation.mdx) guide to confirm your environment is properly setup.


---