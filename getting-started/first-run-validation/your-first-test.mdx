---
title: "Writing & Running Your First Test"
description: "Hands-on walk-through: create a basic test, build and execute it, then interpret the output. This page delivers the quick win of a successful green check, boosting confidence and showing how tests are defined and discovered."
---

# Writing & Running Your First Test

Hands-on walk-through: create a basic test, build and execute it, then interpret the output. This page delivers the quick win of a successful green check, boosting confidence and showing how tests are defined and discovered.

---

## 1. Create Your First Test File

To start using GoogleTest, you need to write a simple test. This test will exercise a small functionality and verify its expected behavior.

1. Create a new C++ source file named `sample_test.cpp`.
2. Include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

3. Define a test using the `TEST` macro. It requires two arguments: the test suite name and the test name.

```cpp
TEST(SampleTestSuite, BasicAssertions) {
  EXPECT_EQ(1 + 1, 2);                      // Check equality
  EXPECT_TRUE(true);                        // Check a boolean condition
  EXPECT_NE(123, 456);                      // Check inequality
}
```

> The `TEST` macro creates a test function registered automatically with GoogleTest.

## 2. Build Your Test Executable

Before building, confirm that GoogleTest is installed or available in your project. See the [Installing GoogleTest](https://github.com/google/googletest/blob/main/README.md#getting-the-code) guide for platform-specific instructions.

### Quick CMake Build Steps:

1. Create a `CMakeLists.txt` in your test directory containing:

```cmake
cmake_minimum_required(VERSION 3.14)
project(GoogleTestSample)

# Enable testing
enable_testing()

# Locate GoogleTest package
find_package(GTest REQUIRED)

# Add the executable
add_executable(sample_test sample_test.cpp)

# Link test executable to GoogleTest libraries
target_link_libraries(sample_test GTest::gtest_main)

# Register the test
add_test(NAME sample_test COMMAND sample_test)
```

2. Generate build files and compile:

```bash
mkdir build
cd build
cmake ..
cmake --build .
```

3. Build success creates `sample_test` executable ready to run.

<Tip>
If `find_package(GTest REQUIRED)` fails, ensure GoogleTest is installed or included as a submodule or FetchContent in your project.
</Tip>

## 3. Run the Test Executable

Run your compiled test binary to see GoogleTest in action.

```bash
./sample_test
```

### Expected Output Example:

```
Running main() from gmock_main.cc
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTestSuite
[ RUN      ] SampleTestSuite.BasicAssertions
[       OK ] SampleTestSuite.BasicAssertions (0 ms)
[----------] 1 test from SampleTestSuite ran. (0 ms total)

[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

The log shows: 
- The test suite and test names.
- Test start and successful completion indicated by `[       OK ]`.
- Final summary indicating all tests passed.

<Check>
Passing tests validate that your GoogleTest environment is correctly configured.
If tests fail, review the test source and output messages for details.
</Check>

## 4. Understanding Test Discovery and Naming

- GoogleTest automatically discovers all tests defined with the `TEST()` macro linked into your executable.
- Test suite names group related tests logically.
- Test names should be descriptive but concise.
- Neither name should contain underscores `_` to avoid ambiguities.

This organization helps track test coverage and diagnose issues efficiently.

## 5. Next Steps

- Try modifying the test to add more assertions or test other code.
- Explore using test fixtures (`TEST_F`) for shared data setups.
- Move on to writing your first mock objects using GoogleMock to simulate dependencies.
- Consult the [GoogleTest Primer](primer.md) for a deeper dive into test design and writing assertions.

---

## Troubleshooting Common Issues

<AccordionGroup title="Common Problems Running Your First Test">
<Accordion title="Test Executable Not Found After Build">
Verify that the build commands completed successfully without errors. Check that your executable name matches what you are running.
</Accordion>
<Accordion title="GoogleTest Headers Not Found">
Make sure the `GTest::gtest_main` package is correctly found in CMake via `find_package`. You may need to install GoogleTest or update your `CMAKE_PREFIX_PATH`.
</Accordion>
<Accordion title="Tests Failing Unexpectedly">
Review the failure messages carefully; they show which assertion failed.
Check your code logic and ensure the expected conditions are correct.
</Accordion>
</AccordionGroup>

---

## Summary

You have just completed writing, building, and running your first GoogleTest test case. This foundational step confirms your testing environment and provides a concrete example for all your tests moving forward.

---

_For further help, visit the [GoogleTest GitHub Repository](https://github.com/google/googletest) or the [GoogleTest Primer](primer.md)._

<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "googletest/README.md", "range": "10-130"}, {"path": "docs/primer.md", "range": "1-180"}]} />
