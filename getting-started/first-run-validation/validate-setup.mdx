---
title: "Validating Your Setup"
description: "How to confirm that your installation and configuration work as intended. Includes basic sample test execution, understanding GoogleTest's output, and guidance on what a proper test run looks like (including any potential warnings)."
---

# Validating Your Setup

Ensure your GoogleTest installation and configuration are functioning correctly by running simple sample tests, interpreting their output, and confirming that test runs behave as expected. This page guides you through verifying your setup with actionable steps and clarifies the expected test output, including how to handle warnings.

---

## 1. Running a Basic Sample Test

Follow these steps to build and execute a simple test that verifies both GoogleTest and GoogleMock integration:

<Steps>
<Step title="Create a Test Source File">
Create a new file, e.g., `sample_test.cc`, with the following code:

```cpp
#include <gtest/gtest.h>
#include <gmock/gmock.h>

using ::testing::Return;

// Define a simple interface.
class Foo {
 public:
  virtual ~Foo() {}
  virtual int GetValue() = 0;
};

// Define a mock class.
class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, GetValue, (), (override));
};

// A test case using the mock.
TEST(SampleTest, BasicMockExample) {
  MockFoo mock_foo;

  // Set expectation: GetValue will be called once and will return 42.
  EXPECT_CALL(mock_foo, GetValue()).WillOnce(Return(42));

  // Exercise the mock.
  EXPECT_EQ(42, mock_foo.GetValue());
}
```
</Step>

<Step title="Build the Test">
Compile the test with GoogleTest and GoogleMock. For CMake, ensure your `CMakeLists.txt` links against `gmock_main` or `gtest_main`.

Example command line compilation (adjust include and link paths):

```bash
clang++ -std=c++11 sample_test.cc -pthread -lgtest -lgmock -o sample_test
```

If using Bazel or other build tools, follow their standard integration methods.
</Step>

<Step title="Run the Test">
Execute the test binary:

```bash
./sample_test
```

Expected output:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicMockExample
[       OK ] SampleTest.BasicMockExample (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

The test output confirms GoogleTest and GoogleMock are working correctly. If you see errors, check your installation paths and dependencies.
</Step>

<Step title="Handle Common Output Scenarios">
Understanding the test run output: 

- **PASS**: The test has run successfully.
- **FAIL**: Expectation(s) were violated or the test assertion failed.
- **WARNING (Uninteresting calls)**: These are warnings for mock methods that were called without explicit `EXPECT_CALL` but do not cause test failure. 
  - These often signal that you might want to add explicit expectations or define default actions with `ON_CALL`.
  - If noise is excessive, consider wrapping mocks in `NiceMock` to suppress these warnings.

</Step>
</Steps>

---

## 2. Checking GoogleTest & GoogleMock Integration

To verify the framework’s integration:

- **Run unit tests provided in the GoogleMock source**: Use the test binaries located under `googlemock/test/`. Running tests like `gmock_spec_builders_test_` ensures the internals are working.

- Use the following command inside the repository root:

```bash
bazel test //googlemock/...
```

or build and run the tests based on your build system.

Successful test runs with no failures or crashes prove proper integration.

---

## 3. Understanding GoogleTest and GoogleMock Output Messages

GoogleTest and GoogleMock emit clear, verbose messages to aid diagnosis. Key points:

### Test Progress and Summary

- `[ RUN      ]` indicates a test started.
- `[       OK ]` indicates successful test completion.
- `[  FAILED  ]` indicates test failures.
- Summary at the end shows total runs and passes/failures.

### GoogleMock Expectation Messages

- Messages show which expectations matched:

  ```
  Mock function call matches EXPECT_CALL(mock, Foo(5))...
  ```

- Warnings about uninteresting calls (mock methods called without expectations):

  ```
  GMOCK WARNING: Uninteresting mock function call - returning default value.
  Function call: Foo(2)
  ```

- Errors on unexpected calls (calls that don’t match any expectation) report clearly with argument mismatch information to help debug failures.

- Saturation and excessive call warnings appear if the number of calls exceed the cardinality specified.

### Tips to Interpret Output

- Use `--gmock_verbose=info` flag when running tests to get more detailed mock call traces.
- Use GoogleTest’s `--gtest_stack_trace_depth` to control stack trace verbosity (default is 100).
- Combine with your IDE’s error jump shortcuts for faster navigation.

---

## 4. Troubleshooting Common Issues

### Issue: Test Fails to Run or Link
- Verify include and link paths include GoogleTest and GoogleMock.
- Check that `-pthread` and other threading dependencies are included.
- Confirm compatibility with your compiler version.

### Issue: Unexpected Mock Function Calls
- Ensure you set `EXPECT_CALL` or `ON_CALL` for all methods the mock should use.
- If you see warnings about uninteresting calls you intend to allow, wrap the mock with `NiceMock` or add explicit `EXPECT_CALL(...).Times(AnyNumber())`.

### Issue: Too Many or Too Few Calls to a Mock Method
- Adjust cardinality using `.Times()` to specify exact or fuzzy call counts.
- Use `WillOnce()` and `WillRepeatedly()` to specify behavior per call.
- Use `.RetiresOnSaturation()` to disable an expectation once saturated.

### Issue: Ambiguous Overload Calls
- Disambiguate overloaded mock methods using `Const()` wrapper for const overloads.
- Specify exact matchers for arguments when overloading.

<Note>
For deeper troubleshooting, review the [Mocking FAQ](https://google.github.io/googletest/faq/mocking-specific-questions.html) and Boostrap with verbose logging.
</Note>

---

## 5. Next Steps

Once you confirm your setup is working:

- Proceed to **Writing and Running Your First Test** guide to deepen understanding.
- Explore **Introducing Mocking with GoogleMock** to leverage mocks effectively.
- Review **Configuring GoogleTest in Your Project** for build customization.

For quick access to relevant documentation, see the Summary below.

---

## 6. Additional Resources

- [gMock Cheat Sheet](https://google.github.io/googletest/gmock_cheat_sheet.html) for quick reference on mocking syntax.
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) for practical, advanced recipes.
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html) for detailed API documentation.
- [GoogleTest Primer](https://google.github.io/googletest/primer.html) for basics of GoogleTest.

---

For general installation and build help, consult the [Supported Platforms and Dependencies](https://google.github.io/googletest/overview/integration-adoption/supported-platforms.html) and [Troubleshooting Setup & Installation](https://google.github.io/googletest/getting-started/environment-setup/troubleshooting-setup.html).


---

<Info>
Running your first GoogleTest with a mock will validate that your installation and environment are correctly configured. Remember, expectations must be set before mock method calls; violations or missing expectations result in clear error messages that the framework prints to aid debugging.
</Info>

---

### Example Command to Run Tests with Verbose Output

```bash
./sample_test --gmock_verbose=info
```

This gives complete traceability of mock calls and expectation matches.

---

# References

- [Writing & Running Your First Test](../getting-started/first-run-validation/your-first-test.md)
- [Mocking Introduction Guide](../guides/getting-started/mocking-intro.md)
- [gMock Cheat Sheet](https://google.github.io/googletest/gmock_cheat_sheet.html)
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html)
- [Supported Platforms Overview](../getting-started/environment-setup/prerequisites.md)
- [Troubleshooting Setup & Installation](../getting-started/environment-setup/troubleshooting-setup.md)



---

*End of Validating Your Setup Guide*