---
title: "Quick Validation Checks"
description: "Describes simple validation steps—such as running provided sample tests or using built-in test targets—to confirm that GoogleTest and GoogleMock are fully functional in the user's environment before custom development begins."
---

# Quick Validation Checks

Verifying that GoogleTest is correctly installed and functional before embarking on custom test development is critical for a smooth testing journey. This page guides you through simple, practical validation steps using provided sample tests and built-in test targets to confirm that GoogleTest and GoogleMock operate as expected in your environment.

---

## 1. Running Provided Sample Tests

GoogleTest includes comprehensive unit tests designed to exercise core features and verify correct integration. Running these tests is the fastest way to validate your setup.

### Step-by-Step Guide

1. **Locate the Sample Test Executable or Source**
   - Download GoogleTest source if not already done.
   - Navigate to the `googletest/test` directory where test sources reside (e.g., `googletest-output-test_.cc`).

2. **Build the Tests**
   - Using your chosen build system (CMake, Bazel, Makefile):
     - Build all tests, or specifically the sample tests.
   - Example with CMake:
     ```bash
     mkdir build && cd build
     cmake ..
     make
     ```

3. **Execute the Tests**
   - Run the compiled test binary:
     ```bash
     ./googletest-output-test
     ```

4. **Check the Output**
   - Expect running of multiple tests from various test suites.
   - Some tests will intentionally fail; this is expected and ensures failure reporting works correctly.
   - Look for a summary similar to:
     ```
     [==========] Running 90 tests from 43 test suites.
     [  PASSED  ] 31 tests.
     [  FAILED  ] 57 tests.
     ```

   - Intentional failures validate GoogleTest's error-reporting mechanisms.

<Tip>
Certain tests in the sample suite intentionally fail as part of validation. Do not treat these failures as issues. The key is that the testing framework runs and reports these conditions correctly.
</Tip>

## 2. Verifying Sample Tests Behavior

### What These Tests Check

- Correct handling of fatal and non-fatal failures
- Proper interleaving of logs and assertions
- Scoped trace functionality (`SCOPED_TRACE`) and nested trace management
- Assertion macros behavior including `EXPECT_*()`, `ASSERT_*()`, `FAIL()`, `ADD_FAILURE()`
- Parameterized and typed tests are instantiated and reported properly
- Death tests run in the correct order
- Failure reporting includes file and line numbers

### Sample Test Insights

The `googletest-output-test_.cc` file contains tests that purposely generate failures, including asserts that check for fatal and non-fatal failures. This ensures each failure mode triggers the correct error messages and stack traces, validating the diagnostic fidelity of GoogleTest.

## 3. Using Built-in Test Macros for Validation

Besides running sample tests, GoogleTest provides specialized macros to confirm correct failure detection in your environment, useful for validating your own integration.

### Common Validation Macros

- `EXPECT_FATAL_FAILURE(statement, substring)`
  - Confirms that `statement` causes a fatal failure whose message contains `substring`.

- `EXPECT_NONFATAL_FAILURE(statement, substring)`
  - Asserts that executing `statement` generates one non-fatal failure containing `substring`.

- `EXPECT_FATAL_FAILURE_ON_ALL_THREADS(statement, substring)` and `EXPECT_NONFATAL_FAILURE_ON_ALL_THREADS(statement, substring)`
  - Like above, but catch failures occurring across all threads.

### Example Usage

```cpp
#include "gtest/gtest-spi.h"

TEST(ValidationTest, DetectsFatalFailure) {
  EXPECT_FATAL_FAILURE(ASSERT_EQ(1, 2), "Expected equality");
}

TEST(ValidationTest, DetectsNonFatalFailure) {
  EXPECT_NONFATAL_FAILURE(EXPECT_EQ(1, 2), "Expected equality");
}
```

This approach ensures your environment properly detects and distinguishes failure types.

<Note>
These macros only catch failures within the current thread unless explicitly noted for all threads. Multi-threaded failure verification may require additional considerations.
</Note>

## 4. Running Basic Built-in Tests

After confirming your build is successful, run GoogleTest's own executable with filtered tests designed to validate foundational behavior.

Example shell command to validate core GoogleTest functionality with the built-in test executable:

```bash
./googletest_unittest --gtest_filter=FailureTest.*:AssertionTest.*
```

This command runs tests covering various assertion macros, failure propagation, message streaming, and test event listener behavior. Examining the output confirms that GoogleTest reports failures and successes correctly.

## 5. Troubleshooting Tips

- **Tests do not run or no output appears**
  - Ensure you initialized GoogleTest correctly with `InitGoogleTest(&argc, argv)`.
  - Confirm that tests are linked in and are not disabled (check for `DISABLED_` prefixes).

- **Unexpected test failures in sample tests**
  - Some tests intentionally fail as part of validation. Verify that failure messages are clear and consistent.
  - For actual build or runtime errors, check your build environment and dependencies.

- **Assertion failure messages lack detail**
  - Verify you include the right headers: `#include <gtest/gtest.h>`.
  - Check your compiler and GoogleTest versions; outdated or incomplete builds may miss features.

- **Failures not flagged as fatal**
  - Confirm proper use of `ASSERT_*` macros for fatal failures and `EXPECT_*` macros for non-fatal failures.
  - Use `HasFatalFailure()` and `HasNonfatalFailure()` in your tests to detect failures programmatically if needed.

<Warning>
Do not disable or remove the intentionally failing tests in samples. They validate the framework's correctness.
</Warning>

## 6. Recommended Next Steps

- Proceed to the [Create and Build Your First Test](../first-run-validation/create-first-test) guide to learn how to write and run your own tests.
- Study the [Assertions Reference](../../../reference/assertions.md) for detailed explanations of GoogleTest macros.
- Explore the advanced [Effective Mocking with GoogleMock](../../../guides/advanced-features-and-patterns/effective-mocking.md) guide if mocking is needed.
- Use the [Troubleshooting Setup Issues](../first-run-validation/troubleshooting-setup-issues) page if you encounter errors.

---

For further reading and exploration, refer to the below sections:

- [GoogleTest Primer](../primer.md) - fundamentals for beginners
- [Core Features At a Glance](../../overview/introduction-key-features/core-features-at-a-glance.md) - high-level feature overview
- [Using Assertions Effectively](../../guides/core-testing-workflows/using-assertions-effectively.md) - mastering checks and diagnostics
- [Running Test Programs: Advanced Options](../../docs/advanced.md#running-test-programs-advanced-options) - controlling output and filtering

---

### Additional Resources

- GoogleTest official repository: [https://github.com/google/googletest](https://github.com/google/googletest)
- GoogleTest Primer: `/primer.md`
- Assertions Reference: `/reference/assertions.md`
- Mocking Cookbook: `/gmock_cook_book.md`
- Troubleshooting Setup Issues: `/getting-started/first-run-validation/troubleshooting-setup-issues.md`

---