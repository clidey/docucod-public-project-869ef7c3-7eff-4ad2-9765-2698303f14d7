---
title: "Writing Your First Test"
description: "Teaches users how to create their first simple test case with GoogleTest, including how to define a test, add assertions, and structure basic test files. Focuses on showing the fastest path to a 'green' test run for immediate feedback."
---

# Writing Your First Test with GoogleTest

Welcome to the fastest path for writing your first test case using GoogleTest! This guide teaches you how to define a simple test, add assertions, and organize basic test files to achieve immediate success with a 'green' test run. You'll quickly gain confidence by seeing your tests run successfully and providing meaningful feedback.

---

## 1. Test Basics: Defining Your First Test

GoogleTest tests are simple C++ functions defined with the `TEST()` macro. This macro takes two arguments:

- **Test Suite Name**: Groups logically related tests.
- **Test Name**: The specific test within the suite.

Both names must be valid C++ identifiers without underscores.

```cpp
// A simple test that checks factorial of 0.
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}
```

### What Happens Here?
- `TEST()` creates a function that runs the test code.
- `EXPECT_EQ` asserts the expected and actual values.
- If an assertion fails, the test fails but allows other tests to continue.

### Naming Best Practices
Use descriptive names aligned with your code functionality for clear organization, such as `FactorialTest` as the suite and `HandlesZeroInput` as the test.

---

## 2. Adding Assertions

Assertions verify the behavior of the code under test. Use `EXPECT_*` for nonfatal failures (test continues) and `ASSERT_*` for fatal failures (test stops immediately).

Example with multiple assertions:

```cpp
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

#### Pro Tips:
- Use `ASSERT_*` when subsequent code depends on the assertion's success to avoid undefined behavior.
- Add custom failure messages for clarity:

```cpp
ASSERT_EQ(x.size(), y.size()) << "Vectors x and y have different sizes";
```

---

## 3. Structuring Test Files

Create test files that include your code and GoogleTest headers:

```cpp
#include <gtest/gtest.h>
// Include headers for code to test
#include "factorial.h"
```

Place your tests below the includes. Keep one or multiple tests per file structured by logical groupings.

---

## 4. Running Your Tests

Typically, your test executable will have a `main()` function that initializes and runs all tests:

```cpp
int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Most users link with `gtest_main` to use the default `main` provided by GoogleTest, avoiding the need to write it themselves.

To run your test executable:

```bash
./your_test_executable
```

Expect output that clearly shows test suites and test names with pass/fail statuses.

---

## 5. Your First Complete Test Example

Put it all together:

```cpp
#include <gtest/gtest.h>

int Factorial(int n) {
  return n <= 1 ? 1 : n * Factorial(n - 1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- Compile and link with GoogleTest.
- Run your test executable and watch all tests pass.

---

## 6. Key Tips & Best Practices

- Keep tests independent and small for easier maintenance.
- Use meaningful test and suite names to express intent.
- Prefer `EXPECT_*` unless the test cannot proceed meaningfully after failure.
- Group related tests in the same suite for better organization.
- Run individual tests by filtering with command-line flags (e.g., `--gtest_filter=FactorialTest.HandlesZeroInput`).

<Check>
Always verify your test names and assertions to avoid typos or logical errors, which are the most common failure points during first testing.
</Check>

---

## 7. Troubleshooting Common Issues

### Test Not Found or Not Running
- Ensure your test executable is correctly linked with GoogleTest.
- Check your test suite and test names - no underscores or special characters.

### Assertion Failures
- Verify expected values match actual function behavior.
- Use detailed failure messages for debugging.

### Compile or Link Errors
- Confirm GoogleTest headers and libraries are properly included and linked.
- Confirm use of C++17 compiler flags as required.

---

## 8. Next Steps

- Learn about **Test Fixtures** (`TEST_F`) to share setup/teardown across tests.
- Explore more **assertion macros** for types beyond value equality.
- Integrate GoogleTest with your build system and continuous integration.
- Visit related guides on [Building and Running Tests](/getting-started/first-test-workflow/building-and-running-tests) and [Assertions Reference](/api-reference/core-testing-apis/assertions-reference).

---

## Related Documentation

Explore the following to deepen your understanding:

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md): Core concepts and introductory examples
- [GoogleMock for Dummies](https://github.com/google/googletest/blob/main/docs/gmock_for_dummies.md): For extending tests with mocks
- [Assertions Reference](https://github.com/google/googletest/blob/main/docs/reference/assertions.md): Comprehensive assertion details

---

Getting started with your first GoogleTest test empowers you to build a robust base for comprehensive testing workflows. Run your first test successfully, then progressively expand your suite with fixtures and mocks.

---

## Code Snippet for Quick Copy
```cpp
#include <gtest/gtest.h>

// Sample function
int Factorial(int n) {
  return n <= 1 ? 1 : n * Factorial(n - 1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile, run, and celebrate your first successful test!

---