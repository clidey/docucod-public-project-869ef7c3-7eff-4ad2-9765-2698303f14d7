---
title: "Verifying Your Installation"
description: "Helps users confirm a successful installation by running basic tests and interpreting their output. Provides troubleshooting tips if the output is unexpected, ensuring users start with a working setup and can move forward confidently."
---

# Verifying Your Installation

Confirming that your GoogleMock (gMock) installation has been set up correctly is an essential step to ensure you can start writing and running tests confidently. This guide walks you through simple, effective tests that validate your installation by running basic test suites, interpreting their outputs, and troubleshooting any unexpected results.

---

## 1. Running the Basic Test Suite

GoogleMock provides sample tests that exercise its core functionality. Executing these tests is the quickest way to verify a working installation.

### Step 1: Build the Test Executable

Depending on your build system (e.g., CMake), build the GoogleMock tests. Your build may produce a test binary such as `gmock_test` or `gmock_tests`.

For example, using CMake and make:

```bash
mkdir build && cd build
cmake ..
make
```

### Step 2: Run the Test Binary

Run the built test executable from your terminal:

```bash
./gmock_test
```

You should see output indicating tests running and a final summary of successes and failures.

Expected successful outcome example:

```plaintext
[==========] Running 100 tests from 10 test cases.
[  PASSED  ] 100 tests.
[==========] 100 tests from 10 test cases ran.
[  PASSED  ] 100 tests.
```

### Step 3: Interpret the Output

- **All tests PASSED**: Your GoogleMock installation is verified.
- **Failures or Skipped Tests**: Indicates issues with the build or environment setup.


## 2. Running a Simple Sanity Test

If building and running the comprehensive test suite is not feasible immediately, create and run a minimal test that checks GoogleMock functionality.

Create a file named `simple_mock_test.cc`:

```cpp
#include <gmock/gmock.h>
#include <gtest/gtest.h>

class MockSample {
 public:
  MOCK_METHOD(int, Compute, (int n), ());
};

TEST(VerificationTest, BasicMockBehavior) {
  MockSample mock;

  EXPECT_CALL(mock, Compute(5))
      .WillOnce(::testing::Return(10));

  int result = mock.Compute(5);
  EXPECT_EQ(result, 10);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Build and Run:

```bash
# Compile
 g++ simple_mock_test.cc -I<path-to-gmock-include> -I<path-to-gtest-include> \
     -L<path-to-gmock-lib> -lgmock -lgtest -lpthread -o simple_mock_test

# Run
 ./simple_mock_test
```

Successful output includes:

```plaintext
[ RUN      ] VerificationTest.BasicMockBehavior
[       OK ] VerificationTest.BasicMockBehavior (0 ms)
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 1 test.
```

## 3. Understanding the Test Execution Flow

The test program, using the GoogleMock main function (typically in `gmock_main.cc`), initializes the GoogleMock and GoogleTest frameworks and runs all defined tests, as per the source file entry point.

Example, from `gmock_main.cc`:

```cpp
int main(int argc, char** argv) {
  testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- `InitGoogleMock()` prepares the environment, parses any framework-specific command-line flags, and sets up GoogleTest's testing environment.
- `RUN_ALL_TESTS()` executes all registered tests, returning 0 on success, or an error code if tests fail.

## 4. Troubleshooting Common Installation Test Issues

<Tip>
If your tests are failing to run or compiling fails, check the following:
- Confirm your compiler supports C++17 or later.
- Verify correct include paths and linkage for both GoogleMock and GoogleTest libraries.
- Make sure your build system links `-lpthread` (or appropriate threading library) especially on Unix-like systems.
- On Windows, ensure runtime libraries and build configurations (Debug/Release, dynamic/static CRT) match across GoogleMock, GoogleTest, and your code.
- If you see unknown symbol linker errors for `main`, consider linking with `gmock_main` to use the provided main function.
</Tip>

<Tip>
When running tests, use the `--gmock_verbose` flag to get detailed logs:

```bash
./gmock_test --gmock_verbose=info
```

This shows detailed expectation setting and call matching, aiding diagnosis.
</Tip>

## 5. Confirming Verbose Output

To verify fine-grained behavior and mock call trace, rerun your tests with:

```bash
./gmock_test --gmock_verbose=info
```

You should see logs about expectations being invoked, matched calls, and possibly stack traces, which confirm GoogleMock is active and operational.

## 6. Next Steps After Verification

Once you have confirmed your installation:

- Proceed to write your own tests using mocks and expectations.
- Explore the [Mocking Basics guide](/guides/getting-started/mocking-basics) to learn about mock classes and setting expectations.
- Consult the [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) for advanced techniques.
- Review the [Troubleshooting Setup Issues](/getting-started/troubleshooting-faq/troubleshooting-setup-issues) page if you encounter difficulties.

---

## Appendix: Sample Command to Build and Run Tests

Here is an example command snippet to build the GoogleMock tests assuming GoogleMock, GoogleTest headers, and libraries are installed in standard locations:

```bash
# Compile
clang++ -std=c++17 -I/usr/local/include/gtest -I/usr/local/include/gmock \
    -pthread test/gmock_test.cc -L/usr/local/lib -lgmock -lgtest -o gmock_test

# Run
./gmock_test
```

Adjust `-I` and `-L` paths to your installation environment.

---

<Check>
Check that all tests pass with no unexpected failures and no linker or runtime errors.
</Check>

<Note>
If you created custom mock classes or tests, ensure all mock expectations are set before exercising the mocks. GoogleMock verifies expectation satisfaction either after tests or at mock destruction.
</Note>

---

For source references related to the test main function, see [gmock_main.cc](https://github.com/google/googletest/blob/main/googlemock/src/gmock_main.cc).

For comprehensive mocking reference, consult [Mocking Reference](https://google.github.io/googletest/reference/mocking.html).

---