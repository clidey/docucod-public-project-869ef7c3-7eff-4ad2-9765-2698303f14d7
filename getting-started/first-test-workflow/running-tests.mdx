---
title: "Running and Validating Your Tests"
description: "Learn how to compile and execute your tests, interpret output, and validate your setup. Includes details on using provided test runners and inspecting success and failure messages."
---

# Running and Validating Your Tests

Learn how to compile, run, and interpret the results of your GoogleTest and GoogleMock tests. This guide helps you confirm that your test environment is correctly set up and that your tests behave as expected.

---

## 1. Compiling Your Test Code

Before you can run your tests, compile your test source files together with GoogleTest and GoogleMock libraries.

### Steps to Compile

1. **Include Headers and Link Libraries**
   - Ensure you include the necessary headers:

     ```cpp
     #include <gtest/gtest.h>
     #include <gmock/gmock.h>
     ```

   - Link against `gtest`, `gmock`, and optionally `gtest_main` or `gmock_main` (libraries that provide main functions).

2. **Use Your Build System**
   - If using **CMake**, add GoogleTest and GoogleMock as dependencies and link them in your target.

   - For **Bazel**, specify them in your BUILD file dependencies.

3. **Write Your `main()` Function (if Needed)**
   - Most users link with `gtest_main` or `gmock_main` which provide a default `main()` that initializes and runs all tests.
   - If you write your own main:

     ```cpp
     int main(int argc, char **argv) {
       testing::InitGoogleTest(&argc, argv);
       return RUN_ALL_TESTS();
     }
     ```

### Verification

- Compilation should succeed without errors.
- The executable should be built with GoogleTest and GoogleMock libraries linked correctly.

<Tip>
If you encounter linking errors, verify that you're linking against the correct libraries and that your compiler supports C++17 as required by GoogleTest.
</Tip>

## 2. Running Your Tests

Once compiled, execute the test binary:

```bash
./your_test_executable [gtest_flags] [gmock_flags]
```

### Common Command-Line Flags

- `--gtest_filter=TestSuiteName.TestName` — run specific tests only.
- `--gtest_repeat=N` — repeat tests N times.
- `--gtest_shuffle` — run tests in random order.
- `--gmock_verbose=[info|warning|error]` — control mocking messages verbosity.

<Tip>
You can combine `--gmock_verbose=info` with `--gtest_stack_trace_depth=N` to get rich debugging info on mock calls.
</Tip>

## 3. Understanding Test Output

GoogleTest and GoogleMock output descriptive reports indicating test successes, failures, and any mock expectation violations.

### Output Components

- **Test Start and End:** Lines starting with `[ RUN ]` and `[  PASSED  ]` or `[  FAILED  ]`
- **Failure Details:** File name, line number, failed assertion, and explanation.
- **Mock Expectation Failures:** Detailed messages when mock calls don't meet expectations.

### Example Successful Test Output

```text
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

### Example Failure Output

```text
path/to/my_test.cc:119: Failure
Expected equality of these values:
  Factorial(0)
    Which is: 2
  1
[  FAILED  ] FactorialTest.HandlesZeroInput (0 ms)
```

<Tip>
Use your IDE or editor’s features to click on file path and line number in failure messages to quickly jump to the failing code.
</Tip>

## 4. Validating Your Setup

To confirm your installation is working:

1. Build and run the **sample tests** provided in your project or GoogleTest examples.
2. Observe output: all tests should pass.
3. Introduce intentional failures in a test and verify they are correctly reported.
4. Check mock objects report unfulfilled expectations when expectations are not met.

<Check>
If your tests fail unexpectedly:
- Verify you're compiling with a supported compiler and C++17 standard.
- Confirm correct linking to GoogleTest and GoogleMock.
- Ensure that `main()` calls `testing::InitGoogleTest()` or link `gtest_main`/`gmock_main`.
</Check>

## 5. Using the Provided Test Runners

GoogleTest and GoogleMock provide optional main entry points in `gtest_main` and `gmock_main` libraries.

- Linking with these libraries saves you from writing your own `main()` function.
- They handle initialization, test discovery, and execution automatically.

Example linking command snippet:

```bash
g++ your_tests.cc -lgtest_main -lgtest -lgmock -lpthread -o your_test_executable
```

<Tip>
The GoogleMock main (`gmock_main`) includes GoogleTest initialization and runs all tests. Use it if you want to run GoogleMock tests seamlessly.
</Tip>

## 6. Common Issues and Troubleshooting

| Issue                             | Cause                                | Resolution                         |
|----------------------------------|------------------------------------|----------------------------------|
| Tests do not run or no tests found| Missing call to `InitGoogleTest()` | Call `testing::InitGoogleTest(&argc, argv);` in your main() or link `gtest_main`|
| Unexpected test failures          | Mock expectations not met           | Check mock calls and adjust `EXPECT_CALL` or `ON_CALL` expectations |
| Linking errors (e.g. pthread)     | Missing threading library linkage   | Link with `-lpthread` or platform equivalent|
| "Uninteresting mock function call" warnings | Missing expectations or using `NaggyMock` | Use `NiceMock` or add catch-all expectations with `.Times(AnyNumber())`|

<AccordionGroup title="Troubleshooting Details">
<Accordion title="'No tests found' message">
  This occurs if GoogleTest cannot find any registered tests:

  - Ensure all your test files are compiled and linked into the executable.
  - Use macros `TEST()` or `TEST_F()` properly to register tests.
  - `InitGoogleTest()` must be called before running tests.
</Accordion>
<Accordion title="Mock expectation failures">
  If a mock call violates an expectation:

  - Verify you call the mock method the expected number of times with matching arguments.
  - Use `--gmock_verbose=info` for detailed call matching reports.
</Accordion>
<Accordion title="Linking errors related to pthread or missing symbols">
  - On Linux and Unix-like systems, link with `-pthread` or `-lpthread`.
  - On Windows, ensure compatible MSVC versions and handle runtime linkage properly.
</Accordion>
</AccordionGroup>

## 7. Next Steps

- **Writing Your First Test:** Create test cases with assertions.
- **Introducing GoogleMock:** Learn to create mock objects and set expectations.
- **Advanced Test Execution:** Use test filters, repeat tests, and shuffle test order.
- **Explore** related guides on assertions, test fixtures, and advanced mocking techniques.


---

## Useful Links

- [Writing Your First Test](../getting-started/first-test-workflow/writing-your-first-test.md)
- [Introducing GoogleMock: First Mock Test](../getting-started/first-test-workflow/basic-mocking-intro.md)
- [Installation Methods](../getting-started/installation-prerequisites/installation-methods.md)
- [Mocking Cheat Sheet](../../docs/gmock_cheat_sheet.md)

---

For detailed reference, see the [GoogleTest Primer](../docs/primer.md) and [gMock for Dummies](../../docs/gmock_for_dummies.md).


---

## Summary of Key Points

| Step                             | Description                                      |
|---------------------------------|------------------------------------------------|
| Compile                         | Build tests linking GoogleTest/GoogleMock       |
| Run                            | Execute test binary with optional filters/flags |
| Interpret Output               | Review pass/fail status and mock expectation results |
| Validate Setup                 | Run sample tests to verify installation and integration |
| Troubleshoot                  | Use verbose flags, check linking, and review expectations |


---

## Example Test Run

```bash
./my_tests --gtest_filter=FactorialTest.* --gmock_verbose=info
```

This runs all tests in the `FactorialTest` suite with detailed mock call logs.

---

Your test environment is now ready for writing, running, and validating comprehensive tests using GoogleTest and GoogleMock.


---

<Source url="https://github.com/google/googletest" paths={[{path:"docs/gmock_for_dummies.md",range:"1-200"},{path:"docs/primer.md",range:"1-320"}]} />