---
title: "Troubleshooting Common Setup Issues"
description: "Lists the most frequent errors encountered during installation and first test runs, with practical solutions and links to relevant documentation. Issues include compiler mismatches, missing headers or libraries, and configuration mistakes."
---

# Troubleshooting Common Setup Issues

When installing GoogleTest and running your first tests, you may encounter a few common errors related to compiler compatibility, missing headers or libraries, and configuration mistakes. This guide helps you diagnose and resolve these issues quickly so you can start testing with confidence.

---

## 1. Compiler Version and C++17 Support

GoogleTest requires a compiler that supports C++17 features. Using an unsupported or older compiler version will cause build failures or compilation errors.

### How to Check Compiler Compatibility

- Use the command line to check your compiler version:

```bash
# For GCC
gcc --version

# For Clang
clang --version

# For MSVC
cl
```

- Verify your compiler supports C++17. For example, GCC ≥ 7, Clang ≥ 5, MSVC ≥ 2017 provide good support.

### Common Issues

- **Error:** Unsupported language features or syntax errors in GoogleTest headers.

  **Solution:** Upgrade your compiler to a C++17-capable version. See [System Requirements](/getting-started/prerequisites-installation/system-requirements) for supported compilers.

- **Error:** Missing compiler flags (e.g., `-std=c++17`).

  **Solution:** Ensure your build system passes the C++17 standard flag. For CMake, add:

  ```cmake
  set(CMAKE_CXX_STANDARD 17)
  set(CMAKE_CXX_STANDARD_REQUIRED ON)
  ```

---

## 2. Missing GoogleTest or GoogleMock Headers and Libraries

Sometimes tests fail to build due to missing include directories or failure linking to the GoogleTest/GoogleMock libraries.

### Diagnosis

- Compiler errors about missing headers like `<gtest/gtest.h>` or `<gmock/gmock.h>`.
- Linker errors like `undefined reference to testing::InitGoogleTest` or similar.

### Common Causes and Fixes

- **Include Paths Not Set:** Make sure your project includes the GoogleTest and GoogleMock directories.

  - In CMake, use [FetchContent](https://cmake.org/cmake/help/latest/module/FetchContent.html) or add GoogleTest as a subdirectory.
  - Ensure your target links to `gtest` and `gmock` libraries.

- **Not Linking Required Libraries:** Your test binary target must explicitly link against GoogleTest and GoogleMock libraries.

  ```cmake
  target_link_libraries(your_test_target gtest gmock gtest_main)
  ```

- **Incorrect Installation or Build:** If building GoogleTest manually, verify the build was successful and the libraries installed properly. Retry the installation steps from [Installation with CMake](/getting-started/prerequisites-installation/installation-cmake).

---

## 3. Configuration Missteps

GoogleTest requires correct setup in your build system to link and find headers.

### Common Issues

- Failing to define your test executable with the correct source files.
- Forgetting to initialize GoogleTest in your test code: 

  ```cpp
  int main(int argc, char** argv) {
    ::testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();
  }
  ```

- Overlooking the order of `EXPECT_CALL` and actual mock calls (mock expectations must be set before the calls).

### Solutions

- Confirm your executable’s main function calls `InitGoogleTest()`.
- Verify that mock objects are properly constructed and expectations set before exercise.
- Consult [Configure Your Project for Testing](/getting-started/configuration-first-run/configure-project) for recommended project structure.

---

## 4. Common Mocking Pitfalls

If your first mocked test fails unexpectedly:

- **Uninteresting calls warning:** Means a mocked method was called without an `EXPECT_CALL`. This is usually safe to ignore but indicates you may want to add an expectation or use a `NiceMock` to suppress warnings.

- **Unexpected mock function call:** Your test called a mock method that did not match any expectations. Carefully check your `EXPECT_CALL` arguments and order.

- **Excessive calls:** The mock method was called more times than expected.

- Review the [gMock Cookbook](docs/gmock_cook_book.md) and [Legacy gMock FAQ](docs/gmock_faq.md) for detailed explanations and best practices.

---

## 5. Troubleshooting Steps Checklist

Follow these steps to diagnose your issue:

1. **Check Compiler and Flags:** Verify C++17 support and build flags.
2. **Confirm Includes and Linking:** Check include paths and linked libraries.
3. **Validate Code Initialization:** Ensure your main function initializes GoogleTest.
4. **Review Mock Expectations:** Confirm mock setup precedes calls.
5. **Run with Verbose Flag:** Use `--gmock_verbose=info` to see detailed output and trace calls.

---

## 6. Useful Diagnostic Command-Line Flags

- `--gmock_verbose=LEVEL` where LEVEL can be:
  - `info` for detailed messages,
  - `warning` for warnings,
  - `error` for only errors.

Example:

```bash
./your_test_binary --gmock_verbose=info
```

This helps identify why certain calls were uninteresting or unexpected.

---

## 7. Help & Further References

- [System Requirements](/getting-started/prerequisites-installation/system-requirements)
- [Installation with CMake](/getting-started/prerequisites-installation/installation-cmake)
- [Configure Your Project for Testing](/getting-started/configuration-first-run/configure-project)
- [Writing and Running Your First Test](/getting-started/configuration-first-run/write-first-test)
- [gMock Cookbook](docs/gmock_cook_book.md)
- [Legacy gMock FAQ](docs/gmock_faq.md)
- [Understanding Uninteresting vs Unexpected Calls](docs/gmock_cook_book.md#uninteresting-vs-unexpected)

<Tip>
Always set your mock expectations **before** exercising your test code and verify your build system includes all necessary paths and libraries.
</Tip>

<Warning>
Avoid suppressing warnings about uninteresting calls unless you are sure they are intentional. Over-suppression can mask real issues.
</Warning>