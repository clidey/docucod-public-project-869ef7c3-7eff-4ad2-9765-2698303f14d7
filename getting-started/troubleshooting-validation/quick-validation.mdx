---
title: "Quick Setup Validation Checklist"
description: "A concise checklist and validation steps to confirm your GoogleTest/GoogleMock environment is installed and working correctly. Ensures you have a solid foundation to start building your own test cases."
---

# Quick Setup Validation Checklist

Ensure your GoogleTest and GoogleMock environment is correctly installed and ready to use with this concise validation checklist. This guide helps you quickly verify your setup so you can confidently start writing and running tests.

---

## 1. Verify Installation

### Step 1: Include Headers
Make sure your test file includes the necessary headers:

```cpp
#include <gtest/gtest.h>
#include <gmock/gmock.h>
```

### Step 2: Compile and Link Tests
Compile your tests linking against GoogleTest and GoogleMock. For example, using `g++` with CMake or manually ensure libraries `libgtest.a` and `libgmock.a` are linked.

<Tip>
If you use CMake, include `FetchContent` or `find_package(GTest REQUIRED)` and link with `GTest::gtest` and `GTest::gmock`.
</Tip>

---

## 2. Write a Simple Test

Create a minimal test to confirm the test framework runs:

```cpp
TEST(SanityCheck, TrueIsTrue) {
  EXPECT_TRUE(true);
}
```

Compile and run this test. You should see output indicating the test passed.

---

## 3. Define and Use a Simple Mock

### Step 1: Define a Mock Interface

Define an interface and a mock class using `MOCK_METHOD`:

```cpp
class Foo {
 public:
  virtual ~Foo() {}
  virtual int GetNumber() const = 0;
};

class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, GetNumber, (), (const, override));
};
```

### Step 2: Write a Test Using Mock

Add a test verifying behavior with expected mock calls:

```cpp
using ::testing::Return;
using ::testing::AtLeast;

TEST(MockTest, GetNumberReturnsExpected) {
  MockFoo mock_foo;

  ON_CALL(mock_foo, GetNumber()).WillByDefault(Return(5));
  EXPECT_CALL(mock_foo, GetNumber()).Times(AtLeast(1));

  EXPECT_EQ(mock_foo.GetNumber(), 5);
}
```

### Step 3: Run Tests

Compile and run your tests. The mock expectation should be met without failures.

---

## 4. Validate Test Output

Check the console output from running tests:

- Tests should list all test cases run and report "PASSED" if they succeed.
- GoogleMock output warnings indicate uninteresting or unexpected calls.

<Tip>
If you see warnings about "Uninteresting mock function call," consider revising your expectations or using `NiceMock` to suppress them.
</Tip>

---

## 5. Verify Expectation Verification

By default, GoogleMock automatically verifies mock expectations when mock objects are destructed.

### Explicit Verification

You can also explicitly verify and clear expectations before destruction:

```cpp
EXPECT_TRUE(::testing::Mock::VerifyAndClearExpectations(&mock_foo));
```

This returns `true` if all expectations are met.

---

## 6. Troubleshooting Common Issues

<AccordionGroup title="Common Validation Issues">
<Accordion title="Test Does Not Run or Link Errors">
- Ensure you link with GoogleTest and GoogleMock libraries and include headers properly.
- Check compiler and linker flags.
- Confirm C++17 standard support.
</Accordion>
<Accordion title="Mock Methods Calling Real Functions">
- Verify methods are declared `virtual` in the base class.
- Confirm mock methods use `MOCK_METHOD` correctly.
</Accordion>
<Accordion title="Uninteresting Call Warnings">
- By default, mocks are "naggy" and will warn on calls without matching expectations.
- Use `NiceMock` to suppress warnings on uninteresting calls.
- Add catch-all expectations with `Times(AnyNumber())` if needed.
</Accordion>
<Accordion title="Failure Due to Unsatisfied Expectations">
- Confirm that all `EXPECT_CALL` statements precede code that exercises the mocks.
- Use `--gmock_verbose=info` flag to get detailed call traces.
</Accordion>
</AccordionGroup>

---

## 7. Best Practices for Setup Validation

- Always write simple sanity tests first before complex ones.
- Use `ON_CALL` to define default behaviours and `EXPECT_CALL` to verify interactions.
- Avoid setting new expectations after calling the mocks.
- Employ sequences or `RetiresOnSaturation` to verify call order when needed.

---

## 8. Additional Resources

- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) — Beginner's introduction to mocks.
- [gMock Cheat Sheet](https://google.github.io/googletest/gmock_cheat_sheet.html) — Quick reference of common mocks, matchers, and actions.
- [Mocking Reference](docs/reference/mocking.md) — Detailed API reference.
- [Troubleshooting Common Issues](/getting-started/troubleshooting-validation/common-issues) — Addresses frequent issues with validation and setup.

---

By following this checklist, you establish a solid GoogleTest and GoogleMock foundation to confidently move on to creating extensive test suites and mocking complex interactions.

<Check>
Ready to build your first tests? Proceed to the [Writing Your First Test](/getting-started/first-steps-with-tests/writing-first-test) guide.
</Check>
