---
title: "Validating Your Setup"
description: "Outlines steps to quickly verify that GoogleTest is properly installed, including running the provided sample tests. Guides users on how to interpret test output and confirm a successful configuration before starting real-world test development."
---

# Validating Your Setup

This guide shows you how to quickly verify that GoogleTest and GoogleMock are properly installed and configured in your development environment. Following these steps will ensure that you are ready to start writing and running your own tests with confidence.

---

## 1. Verify GoogleTest Installation

Before running real tests, confirm that GoogleTest is correctly installed and accessible.

### Step 1: Create a Simple Test File

Create a file named `sample_test.cc` with the following content:

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, BasicAssertions) {
  EXPECT_EQ(1, 1);
  EXPECT_NE(1, 0);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This basic test checks that GoogleTest can execute tests and report results.

### Step 2: Compile the Test

Use your configured build environment or a direct compiler command. For example, with `g++` and C++17 standard, assuming GoogleTest include path and libraries are set:

```bash
# Adjust paths as needed for your setup

g++ -std=c++17 -isystem /path/to/googletest/include \
    -pthread sample_test.cc \
    /path/to/libgtest.a /path/to/libgtest_main.a \
    -o sample_test
```

### Step 3: Run the Test

Execute the compiled binary:

```bash
./sample_test
```

You should see output like:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicAssertions
[       OK ] SampleTest.BasicAssertions (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

<Tip>
If the compilation or execution fails, verify your include paths, library linkage, and C++ compiler version. Refer to the [System Requirements](https://example.com/getting-started/prerequisites-installation/system-requirements) and [Installation Methods](https://example.com/getting-started/prerequisites-installation/installation-methods) documentation for troubleshooting.
</Tip>

---

## 2. Validate GoogleMock Setup

GoogleMock (gMock) is Google's C++ mocking framework, integrated with GoogleTest. Use the following steps to verify its configuration.

### Step 1: Create a Simple Mock Test

Save the following in `mock_test.cc`:

```cpp
#include <gmock/gmock.h>
#include <gtest/gtest.h>

// Interface to mock
class Interface {
 public:
  virtual ~Interface() = default;
  virtual int Foo(int n) = 0;
};

// Mock class
class MockInterface : public Interface {
 public:
  MOCK_METHOD(int, Foo, (int n), (override));
};

TEST(MockTest, ReturnsExpectedValue) {
  MockInterface mock;

  // Set default action
  ON_CALL(mock, Foo(::testing::_))
      .WillByDefault(::testing::Return(5));

  // Set expectation
  EXPECT_CALL(mock, Foo(10))
      .Times(1)
      .WillOnce(::testing::Return(42));

  // Run calls
  EXPECT_EQ(mock.Foo(10), 42);  // Matches EXPECT_CALL
  EXPECT_EQ(mock.Foo(20), 5);   // Uses ON_CALL default
}

int main(int argc, char** argv) {
  ::testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Step 2: Compile the Mock Test

```bash
# Adjust paths and libraries as per your environment

g++ -std=c++17 -isystem /path/to/googletest/include \
    -pthread mock_test.cc \
    /path/to/libgtest.a /path/to/libgmock.a /path/to/libgtest_main.a \
    -o mock_test
```

### Step 3: Execute the Mock Test

```bash
./mock_test
```

Successful output will resemble:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from MockTest
[ RUN      ] MockTest.ReturnsExpectedValue
[       OK ] MockTest.ReturnsExpectedValue (0 ms)
[----------] 1 test from MockTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

<Tip>
This test also verifies that GoogleMock macros like `MOCK_METHOD`, `EXPECT_CALL`, and `ON_CALL` work correctly in your environment.
</Tip>

---

## 3. Interpret Test Output

- **PASSED**: The test executed successfully; your setup works correctly.
- **FAILED**: There may be missing dependencies, incorrect includes, or build/link errors.
- Check error messages carefully to determine the cause.

<Tip>
If your tests fail due to unrecognized GoogleMock macros or linker errors, confirm that:

- You have linked against `libgmock` and `libgmock_main` correctly.
- The include paths point to GoogleMock headers.
- The C++17 standard or newer is used.

Also, enable verbose test output by running tests with the flag `--gtest_verbose=info` for more detailed information.
</Tip>

---

## 4. Confirm Successful Configuration

If both the simple GoogleTest and GoogleMock tests compile and pass, your environment is properly configured to start developing more extensive tests using these frameworks.

---

## 5. Troubleshooting Tips

<AccordionGroup title="Troubleshooting Common Issues">
<Accordion title="Compilation Errors Related to Missing Headers or Symbols">
Make sure your compiler can find GoogleTest/GoogleMock header files by setting the appropriate include path. Also, check that linking flags specify the `libgtest`, `libgmock`, and their dependencies.
</Accordion>
<Accordion title="Linker Errors like Undefined References">
Verify that the static or shared GoogleTest/GoogleMock libraries are built and linked properly. Note that some platforms require linking with `pthread` or other threading libraries.
</Accordion>
<Accordion title="Uninteresting Calls Warnings in Mock Tests">
Uninteresting calls are method calls on mock objects for which no explicit expectation is set. They produce warnings by default. Use `NiceMock<MockFoo>` to suppress these warnings or add `EXPECT_CALL(...).Times(AnyNumber())` to explicitly allow them.
</Accordion>
<Accordion title="Tests Not Running or Timing Out">
Ensure you call `RUN_ALL_TESTS()` in your `main()` function and that you correctly initialize GoogleTest or GoogleMock with `InitGoogleTest` or `InitGoogleMock`.
</Accordion>
</AccordionGroup>

---

## 6. Next Steps

- After validating your setup, proceed to [Writing & Running Your First Test](/getting-started/project-setup-first-run/writing-running-first-test) to learn how to create your own tests.
- Explore [Configuring Your Project](/getting-started/project-setup-first-run/configuring-project) for build system integration.
- Consult the [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) for advanced mock examples.
- Use the [Troubleshooting Common Issues](/getting-started/troubleshooting-validation/troubleshooting-common-issues) page if you encounter problems.

<Tip>
Remember, setting up GoogleTest and GoogleMock correctly is the foundation for reliable and maintainable test suites. This validation process ensures your tests will execute properly and provide useful feedback.
</Tip>
