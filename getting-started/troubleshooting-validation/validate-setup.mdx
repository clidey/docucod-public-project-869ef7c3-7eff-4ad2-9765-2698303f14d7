---
title: "Validating Your Setup"
description: "Shows users how to ensure GoogleTest and GoogleMock are integrated correctly: checking include paths, linking, running test binaries, and reading output. Helps confirm system readiness before writing real tests."
---

# Validating Your Setup

Ensuring that your GoogleTest and GoogleMock integration is correctly configured is critical before you start writing real tests. This guide walks you through verifying include paths, linking the necessary libraries, running your test binaries, and interpreting their output so you can confidently proceed.

---

## 1. Verify Include Paths

### Step 1: Confirm Header Access

Add the following to a simple source file where you intend to write tests:

```cpp
#include <gtest/gtest.h>
#include <gmock/gmock.h>
```

Attempt to compile this file. If the compiler fails to find these headers, review your build or IDE include path settings to ensure they point to the GoogleTest and GoogleMock include directories.

### Common Pitfalls

- Mixing system-wide installation and local builds can cause confusion on header locations.
- Using incorrect case or spelling for include directives.
- Not installing or updating GoogleTest and GoogleMock submodules when building from source.

<Tip>
Make sure your build system includes the `googletest/include` directory for both GoogleTest and GoogleMock headers.
</Tip>

---

## 2. Verify Linking

GoogleTest and GoogleMock require linking with one or more libraries as part of your build process. Common libraries to link include `gtest`, `gtest_main`, `gmock`, and `gmock_main`.

### Step 1: Compile a Minimal Test

Write a minimal test source file, for instance `sample_test.cc`:

```cpp
#include <gtest/gtest.h>
#include <gmock/gmock.h>

TEST(SampleTest, BasicAssertions) {
  EXPECT_EQ(1, 1);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Step 2: Compile and Link

Using your build tool (or manually, e.g., with `g++`), compile and link this file with the necessary GoogleTest and GoogleMock libraries.

For example, a typical command might look like:

```bash
g++ -std=c++17 sample_test.cc -lgtest -lgmock -lpthread -o sample_test
```

> **Note:** Depending on your system and installation, you might need to link with `gtest_main` or `gmock_main` instead of providing your own `main()`.

### Step 3: Run the Executable

Run the resulting executable:

```bash
./sample_test
```

You should see a summary output indicating the tests ran and passed.

<Tip>
When using CMake or Bazel, ensure your `CMakeLists.txt` or `BUILD` files link the target against the correct GoogleTest/GoogleMock targets.
</Tip>

---

## 3. Understanding Test Output

### Sample Successful Output

When your test runs correctly, you will see output similar to:

```shell
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicAssertions
[       OK ] SampleTest.BasicAssertions (0 ms)
[----------] 1 test from SampleTest ran. (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 1 test.
```

This means GoogleMock and GoogleTest are correctly integrated and functional.

### Sample Failure Output

If there's an error, for example in linking or initialization, you might see:

- Header not found errors during compilation.
- Linking errors complaining about undefined references.
- Runtime errors indicating failure to initialize GoogleMock.

<Tip>
Running your tests with `--gmock_verbose=info` can help debug call expectations once you progress to writing mocks.
</Tip>

---

## 4. Running Your First Mock Test

Once your setup is validated, try running a simple mock test to confirm GoogleMock works.

```cpp
#include <gtest/gtest.h>
#include <gmock/gmock.h>

class MockFoo {
 public:
  MOCK_METHOD(int, GetValue, (), ());
};

using ::testing::Return;

TEST(MockTest, ReturnsValue) {
  MockFoo foo;
  EXPECT_CALL(foo, GetValue())
      .WillOnce(Return(42));

  EXPECT_EQ(foo.GetValue(), 42);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and link this with GoogleTest and GoogleMock libraries and run it. The test should pass, confirming your mock integration.

---

## 5. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Sample and Validation">
<Accordion title="Headers Not Found">
- Verify include paths in your build system.
- Confirm GoogleTest and GoogleMock are installed or checked out correctly.
- Use absolute or relative include paths carefully.
</Accordion>
<Accordion title="Linker Errors">
- Ensure you link against `gtest`, `gmock`, and their `*_main` variants if using provided main.
- Verify library versions and architecture match your build.
- Use verbose compiler and linker flags to inspect symbols.
</Accordion>
<Accordion title="Test Binary Fails to Run or Crashes">
- Confirm C++17 is enabled as required.
- Check your environment variables and runtime library versions.
- Run with verbosity flags for more output.
</Accordion>
<Accordion title="Mock Function Calls Fail or Generate Warnings">
- Ensure `EXPECT_CALL` are set before mock function invocation.
- Use `NiceMock` to suppress uninteresting call warnings if necessary.
- Check that mocked methods are virtual.
</Accordion>
</AccordionGroup>

<Tip>
If persistent problems occur, check the [Common Issues and Troubleshooting](../../getting-started/troubleshooting-validation/common-issues.md) page.
</Tip>

---

## Next Steps

- After validating your setup, proceed to writing and running your first actual test in the [Writing and Running Your First Test](../configuration-first-run/write-first-test.md) guide.
- Explore mocking basics to start using `EXPECT_CALL` and `ON_CALL` effectively.
- For integrating into your build system, consult the [Configuring Your Project](../configuration-first-run/configure-project.md) page.

<Check>
Congratulations! Your GoogleTest and GoogleMock installation is now validated and ready for productive use.
</Check>

---

## Additional References

- [GoogleTest Primer](../../overview/product-intro-and-value/what-is-googletest.md)
- [Mocking Basics Guide](../../guides/core-workflows/mocking-basics.md)
- [Troubleshooting Common Issues](../../getting-started/troubleshooting-validation/common-issues.md)
- [GoogleTest Architecture Overview](../../overview/architecture-and-concepts/architecture-overview.md)

---

_This guide ensures you have a firm foundation and confidence that your testing framework works correctly before diving deeper into writing tests and mocks._
