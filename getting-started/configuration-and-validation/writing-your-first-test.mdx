---
title: "Writing and Running Your First Test"
description: "A hands-on, beginner-friendly walkthroughâ€”from creating a simple test case to building and executing it. Helpful code samples and build/run commands make this the fastest path to your first successful result."
---

# Writing and Running Your First Test

A step-by-step hands-on guide designed to introduce you to writing your very first test using GoogleTest and running it to see immediate results. This guide is tailored for beginners and includes example code, build commands, and execution steps to accelerate your learning.

---

## 1. Prepare Your Environment

Before writing tests, make sure you have completed the following prerequisites:

- GoogleTest is installed and accessible in your build environment. See [Installation Using CMake](getting-started/setup-prerequisites-installation/install-cmake) or [Installation Using Bazel](getting-started/setup-prerequisites-installation/install-bazel).
- Your compiler supports C++17 or later.
- Your project is set up to include and link against GoogleTest.

> For detailed environment setup, refer to [System Requirements & Supported Platforms](getting-started/setup-prerequisites-installation/system-requirements-supported-platforms).

---

## 2. Create Your First Test Source File

1. Create a C++ source file, for example, `example_test.cpp`.
2. Include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

3. Write a simple test using the `TEST()` macro.

Example:

```cpp
// A test suite named FactorialTest, with a test called HandlesZeroInput
TEST(FactorialTest, HandlesZeroInput) {
  // Simple assertion: factorial(0) should be 1
  EXPECT_EQ(1, Factorial(0));
}

// Another test in the same suite
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(1, Factorial(1));
  EXPECT_EQ(2, Factorial(2));
  EXPECT_EQ(6, Factorial(3));
}

// A simple factorial function for demonstration
int Factorial(int n) {
  return n <= 1 ? 1 : n * Factorial(n - 1);
}
```

> Note: Both test suite and test names must be valid C++ identifiers without underscores.

---

## 3. Build the Test

You can build your test program through your build system or manually via command-line.

### Using g++ (Example on Linux/macOS):

```bash
# Compile the test
g++ -std=c++17 -isystem /path/to/googletest/include -pthread example_test.cpp \
    /path/to/libgtest.a /path/to/libgtest_main.a -o example_test
```

- Replace `/path/to/googletest/include` with the actual header include path.
- Replace `/path/to/libgtest.a` and `/path/to/libgtest_main.a` with GoogleTest static library paths.

### Using CMake:

- Add your test file to your CMake project and link against `gtest` and `gtest_main`.
- Example snippet in your `CMakeLists.txt`:

```cmake
add_executable(example_test example_test.cpp)
target_link_libraries(example_test gtest_main pthread)
add_test(NAME ExampleTest COMMAND example_test)
```

---

## 4. Run Your Test

Once built, run the executable:

```bash
./example_test
```

Expected output looks like:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

Each `[RUN      ]` line indicates a test starting, and `[       OK ]` means it succeeded.

### Running with Filters

To run a subset of tests, use the `--gtest_filter` flag:

```bash
./example_test --gtest_filter=FactorialTest.HandlesZeroInput
```

---

## 5. Understanding Your Test

- Each test is organized into suites representing related functionality.
- Assertions like `EXPECT_EQ` verify conditions; failures are reported with useful messages.
- Fatal failures abort the current test function early; non-fatal failures allow the test to continue.

> For comprehensive understanding, refer to the [GoogleTest Primer](docs/primer.md) and [Assertions Reference](docs/reference/assertions.md).

---

## 6. Writing Tests with Fixtures (Optional Next Step)

Once comfortable with `TEST()`, you can group tests sharing common setup logic in fixtures using `TEST_F()`. This allows reuse of setup and teardown code.

Example:

```cpp
class QueueTest : public testing::Test {
 protected:
  void SetUp() override {
    q_.Enqueue(1);
  }

  Queue<int> q_;
};

TEST_F(QueueTest, IsNotEmptyInitially) {
  EXPECT_GT(q_.size(), 0);
}
```

Refer to the [Primer section on Test Fixtures](docs/primer.md#same-data-multiple-tests) for details.

---

## Troubleshooting Tips

- Ensure your compiler uses C++17 or higher.
- If you get unresolved symbols, verify proper linking of GoogleTest libraries.
- Check that your test suite and test names do not contain underscores.
- Use `./example_test --help` for test runner options.

---

## Helpful Commands Reference

| Task                  | Command / Macro                                     |
|-----------------------|----------------------------------------------------|
| Initialize testing    | `testing::InitGoogleTest(&argc, argv);`            |
| Define a simple test  | `TEST(TestSuite, TestName) { ... }`                 |
| Run all tests         | `RUN_ALL_TESTS();`                                  |
| Run subset of tests   | `./test_exec --gtest_filter=TestSuite.TestName`    |

---

## Next Steps

- Explore **test fixtures** with `TEST_F()` for reusable setup.
- Learn about **parameterized tests** to run tests with multiple data points.
- Integrate GoogleTest into your project's build with CMake or Bazel.
- See the [Primer](docs/primer.md) for foundational concepts and advanced patterns.


---

## Example Summary Code

```cpp
#include <gtest/gtest.h>

int Factorial(int n) {
  return n <= 1 ? 1 : n * Factorial(n - 1);
}

// Simple test for Factorial
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
}

int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

---

This file includes everything you need to get started quickly. Build and run it as outlined above to see GoogleTest in action.
