---
title: "Your First Test: Basic Usage"
description: "Create, build, and run a simple test using GoogleTest. Learn about the basic test macro structure, compilation, and running your first suite to see instant testing results."
---

# Your First Test: Basic Usage

Learn how to create, build, and run a simple test using GoogleTest. This guide will walk you through the basic test macro structure, compilation, and running your first test suite to see instant testing results.

---

## 1. Prerequisites

Before writing your first test, ensure you have:

- A C++ development environment with a compiler that supports C++17 or later.
- GoogleTest properly installed or available in your project, either via your build system or manually.
- Basic familiarity with compiling and running C++ programs.

If you haven't installed GoogleTest yet, refer to the [Installing with CMake](../../getting-started/prerequisites-install/install-cmake.md) or [Installing with Bazel](../../getting-started/prerequisites-install/install-bazel.md) guides.

---

## 2. Writing Your First Test

At its core, a test in GoogleTest is a small C++ function that verifies your code behaves as expected. The simplest way to define a test is by using the `TEST` macro.

### Create a Simple Test Function

1. Create a source file named `example_test.cpp` (you can choose a different name).

2. Include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

3. Define a simple test case:

```cpp
// Tests that 1 + 1 equals 2.
TEST(MathTest, Addition) {
  EXPECT_EQ(1 + 1, 2);
}
```

- `MathTest` is the test suite name grouping related tests.
- `Addition` is the individual test name within the suite.
- `EXPECT_EQ` compares two values and records a nonfatal failure if they differ.

### Explanation

- Test suites group related tests for organization.
- GoogleTest creates a fresh test environment for each test ensuring independence.
- The `EXPECT_*` macros allow tests to continue after failures, but you can use `ASSERT_*` to stop the test immediately on failure.

---

## 3. Building Your Test

You need to compile your test source file and link it with the GoogleTest libraries.

### Using g++ with Command Line

If GoogleTest is installed in standard locations, you can compile your test like this:

```bash
# Compile
c++ -std=c++17 -isystem /usr/include/gtest -pthread example_test.cpp -lgtest -lgtest_main -o example_test
```

Replace `/usr/include/gtest` with your actual GoogleTest include path if different.

### Using CMake

Create a `CMakeLists.txt` file:

```cmake
cmake_minimum_required(VERSION 3.14)
project(ExampleTestProject)

find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})

add_executable(example_test example_test.cpp)
target_link_libraries(example_test ${GTEST_LIBRARIES} pthread)
```

Then build:

```bash
mkdir build && cd build
cmake ..
make
```

---

## 4. Running Your First Test Suite

After building, simply run the executable:

```bash
./example_test
```

You should see output like:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from MathTest
[ RUN      ] MathTest.Addition
[       OK ] MathTest.Addition (0 ms)
[----------] 1 test from MathTest ran. (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (1 ms total)
[  PASSED  ] 1 test.
```

This indicates your first test ran and passed successfully.

---

## 5. Extending Your Test

Try adding more tests within the same test suite to check other behaviors:

```cpp
TEST(MathTest, Subtraction) {
  EXPECT_EQ(5 - 3, 2);
  EXPECT_NE(5 - 3, 3);  // Expect not equal
}
```

Tests with `EXPECT_*` will continue to run after a failure, providing detailed feedback.

Use `ASSERT_*` instead of `EXPECT_*` when the failure should stop the test immediately, for example if a prerequisite condition is violated.

---

## 6. Tips and Best Practices

- **Avoid underscores** in test suite and test names, as GoogleTest reserves underscores for special use. Use camel case or simple names. See [GoogleTest FAQ: Why not underscores in test names?](../../faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore).
- Use `TEST_F` when you need a test fixture to share setup and teardown logic between multiple tests.
- Return the value of `RUN_ALL_TESTS()` in your `main()` function to correctly communicate test results:

```cpp
int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

---

## 7. Troubleshooting

### Common Issues

- **GoogleTest headers not found:** Make sure your compiler include path points to where GoogleTest headers are installed.
- **Linker errors:** Link against `-lgtest` and `-lgtest_main` and add `-pthread` on Linux/macOS.
- **Ignoring return value of RUN_ALL_TESTS():** Always return the result of `RUN_ALL_TESTS()` from `main()`.

For more details on troubleshooting, refer to the [Troubleshooting Common Issues](../../getting-started/validation-troubleshooting/troubleshooting.md) guide.

---

## 8. Next Steps

After successfully running your first test:

- Explore writing tests with test fixtures using `TEST_F` in the [GoogleTest Primer](../../docs/primer.md#test-fixtures).
- Learn about assertions in detail on the [Assertions and Matchers](../../guides/core-testing-workflows/using-assertions.md) page.
- Check the [GoogleTest Samples](../../docs/samples.md) repository for real code examples.

---

## Useful Links

- [GoogleTest Primer](../../docs/primer.md)
- [Assertions Reference](../../docs/reference/testing.md#Macros)
- [Your First Test](../../guides/getting-started/first-test.md)
- [Troubleshooting Common Issues](../../getting-started/validation-troubleshooting/troubleshooting.md)

---

Congratulations on running your first GoogleTest test! You're now ready to write comprehensive, automated test cases and increase code quality with GoogleTest.
