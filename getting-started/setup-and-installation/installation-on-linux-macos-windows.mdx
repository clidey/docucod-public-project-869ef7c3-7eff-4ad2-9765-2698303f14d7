---
title: "Installation on Linux, macOS, and Windows"
description: "Step-by-step guidance to install GoogleTest and GoogleMock natively on all major platforms. Includes both CMake and Bazel quickstarts so users can choose their preferred build system."
---

# Installation on Linux, macOS, and Windows

This guide provides step-by-step instructions to install **GoogleTest** and **GoogleMock** natively on all major platforms using the recommended build systems: **CMake** and **Bazel**. You will learn how to build, install, and verify the frameworks, empowering you to integrate automated testing into your C++ development workflow.

---

## 1. Prerequisites

Before starting the installation, ensure your environment meets the following:

- **C++17 Compiler**: A compiler supporting C++17 is mandatory (e.g., GCC 7+, Clang 5+, MSVC 2017 Update 3+).
- **Build Tools**:
  - For CMake: Version 3.14 or later is recommended.
  - For Bazel: Use the version compatible with your platform.
- **Platform Support**: Linux, macOS, Windows (including MinGW).

<Tip>
If you are unfamiliar with which compiler supports C++17 on your system, check your compiler's documentation or run `gcc --version`, `clang --version`, or check your MSVC version.
</Tip>

## 2. Installation Using CMake (Recommended)

GoogleTest provides a CMake build script that simplifies building and integrating the libraries across platforms.

### 2.1 Clone the Repository

Clone the official GoogleTest repository and switch to the desired release version for stability:

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
```

### 2.2 Configure the Build Directory

Create and navigate to a build directory to keep builds separate from source:

```bash
mkdir build
cd build
```

### 2.3 Generate Build Files with CMake

Generate native build files. By default, both GoogleTest and GoogleMock are included.

```bash
cmake ..
```

- To build only GoogleTest without GoogleMock:

```bash
cmake .. -DBUILD_GMOCK=OFF
```


### 2.4 Build the Libraries

- On Linux/macOS:

```bash
make
```

- On Windows (Visual Studio):

Open the generated solution `gtest.sln` and build all projects.

### 2.5 (Optional) Install the Libraries and Headers

To install GoogleTest system-wide (typically requires administrator rights):

```bash
sudo make install
```

By default, this installs headers to `/usr/local/include` and libs to `/usr/local/lib`.


### 2.6 Verify Installation

You can verify the build by compiling your tests linking with `gtest` or `gtest_main`. You can also run the included test suites:

```bash
ctest
```

or run the test binaries from the build directory directly.

<Warning>
Make sure to return the value of `RUN_ALL_TESTS()` from your test's `main()` function to accurately report test results.
</Warning>


## 3. Using GoogleTest in Your CMake Project

### 3.1 Find Installed Package

After a successful installation, import GoogleTest using CMake's `find_package`:

```cmake
find_package(GTest CONFIG REQUIRED)
```

### 3.2 Link Your Tests

Link your test executable to `GTest::gtest` or `GTest::gtest_main`:

```cmake
add_executable(my_tests my_tests.cpp)
target_link_libraries(my_tests GTest::gtest_main)
add_test(NAME MyTests COMMAND my_tests)
```

### 3.3 Build Your Tests

Run your build system as usual to compile and link your tests.


## 4. Building GoogleTest with Bazel

If you prefer Bazel, GoogleTest comes with Bazel build support:

### 4.1 Clone (If not already cloned)

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
```

### 4.2 Build Tests and Libraries

Run Bazel build commands:

```bash
bazel build //...
```

### 4.3 Running Tests

Invoke tests using:

```bash
bazel test //...
```

This approach automates dependency management and test execution.

<Info>
Bazel handles downloading dependencies and setting up consistent builds, ideal for large-scale projects.
</Info>

## 5. Customizing the Build

GoogleTest offers several macros that you can define to customize your build environment:

- `GTEST_HAS_PTHREAD=1` to explicitly enable pthreads support.
- `GTEST_CREATE_SHARED_LIBRARY=1` to build GoogleTest as a shared library.
- `GTEST_LINKED_AS_SHARED_LIBRARY=1` for linking tests against shared GoogleTest libraries.
- `gtest_force_shared_crt` to control linking against dynamic vs static runtimes on Windows.

Consult the output of `include/gtest/internal/gtest-port.h` for a comprehensive list of customization macros.


## 6. Platform-Specific Notes

- **Linux/macOS**: The default instructions work out of the box.
- **Windows**: Visual Studio solution files will be generated. Use `gtest_force_shared_crt` when mixing static and dynamic CRT runtimes.
- **MinGW**: Special care to disable pthreads support internally; CMake handles this automatically.

<Tip>
Windows users often run into runtime library mismatches; enabling `gtest_force_shared_crt` in CMake avoids these issues.
</Tip>


## 7. Troubleshooting Common Installation Issues

<AccordionGroup title="Troubleshooting Common Issues">
<Accordion title="C++17 Not Supported">
Check that your compiler is recent enough to support C++17. You can force C++17 mode in your CMake project by adding:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```
</Accordion>
<Accordion title="Missing pthread Link Errors on Linux">
Make sure your build system links with pthread. The recommended CMake scripts handle this automatically, but if not, add `-pthread` to your compiler and linker flags.
</Accordion>
<Accordion title="Visual Studio Runtime Mismatch Errors">
Use CMake option `-Dgtest_force_shared_crt=ON` to force GoogleTest to use the dynamic CRT linking. This ensures runtime libraries are consistent.
</Accordion>
<Accordion title="Unable to Find GoogleTest in CMake">
If you installed GoogleTest manually, ensure CMake can locate the package config file by adding its path to `CMAKE_PREFIX_PATH` or setting `GTEST_ROOT`.
</Accordion>
<Accordion title="Test Failures Immediately After Build">
Make sure to link with `gtest_main` or provide your own `main()` that calls `RUN_ALL_TESTS()`.
</Accordion>
</AccordionGroup>

## 8. Next Steps

- Begin writing tests using the [Writing Your First Test](getting-started/first-test-and-validation/writing-your-first-test) guide.
- Explore configuration options in [Configuring Your Project](getting-started/setup-and-installation/configuring-your-project).
- Learn how to interpret results with [Running and Interpreting Test Results](getting-started/first-test-and-validation/running-and-interpreting-test-results).

---

## References

- Official repo: [https://github.com/google/googletest](https://github.com/google/googletest)
- CMakeLists.txt script: [googletest/CMakeLists.txt](https://github.com/google/googletest/blob/main/CMakeLists.txt)
- Customization macros: [gtest-port.h](https://github.com/google/googletest/blob/main/googletest/include/gtest/internal/gtest-port.h)
- Supported Platforms overview: [docs/platforms.md]

---

This document is part of the Getting Started section, complementing the prerequisite and system requirements documentation as well as the first testing guides for a complete onboarding experience.