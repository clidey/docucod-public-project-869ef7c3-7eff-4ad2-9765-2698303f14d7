---
title: "Installation Options"
description: "Explore supported installation methods for GoogleTest and GoogleMock, including using the CMake and Bazel build systems. Step-by-step guides help you choose and follow the best path for your environment (Linux, Mac, Windows)."
---

# Installation Options

Explore supported installation methods for GoogleTest and GoogleMock, including using the CMake and Bazel build systems. Step-by-step guides help you choose and follow the best path for your environment (Linux, Mac, Windows).

---

## Supported Installation Methods

GoogleTest and GoogleMock can be installed and built using two primary build systems:

- **CMake** (recommended for most users)
- **Bazel** (for users already using Bazel or preferring a build tool from Google)

Each method supports Linux, Mac, and Windows platforms. Choose the one that best fits your existing environment and workflow.

---

## 1. Installing via CMake

CMake is a widely used, cross-platform build system that generates native build files for your platform and compiler. Installation with CMake includes GoogleMock as well by default.

### Prerequisites

- Install [CMake](https://cmake.org/download/) (version 3.13 or higher recommended).
- A supported compiler (e.g., GCC, Clang, MSVC) compatible with C++17.

### Standalone Build Instructions

Follow these sequential steps to build and install GoogleTest and GoogleMock using CMake:

<Steps>
<Step title="Clone the repository">
Run:

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
depend on your preferred release tag
cd googletest
```
Verify the branch or tag to get the desired version.
</Step>
<Step title="Create a build directory">

```bash
mkdir build
cd build
```
Use a dedicated directory for the build outputs to keep source clean.
</Step>
<Step title="Generate build files with CMake">

```bash
cmake ..
```
This configures the build system. By default, GoogleMock will be built as well.

*To build GoogleTest only (excluding GoogleMock),* run:

```bash
cmake .. -DBUILD_GMOCK=OFF
```
</Step>
<Step title="Build the libraries">

On Linux/Mac:

```bash
make
```

On Windows (with Visual Studio): Open the generated solution (`.sln`) and build.
</Step>
<Step title="Optional: Install the libraries">

You can install the headers and binaries (requires administrator privileges):

```bash
sudo make install
```
This typically installs files under `/usr/local/`. Adjust install paths with CMake if needed.
</Step>
<Step title="Verify installation">

CMake will have built the following libraries:

- `libgtest.a` / `gtest.lib` (GoogleTest)
- `libgmock.a` / `gmock.lib` (GoogleMock)

You can link against these in your projects.

</Step>
</Steps>

### Incorporating GoogleTest in an Existing CMake Project

You can also add GoogleTest as a subdirectory in your own CMake project to build it alongside:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)  # On Windows, to fix runtime linkage.
FetchContent_MakeAvailable(googletest)

add_executable(my_test test.cpp)
target_link_libraries(my_test GTest::gtest_main)
add_test(NAME my_test COMMAND my_test)
```

This ensures:
- Consistency between your project and GoogleTest compile flags
- Easier updates by adjusting the FetchContent URL or branch

### Visual Studio Runtime Note

For Visual Studio users, GoogleTest links the CRT statically by default, which may conflict with your project settings. Set the option below before fetching or building GoogleTest to force dynamic CRT linkage:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

---

## 2. Installing via Bazel

If you are already using Bazel as your build system, GoogleTest and GoogleMock integration is supported via Bazel WORKSPACE and BUILD files included in the repository.

### Setup

- Ensure you have Bazel installed: https://bazel.build/

- Add GoogleTest as an external dependency or include the full source tree under your project.

### Usage

GoogleTest and GoogleMock targets are defined in Bazel as `@com_google_googletest//:gtest` and `@com_google_googletest//:gmock`.

Example build command:

```bash
bazel build //path/to/your:test_target
```

with dependencies declared in your `BUILD` files referencing GoogleTest and GoogleMock.

See the Bazel integration examples on the official GoogleTest GitHub for detailed Bazel setup.

---

## Platform-specific Considerations

### Linux and Mac OS

- Ensure C++17 support in your compiler.
- Install development headers and tools such as `build-essential` or `Xcode Command Line Tools`.

### Windows

- Use Visual Studio 2017 or newer for full C++17 support.
- When using CMake, open the generated solution or use `cmake --build`.
- Set `gtest_force_shared_crt` option as noted.

---

## Troubleshooting

### Common Issues

- **CMake version too old**: GoogleTest requires at least CMake 3.13. Upgrade to a newer version.

- **Compiler lacks C++17 support**: Ensure your compiler supports C++17 (e.g., GCC 7+, Clang 7+, MSVC 2017+).

- **Link errors**: Verify linking to correct `gtest` and `gmock` libraries and include paths.

- **Runtime mismatch on Windows**: Use `-DBUILD_SHARED_LIBS=ON` or set `gtest_force_shared_crt` to fix CRT mismatches.

### Verification

To verify the installation:

- Try building and running the included GoogleTest or GoogleMock test binaries in the repository `build` folder.
- Successfully running these demonstrates a working build environment.

<Tip>
If you encounter issues, consult the [Common Installation and Integration Issues](https://github.com/google/googletest/blob/main/docs/faq/getting-started-troubleshooting/faq-common-installation-issues.md) page for detailed troubleshooting steps.
</Tip>

---

## Summary

You can install GoogleTest and GoogleMock using:

- **CMake**: flexible, widely supported, recommended for standalone or integrated builds.
- **Bazel**: ideal if you use Bazel, with native support.

Both methods support Linux, Mac, and Windows, with platform-specific tips to ensure smooth setup.

For best results, confirm that your build environment meets [system requirements](../setup-and-installation/prerequisites-system-requirements) before installing.

Visit the [Configuration & Verification](../setup-and-installation/configuration-verification) page after installing to confirm setup.

---

## Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [GoogleMock Cookbook](../gmock_cook_book)
- [GoogleMock Cheat Sheet](../gmock_cheat_sheet)
- [GoogleMock for Dummies](../gmock_for_dummies)

---

## Navigation Map

- [Prerequisites & System Requirements](../setup-and-installation/prerequisites-system-requirements)
- [Installation Options](./installation-options)  (this page)
- [Configuration & Verification](../setup-and-installation/configuration-verification)

---