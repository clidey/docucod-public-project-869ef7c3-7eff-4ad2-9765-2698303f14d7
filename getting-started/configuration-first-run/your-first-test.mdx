---
title: "Your First Test: From Source to Success"
description: "Create and run your initial test case using GoogleTest or GoogleMock. This page presents a minimal working example, builds it, and describes the output, ensuring you see a test run to completion."
---

# Your First Test: From Source to Success

Welcome to your first hands-on experience with GoogleTest! This guide walks you through creating, building, and running your very first test case using the GoogleTest framework. By the end, you'll have a working test executable that runs a simple test successfully, helping you understand how GoogleTest fits into your development workflow.

---

## 1. Prerequisites & Setup

Before diving in, ensure you have the following ready:

- **A compatible C++ development environment:**
  - C++17 or later support is required.
  - A compiler such as GCC, Clang, or MSVC that supports C++17.
- **GoogleTest integrated into your build environment:** Refer to the [Setup and Project Integration](configuration-setup) guide.
- **Build system configuration:** We recommend using CMake (or your preferred build system) with GoogleTest source files added.

<Tip>
If you have not integrated GoogleTest yet, please complete the [Setup and Project Integration](configuration-setup) guide first. This guide assumes GoogleTest headers and libraries are accessible.
</Tip>

---

## 2. Writing Your First Test Case

Let's start by writing a minimal test case, which demonstrates the basic structure and how GoogleTest evaluates it.

### Step 1: Create a Test Source File

Create a file named `first_test.cpp` in your project directory with the following code:

```cpp
#include <gtest/gtest.h>

// Define a simple test case named BasicTest with test name SimplePass
TEST(BasicTest, SimplePass) {
  EXPECT_EQ(1 + 1, 2);  // This assertion should pass.
}
```

This code defines a test suite called `BasicTest` with a single test named `SimplePass`. The `EXPECT_EQ` assertion checks whether `1 + 1` equals `2`.

### Step 2: Preparing your Main Function

GoogleTest provides main() automatically if you link against `gtest_main`. If you don't have a custom main function, you can simply link with `gtest_main` and skip writing your own main.

If you prefer to write your own, here is a simple `main()` you can add:

```cpp
#include <gtest/gtest.h>

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();  // Runs all tests and returns result.
}
```

<Tip>
Linking with `gtest_main` automatically provides this main function, simplifying your test executable.
</Tip>

---

## 3. Building Your Test

Assuming you have GoogleTest integrated with your build system, build the test executable:

### Using CMake

1. Edit your `CMakeLists.txt` to add the test source and link GoogleTest:

```cmake
add_executable(first_test first_test.cpp)
target_link_libraries(first_test gtest_main)
add_test(NAME first_test COMMAND first_test)
```

2. Run the build commands:

```bash
mkdir -p build
cd build
cmake ..
make
```

### Using a Manual Compile Command

If you have GoogleTest installed and accessible via pkg-config:

```bash
g++ -std=c++17 \
  -I/path/to/googletest/include \
  first_test.cpp \
  -L/path/to/googletest/lib -lgtest_main -lgtest -pthread \
  -o first_test
```

Adjust paths as appropriate.

<Tip>
Make sure to link with both `gtest` and `gtest_main` libraries, and include threading support with `-pthread` where needed.
</Tip>

---

## 4. Running Your First Test

Run the test executable from your build directory:

```bash
./first_test
```

### Expected Console Output

```plaintext
Running main() from <your_path>/first_test.cpp
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from BasicTest
[ RUN      ] BasicTest.SimplePass
[       OK ] BasicTest.SimplePass (0 ms)
[----------] 1 test from BasicTest ran. (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

Success means your test compiled, ran, and passed.

### Interpreting the Output

- **Test Suite & Test Name:** `BasicTest.SimplePass`
- **Result:** `[  PASSED  ]` indicates all assertions succeeded.
- **Execution Time:** in milliseconds.

<Tip>
If you see failures, carefully check the test code and your build linking to GoogleTest libraries.
</Tip>

---

## 5. Next Steps: Expanding Your Testing

Once your first test runs successfully, you can:

- Add more tests using the `TEST()` macro to cover additional code paths.
- Explore [Test Fixtures](reference/testing.md#TEST_F) with `TEST_F()` to reuse setup code.
- Introduce mocks using GoogleMock by including `#include <gmock/gmock.h>` in your tests.
- Review the [GoogleTest Primer](primer.md) for deeper understanding and examples.

<Tip>
Link your tests to CI systems to automate running tests on each code change and ensure regressions are caught early.
</Tip>

---

## 6. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Common Issues">
<Accordion title="Test Executable Does Not Link">
Check that you have linked your executable with the `gtest` and `gtest_main` libraries, and included pthread libraries correctly. Example link flags:

```bash
-lgtest -lgtest_main -pthread
```

Verify include paths point to GoogleTest headers.
</Accordion>
<Accordion title="Main Function Missing">
If you get linker errors about missing `main`, confirm you linked `gtest_main` or provided your own main function as shown.
</Accordion>
<Accordion title="Test Does Not Run or Is Skipped">
Make sure tests are defined with correct `TEST` macros and that you call `RUN_ALL_TESTS()` after initializing.

If you use filters, ensure your test matches the filter.
</Accordion>
<Accordion title="Compilation Fails on C++ Version">
Ensure your compiler supports C++17 and you specify the `-std=c++17` (or later) flag.
</Accordion>
<Accordion title="Unexpected Assertion Failure">
Check the test logic and assertion expressions. Use GoogleTest assertions and macros correctly by distinguishing fatal (`ASSERT_*`) vs nonfatal (`EXPECT_*`) failures.

Use the output location info to locate failure.
</Accordion>
</AccordionGroup>

---

## 7. Reference Links

- [GoogleTest Primer â€” Writing Your First Tests](primer.md)
- [Setup and Project Integration](configuration-setup)
- [Assertions Reference](reference/assertions.md)
- [Mocking Reference](reference/mocking.md)
- [Installation Instructions](installation-methods)
- [Running and Configuring Tests](reference/testing.md#RUN_ALL_TESTS)

---

Congratulations on running your first GoogleTest! Continue expanding your test coverage by exploring deeper into fixtures, parameterized tests, and mocks to write powerful and maintainable tests.

<Note>
For advanced scenarios, consider creating complex test suites with fixtures (`TEST_F`), integrating mocks using GoogleMock, and automating testing workflows with CI pipelines.
</Note>
