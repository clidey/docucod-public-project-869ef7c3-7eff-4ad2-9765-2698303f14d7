---
title: "Writing & Running Your First Test"
description: "Get hands-on and write your first GoogleTest-based unit test. This page explains the minimal steps to create, build, and run a test executable—ensuring users achieve a rapid first success and understand the core test definition and discovery principles."
---

# Writing & Running Your First Test

Welcome to your first hands-on experience writing a test with GoogleTest! This guide will take you step-by-step through the essential actions to create, compile, and run a simple test executable using GoogleTest, ensuring you quickly succeed and grasp the core principles behind defining, running, and discovering tests.

---

## 1. Prerequisites & Setup

Before writing your first test, ensure you have completed the GoogleTest installation and basic environment setup. See the [System Requirements & Supported Platforms](/getting-started/prerequisites-installation/system-requirements) and [Installation Guides](/getting-started/prerequisites-installation/installation-cmake) for details.


## 2. Writing Your First Test

GoogleTest revolves around creating **TEST** macros that represent test cases, grouped into test suites. Here's how to write a minimal test:

### Step 1: Include Required Headers

```cpp
#include <gtest/gtest.h>
```

### Step 2: Define a Test

Use the `TEST` macro with two parameters — the test suite name and test case name. Inside the test, use assertions to verify behavior.

```cpp
TEST(HelloTest, BasicAssertions) {
  // Expect two strings to be equal.
  EXPECT_STREQ("hello", "hello");

  // Expect a boolean expression to be true.
  EXPECT_TRUE(1 == 1);
}
```

### Explanation
- `TEST` creates a test case inside a test suite.
- `EXPECT_` assertions verify conditions without aborting the test on failure.


## 3. Building Your Test Executable

You need to compile your test code linked against the GoogleTest libraries.

### Using CMake (recommended)

Add a test source file, e.g., `hello_test.cc` to your CMakeLists.txt:

```cmake
add_executable(hello_test hello_test.cc)
target_link_libraries(hello_test gtest_main)
```

Then build your project:

```bash
mkdir build && cd build
cmake ..
make
```

### Alternative: Manual Compilation

Use a command similar to:

```bash
g++ -std=c++17 -isystem <gtest_include_dir> -pthread hello_test.cc -L<gtest_lib_dir> -lgtest_main -lgtest -o hello_test
```


## 4. Running Your First Test

Simply execute the compiled binary:

```bash
./hello_test
```

You’ll see output similar to:

```text
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from HelloTest
[ RUN      ] HelloTest.BasicAssertions
[       OK ] HelloTest.BasicAssertions (0 ms)
[----------] 1 test from HelloTest ran. (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (1 ms total)
[  PASSED  ] 1 test.
```

This confirms your test was discovered, executed, and passed.


## 5. Understanding Test Discovery and Execution

- GoogleTest automatically discovers tests defined by `TEST` macros.
- Tests run independently and report detailed results.
- Failures show file and line number to help debugging.


## 6. Practical Tips

- Name your test suites and test cases clearly to reflect their intent.
- Use `EXPECT_` macros to continue testing after failures and `ASSERT_` macros to stop immediately (useful for critical setup checks).
- Keep tests small and focused on one behavior.


## 7. Common Issues & Troubleshooting

<AccordionGroup title="Common Problems Running First Tests">
<Accordion title="Build Errors Related to Missing gtest_main">
Make sure your build links against `gtest_main` or supplies your own `main()` function. Without this, your executable won’t link.
</Accordion>
<Accordion title="Test Binary Runs but Doesn't Output Anything or Exits Prematurely">
Confirm you linked against pthreads (`-lpthread` on Linux). GoogleTest requires thread support.
</Accordion>
<Accordion title="Test Not Discovered or Runs Zero Tests">
Check that your test source files are compiled and linked properly. Ensure `TEST` macros are used correctly (not inside functions or classes).
</Accordion>
</AccordionGroup>


## 8. Next Steps

Now that you have a simple test running:

- Explore [Writing Your First Test](https://google.github.io/googletest/guides/getting-started#writing-your-first-test) for richer assertions and test lifecycle.
- Learn about setting up tests with fixtures for shared resources.
- Dive into [Mocking Basics](guides/getting-started-testing/mocking-basics) to simulate dependencies.
- Review the [GoogleTest Core Features & Benefits](/overview/introducing-googletest/core-features-benefits) for advanced usages.


---

## Example Complete Test File

```cpp
#include <gtest/gtest.h>

// Simple test case that checks equality and boolean condition.
TEST(HelloTest, BasicAssertions) {
  EXPECT_EQ(7 * 6, 42);
  EXPECT_TRUE(true);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run this file to quickly verify that your GoogleTest setup works.

---

## Summary
By following this guide, you have written a simple test, built it into an executable, and run it successfully, confirming your environment is ready for more sophisticated testing. You now understand how GoogleTest discovers tests and reports results, laying a solid foundation for future test development.

<Tip>
Test early and often. Write simple test cases in isolation, then expand coverage progressively.
</Tip>

<Note>
For larger projects, integrate your tests into build systems like CMake or Bazel for easier automation.
</Note>

<Warning>
Do not call `EXPECT_CALL` or set expectations after the tested code invokes the mocks; always declare expectations before exercising the code.
</Warning>

---

## Useful Resources

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md)
- [GoogleTest API Reference](https://google.github.io/googletest/reference/)
- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [GoogleTest Supported Platforms](https://github.com/google/googletest/blob/main/docs/overview/quick-start-integration/supported-platforms-environments.md)

<Check>
Check your build and run commands match your environment to avoid build/runtime issues.
</Check>

<Check>
Ensure your test binary prints output similar to the shown examples for confirmation.
</Check>
