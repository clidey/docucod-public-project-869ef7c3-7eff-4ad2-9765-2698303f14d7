---
title: "Writing & Running Your First Test"
description: "A beginner-friendly walkthrough for creating a basic test case using GoogleTest. Includes template code, explanation of assertions, and commands to execute your tests and interpret results."
---

# Writing & Running Your First Test with GoogleTest

Welcome to your first journey with GoogleTest! This guide walks you through the essential steps to create, run, and understand your basic test using GoogleTest. Whether you are new to unit testing or coming from another framework, these actionable instructions and examples will ensure you get off on the right foot.

---

## 1. Prerequisites & Setup

Before writing your first test, make sure you have:

- **GoogleTest Installed:** Follow the [Installation (CMake & Bazel)](/getting-started/setup-prerequisites-installation/installation-integration) guide if you haven't installed GoogleTest yet.
- **C++17 Compatible Compiler:** GoogleTest requires a modern C++ compiler supporting C++17 or later.
- **Build System Ready:** You should have CMake or Bazel configured for building your project with GoogleTest.

<Tip>
If you only want to quickly validate your installation, see the [Configuration & Validation](/getting-started/setup-prerequisites-installation/configuration-validation) document first.
</Tip>

## 2. Writing Your First GoogleTest

GoogleTest organizes tests into **test suites** (groups of related tests) and **tests** (individual test cases). Follow these steps to write a simple test:

### Step 1: Include the GoogleTest Header

Add this at the top of your test file:

```cpp
#include <gtest/gtest.h>
```

### Step 2: Define a Test

Use the `TEST()` macro that takes two parameters: a TestSuiteName and a TestName. Keep both names as valid C++ identifiers without underscores to avoid conflicts (refer to the [FAQ](https://github.com/google/googletest/blob/main/docs/faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore)).

Example:

```cpp
// A simple test case verifying integer equality
TEST(SampleTest, BasicEquality) {
  EXPECT_EQ(1 + 1, 2);  // Assert 1+1 equals 2
}
```

### Step 3: Add More Assertions

GoogleTest provides many assertion macros:

- **`EXPECT_EQ(val1, val2)`**: You expect these to be equal (non-fatal)
- **`ASSERT_TRUE(condition)`**: Asserts the condition is true, aborts test on failure

Here is a slightly more complex example:

```cpp
TEST(SampleTest, MathChecks) {
  int x = 5;
  int y = 10;
  EXPECT_TRUE(x < y);
  EXPECT_EQ(x + y, 15);
}
```

<Tip>
Use `EXPECT_` macros when you want the test to continue after a failure and `ASSERT_` macros when a failure should abort the test immediately.
</Tip>

## 3. Building and Running Your Tests

### Step 1: Compile the Test Code

If you are using CMake, your `CMakeLists.txt` should link your test code with GoogleTest. For example:

```cmake
add_executable(my_test my_test.cc)
target_link_libraries(my_test gtest_main)
```

Run your build system to compile.

### Step 2: Run the Test Executable

Simply execute your test binary. GoogleTest will automatically discover all defined tests and run them.

```shell
./my_test
```

### Step 3: Interpret the Results

Example output:

```shell
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from SampleTest
[ RUN      ] SampleTest.BasicEquality
[       OK ] SampleTest.BasicEquality (0 ms)
[ RUN      ] SampleTest.MathChecks
[       OK ] SampleTest.MathChecks (0 ms)
[----------] 2 tests from SampleTest (0 ms total)
[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

If any assertion fails, GoogleTest shows an informative failure message with file and line number. For example:

```text
my_test.cc:10: Failure
Expected equality of these values:
  x + y
    Which is: 14
  15
```

### Step 4: Use `RUN_ALL_TESTS()` in `main()`

Your test program needs to run all tests:

```cpp
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This entry point automatically discovers, runs all tests, and returns a completion status.

<Note>
Never ignore the return value of `RUN_ALL_TESTS()`. Your `main()` must return it so test failures can be detected by build systems and CI.
</Note>

## 4. Understanding Assertions and Test Output

### What Is an Assertion?

Assertions are checks you write inside tests to verify conditions in your code. GoogleTest provides various macros:

- `EXPECT_*`: Non-fatal; if fails, test continues
- `ASSERT_*`: Fatal; if fails, test aborts immediately

Use `EXPECT_EQ`, `ASSERT_TRUE`, `EXPECT_NEAR`, and other assertions as needed.

### Interpretation of Test Status

- **PASSED**: All expectations met
- **FAILED**: At least one assertion failed or test crashed
- **SKIPPED**: Test skipped explicitly

To understand failed tests, carefully read the assertion failure messages.

<Tip>
Prefer descriptive test and suite names to quickly identify what each test covers.
</Tip>

## 5. Next Steps

- Explore using **test fixtures** for organizing related tests that share setup by continuing to [Test Fixtures](/guides/common-workflows/test-fixtures).
- Learn to write **mock objects** with [Writing Your First Mock and Using Expectations](/guides/getting-started/first-mock).
- Deepen your understanding of **assertions and matchers** via [Essential Assertions and Matchers](/guides/getting-started/basic-assertions).
- For troubleshooting, refer to [Troubleshooting Common Issues](/getting-started/first-test-troubleshooting/troubleshooting-common-issues).

## 6. Troubleshooting Tips

- Ensure your compiler supports C++17 or later.
- Confirm you call `InitGoogleTest()` before `RUN_ALL_TESTS()`.
- Avoid underscores `_` in `TEST()` names to prevent macro clashes.
- Use verbose output flag `--gtest_verbose=info` to get detailed test logs.

---

## Example: Complete Minimal Test Program

```cpp
#include <gtest/gtest.h>

// A simple function for demonstration
int Abs(int x) {
  return (x < 0) ? -x : x;
}

// Test suite "AbsTest" with a test "PositiveInput"
TEST(AbsTest, PositiveInput) {
  EXPECT_EQ(Abs(5), 5);
}

// Another test in the same suite
TEST(AbsTest, NegativeInput) {
  EXPECT_EQ(Abs(-3), 3);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Run this program to see your first two tests passing!

---

[Back to Getting Started](https://github.com/google/googletest/tree/main/docs#getting-started)

[GoogleTest Primer](../docs/primer.md)

[GoogleTest Assertions Reference](../docs/reference/assertions.md)

[FAQ on Naming Tests](../docs/faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore)

[GoogleMock Cheat Sheet](../docs/gmock_cheat_sheet.md) if you plan to use mocks soon

---