---
title: "Installation on Your Platform"
description: "Follow concise installation instructions for Windows, macOS, and Linux environments. Get up and running using your preferred build system (CMake or Bazel). Examples walk you through cloning the repository and building GoogleTest/GoogleMock from source with confidence."
---

# Installation on Your Platform

Get started quickly with GoogleTest and GoogleMock by following concise installation instructions tailored for Windows, macOS, and Linux environments. This guide walks you through cloning the repository and building the projects using either CMake or Bazel, empowering you to set up your testing framework with confidence.

---

## 1. Prerequisites & System Requirements

Before installation, ensure your environment meets the following requirements:

- **Operating Systems Supported**: Windows, macOS, Linux
- **C++ Compiler Support**: Must support at least C++17 (GCC, Clang, MSVC)
- **Build Tools**: 
  - CMake 3.14 or later (recommended) for build configuration
  - Compatible build system such as Make, Ninja, Visual Studio
  - Alternatively, Bazel for those who prefer Bazel as a build system
- **Network Access**: Required to clone the repository and download dependencies

<Tip>
Check your compiler and CMake versions with commands like `gcc --version` or `cmake --version` before proceeding.
</Tip>

---

## 2. Clone the Repository

Start by cloning the official GoogleTest repository from GitHub to your local machine.

```bash
# Clone the repository (replace v1.17.0 with the desired release tag or branch)
git clone https://github.com/google/googletest.git -b v1.17.0
directory=googletest
cd "$directory"
```

<Tip>Using a specific tagged release ensures stable, tested builds.</Tip>

---

## 3. Building with CMake

GoogleTest provides a robust CMake build setup supporting a wide range of platforms.

### 3.1 Build GoogleTest & GoogleMock Standalone

1. Create your build directory:

```bash
mkdir build
cd build
```

2. Generate native build files (default builds both GoogleTest and GoogleMock):

```bash
cmake ..
```

3. To build only GoogleTest (excluding GoogleMock):

```bash
cmake .. -DBUILD_GMOCK=OFF
```

4. Build the project:

- On Linux/macOS:

```bash
make
```

- On Windows with Visual Studio, open the generated solution (`.sln`) and build.

5. (Optional) Install GoogleTest system-wide (requires admin rights):

```bash
sudo make install
```

### 3.2 Incorporate into Your Existing CMake Project

Use CMake's [`FetchContent`](https://cmake.org/cmake/help/latest/module/FetchContent.html) module to pull GoogleTest during your project's build configuration.

Example `CMakeLists.txt` snippet:

```cmake
cmake_minimum_required(VERSION 3.14)
project(my_project)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE) # For Windows runtime compatibility
FetchContent_MakeAvailable(googletest)

add_executable(my_test example_test.cpp)
target_link_libraries(my_test GTest::gtest_main)
enable_testing()
gtest_discover_tests(my_test)
```

---

## 4. Building with Bazel

For users preferring Bazel, GoogleTest and GoogleMock support building with this system as well.

1. Clone the repository as shown above.

2. Execute Bazel build commands from the `googletest` root directory. Example:

```bash
bazel build //...
```

3. Run tests with:

```bash
bazel test //...
```

<Note>
Refer to the Bazel build and workspace files in the repo root for specific targets and configurations.
</Note>

---

## 5. Verification: Build and Run a Sample Test

To ensure everything is set up correctly, try building and running a simple test.

### 5.1 Create a Simple Test File

Save the following as `hello_test.cc` in your project directory:

```cpp
#include <gtest/gtest.h>

TEST(HelloTest, BasicAssertions) {
  EXPECT_STRNE("hello", "world");
  EXPECT_EQ(7 * 6, 42);
}
```

### 5.2 Update Your `CMakeLists.txt`

Add this to your CMakeLists.txt:

```cmake
add_executable(hello_test hello_test.cc)
target_link_libraries(hello_test GTest::gtest_main)
enable_testing()
gtest_discover_tests(hello_test)
```

### 5.3 Build and Run

From your build directory:

```bash
cmake -S . -B build  
cmake --build build
cd build
ctest
```

Expected output:

```
Test project /path/to/build
Start 1: HelloTest.BasicAssertions
1/1 Test #1: HelloTest.BasicAssertions ........   Passed    0.00 sec

100% tests passed, 0 tests failed out of 1
```

<Check>Seeing the "100% tests passed" message means your GoogleTest setup works correctly.</Check>

---

## 6. Best Practices & Tips

- **Use Specific Release Tags**: Avoid using `main` branch directly to ensure stability.
- **Windows Runtime Matching**: On Windows, set `gtest_force_shared_crt` to ON to match your projectâ€™s runtime libraries and prevent linker errors.
- **Use FetchContent For Dependencies**: Embedding GoogleTest via `FetchContent` keeps builds consistent and up to date.
- **Check Compiler Compatibility**: Always verify your compiler supports at least C++17 before building.

---

## 7. Troubleshooting Common Issues

<AccordionGroup title="Common Installation Issues and Solutions">
<Accordion title="CMake Version Too Old">
If CMake reports version incompatibility:

- Upgrade to CMake 3.14 or higher.
- Use package managers such as `brew` (macOS), `apt` (Linux), or download from [cmake.org](https://cmake.org/install).
</Accordion>
<Accordion title="Compiler Lacks C++17 Support">
You may see errors about unsupported features:

- Update your compiler:
  - GCC: 7.0 or later
  - Clang: 5.0 or later
  - MSVC: Visual Studio 2017 or later
- Alternatively, adjust your toolchain or build environment.
</Accordion>
<Accordion title="Linker Errors on Windows with Runtime Mismatch">
Enable the CMake option:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

This ensures GoogleTest uses the same C runtime as your project.
</Accordion>
<Accordion title="Build Fails with Missing pthread Library (Linux/macOS)">
Make sure your compiler and linker include pthread support.

- Using CMake typically handles this automatically.
- If building manually, link with `-pthread`.
</Accordion>
</AccordionGroup>

---

## 8. Next Steps

- Visit the [GoogleTest Primer](primer.md) to learn how to write your own tests.
- Explore the [Configuration & Environment Setup](configuration-setup.md) for customizing build and runtime options.
- Check out the [Running & Debugging Tests](running-tests.md) page to learn test execution workflows.
- For advanced mocking techniques, proceed to the [Basic Mocking: Using GoogleMock](mocking-basics.md) guide.

---

## 9. Additional Resources

- Official Repository: [GoogleTest on GitHub](https://github.com/google/googletest)
- CMake Documentation: [cmake.org](https://cmake.org/)
- Supported Platforms: See the [Integration and Ecosystem Compatibility](overview/architecture-usage-integration/integration-and-ecosystem) documentation

---

Congratulations on setting up GoogleTest and GoogleMock! You are now ready to accelerate your C++ testing workflow with this powerful, cross-platform framework.
