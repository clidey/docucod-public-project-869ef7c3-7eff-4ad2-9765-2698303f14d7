---
title: "Installation Instructions"
description: "Step-by-step installation guidance for Linux, macOS, and Windows, covering multiple build systems (CMake, Bazel, etc.). Learn how to acquire the code, build, and integrate GoogleTest into your projects using platform-specific methods."
---

# Installation Instructions for GoogleTest

Welcome to the step-by-step installation guide for GoogleTest and GoogleMock. This guide is designed to lead you through acquiring the source code, building the framework on your system, and integrating it effortlessly into your C++ projects across Linux, macOS, and Windows platforms.

---

## 1. Prerequisites & System Requirements

Before beginning installation, ensure your environment meets the following:

- **Operating System:** Linux, macOS, or Windows (Visual Studio supported).
- **Compiler:** Must support C++17 standard.
- **Build Tools:** 
  - [CMake](https://cmake.org/) version 3.14 or later.
  - For Linux/macOS: Make or Ninja.
  - For Windows: Visual Studio with C++ support.
- **Network:** Internet connection to clone repository or download source archives.

<Tip>
Ensure your compiler and build tools are updated to support C++17 features, as GoogleTest requires modern C++ capabilities.
</Tip>

---

## 2. Acquiring GoogleTest Source Code

There are two primary ways to obtain GoogleTest:

### Option A: Clone Specific Release from GitHub

```bash
# Clone version 1.17.0 of GoogleTest
$ git clone https://github.com/google/googletest.git -b v1.17.0
$ cd googletest
```

### Option B: Download Source Archive

Alternatively, manually download the zip archive of a specific commit or release from the [GitHub releases page](https://github.com/google/googletest/releases).

---

## 3. Building GoogleTest with CMake

GoogleTest includes a versatile CMake build script that supports stand-alone builds and integration into larger projects.

### 3.1 Create a Build Directory

Keep build artifacts separate from source files:

```bash
$ mkdir build
$ cd build
```

### 3.2 Generate Native Build Files

Run CMake to configure and generate platform-specific build files.

- To build **GoogleTest together with GoogleMock:**

```bash
$ cmake ..
```

- To build **only GoogleTest (without GoogleMock):**

```bash
$ cmake .. -DBUILD_GMOCK=OFF
```

<Tip>
For Windows users using Visual Studio, this will generate `.sln` and `.vcproj` files that can be opened and built in Visual Studio. On macOS with Xcode, `.xcodeproj` files will be generated.
</Tip>

### 3.3 Build the Libraries

- On Linux/macOS:
```bash
$ make
```

- On Windows:
Open the generated solution file in Visual Studio and build using the IDE.

### 3.4 Install GoogleTest (Optional)

To install GoogleTest system-wide (requires administrator privileges):

```bash
$ sudo make install
```

This installs headers and libraries typically under `/usr/local/`.

<Tip>
Installing GoogleTest system-wide enables other projects to locate it using `find_package(GTest)`.
</Tip>

---

## 4. Using GoogleTest in Your Projects

GoogleTest can be integrated into your build system in multiple ways:

### 4.1 Using Installed Libraries

If installed, import GoogleTest in your own CMake project:

```cmake
find_package(GTest CONFIG REQUIRED)

add_executable(your_test your_test.cpp)

target_link_libraries(your_test PRIVATE GTest::gtest GTest::gtest_main)
```

### 4.2 Building GoogleTest as Part of Your Project

For tighter integration, especially to ensure consistent compiler/linker settings and avoid ABI conflicts:

1. Add GoogleTest source as a subdirectory in your project source tree or use git submodules.

2. In your project's `CMakeLists.txt`:

```cmake
add_subdirectory(path/to/googletest)

add_executable(your_test your_test.cpp)

target_link_libraries(your_test PRIVATE gtest gtest_main)
```

### 4.3 Using CMake's FetchContent Module

Automatically download and configure GoogleTest during your build:

```cmake
include(FetchContent)

FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)

# On Windows, enforce dynamic runtimes
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)

FetchContent_MakeAvailable(googletest)

add_executable(your_test your_test.cpp)

target_link_libraries(your_test PRIVATE gtest_main)

add_test(NAME your_test COMMAND your_test)
```

<Tip>
This approach requires CMake 3.14 or later and avoids manual setup steps, ideal for modern CI workflows.
</Tip>

---

## 5. Customizing the Build

### C++ Standard

Ensure your project specifies C++17 or later to comply with GoogleTest requirements:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

### Shared vs Static Libraries

By default, GoogleTest builds static libraries. To build shared libraries (DLLs on Windows), add:

```
-DGTEST_CREATE_SHARED_LIBRARY=1
```

and pass this to CMake compile flags.

### Multi-threaded Support

GoogleTest is thread-safe on systems with pthread support.

If detection fails, you can force pthread availability:

```
-DGTEST_HAS_PTHREAD=1
```

CMake build scripts handle pthread linking automatically.

---

## 6. Verification of Installation

### Running Sample Tests

GoogleTest includes sample tests in the `googletest` directory.

1. Build the tests (from the build directory):

```bash
$ make
$ ./sample1_unittest
```

2. All tests should pass, indicating a successful build.

<Tip>
If tests fail or the binary cannot run, verify compiler compatibility, C++ standard support, and library link paths.
</Tip>

---

## 7. Troubleshooting

<AccordionGroup title="Common Installation Issues and Solutions">
<Accordion title="CMake Not Found or Too Old">
Ensure CMake 3.14 or greater is installed and available in your PATH.

```bash
cmake --version
```

If outdated, update CMake from https://cmake.org/
</Accordion>
<Accordion title="Compiler Does Not Support C++17">
Verify your compiler version. For GCC, version 7 or later is recommended.
For MSVC, Visual Studio 2017 or later.
Use:

```bash
g++ --version
cl
```

or equivalent.
</Accordion>
<Accordion title="Linker Errors Related to pthread">
If you encounter pthread-related linker errors:

- For manual build scripts, add `-pthread` to compiler and linker flags.
- Using CMake, ensure pthread library paths are correctly detected.
</Accordion>
<Accordion title="Runtime Tests Fail or Do Not Run">
- Confirm libraries are installed and accessible.
- Check environment variables like `LD_LIBRARY_PATH` (Linux) or `DYLD_LIBRARY_PATH` (macOS) if using shared libraries.
- Run tests with verbose flags.
</Accordion>
</AccordionGroup>

---

## 8. Additional Resources and Next Steps

- Learn how to [write your first test](../first-test-run/writing-first-test.md).
- Explore [mocking with GoogleMock](../guides/core-workflows/mocking-basics.md).
- Check [FAQ on installation and setup](../../faq/getting-started-questions/installation-and-setup.md).
- Explore [configuration and environment setup](../setup-basics/configuration-setup.md).

<Tip>
Successful installation sets you up to write, build, and run high-quality C++ tests seamlessly on your platform of choice.
</Tip>

---

## References

- GoogleTest GitHub repository: https://github.com/google/googletest
- Official CMake website: https://cmake.org/

---

## Summary Diagram of Setup Workflow

```mermaid
flowchart TD
  A[Start: Prepare Environment] --> B[Clone or Download GoogleTest Source]
  B --> C[Create Build Directory]
  C --> D{Build Type?}
  D -->|Build with GoogleMock| E[Run CMake]
  D -->|Build GoogleTest only| F[Run CMake with -DBUILD_GMOCK=OFF]
  E & F --> G[Compile]
  G --> H{Install?}
  H -->|Yes| I[Run make install / Use system install]
  H -->|No| J[Link GoogleTest Locally]
  I & J --> K[Integrate into your project via CMake or Other Build Systems]
  K --> L[Build and Run Tests]
  L --> M[Success]

  classDef important fill:#f96,stroke:#333,stroke-width:2px;
  B,E,F,G,K,L,M class important
```

---