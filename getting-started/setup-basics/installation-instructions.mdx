---
title: "Installation Instructions"
description: "Step-by-step guidance on installing GoogleTest using various methods (including Bazel, CMake, or source), with tailored instructions for Linux, macOS, and Windows. Clear platform-specific breakdowns reduce setup friction for all users."
---

# Installation Instructions

Step-by-step guidance on installing GoogleTest using various methods including Bazel, CMake, or from source. This page provides tailored instructions for Linux, macOS, and Windows platforms, ensuring a smooth setup experience for all users.

---

## 1. Prerequisites & System Requirements

### System Requirements
- **Operating Systems Supported:** Linux, macOS, Windows
- **Compiler:** Support for C++17 standard is mandatory. Compatible compilers include GCC 7+, Clang, MSVC (Visual Studio 2017 and later).
- **Build Tools:** CMake 3.14 or higher is required for the FetchContent method and overall building.

### Dependencies
- CMake (https://cmake.org/) for build configuration
- Git for cloning source repositories
- On Linux: `make`, GCC or Clang installed
- On macOS: Command Line Tools or Xcode
- On Windows: Visual Studio with C++ workload

### Access Requirements
- User permissions to install software and write to system directories if doing a system-wide install.

### Network Requirements
- Internet access to clone repositories or download source archives, unless using offline local sources.

---

## 2. Installation Methods

GoogleTest offers three primary installation pathways. Pick the one that fits your project requirements and environment.

### A. Installing with CMake Standalone

1. Open your terminal or command prompt.
2. Clone the GoogleTest repository at a stable release tag (example uses v1.17.0):

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
```

3. Enter the main googletest directory:

```bash
cd googletest
```

4. Create a build directory to keep build artifacts separate:

```bash
mkdir build && cd build
```

5. Configure the project using CMake. This will generate native build files:

- To build both GoogleTest and GoogleMock (default):

```bash
cmake ..
```

- To build only GoogleTest (without GoogleMock):

```bash
cmake .. -DBUILD_GMOCK=OFF
```

6. Build the library:

- On Linux/macOS:

```bash
make
```

- On Windows with Visual Studio:

Open the generated `gtest.sln` solution and build it inside Visual Studio.

- On macOS with Xcode:

Open the `.xcodeproj` file generated by CMake and build.

7. (Optional) Install the libraries system-wide (requires admin privileges):

```bash
sudo make install
```

<Tip>
If `make install` is not available or you want to install in a custom location, use `-DCMAKE_INSTALL_PREFIX` during the `cmake ..` step.
</Tip>

---

### B. Using GoogleTest as part of an Existing CMake Project

GoogleTest can be embedded into your project build, ensuring consistent compiler and linker settings:

1. Add the following to your project’s `CMakeLists.txt`:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)

# Use this on Windows to force dynamic CRT if your project uses it
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)

FetchContent_MakeAvailable(googletest)

add_executable(example example.cpp)
target_link_libraries(example gtest_main)
add_test(NAME example_test COMMAND example)
```

2. Ensure your environment supports CMake 3.14 or later.

3. Build your project normally. CMake will download and build GoogleTest automatically.

<Tip>
Use `gtest_force_shared_crt` particularly on Windows when your project’s runtime linkage doesn’t match GoogleTest's default static CRT to avoid linker errors.
</Tip>

---

### C. Building from Source Manually

If you prefer not to use CMake or fetch methods, you can build from source:

1. Clone the repository or download the source archive.
2. Compile the sources in `googletest/src` and optionally include `googlemock/src` if required.
3. Link your test binaries against `libgtest.a` or `libgmock.a` built.

This method requires manual management of include paths, compile flags, and linking.

---

### D. Alternative: Installing via Package Managers

On some platforms, GoogleTest may be available from package managers:

- **Ubuntu:**

```bash
sudo apt-get install libgtest-dev
```

- **macOS (Homebrew):**

```bash
brew install googletest
```

Note: Package manager installations often place GoogleTest headers and libs to standard system paths, making integration straightforward.

<Tip>
Package-managed versions frequently lag behind the latest release. For cutting-edge fixes or features, prefer the CMake or source installation methods.
</Tip>

---

## 3. Platform-Specific Notes

### Linux
- Ensure you have development tools installed (build-essential, gcc, g++).
- `make` is the primary build utility.
- Use `sudo make install` to place files under `/usr/local/` or customize with `-DCMAKE_INSTALL_PREFIX`.

### macOS
- Install Xcode or Command Line Tools.
- Use `make` or Xcode projects generated by CMake.

### Windows
- Visual Studio is required (2017 or newer recommended).
- Open the generated solution file (`gtest.sln`) and build directly.
- Use the `gtest_force_shared_crt` option if runtime library conflicts occur.

---

## 4. Verifying the Installation

After building and optionally installing, verify your setup as follows:

### Verify CMake Build

- Run `ctest` inside the build directory to execute GoogleTest’s built-in tests:

```bash
ctest
```

- Expect test results summary indicating all tests passed.

### Verify Headers and Libraries

- Confirm the existence of installed header files in:

```
/usr/local/include/gtest
/usr/local/include/gmock
```

- Confirm libraries in:

```
/usr/local/lib/libgtest.a
/usr/local/lib/libgmock.a
```

### Use Pkg-Config to Validate (if installed)

```bash
pkg-config --cflags gtest
pkg-config --libs gtest
```

This outputs the correct compiler and linker flags for integration.

---

## 5. Troubleshooting Common Issues

### Linker Errors on Windows with Visual Studio
- Issue: Runtime library mismatch such as `MTd_StaticDebug` vs `MDd_DynamicDebug`.
- Solution: Use `-Dgtest_force_shared_crt=ON` during CMake configuration to align runtimes.

### Missing pthread Support
- On MinGW or environments where pthread support is absent, GoogleTest falls back to Windows threading primitives.
- Ensure CMake's Threads package is found correctly.

### Outdated CMake Version
- FetchContent requires CMake 3.14+.
- Upgrade your CMake installation to meet this requirement.

### Build Failures due to Compiler Flags
- GoogleTest customizes compiler flags internally.
- Conflicts may arise when mixing static and shared runtimes; configure with care.

---

## 6. Best Practices and Tips

- Prefer building GoogleTest as part of your project to ensure compiler/linker consistency.
- Use the `gtest_main` library when possible to avoid writing your own `main()`.
- For cross-platform projects, use FetchContent or submodules to simplify dependency management.
- Always specify C++17 support explicitly via `set(CMAKE_CXX_STANDARD 17)`.

---

## 7. Next Steps

- Proceed to [Configuration & Initial Setup](./configuration-setup) for guidance on setting up test environments.
- Explore [Writing Your First Test](../first-test-experience/write-first-test) to get productive quickly.
- Consult [Troubleshooting Installation & Setup](../troubleshooting-and-help/troubleshooting-installation) for deeper troubleshooting.

---

For more detailed instructions and advanced options, refer to the [googletest README](https://github.com/google/googletest/blob/main/README.md).


---

<Check>
You have successfully installed GoogleTest and built its libraries for your platform. The next step is to configure your tests and run your first test executable.
</Check>
