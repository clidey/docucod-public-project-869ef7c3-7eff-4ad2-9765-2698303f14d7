---
title: "Installing GoogleTest (Linux, macOS, Windows)"
description: "Step-by-step guidance on installing GoogleTest on each major platform. This includes both source-based and package manager approaches, plus tips for choosing the best installation method for your workflow. Troubleshooting tips for common installation errors are included."
---

# Installing GoogleTest (Linux, macOS, Windows)

This guide provides clear, step-by-step instructions for installing GoogleTest on major platforms. Whether you prefer building from source or using package managers, you will find practical advice to select the method best suited to your workflow. We also cover troubleshooting tips for common installation challenges.

---

## 1. Prerequisites & System Requirements

- **Operating Systems Supported:** Linux distributions, macOS (10.13 or later recommended), Windows 10 or later
- **Required Tools:**
  - A C++17 compliant compiler (e.g., GCC 7+, Clang 5+, MSVC 2017+)
  - CMake version 3.14 or newer
  - Build tools for your platform (make, Ninja, Visual Studio Build Tools, etc.)
- **Optional software:** Git (for cloning source code), sudo or admin rights for installation

<Tip>
Make sure your compiler supports C++17, as GoogleTest requires this standard for a successful build.
</Tip>

---

## 2. Installing GoogleTest from Source

This approach provides the most control and ensures you have the latest features.

### Step 2.1: Clone the Repository

Open your terminal or command prompt and clone the stable release branch:

```bash
git clone https://github.com/google/googletest.git -b main
cd googletest
```

### Step 2.2: Create and Navigate to the Build Directory

Create a fresh directory for the build output.

```bash
mkdir build
cd build
```

### Step 2.3: Configure with CMake

Generate native build files. To build GoogleTest together with GoogleMock (default):

```bash
cmake ..
```

If you only want GoogleTest without GoogleMock, disable it explicitly:

```bash
cmake .. -DBUILD_GMOCK=OFF
```

### Step 2.4: Build GoogleTest

Run the build command appropriate for your platform:

- On Linux/macOS with `make`:

  ```bash
  make
  ```

- On systems using Ninja:

  ```bash
  ninja
  ```

- On Windows using Visual Studio command line:

  ```bash
  cmake --build . --config Release
  ```

### Step 2.5: (Optional) Install GoogleTest System-wide

If you want GoogleTest installed to your system include and lib paths, run:

```bash
sudo make install
```

or on Windows run the appropriate installer commands.

### Step 2.6: Verify Installation

Check that the headers are installed (e.g., `/usr/local/include/gtest/`) and libraries under `/usr/local/lib/`.

<Tip>
If using a custom install prefix, set the `CMAKE_INSTALL_PREFIX` during the `cmake` step, e.g.,

```bash
cmake .. -DCMAKE_INSTALL_PREFIX=/your/custom/path
```

Remember to update your build system to find GoogleTest in this custom location.
</Tip>

---

## 3. Installing Using Package Managers

If you prefer a quicker setup, you can install GoogleTest via your platform's package manager. This approach may not always install the latest version, but it integrates well with system updates.

### Linux

- **Ubuntu/Debian:**

  ```bash
  sudo apt-get update
  sudo apt-get install libgtest-dev
  ```

- Note: The `libgtest-dev` package installs only the source files. You must build them manually:

  ```bash
  cd /usr/src/googletest
  sudo cmake .
  sudo make
  sudo cp *.a /usr/lib   # or your local lib directory
  ```

### macOS

- Using Homebrew:

  ```bash
  brew install googletest
  ```

- Brew installs GoogleTest libraries and headers in the standard prefix. Use CMake or your build system to locate them.

### Windows

- Through vcpkg:

  ```powershell
  vcpkg install gtest
  vcpkg integrate install
  ```

- Or via Chocolatey (community package):

  ```powershell
  choco install googletest
  ```

<Tip>
Package manager installs might not include all GoogleMock components or the latest release. If you require these, consider source installation.
</Tip>

---

## 4. Configuring Your Build to Use Installed GoogleTest

Once installed, configure your CMakeLists.txt or build system to locate GoogleTest appropriately.

Here's an example snippet using CMake with `find_package`:

```cmake
find_package(GTest REQUIRED)
add_executable(my_test sample_test.cc)
target_link_libraries(my_test PRIVATE GTest::gtest_main)
add_test(NAME MyTest COMMAND my_test)
```

### Using pkg-config

GoogleTest provides `.pc` files that help your build system find necessary flags (see the [`docs/pkgconfig.md`](docs/pkgconfig.md) page for details).

- To check that pkg-config sees GoogleTest, run:

```bash
pkg-config --modversion gtest
```

- If `pkg-config` cannot find GoogleTest, set the environment variable:

```bash
export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig
```

(adjust the path based on your installation).

---

## 5. Troubleshooting Common Installation Issues

<AccordionGroup title="Common Installation Issues">
<Accordion title="CMake Error: 'gtest_main' Not Found">
This happens if CMake cannot locate the installed GoogleTest `.pc` file.

**Solution:**
1. Ensure GoogleTest is installed via `make install` or package manager.
2. Confirm `.pc` files exist under your `pkgconfig` directory.
3. Export `PKG_CONFIG_PATH` to include this directory.

```bash
export PKG_CONFIG_PATH=/usr/local/lib64/pkgconfig
```

4. Retry CMake configuration.
</Accordion>
<Accordion title="Compiler Unsupported C++ Standard">
GoogleTest requires a C++17 compatible compiler.

**Solution:**
Upgrade your compiler or configure your build system to use a compliant compiler version.
</Accordion>
<Accordion title="Conflicting Runtime Libraries on Windows">
Visual Studio projects may emit errors about runtime library mismatches.

**Solution:**
Set the `gtest_force_shared_crt` CMake option ON when configuring GoogleTest.

```bash
cmake .. -Dgtest_force_shared_crt=ON
```

This aligns GoogleTest's runtime linkage with your project settings.
</Accordion>
</AccordionGroup>

---

## 6. Best Practices & Next Steps

- Prefer building from source for full control and latest features.
- Make use of `gtest_main` for automatically provided `main()` implementations unless you require custom test runners.
- Explore writing your first test following guides like [Writing Your First Test Case](getting-started/first-test-validation/writing-first-test-case).
- Consult the [pkg-config Usage](docs/pkgconfig.md) for integrating GoogleTest into diverse build systems.

<Check>
Ensure your build environment can find GoogleTest libraries and headers by verifying include paths and linker flags.
</Check>

---

For comprehensive details on building and using GoogleTest after installation, see:

- [GoogleTest Primer](docs/primer.md)
- [Using GoogleTest from Various Build Systems](docs/pkgconfig.md)
- [Configuring Your Project](getting-started/setup-prerequisites-installation/configuring-your-project)

### If you get stuck, visit the [Troubleshooting Common Getting Started Issues](getting-started/first-test-validation/troubleshooting-common-issues) page for guidance.

---