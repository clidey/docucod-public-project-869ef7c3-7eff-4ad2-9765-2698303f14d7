---
title: "Configuration & Validation"
description: "Learn how to verify your installation by configuring your first test suite and running a simple test case. This page gets you to your first 'green' test and introduces the core mechanics of running and discovering tests."
---

# Configuration & Validation

Welcome to GoogleTest! This page guides you through verifying your installation by configuring your first test suite and running a simple test case. The goal is to help you execute your first successful test and understand the core mechanics of running and discovering tests.

---

### 1. Prerequisites & Environment Check

Before proceeding, ensure the following prerequisites are met:

- **GoogleTest is installed and accessible** in your development environment. You should have the `gtest` headers and libraries available from your installation, following the instructions in the [Installation (CMake & Bazel)](/getting-started/setup-prerequisites-installation/installation-integration) guide.
- **Your build system is configured** to include and link GoogleTest correctly.
- You have a C++ compiler supporting **at least C++17**.
- You have a working terminal or IDE to run tests.

<Tip>
If you have not installed GoogleTest yet, please follow the [Installation & Integration guide](/getting-started/setup-prerequisites-installation/installation-integration) before continuing.
</Tip>

---

### 2. Setting Up a Simple Test Suite

A test suite in GoogleTest groups related tests. You can define a test suite and write individual tests inside it as follows.

#### Step 2.1: Create a Test File

Create a new C++ source file, e.g., `example_test.cc`, and include GoogleTest’s main header:

```cpp
#include <gtest/gtest.h>
```

#### Step 2.2: Write Your First Test

Use the `TEST` macro to define a test inside a test suite. The macro takes two arguments: the test suite name and the test name.

Here’s a simple example that validates a function computing factorial:

```cpp
// Function to test
int Factorial(int n) {
  int result = 1;
  for (int i = 2; i <= n; ++i) result *= i;
  return result;
}

// Define tests
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

This defines two tests in the `FactorialTest` suite.

#### Step 2.3: Write a main() Function (If Needed)

If you don’t link against the `gtest_main` library, add this main function to run the tests:

```cpp
int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This function initializes GoogleTest and runs all tests registered in your program.

<Note>
If you link against `gtest_main`, you do not need to write a `main()` yourself.
</Note>

---

### 3. Building and Running Your Tests

#### Step 3.1: Build Your Test Program

Compile and link your test program with GoogleTest libraries. For example, with `g++` and `pkg-config`:

```bash
# Assuming GoogleTest is installed with pkg-config support
g++ example_test.cc -o example_test $(pkg-config --cflags --libs gtest_main)
```

Or, adjust your build system according to the instructions in the [Installation & Integration guide](/getting-started/setup-prerequisites-installation/installation-integration).

#### Step 3.2: Run Your Test Binary

Execute your test binary:

```bash
./example_test
```

Expected output will include test suite and test summaries, such as:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput
[----------] 2 tests from FactorialTest (0 ms total)
[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

This confirms your setup is working and your first tests have succeeded.

<Tip>
If you see no tests running, verify you called `testing::InitGoogleTest(&argc, argv)` before `RUN_ALL_TESTS()`.
</Tip>

---

### 4. Understanding Test Discovery and Execution

- GoogleTest **automatically discovers all tests** defined with the macros `TEST()`, `TEST_F()`, `TEST_P()`, etc., in your linked binaries.
- `RUN_ALL_TESTS()` runs all discovered tests unless filtered by command line flags like `--gtest_filter`.
- Each test runs **independently** with its own fixture instance for isolation.

---

### 5. Filtering and Selecting Tests

Run a specific test suite or test via `--gtest_filter`

#### Example: Run one test suite

```bash
./example_test --gtest_filter=FactorialTest.*
```

#### Example: Run a single test

```bash
./example_test --gtest_filter=FactorialTest.HandlesZeroInput
```

Filtering allows focused testing during development.

---

### 6. Verifying the Test Results

Look for the following indications:

- `[  PASSED  ]` lines indicate successful tests.
- `[  FAILED  ]` lines indicate failed tests with details.
- Test suite and total counts at start and end help confirm tests run.

If all tests pass without failure, your installation is verified.

---

### 7. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Tips">
<Accordion title="My tests aren't running when I execute" >
- Ensure `InitGoogleTest` is called before `RUN_ALL_TESTS()`.
- Confirm your test source files are compiled and linked.
- Check that test names don’t contain underscores as GoogleTest expects.
- Use `--gtest_list_tests` to list discovered tests.
</Accordion>
<Accordion title="I see linker errors related to GoogleTest" >
- Verify the GoogleTest libraries are linked.
- Confirm the include and library paths.
- Use the provided build integration guides.
</Accordion>
<Accordion title="Test output is missing or not detailed enough" >
- Add streaming messages to assertions using `<<` to provide context.
- Use the `--gtest_color=yes` flag to enable colored output.
- Use the `--gtest_verbose` flag to increase logging (if supported).
</Accordion>
<Accordion title="I want to skip certain tests" >
- Prefix test or suite name with `DISABLED_` to disable it temporarily.
- Use the `--gtest_also_run_disabled_tests` flag to run disabled tests.
</Accordion>
</AccordionGroup>

---

### Additional Resources

- [GoogleTest Primer](../primer.md) — for learning basic test writing concepts.
- [Assertions Reference](../reference/assertions.md) — for detailed assertion macros.
- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) — for running tests with multiple parameters.
- [Installation & Integration](../setup-prerequisites-installation/installation-integration) — for build system configuration.

---

With these steps, you're equipped to confidently verify your GoogleTest installation and run your first tests. Welcome to productive and effective C++ testing!

---

<Note>
To dive deeper, consider reading the [GoogleTest Primer](primer.md) and exploring writing your first mock with GoogleMock to extend your testing capabilities.
</Note>
