---
title: "Installing GoogleTest"
description: "Step-by-step instructions for installing GoogleTest on popular platforms (Linux, macOS, Windows), including recommended methods using CMake or Bazel. This page also addresses build tool integration, environment setup, and essential configuration steps."
---

# Installing GoogleTest

Step-by-step instructions for installing GoogleTest on popular platforms (Linux, macOS, Windows), including recommended methods using CMake or Bazel. This guide also covers build tool integration, environment setup, and essential configuration steps to get GoogleTest up and running efficiently.

---

## 1. Prerequisites & System Requirements

Before installation, ensure your environment meets the following requirements:

- **Operating System:** Compatible with Linux, macOS, or Windows.
- **Compiler:** A C++ compiler that supports at least C++17 (e.g., GCC 7+, Clang 5+, MSVC 2017+).
- **Build Tools:**
  - [CMake](https://cmake.org/) version 3.14 or above.
  - Compatible build tool such as GNU Make, Ninja, or Visual Studio.
- **Network Access:** Required for downloading source from GitHub if using remote fetch.

<Tip>
If you do not have CMake installed, visit the [CMake installation guide](https://cmake.org/install) for instructions tailored to your operating system.
</Tip>

## 2. Installation Methods

GoogleTest supports multiple installation methods. We recommend using CMake for a seamless, cross-platform experience. Alternatively, Bazel can be used if that matches your build environment.

### 2.1 Build with CMake

GoogleTest ships with a CMake configuration to facilitate building and installation.

#### 2.1.1 Standalone CMake Build

Follow these steps to build GoogleTest as a standalone project:

```bash
# Clone the GoogleTest repository at a stable release tag
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest

# Create a build directory
mkdir build && cd build

# Generate native build files
cmake ..

# Alternative: To build GoogleTest only without GoogleMock
# cmake .. -DBUILD_GMOCK=OFF

# Build the libraries
make

# (Optional) Install the libraries system-wide (requires admin privileges)
sudo make install
```

##### Windows Users

If you have Visual Studio installed:

- After running `cmake ..`, open the generated `gtest.sln` file in Visual Studio.
- Build the solution through the IDE.

##### macOS Users

When Xcode is installed, CMake generates an `.xcodeproj` project file you can open and build.

#### 2.1.2 Incorporating GoogleTest into Existing CMake Projects

You can integrate GoogleTest into your project without a separate build step by using CMake's `FetchContent` module:

1. Add the following to your project's `CMakeLists.txt` file:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)

# On Windows, use dynamic CRT to avoid runtime conflicts
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
FetchContent_MakeAvailable(googletest)
```

2. Link your test targets to `gtest` or `gtest_main` as needed.

<Tip>
This method ensures GoogleTest is built with the same compiler settings as your main project and avoids compatibility issues, especially on Windows.
</Tip>

### 2.2 Using Bazel

If your environment uses Bazel, refer to the [GoogleTest Bazel Quickstart](quickstart-bazel.md) for tailored instructions.

## 3. Verifying Installation

After building, verify GoogleTest is correctly installed and functional.

### 3.1 Standalone Build Verification

Run the provided test binaries:

```bash
# From the build directory
./googletest/gtest/gtest
```

You should see output indicating the tests ran successfully.

### 3.2 In Your Project

For projects using `FetchContent` or installed GoogleTest, create a test executable linking to `gtest_main`. Build and run it to confirm setup.

## 4. Essential Configuration

### 4.1 C++ Standard Requirement

Make sure your project is set to use at least C++17:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

### 4.2 Visual Studio Runtime Compatibility

By default, Visual Studio links C runtimes dynamically, but GoogleTest links statically. To avoid linker errors:

- Enable dynamic CRT linkage for GoogleTest by setting:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

This option forces GoogleTest to link with the dynamic runtime.

### 4.3 Multi-threaded Support

If your environment has pthreads, GoogleTest automatically enables thread safety.

If not detected properly, force pthread settings manually by adding compiler flags:

```bash
-DGTEST_HAS_PTHREAD=1  # or 0 to disable
```

## 5. Running Your First Test

Once installed, you can write and run your first test. For a step-by-step walkthrough, see [Writing Your First Test](writing-first-test.md) and [Building & Running Tests](building-running-tests.md).

Example minimal test program:

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, AssertionTrue) {
  EXPECT_TRUE(true);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run this test binary to confirm everything works.

## 6. Troubleshooting Common Issues

<Accordion title="Build Errors Related to C++ Standard">
If you get errors about incompatible C++ standards, verify your compiler supports C++17 and your project enforces it with `CMAKE_CXX_STANDARD`.
</Accordion>

<Accordion title="Linking Errors on Windows (Runtime Mismatch)">
Ensure `gtest_force_shared_crt` is set ON to match your projectâ€™s runtime linkage. Also, confirm the same runtime setting is used across all targets.
</Accordion>

<Accordion title="Missing pthread Support on Unix-like Systems">
Add `-DGTEST_HAS_PTHREAD=1` to compiler flags and link with `-lpthread` if not handled automatically.
</Accordion>

<Warning>
Before building, ensure your environment PATH and toolchains are configured correctly. Check CMake and compiler versions especially if building on older platforms.
</Warning>

## 7. Next Steps

- Explore [Writing Your First Test](writing-first-test.md) to learn how to write and organize tests.
- Consult [Configuration Basics](configuration-basics.md) for advanced setup options.
- Use [Troubleshooting and Validation](troubleshooting-validation.md) if you encounter issues.


---

For detailed platform-specific instructions and integration tips, consult the full GoogleTest documentation and the provided quickstart guides.

---

<Check>
If you followed these steps and built the included sample test successfully, GoogleTest is correctly installed and ready for use.
</Check>

<Info>
Links to related documentation and resources:

- [GoogleTest Primer](primer.md): Learn how to write tests with GoogleTest.
- [Quickstart: Building with CMake](docs/quickstart-cmake.md): Hands-on tutorial.
- [GoogleMock README](googlemock/README.md): Learn about the mocking extensions.
</Info>
