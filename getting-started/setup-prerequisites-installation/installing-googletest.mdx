---
title: "Installing GoogleTest"
description: "Follow streamlined, platform-specific instructions to install GoogleTest via commonly used build systems like CMake and Bazel. Learn how to fetch, configure, and build GoogleTest as part of your development toolchain, with explicit, actionable guidance for new and experienced users."
---

# Installing GoogleTest

Get GoogleTest up and running efficiently with these step-by-step instructions tailored for various platforms and common build systems like CMake and Bazel. This guide helps you fetch, configure, build, and integrate GoogleTest into your C++ development workflow.

---

## 1. Prerequisites & System Preparation

Before installing GoogleTest, ensure your system meets the basic requirements:

- **C++ Standard:** Compiler must support at least C++17.
- **Build System:** CMake 3.14 or newer is recommended for seamless integration.
- **Git:** To clone the GoogleTest repository.
- **Network Access:** For downloading source or dependencies.

If you plan to integrate with Bazel or other build tools, ensure those are installed and configured.

<Tip>
If your project uses an existing build system, verify compatibility with GoogleTest to prevent integration issues.
</Tip>

---

## 2. Fetching GoogleTest Source Code

Start by acquiring the official GoogleTest sources from the GitHub repository.

### Using Git

```bash
# Clone the official GoogleTest repository
 git clone https://github.com/google/googletest.git -b main

# Enter the cloned directory
 cd googletest
```

<Tip>
You can switch from the `main` branch to a stable release tag (e.g., `v1.17.0`) if you want a specific version.
</Tip>

---

## 3. Building GoogleTest with CMake

GoogleTest supports building as a standalone or as part of your project.

### 3.1 Standalone Build

```bash
# Create and enter a build directory
mkdir build && cd build

# Generate native build files for your platform
# To include GoogleMock (default):
cmake ..

# To build only GoogleTest without GoogleMock:
cmake .. -DBUILD_GMOCK=OFF

# Build the libraries (Unix systems use make, Windows can build using IDE)
make  # or 'cmake --build .' for cross-platform

# Optionally install (typically requires sudo/admin rights)
sudo make install
```

<Tip>
- On Windows, open the provided Visual Studio solution `gtest.sln` in the `googletest` directory and build.
- On Mac OS with Xcode, open `googletest.xcodeproj`.
- Installing places headers and libraries under `/usr/local/` by default.
</Tip>

### 3.2 Incorporating GoogleTest into Your CMake Project

Add GoogleTest as a dependency directly into your project’s CMake build.

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)

# Ensure Visual Studio uses the same runtime
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)

FetchContent_MakeAvailable(googletest)

# Link your executable with GoogleTest
add_executable(my_tests test.cpp)
target_link_libraries(my_tests gtest_main)

# Register the test
add_test(NAME MyTests COMMAND my_tests)
```

<Tip>
This approach ensures compiler and linker settings are consistent between your project and GoogleTest.
</Tip>

---

## 4. Building GoogleTest with Bazel

If your development environment uses Bazel, GoogleTest can be included as a dependency.

### 4.1 Add GoogleTest to WORKSPACE

Add the following to your `WORKSPACE` file to pull in GoogleTest sources:

```python
http_archive(
    name = "com_google_googletest",
    urls = ["https://github.com/google/googletest/archive/main.zip"],
    strip_prefix = "googletest-main",
)
```

### 4.2 Reference GoogleTest in BUILD

In your Bazel `BUILD` file, link your test targets against `@com_google_googletest//:gtest`

```python
cc_test(
    name = "my_test",
    srcs = ["my_test.cc"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

<Tip>
Replace `main` in the URL with the specific release tag for a stable version.
</Tip>

---

## 5. Verifying the Installation

Once built, verify that GoogleTest is correctly installed and working in your environment.

### 5.1 Compile a Sample Test

Create a simple test file `sample_test.cpp`:

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, AssertionTrue) {
  EXPECT_TRUE(true);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### 5.2 Build & Run the Test

If using CMake standalone:

```bash
# Assuming build directory
cd build
cmake ..
make
./sample_test
```

If using your own build system, ensure you include `-lgtest_main -lgtest` and link paths to the GoogleTest library.

<Tip>
Running this test should print output indicating it ran 1 test and passed.
</Tip>

---

## 6. Troubleshooting Common Installation Issues

- **Missing C++17 Support:** Upgrade your compiler or adjust build settings to use at least C++17.
- **Linker Issues:** Ensure your compiler and linker flags include GoogleTest library paths.
- **Multiple Definitions Errors:** Avoid linking GoogleTest both statically and dynamically simultaneously.
- **Runtime Mismatch (Visual Studio):** Use `gtest_force_shared_crt ON` CMake flag to match runtime libraries.

<Warning>
If you encounter build failures related to threading support, verify `GTEST_HAS_PTHREAD` macro or your platform's thread library availability.
</Warning>

<Tip>
Refer to the [Prerequisites and System Requirements](/getting-started/setup-prerequisites-installation/prerequisites-and-system-requirements) page for detailed environment guidance.
</Tip>

---

## 7. Next Steps

- Explore the [GoogleTest Primer](../guides/getting-started/primer) to start writing and running your first tests.
- Review configuration options in [Basic Configuration Options](/getting-started/first-run-configuration-troubleshooting/basic-configuration-options).
- Dive into writing fixtures, parameterized tests, and advanced assertions through the guides sections.

---

## References

- Official GoogleTest repository: [https://github.com/google/googletest](https://github.com/google/googletest)
- [GoogleTest Primer](../guides/getting-started/primer)
- [Installing GoogleTest with CMake](https://cmake.org/)
- [Bazel Build for GoogleTest](https://bazel.build/)

---

For comprehensive guidance, see the full [GoogleTest User’s Guide](../index.md).

---