---
title: "Quick Validation Checklist"
description: "Verify that your GoogleTest integration is working as expected by running a series of basic checks. Includes commands and expected outputs to help quickly confirm correct setup."
---

# Quick Validation Checklist

Verify that your GoogleTest integration is correctly set up by running this series of basic checks. This guide provides succinct commands and describes expected outputs, enabling you to quickly confirm your environment is configured properly and tests are executing as intended.

---

## 1. Confirm GoogleMock Initialization

GoogleMock uses command-line flags to control its verbosity and behavior. Confirm that the framework initializes properly by invoking your test binary with the following argument:

```bash
./your_test_binary --gmock_verbose=warning
```

Expected output should not include errors related to flag parsing, but you may see warnings for uninteresting calls or other notes depending on your mock usage.

### Verification
- The test binary should start and run without errors related to unknown flags.
- The internal verbose flag should be set to "warning".

<Note>
If you see errors about unrecognized flags or flag parsing, ensure you use `testing::InitGoogleMock(&argc, argv);` in your test main function.
</Note>

---

## 2. Run the Built-in gMock Tests

A quick way to verify your GoogleTest and GoogleMock integration is to build and run the internal self-tests provided in the distribution. These tests cover both GoogleTest and GoogleMock core features.

```bash
cd googletest
mkdir build && cd build
cmake ..
make
./googlemock/test/gmock_test
./googlemock/test/gmock_spec_builders_test
./googlemock/test/gmock_output_test
```

### Expected Results
- All tests should pass successfully with an output similar to:

```
[==========] Running 123 tests from 12 test suites.
[  PASSED  ] 123 tests.
```

- No unexpected errors or crashes.

<Tip>
If any of these tests fail, your GoogleTest or GoogleMock installation or system environment may have issues. Refer to the installation guide for troubleshooting.
</Tip>

---

## 3. Verify Your Mock Class Compilation and Linking

Make sure your own mock classes compile and link correctly by including the necessary headers and using `MOCK_METHOD` macros as specified.

Example mock class:

```cpp
#include <gmock/gmock.h>

class MockFoo {
 public:
  MOCK_METHOD(int, GetValue, (), (const));
  MOCK_METHOD(void, SetValue, (int val));
};
```

Try compiling your test code with `-std=c++17` or later and linking against GoogleTest libraries.

---

## 4. Validate Basic Mock Behavior

Write a simple unit test to confirm that GoogleMock expectations and default actions are functioning.

Example test:

```cpp
#include <gmock/gmock.h>
#include <gtest/gtest.h>

using ::testing::Return;

class MockFoo {
 public:
  MOCK_METHOD(int, GetValue, (), (const));
  MOCK_METHOD(void, SetValue, (int val));
};

TEST(MockFooTest, BasicExpectCall) {
  MockFoo mock;

  EXPECT_CALL(mock, GetValue())
      .WillOnce(Return(42));

  EXPECT_EQ(mock.GetValue(), 42);
}
```

Run the test binary and confirm the test passes.

---

## 5. Check Common Expectation Scenarios

Exercise different types of mock method calls to confirm expected GoogleMock behaviors:

- **Expected calls:** Methods called as expected with matching arguments.
- **Unexpected calls:** Calls that violate your expectations.
- **Uninteresting calls:** Methods called without expectation set.
- **Excessive calls:** Methods called more times than expected.

Use test cases similar to those found in the official `gmock_output_test.cc` for guidance.

### Example: Excessive Call Handling

Set an expectation with a limit and call method too many times.

```cpp
EXPECT_CALL(mock, SetValue(5)).Times(1);
mock.SetValue(5);  // OK
mock.SetValue(5);  // Should report excessive call error
```

Watch for appropriate failure messages indicating expectation violations.

---

## 6. Monitor gMock Verbose Flag Behavior

Test the effect of different `--gmock_verbose` levels on logged messages.

| Flag Value   | Description                                   |
|--------------|-----------------------------------------------|
| info         | Prints detailed info, including expected and uninteresting call traces.
| warning      | Default level, prints warnings and errors.
| error        | Suppresses info and warnings; only errors appear.

Try running your tests with each level to understand the verbosity output:

```bash
./your_test_binary --gmock_verbose=info
./your_test_binary --gmock_verbose=error
```

---

## Troubleshooting Tips

- **Test executable not running or linking failures:** Confirm dependencies on `gtest` and `gmock` libraries are correct and the proper versions of C++17-capable compilers are used.

- **Unexpected call failures:** Verify that your mock expectations cover all necessary calls or use `EXPECT_CALL(...).Times(AnyNumber())` for catch-alls.

- **Warnings on uninteresting calls:** To suppress these, consider using `NiceMock<YourMockClass>`.

- **Compilation errors on MOCK_METHOD:** Make sure to correctly place `MOCK_METHOD` in the `public:` section and handle commas in types (use aliases or parenthesis).

- **Heap checker complains about leaks:** Ensure mock objects are properly destroyed or explicitly allow leaks using `Mock::AllowLeak(&mock_object);`.

---

## Summary

These quick validation steps ensure that your integration of GoogleTest and GoogleMock is working as expected, your mocks compile and link properly, and you have foundational confidence to build and run tests using mocks. Start with simple direct tests and progressively verify more complex scenarios as you develop confidence.

---

For detailed explanations and advanced usage, please refer to:

- [GoogleTest Installation Guide](https://google.github.io/googletest/quickstart.html)
- [GoogleMock Basics and Cook Book](https://google.github.io/googletest/gmock_cook_book.html)
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html)
- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [Legacy gMock FAQ](https://google.github.io/googletest/gmock_faq.html)

<Check>
Running these checks methodically will save development time by catching setup errors early.
</Check>
