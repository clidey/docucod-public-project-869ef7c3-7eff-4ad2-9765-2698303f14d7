---
title: "Your First Unit Test"
description: "Walks users through writing and running their first test case using GoogleTest, demonstrating typical test structure and assertions, with a focus on rapid validation."
---

# Your First Unit Test

Welcome to your first journey into writing unit tests with GoogleTest and GoogleMock! This guide walks you through the process of creating a simple test case, compiling it, running it, and understanding the basic test assertions. You will quickly get a feel for the test structure and the value of automated validation.

---

## 1. Prerequisites & Setup

Before writing your first test, ensure you have the following:

- **GoogleTest environment installed and configured**
  - Follow the [Installation Instructions](../../getting-started/prerequisites-installation/installation-instructions.md) if you haven't set up GoogleTest yet.
  - Verify your build can include `<gtest/gtest.h>`.
- **A C++17 compatible compiler** (GCC, Clang, MSVC).
- **Basic familiarity with C++ development** and your build system (e.g., CMake or Bazel).

<Tip>
If you're new to GoogleTest, consider reading the [What is GoogleTest?](../../overview/intro-core-concepts/what-is-googletest.md) page for foundational concepts.
</Tip>

## 2. Writing Your First Basic Test

Let's create the simplest test that demonstrates the GoogleTest syntax and how assertions are used.

1. **Include the GoogleTest header:**

```cpp
#include <gtest/gtest.h>
```

2. **Define a test case and test name:**

GoogleTest groups tests into test cases (or test suites) and within them, multiple test functions.

```cpp
// Test case: SampleTest
// Test name: BasicAssertions
TEST(SampleTest, BasicAssertions) {
  // Expect two values to be equal
  EXPECT_EQ(7 * 6, 42);

  // Check if a condition is true
  EXPECT_TRUE(1 < 2);
}
```

3. **Explanation:**

- `TEST(TestCaseName, TestName)` declares a test.
- Inside, you use assertions to verify conditions.
- `EXPECT_EQ` compares expected and actual values.
- `EXPECT_TRUE` checks boolean conditions.

<Tip>
Use meaningful test case and test names that describe what you are testing.
</Tip>

## 3. Compiling the Test

Your test must be compiled and linked with GoogleTest libraries.

### Using CMake

If your project uses CMake, add the following to your `CMakeLists.txt`:

```cmake
find_package(GTest REQUIRED)

add_executable(my_first_test test_first.cpp)
target_link_libraries(my_first_test GTest::gtest_main pthread)
```

Then run:

```bash
mkdir build && cd build
cmake ..
make
```

### Using Bazel

Create a `cc_test` rule, linking against `@com_google_googletest//:gtest_main`:

```bazel
cc_test(
    name = "my_first_test",
    srcs = ["test_first.cpp"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

### Manual Compile (Linux/macOS)

```bash
g++ -std=c++17 -isystem /path/to/googletest/include -pthread \
    test_first.cpp /path/to/libgtest.a /path/to/libgtest_main.a -o my_first_test
```

<Tip>
Make sure to replace paths with correct locations of GoogleTest includes and libraries.
</Tip>

## 4. Running Your First Test

After compiling, run the test executable:

```bash
./my_first_test
```

Expected output:

```
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicAssertions
[       OK ] SampleTest.BasicAssertions (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 1 test.
```

If any assertion fails, you will see detailed error messages including file, line number, and expected vs actual values.

## 5. Enhancing Your Test with Assertions

GoogleTest supports many assertions. Here's a small selection to try:

```cpp
TEST(SampleTest, VariousAssertions) {
  EXPECT_NE(nullptr, this);          // Not equal to nullptr
  EXPECT_LT(100, 200);              // Less than
  EXPECT_GT(42, 6);                 // Greater than
  EXPECT_FALSE(false);              // Condition is false
  EXPECT_STREQ("hello", "hello");  // C-style string equality
}
```

See the [Assertions API Reference](../../api_reference/test_framework_api/assertions.md) for a complete list.

## 6. Understanding Test Outcomes

- **PASS:** When all assertions succeed.
- **FAIL:** When any assertion fails, output provides context to debug.
- **SKIP:** Tests may be disabled or skipped explicitly.

<Tip>
Use assertion macros like `ASSERT_*` to stop test execution upon failure, and `EXPECT_*` to continue running.
</Tip>

## 7. Next Steps

- Try writing tests for your own functions.
- Explore using `TEST_F` for test fixtures to share setup/teardown.
- Learn about parameterized tests for more flexible testing scenarios.
- When ready, add mocks using GoogleMock as explained in the [Mocking Dependencies with GoogleMock](../../guides/core-workflows/using-mocks.md) guide.

## Troubleshooting

<AccordionGroup title="Common Issues and Fixes">
<Accordion title="Test Not Running or Discovered">
- Verify you've called `testing::InitGoogleTest(&argc, argv)` in your main before running tests.
- Confirm the test executable is built correctly and the test source includes `gtest/gtest.h`.
</Accordion>

<Accordion title="Linker Errors for GoogleTest Symbols">
- Make sure to link against `gtest` and `gtest_main` libraries.
- Ensure compiler flags for threading (`-pthread`) are included.
</Accordion>

<Accordion title="Assertions Fail Unexpectedly">
- Check if test data or inputs are set correctly.
- Use verbose test runs or debug to isolate failing cases.
</Accordion>
</AccordionGroup>

## References & Related Documentation

- [GoogleTest Primer](../../overview/intro-core-concepts/core-terminology.md)
- [GoogleMock Cookbook](../gmock_cook_book.md)
- [Setting Expectations](../mocking_api/expectations_and_actions.md)
- [Writing Your First Unit Test](../configuration-initial-run/first-test.md)

---

By running your first test, you now experience the power of continuous validation in your C++ development cycle. Keep creating tests to safeguard functionality and trust your code.
