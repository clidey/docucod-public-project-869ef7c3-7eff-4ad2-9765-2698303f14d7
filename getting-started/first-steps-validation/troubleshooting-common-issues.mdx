---
title: "Troubleshooting Installation & Running Tests"
description: "Get quick help for frequent setup and execution issues, such as compiler errors, missing symbols, or linking failures. Provides actionable tips and references to platform-specific solutions, so you never get stuck at the start."
---

# Troubleshooting Installation & Running Tests

Ensure a smooth start with GoogleTest by quickly resolving common setup and runtime issues. This guide walks you through frequent compiler errors, missing symbols, linking failures, and runtime anomalies that users encounter during installation and test execution.

---

## Common Installation Issues

### Compiler Compatibility Problems

- **Problem**: Errors related to C++ standards or unsupported compiler versions.
- **Cause**: GoogleTest requires **C++17** or later and a compatible compiler.
- **Solution**:
  1. Verify your compiler supports C++17. For example, GCC 7+, Clang 5+, MSVC 2017 Update 15.7+.
  2. Use the appropriate compiler flags, e.g., `-std=c++17`.
  3. Reference the [Supported Platforms](https://github.com/google/googletest/blob/main/docs/platforms.md) documentation for your environment.

### Header File Not Found

- **Problem**: `fatal error: gtest/gtest.h: No such file or directory` or similar.
- **Cause**: Include paths not set correctly.
- **Solution**:
  1. Confirm that GoogleTest is installed, either via source build or your package manager.
  2. Configure your build system (CMake, Bazel, etc.) to include GoogleTest headers.
  3. Refer to [Integrating with Your Build System](https://github.com/google/googletest/blob/main/docs/prerequisites-installation/integration-build-systems.md).

### Linking Errors

- **Problem**: Undefined references to GoogleTest symbols during linking.
- **Cause**: GoogleTest libraries not linked or linked in incorrect order.
- **Solution**:
  1. Link against `gtest` and `gtest_main` libraries, e.g., `-lgtest -lgtest_main`.
  2. When using CMake, link your test target with `GTest::gtest` and `GTest::gtest_main`.
  3. Ensure that build order places GoogleTest libraries before your test binaries.
  4. Check compiler and linker compatibility matches GoogleTest build.

<Check>
Make sure to build GoogleTest and GoogleMock together from source if you need mock support.
</Check>

### Build System Integration Issues

- **Problem**: Tests not registered or build scripts failing.
- **Cause**: Misconfigured CMakeLists, Bazel WORKSPACE files, or missing dependencies.
- **Solution**:
  1. Follow the [Installation: CMake & Bazel](https://github.com/google/googletest/blob/main/docs/prerequisites-installation/installation-cmake-bazel.md) steps.
  2. Verify `add_subdirectory` and target linking commands in CMake.
  3. Ensure Bazel WORKSPACE includes proper `http_archive` or local imports.

---

## Running Tests: Common Issues

### Tests Donâ€™t Run or Run unexpectedly

- **Cause**: Filters, disabled tests, or shard settings.
- **Tips**:
  1. Check if tests are disabled by prefixing their name with `DISABLED_`.
  2. Review the filter flag `--gtest_filter` to confirm which tests are included.
  3. If using sharding (parallel test execution), verify shard environment variables `GTEST_TOTAL_SHARDS` and `GTEST_SHARD_INDEX`.

### Tests Fail to Launch or Crash Immediately

- **Cause**: Runtime environment or unmet dependencies.
- **Solutions**:
  1. Check if your tests require specific runtime dependencies or environment variables.
  2. Enable debugging tools or use `--gtest_break_on_failure` to catch failures during debugging.
  3. Verify if exceptions are enabled or disabled; disable `--gtest_catch_exceptions` to allow debuggers to catch exceptions.

### Flaky or Intermittent Test Failures

- **Tips**:
  1. Use `--gtest_repeat=N` to rerun tests multiple times for stability checks.
  2. Enable `--gtest_shuffle` with a fixed seed to detect order-dependent flaky tests.
  3. Review shared resources and data races in your test fixtures.

### XML or JSON Report Generation Issues

- **Cause**: Incorrect `--gtest_output` flags or file permissions.
- **Resolution**:
  1. Specify file paths and formats properly, e.g., `--gtest_output=xml:report.xml` or `--gtest_output=json:report.json`.
  2. Ensure your test run has write permissions to the output directory.

---

## Diagnostic Workflow

Follow these steps for troubleshooting:

<Steps>
<Step title="Verify System Requirements">
Confirm your environment meets the minimum OS, compiler, and C++17 standard prerequisites.
</Step>
<Step title="Validate Installation">
Compile and run one of the GoogleTest sample tests or a minimal test suite using your build system.
</Step>
<Step title="Check Include and Link Paths">
Ensure your compiler and linker flags include paths to GoogleTest headers and libraries.
</Step>
<Step title="Run Tests with Verbose Flags">
Run tests adding `--gtest_list_tests` to see registered tests or `--gtest_break_on_failure` for debugging.
</Step>
<Step title="Inspect Logs and Reports">
Use XML or JSON reports to analyze test outcomes in CI or automated environments.
</Step>
</Steps>

<Note>
For detailed guidance on building and integrating GoogleTest, see [Integration with Build Systems](https://github.com/google/googletest/blob/main/docs/prerequisites-installation/integration-build-systems.md).
</Note>

---

## Platform-Specific Solutions

Certain issues might only appear on particular platforms.

### Windows

- Use the `InitGoogleTest(int* argc, wchar_t** argv)` overload for Unicode support.
- For an MSVC environment, ensure correct runtime libraries are linked.

### Linux/macOS

- Ensure correct `-std=c++17` flag usage in GCC/Clang.
- Install necessary packages and development headers.

### Embedded Systems

- Use the parameterless `InitGoogleTest()` when no command-line arguments are available.

---

## Additional Resources

- [Quick Setup Validation Guide](https://github.com/google/googletest/blob/main/docs/getting-started/first-steps-validation/validate-setup.md): Verify your installed GoogleTest setup.
- [Installation and Build Instructions](https://github.com/google/googletest#building-and-installing): Official building tips.
- [FAQ: Troubleshooting Errors](https://github.com/google/googletest/blob/main/FAQ.md#troubleshooting-common-build-and-runtime-errors): Common pitfalls with fixes.

---

## Troubleshooting Tips

- Always check exact error messages; they often hint at misconfiguration.
- Clean and rebuild GoogleTest and your tests after any major environment changes.
- Review your build system's verbose output for missing dependencies or paths.
- Use the GoogleTest community and forums for help on unusual issues.

---

## Summary

This page equips you to quickly diagnose and fix installation and runtime issues with GoogleTest. Following the structured checks ensures a stable test environment and avoids common pitfalls.

If issues persist, consult platform-specific notes or deeper installation guides linked in this document.

---

<Info>
Still stuck? Check the [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) and [Advanced Topics](https://github.com/google/googletest/blob/main/docs/advanced.md) for deeper insights.
</Info>
