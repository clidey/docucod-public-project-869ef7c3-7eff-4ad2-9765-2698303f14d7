---
title: "Writing and Running Your First Test"
description: "A hands-on walkthrough for writing your first simple test case using GoogleTest. Demonstrates basic test definitions, assertions, and how to compile and execute tests, ensuring users see immediate results."
---

# Writing and Running Your First Test

Welcome to your hands-on guide for creating your first simple test using GoogleTest! This guide will walk you through defining a test, running it, and understanding basic assertions so you see immediate, tangible results.

---

## 1. Setting Up the Environment

Before writing your first test, ensure you have GoogleTest (and optionally GoogleMock) installed and configured properly. If you haven't yet, see the following pages:

- [Prerequisites & System Requirements](../getting-started/setup-installation/prerequisites-and-requirements)
- [Installing GoogleTest & GoogleMock](../getting-started/setup-installation/installation-multiplatform)
- [Initial Configuration](../getting-started/setup-installation/configuration-setup)

Once installed, you are ready to create your first test.

---

## 2. Writing Your First Test

Tests in GoogleTest are organized using two basic constructs: **tests** and **test cases** (aka test suites). A test case groups related tests together. Each test checks a specific aspect of your code.

### Step-by-Step: Define a Simple Test

<Steps>
<Step title="Include Headers">
Start with including GoogleTest headers and any headers required by your code under test.

```cpp
#include <gtest/gtest.h>
// Include your project's headers here
```
</Step>
<Step title="Write a Test Function">
Use the `TEST` macro with two parameters: a TestCaseName and a TestName.

```cpp
TEST(ExampleTest, AdditionWorks) {
  int sum = 2 + 2;
  EXPECT_EQ(sum, 4);  // Checks if sum equals 4
}
```

This defines a test named `AdditionWorks` inside the test case `ExampleTest`.
</Step>
</Steps>

### Explanation

- `TEST` macro automatically registers the test with the framework.
- `EXPECT_EQ` is a basic assertion that checks if two values are equal.
- If the assertion fails, the test will fail, and GoogleTest will print detailed information.

---

## 3. Compiling the Test

Compile your test code along with the GoogleTest and GoogleMock libraries. If you use CMake, your `CMakeLists.txt` might include:

```cmake
add_executable(my_test test_file.cc)
target_link_libraries(my_test gtest gmock gtest_main)
```

Alternatively, compile manually:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include -L/path/to/googletest/lib \
    test_file.cc -lgtest -lgmock -lgtest_main -pthread -o my_test
```

Replace `/path/to/googletest` with your actual install path.

### Troubleshooting Compilation

- Make sure your compiler supports C++17.
- Verify that the include and library paths to GoogleTest and GoogleMock are correct.
- Ensure the linking order places `gmock` and `gtest` before `-pthread`.

---

## 4. Running the Test

Simply execute your test binary:

```bash
./my_test
```

### Expected Output

```text
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.AdditionWorks
[       OK ] ExampleTest.AdditionWorks (0 ms)
[----------] 1 test from ExampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 1 test.
```

This indicates your test passed successfully.

---

## 5. Adding Basic Assertions

Assertions verify conditions in your tests. GoogleTest provides two major types:

- **Non-fatal Assertions** (`EXPECT_*`): Continue running after failure.
- **Fatal Assertions** (`ASSERT_*`): Abort the current function after failure.

Common assertions include:

| Assertion        | Description                                  |
|------------------|----------------------------------------------|
| `EXPECT_EQ(a,b)` | Checks `a == b`                              |
| `EXPECT_NE(a,b)` | Checks `a != b`                              |
| `EXPECT_TRUE(x)` | Checks `x` is true                           |
| `EXPECT_FALSE(x)`| Checks `x` is false                          |
| `ASSERT_EQ(a,b)` | Same as `EXPECT_EQ` but fatal                |

Example:

```cpp
TEST(ExampleTest, BasicAssertions) {
  EXPECT_TRUE(2 + 2 == 4);
  ASSERT_NE(5, 0);
}
```

---

## 6. Understanding Test Execution Flow

1. **Test Runner** initializes GoogleTest.
2. Tests registered via `TEST` are discovered.
3. Each test runs independently.
4. Assertions within tests report failures but do not stop all tests (except `ASSERT_*` which stop current test).
5. Summary reports failures and passes.

You can also get verbose output with:

```bash
./my_test --gtest_verbose=info
```

---

## 7. Best Practices for First Tests

- Keep tests small and focused.
- Use meaningful test names: `TEST(ClassName, BehaviorDescription)`.
- Prefer `EXPECT_*` for check assertions, `ASSERT_*` when failure means further steps don't make sense.
- Set up and tear down test environments with test fixtures later (learned in advanced guides).
- Run tests frequently in your IDE or terminal.

---

## 8. Next Steps

- Learn about test fixtures (sharing setup/teardown): [Using Test Fixtures](../guides/getting-started/writing-your-first-test#using-test-fixtures)
- Explore more assertion types: [Assertions Reference](../../api-reference/core-unit-testing/assertions)
- Understand running multiple tests and custom test runners: [Running Tests and Understanding Results](../guides/getting-started/running-tests-and-understanding-results)
- Delve into mocking to test components in isolation: [Introduction to Mocking](../guides/mocking-techniques/introduction-to-mocking)

---

## Appendix: Sample Complete Test File

```cpp
#include <gtest/gtest.h>

TEST(ExampleTest, AdditionWorks) {
  int sum = 2 + 2;
  EXPECT_EQ(sum, 4);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Run this test to confirm your environment is fully functional.

---

## Troubleshooting

<AccordionGroup title="Common Issues During First Test Creation and Execution">
<Accordion title="Compilation Failure: Missing Libraries or Headers">
Check that GoogleTest include paths and libraries are correctly set in your build system. Ensure `-lgtest`, `-lgmock`, and `-pthread` are linked.
</Accordion>
<Accordion title="Tests Not Discovered or Run">
Verify that your test executable returns `RUN_ALL_TESTS()` and that your test file is linked into your binary.
Use verbose mode `--gtest_list_tests` to list all discovered tests.
</Accordion>
<Accordion title="Test Failures Without Clear Messages">
Use `--gmock_verbose=info` to get detailed output that helps diagnose failed expectations or assertion mismatches.
</Accordion>
<Accordion title="Test Environment Initialization Fails">
Make sure you have a `main()` calling `InitGoogleTest` and returning `RUN_ALL_TESTS()`. Without this, tests will not run properly.
</Accordion>
</AccordionGroup>

---

Happy testing!

---

_This guide helps get you started on writing and running your very first test with GoogleTest, focusing on actionable steps and essential understanding to unlock your testing journey._

---