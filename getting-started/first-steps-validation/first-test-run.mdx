---
title: "Your First Test Run"
description: "Walk through creating and executing your very first GoogleTest suite. Learn test structure basics, running the test binary, and interpreting immediate feedback, so you’re quickly on your way to productive test-driven development."
---

# Your First Test Run

Welcome to your first practical experience with GoogleTest! This guide walks you through creating a basic test suite, compiling and running your test binary, and interpreting immediate feedback from your tests. By the end, you'll understand test organization concepts and be ready to embrace productive test-driven development.

---

## 1. Understanding Test Structure Basics

GoogleTest organizes tests inside **test suites**, which group related tests logically based on the code or feature you are testing. Individual tests within a suite verify specific behaviors.

### Defining a Simple Test with `TEST()`

- Use the macro `TEST(TestSuiteName, TestName)` to create a test function.
- Both `TestSuiteName` and `TestName` should be valid C++ identifiers without underscores.
- Inside the body, write code and assertions to verify your functionality.

**Example:**
```cpp
// Function to be tested
int Factorial(int n);  // compute factorial

// Define a test suite named FactorialTest with two individual tests:
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);  // Expect factorial of 0 to be 1
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

### Using Test Fixtures with `TEST_F()`

When multiple tests share common setup or data, define a **test fixture** class derived from `testing::Test`. Use `TEST_F(TestFixtureName, TestName)` to access shared objects.

**Fixture Example:**
```cpp
class QueueTest : public testing::Test {
 protected:
  QueueTest() {
    q0_.clear();
    q1_.Enqueue(1);
  }

  Queue<int> q0_;
  Queue<int> q1_;
};

TEST_F(QueueTest, IsEmptyInitially) {
  EXPECT_EQ(q0_.size(), 0);
}

TEST_F(QueueTest, EnqueueIncreasesSize) {
  q0_.Enqueue(10);
  EXPECT_EQ(q0_.size(), 1);
}
```

## 2. Running Your Test Binary

GoogleTest provides utility to automatically register all defined tests and execute them.

### Writing Main Function or Linking With `gtest_main`

- Usually, you do not need to write a main function if linking against `gtest_main`.
- Otherwise, implement a `main()` that calls:
  - `testing::InitGoogleTest(&argc, argv);` to initialize the testing framework.
  - `return RUN_ALL_TESTS();` to execute all registered tests.

**Example `main()`**
```cpp
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Building Your Tests

- Compile your test files together with the GoogleTest libraries.
- The resulting executable runs all your tests.

### Executing Tests

Run your test executable from the command line. GoogleTest will:

- Discover all registered tests.
- Run them one by one.
- Print concise results with pass/fail information.

Typical output looks like this:
```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)
[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

## 3. Interpreting Immediate Feedback

- **Passed Tests:** Indicated by `[       OK ]` and contribute to the overall success.
- **Failed Tests:** Marked with `[  FAILED  ]` and detailed failure information is printed.
- **Assertions:** `EXPECT_*` macros report non-fatal failures and continue test execution; `ASSERT_*` macros abort the current test.

GoogleTest summarizes test results at the end including total tests run, passed, failed, and disabled.

## 4. Quick Example: Putting It All Together

```cpp
#include <gtest/gtest.h>

// Sample function to test
int Add(int a, int b) {
  return a + b;
}

TEST(MathTest, AddPositive) {
  EXPECT_EQ(Add(2, 3), 5);
  EXPECT_EQ(Add(0, 0), 0);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run this test; you should see it pass successfully.

## 5. Best Practices and Tips

- Write **independent** and **repeatable** tests.
- Use descriptive test suite and test names to reflect what they verify.
- Prefer `EXPECT_*` over `ASSERT_*` unless test continuation is unsafe.
- Keep each test focused on a single concept or behavior.
- Use test fixtures (`TEST_F`) to reuse setup code.

## 6. Troubleshooting Common Issues

<AccordionGroup title="Troubleshooting Your First Test Run">
<Accordion title="Tests Are Not Discovered or Run">
- Ensure your test executable links to GoogleTest libraries correctly.
- Confirm test source files are compiled and linked.
- Verify you call `InitGoogleTest()` before `RUN_ALL_TESTS()` in your `main()`.
- Use the `--gtest_list_tests` flag to see available tests.
</Accordion>
<Accordion title="Compilation Errors Related to `TEST` Macros">
- Make sure `TEST()` and `TEST_F()` macros use valid C++ identifiers.
- For `TEST_F()`, ensure the fixture class is defined before use.
- Avoid underscores in test suite and test names.
</Accordion>
<Accordion title="Tests Always Pass or Fail Unexpectedly">
- Check your assertions logic.
- Use logs or debug prints inside tests.
- Consider using `SCOPED_TRACE()` to add context on failures.
</Accordion>
<Accordion title="Tests Are Disabled and Not Running">
- Tests with names prefixed by `DISABLED_` are disabled.
- Use `--gtest_also_run_disabled_tests` to include them.
</Accordion>
</AccordionGroup>

## 7. Next Steps

- Learn more about writing assertions in the [GoogleTest Primer](primer.md#assertions).
- Explore using test fixtures and parameterized tests for more complex scenarios.
- Consult the [Authoring Your First Test guide](guides/getting-started/first-test) for a deeper dive into test writing.
- Integrate your tests into your build system following [Installation and Environment Setup](guides/getting-started/setup-installation).

---

With this practical knowledge, you are now empowered to create basic GoogleTest suites, run your tests, and interpret the immediate feedback that sets the base for productive test-driven development workflows.

---

## Additional Resources

- [GoogleTest Primer](primer.md) — fundamentals and examples
- [Testing Reference](reference/testing.md) — detailed API and macros
- [GoogleMock for Dummies](gmock_for_dummies.md) — mocking introduction
- [Testing Workflows and Real-World Scenarios](guides/core-scenarios/assertions-matchers) — advanced usage

---

*Happy Testing with GoogleTest!*