---
title: "Building and Running Tests"
description: "Compile and execute your test suite using your chosen build system, and interpret test output. This page ensures users can validate their installation by successfully executing at least one test, providing confidence in their environment."
---

# Building and Running Tests

Compile and execute your test suite using your chosen build system, then verify and interpret the test output. This guide walks you through validating your GoogleTest installation by successfully building and running at least one test, ensuring your environment is correctly set up.

---

## 1. Prerequisites
Before building and running your tests, ensure:

- You have completed installation of GoogleTest following the [Installation Guide](../setup-installation/installation-guide).
- Your project is properly configured with GoogleTest included as a dependency, either via CMake, Bazel, or manual integration based on your build system choice.
- Your test files are correctly written using `TEST`, `TEST_F`, or other GoogleTest macros as described in [Writing Your First Test](write-your-first-test).

> Refer to [Prerequisites & System Requirements](../setup-installation/prerequisites-system-requirements) for detailed environment setup.

---

## 2. Building Your Test Suite
Building compiles your tests and prepares the executable that will run them.

### Using CMake
1. Navigate to your build directory (create one if needed, e.g., `mkdir build && cd build`).
2. Run CMake to generate build files if not already done:

```bash
cmake ..
```

3. Build your tests:

```bash
cmake --build .
```

This will compile the project and GoogleTest, producing your test executable.

### Using Bazel
1. Run the build command specifying your test target:

```bash
bazel build //path/to:your_test_target
```

Bazel will compile all necessary code and generate the test binary.

### Manual or Other Build Systems
Ensure that the compiler includes the GoogleTest headers and links with GoogleTest libraries (`gtest`, `gtest_main`, etc.). Compile your test source files into an executable.

---

## 3. Running Tests
Once built, execute your test binary to run all registered tests.

```bash
./your_test_executable
```

If you used `gtest_main` or `gmock_main`, the `main()` function is provided and initializes GoogleTest automatically.

### What Happens When Running Tests
- GoogleTest discovers all tests compiled into the executable automatically.
- Each test runs independently, and results are aggregated.
- The test output provides detailed results for each test.

### Common Command Line Flags
Customize how tests run or what is displayed by using these options:

- `--gtest_filter=TestSuiteName.TestName` runs only selected tests matching the filter.
- `--gtest_also_run_disabled_tests` includes any disabled tests in execution.
- `--gtest_repeat=N` repeats tests N times for flakiness checking.
- `--gtest_output=xml:filename.xml` saves test results in XML format.

Run `./your_test_executable --help` to see all supported flags.

---

## 4. Understanding Test Output
GoogleTest prints test results to the console with clear indicators.

### Output Structure
```
[==========] Running N tests from M test suites.
[----------] Global test environment set-up.
[----------] N tests from TestSuiteName
[ RUN      ] TestSuiteName.TestName
[       OK ] TestSuiteName.TestName (time ms)
[----------] N tests from TestSuiteName (time ms total)
[==========] N tests from M test suites ran. (total time ms total)
[  PASSED  ] N tests.
```

### Interpreting Results
- `[ RUN ]` indicates which test is currently running.
- `[       OK ]` marks a test that passed.
- `[  FAILED  ]` indicates a test failure, with detailed failure messages.
- Summary lines at the end show total tests run, passed, and failed.

### When Tests Fail
- GoogleTest outputs file and line number where the failure occurred.
- Assertion failure messages explain what was expected and what happened.
- If a fatal failure occurs, the current test aborts while other tests continue.

---

## 5. Validating Success
Confirm your setup works as expected by verifying:

- The build completes without errors.
- The test executable runs and all tests pass.
- The final output indicates `[  PASSED  ] N tests.` with zero failures.

If these criteria are met, your environment is properly configured.

<Tip>
If your test program produces zero tests run (`0 tests from 0 test suites`), make sure you have:
- Added GoogleTest macros `TEST()` or `TEST_F()` in your source.
- Linked your test executable against GoogleTest.
- Enabled the correct source files in your build target.
</Tip>

---

## 6. Troubleshooting Common Issues

<AccordionGroup title="Common Issues While Building and Running">
<Accordion title="No Tests Were Run">
Check if your test source files are compiled and linked in your test executable.
Confirm use of valid GoogleTest macros (`TEST()`, `TEST_F()`).
See the [Troubleshooting Common Setup Issues](troubleshooting-common-issues) guide.
</Accordion>
<Accordion title="Build Errors Related to GoogleTest">
Verify that the include directories and libraries for GoogleTest are correctly set.
Ensure C++17 or later is enabled in your build.
Check your system matches [Prerequisites & System Requirements](../setup-installation/prerequisites-system-requirements).
</Accordion>
<Accordion title="Test Failures with Unexpected Outputs">
Review assertion messages for cause.
Run tests selectively with filters to isolate issues.
Consult the [Writing Your First Test](write-your-first-test) and [Assertions Reference](../reference/core-testing-apis/assertions) for correct usage.
</Accordion>
</AccordionGroup>

---

## 7. Next Steps

- Write additional tests. Learn about test fixtures and parameterized tests from [Writing Your First Test](write-your-first-test).
- Customize test execution with command line flags. Explore advanced running options in [Advanced GoogleTest Topics](../advanced).
- Integrate tests into your CI pipeline as explained in [Integration and Extensibility](../../overview/architecture-core-concepts/integration-overview).
- If you encounter issues, consult [Troubleshooting Common Setup Issues](troubleshooting-common-issues) and the [FAQ](../../faq/general-faq/getting-started-problems).


---

## References

- [Writing Your First Test](write-your-first-test)
- [Installation Guide](../setup-installation/installation-guide)
- [Prerequisites & System Requirements](../setup-installation/prerequisites-system-requirements)
- [Advanced GoogleTest Topics](../advanced)
- [Integration and Extensibility](../../overview/architecture-core-concepts/integration-overview)
- [Troubleshooting Common Setup Issues](troubleshooting-common-issues)

---

## Example: Minimal Build and Run Using CMake

Assuming you have a simple test file `sample_test.cc`:

```c++
#include <gtest/gtest.h>

TEST(SimpleTest, BasicAssertions) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_TRUE(true);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run with:

```bash
mkdir -p build
cd build
cmake ..
cmake --build .
./your_test_executable
```

Expected output snippet:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SimpleTest
[ RUN      ] SimpleTest.BasicAssertions
[       OK ] SimpleTest.BasicAssertions (0 ms)
[----------] 1 test from SimpleTest (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

Congratulations! Your build and run environment is set up correctly.
