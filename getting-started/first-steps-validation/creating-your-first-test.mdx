---
title: "Writing and Running Your First Test"
description: "Provides a minimal example demonstrating how to write, build, and execute a basic test using GoogleTest, accelerating users toward their first success."
---

# Writing and Running Your First Test

This page walks you through writing, building, and running a minimal GoogleTest example. By following these steps, you'll have a basic working test that validates your setup and helps you quickly gain confidence with the framework.

---

## 1. Prerequisites

Before writing your first test, ensure your environment meets these requirements:

- **Supported Operating Systems:** Linux, Windows, or macOS.
- **Compiler Support:** A C++ compiler with at least C++17 support.
- **GoogleTest Installed:** You have GoogleTest installed and available, either as a system library or integrated into your project build.
- **Build System Setup:** Your build system (e.g., CMake or Bazel) is configured to find GoogleTest headers and libraries.

If you haven't installed GoogleTest yet, see [Installing with CMake](/getting-started/installation-integration/installing-via-cmake) or [Installing with Bazel](/getting-started/installation-integration/installing-via-bazel).

---

## 2. Writing Your First Test

Follow these steps to write a minimal test using GoogleTest.

### Step 1: Include the Necessary Header

At the top of your C++ test source file, include GoogleTest's header:

```cpp
#include <gtest/gtest.h>
```

### Step 2: Use the TEST Macro

Declare a simple test by using the `TEST` macro. It takes two arguments:

- The **test suite name** (grouping related tests).
- The **test name** (an individual test).

Both must be valid C++ identifiers and **should not contain underscores** (see [FAQ on Naming](https://github.com/google/googletest/blob/main/docs/faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore)).

Example of a simple test that checks the equality of two integer expressions:

```cpp
TEST(ExampleTest, BasicAssertions) {
  EXPECT_EQ(7 * 6, 42);  // Test will fail if this condition is false.
  EXPECT_STRNE("hello", "world");  // Verifies two strings are not equal.
}
```

### Step 3: Define main() Function (Optional)

GoogleTest provides a default `main()` if you link to `gtest_main`. If you want custom setup, define your own `main()`:

```cpp
int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This initializes GoogleTest with command line parameters and runs all tests.

---

## 3. Building Your Test

Use your preferred build system ensuring GoogleTest and your test source file are included.

### Example: CMake Configuration

A minimal `CMakeLists.txt` to build your test might look like this:

```cmake
cmake_minimum_required(VERSION 3.14)
project(MyTestProject)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

find_package(GTest REQUIRED)

add_executable(my_test_executable my_test.cc)

target_link_libraries(my_test_executable GTest::gtest_main)

enable_testing()

include(GoogleTest)
gtest_discover_tests(my_test_executable)
```

Build and run:

```shell
mkdir build && cd build
cmake ..
cmake --build .
ctest
```

### Expected Output

If successful, your output will indicate tests ran and passed, for example:

```
Test project /path/to/build
    Start 1: ExampleTest.BasicAssertions
1/1 Test #1: ExampleTest.BasicAssertions .....   Passed    0.00 sec

100% tests passed, 0 tests failed out of 1
```

---

## 4. Running Your First Test

If not using a test runner like `ctest`, run the compiled test binary directly:

```shell
./my_test_executable
```

GoogleTest will discover and run all tests registered via `TEST` macros.

The test output includes:

- Test suite and test names
- Status of each test (OK or FAILED)
- Summary of passed, failed, and total tests

### What Happens During Execution?

When the test runs:

1. GoogleTest creates a test fixture for each test (in this simple case, no fixture class is used).
2. It runs the test body, executing the assertions.
3. GoogleTest reports success if all assertions pass.

If any assertion fails, GoogleTest reports the failure with file and line number.

---

## 5. Understanding the Output

When your first test runs, a successful output looks like:

```
[ RUN      ] ExampleTest.BasicAssertions
[       OK ] ExampleTest.BasicAssertions (0 ms)
[  PASSED  ] 1 test.
```

If a failure occurs, GoogleTest prints detailed information with:

- File and line number of the failure
- Which assertion failed
- Expected and actual values

This information helps you quickly identify and fix issues.

---

## 6. Practical Tips & Best Practices

- **Name Tests Clearly:** Choose names that describe what is being tested.
- **Avoid Underscores:** GoogleTest disallows underscores in test names to prevent macro name collisions.
- **Use EXPECT_ for Nonfatal Checks:** This allows tests to continue after failures reporting multiple issues.
- **Use ASSERT_ for Fatal Checks:** Use when further execution of a test makes no sense.
- **Leverage Test Fixtures:** When you have shared setup, consider defining a fixture class using `TEST_F` (see the GoogleTest Primer).

---

## 7. Troubleshooting

### Test Not Found or Running?
- Ensure your test source file is compiled and linked in.
- Confirm the test binary is executed and not empty.

### Linking Issues?
- Verify GoogleTest libraries are correctly linked (`gtest_main` or `gtest`).
- Check paths for headers and libraries are correct.

### Tests Not Producing Output?
- Run with `--gtest_list_tests` to verify test discovery.
- Run tests with `--gtest_brief=0` to see detailed output.

### Common Compiler Errors?
- Check test names donâ€™t have underscores.
- Ensure `main` returns `RUN_ALL_TESTS()`.
- Confirm your compiler supports C++17 or newer.

---

## 8. Next Steps

- Explore the [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) to learn more about writing assertions and test fixtures.
- Check out the [GoogleTest Samples](https://github.com/google/googletest/tree/main/googletest/samples) for practical examples.
- Move on to [Using Matchers and Assertions](../overview/core-concepts/assertions-and-matchers.md) for advanced validation.
- Consider setting up [Continuous Integration](../guides/integration-advanced/test-automation.md) to automate your tests.

---

## 9. References

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md)
- [Installing GoogleTest with CMake](https://github.com/google/googletest/blob/main/docs/quickstart-cmake.md)
- [Assertions Reference](https://github.com/google/googletest/blob/main/docs/reference/assertions.md)

---