---
title: "Writing & Running Your First Test"
description: "Learn how to write and execute a basic test case using GoogleTest. This step-by-step page demonstrates test creation, compilation, and execution, empowering you to reach your first 'green' test quickly."
---

# Writing & Running Your First Test

Learn how to write and execute a basic test case using GoogleTest. This step-by-step guide will walk you through creating your first test, compiling it, running it, and understanding the results — getting you to your first successful test quickly.

---

## 1. Understanding the Testing Context

GoogleTest helps you verify that your C++ code behaves as expected by writing small executable tests called **test cases**. Each test case contains **assertions** that you use to check the correctness of your code.

Your goal in this guide is to write a simple test case, compile it with GoogleTest linked, run it, and see a "green" test result indicating success.

---

## 2. Setting Up Your Test Source File

Start by creating a C++ source file, e.g., `my_first_test.cc`. In this file, include the main GoogleTest header and write your first test:

```cpp
#include <gtest/gtest.h>

// A sample function to test
int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}

// Define a test case named FactorialTest and a test named HandlesZeroInput
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);  // Assert Factorial(0) == 1
}

// Another test to check positive inputs
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

### Why TEST()?

The `TEST(TestSuiteName, TestName)` macro defines a test function within GoogleTest. Each test runs independently.

### Assertion Used

`EXPECT_EQ(expected, actual)` checks if the two values are equal. If they aren't, GoogleTest reports a failure but continues running the test.

---

## 3. Compiling Your Test

To compile your test program, you need to link it with the GoogleTest libraries.

If you are using CMake (which is common), integrate GoogleTest as follows:

```cmake
cmake_minimum_required(VERSION 3.10)
project(MyTestProject)

find_package(GTest REQUIRED)

add_executable(my_first_test my_first_test.cc)

target_link_libraries(my_first_test GTest::gtest_main)
```

- The `GTest::gtest_main` target includes both GoogleTest and a main() function for running all tests.

- Running `cmake` and building your project will produce an executable `my_first_test`.

If you compile manually, a sample g++ command could look like:

```bash
g++ -std=c++11 -isystem /path/to/googletest/include -pthread my_first_test.cc \
    /path/to/libgtest.a /path/to/libgtest_main.a -o my_first_test
```

Adjust the paths to where your GoogleTest headers and libraries reside.

---

## 4. Running the Test

Run your compiled test executable:

```bash
./my_first_test
```

You will see output indicating which tests ran, and whether they passed or failed. Example output:

```
Running main() from gtest_main.cc
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

This tells you both of your tests passed — congratulations, your first test case succeeds!

---

## 5. Writing More Comprehensive Tests

Once you’re comfortable with the simple `TEST()` macro and `EXPECT_EQ` assertions, you can explore more testing capabilities including:

- **Test Fixtures:** Share setup and teardown code across tests to avoid duplication.
- **Additional Assertions:** Use assertions such as `ASSERT_TRUE`, `EXPECT_NEAR`, and more for varied validation.
- **Parameterized Tests:** Write tests that run with multiple data inputs.
- **GoogleMock:** If your code has dependencies you want to mock, start integrating GoogleMock (the mocking framework part of GoogleTest).

---

## 6. Best Practices and Tips

- Always call `testing::InitGoogleTest(&argc, argv);` at the start of your `main` function if you provide one. This parses command line arguments for test options.
- Use `gtest_main` to avoid writing your own `main()` unless customization is needed.
- Name your tests clearly to express their intent.
- Keep tests isolated; one test should verify one specific behavior or feature.
- When a test fails, check the test output for assertion failure line numbers to debug quickly.

---

## 7. Troubleshooting Common Issues

<AccordionGroup title="Common Issues When Writing and Running Tests">
<Accordion title="Compilation Errors Related to GoogleTest">
Make sure you have:
- Included the correct headers: `#include <gtest/gtest.h>`
- Linked against the `gtest` and `gtest_main` libraries
- Set your compiler and linker include/library paths correctly

</Accordion>
<Accordion title="Tests Not Running or No Output">
Ensure:
- You are calling `RUN_ALL_TESTS()` in your `main()` if you have one
- Or link with `gtest_main` to get a default main()
- You correctly declare tests via `TEST()` or `TEST_F()` macros

</Accordion>
<Accordion title="Failing Tests Unexpectedly">
Use the test output and line numbers provided in the failure messages to trace the cause.
- Run tests with verbose flags:

```bash
./my_first_test --gtest_verbose=info
```

- Ensure your EXPECT_* and ASSERT_* conditions match your code's logic

</Accordion>
</AccordionGroup>

---

## 8. Next Steps

- Explore the [Writing Your First Test Guide](/guides/getting-started/writing-first-test) for more examples and deeper explanations.
- Check the [Test Discovery and Execution Workflow](/guides/getting-started/test-discovery-execution) to understand how GoogleTest organizes and runs tests.
- If you want to mock dependencies, refer to the [Using Mocks: Patterns and Best Practices](/guides/mocking-and-advanced-techniques/using-mocks).
- Review the [System Requirements](/getting-started/prerequisites-installation/system-requirements) and [Installation Instructions](/getting-started/prerequisites-installation/installation-platforms) if you face environment issues.

---

Congratulations on writing and running your first test with GoogleTest! This is a foundational step towards reliable, maintainable C++ code through automated testing.
