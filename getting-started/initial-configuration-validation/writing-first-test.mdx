---
title: "Writing and Running Your First Test"
description: "Shows, step-by-step, how to create a basic test file, use core assertions, and run tests with GoogleTestâ€™s auto-discovery. Provides sample code and explanations to ensure users get a green test quickly."
---

# Writing and Running Your First Test

This guide takes you through the process of writing a basic test file using GoogleTest and demonstrates how to use core assertions. You will also learn how to run your tests with GoogleTest's automatic test discovery to get a green test quickly.

---

## 1. Prerequisites & Setup

Before you create your first test, ensure the following:

- **GoogleTest is installed and built** on your system. Follow your installation method, e.g. CMake or Bazel, to have the library ready.
- **Include GoogleTest headers** and link the GoogleTest library in your project.
- Your development environment supports **C++17 or later** (recommended for newest features).

If these prerequisites are met, you can proceed to write and compile your first test.

---

## 2. Creating a Basic Test File

1. **Create a new C++ source file** named `example_test.cc` (or any convenient name).
2. Include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

3. Write a simple test case using the `TEST` macro:

```cpp
// Sample test case
TEST(SampleTest, ReturnsTrue) {
  // Assert that true is truthy
  EXPECT_TRUE(true);
}
```

### Explanation:
- `TEST` takes two parameters: a test suite name (`SampleTest`) and a test name (`ReturnsTrue`).
- Inside the test body, you use assertions like `EXPECT_TRUE()` to validate behavior.

---

## 3. Using Core Assertions

GoogleTest provides an extensive set of assertions. Here are some common ones you may use in your first tests:

- `EXPECT_EQ(val1, val2)`: Verify equality
- `EXPECT_NE(val1, val2)`: Verify inequality
- `EXPECT_TRUE(condition)`: Verify condition is true
- `EXPECT_FALSE(condition)`: Verify condition is false

**Example:**

```cpp
TEST(MathTest, Addition) {
  int sum = 2 + 2;
  EXPECT_EQ(sum, 4);
}
```

**Tip:** Use `ASSERT_` variants if the test should abort on failure (vs continuing).

---

## 4. Running Your Tests

GoogleTest supports **auto-discovery** of tests in the compiled executable.

### Command-line run

1. Compile your test file and link with GoogleTest:

```bash
# Example with g++ and pkg-config

g++ -std=c++17 example_test.cc -o example_test $(pkg-config --cflags --libs gtest gtest_main) -pthread
```

2. Run the executable:

```bash
./example_test
```

3. GoogleTest will automatically detect all defined tests and run them, reporting results.

### Expected Output:

```
[==========] Running 2 tests from 2 test suites.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.ReturnsTrue
[       OK ] SampleTest.ReturnsTrue (0 ms)
[----------] 1 test from SampleTest (0 ms total)
[----------] 1 test from MathTest
[ RUN      ] MathTest.Addition
[       OK ] MathTest.Addition (0 ms)
[----------] 1 test from MathTest (0 ms total)
[----------] Global test environment tear-down
[==========] 2 tests from 2 test suites ran. (0 ms total)
[  PASSED  ] 2 tests.
```

---

## 5. Example Test File: Complete Code

```cpp
#include <gtest/gtest.h>

// Simple test that passes
TEST(SampleTest, ReturnsTrue) {
  EXPECT_TRUE(true);
}

// Test addition correctness
TEST(MathTest, Addition) {
  int sum = 2 + 2;
  EXPECT_EQ(sum, 4);
}
```

Compile and run as described above.

---

## 6. Tips and Best Practices

- **Name your tests clearly and descriptively** to communicate intent.
- Group related tests into test suites for organization.
- Use `EXPECT_` for non-fatal assertions that allow tests to continue.
- Use `ASSERT_` if further steps depend on critical conditions.
- Keep tests small and focused on one behavior.
- Explore GoogleTest's rich assertion set to tailor validations.
- Run tests frequently during development.

---

## 7. Troubleshooting Common Issues

- **Tests don't run or aren't discovered?**
  - Ensure your test executable is properly linked with the GoogleTest main library.
  - Verify your test functions use the `TEST` or `TEST_F` macros.

- **Compilation errors on missing headers?**
  - Double-check include paths for GoogleTest headers.
  - Confirm C++ compiler supports required standard.

- **Tests report failures but you expect success?**
  - Review your assertions and check logic.
  - Use `--gtest_verbose=info` to get detailed output.

- **No tests run, but executable runs?**
  - Check if tests are inside main() or correctly at global scope.
  - Ensure initialization via `testing::InitGoogleTest()` if customized.

---

## 8. Next Steps

- Explore **Writing and Running Your First Mock Test** by integrating GoogleMock.
- Learn about **Setting Up and Integrating GoogleTest**.
- Understand how to write **Parameterized Tests** and use **Matchers**.
- Refer to the [GoogleTest Official Documentation](https://github.com/google/googletest) for more examples.

---

## References

- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html): Introduction to using GoogleMock.
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html): Recipes and best practices for mocks.
- [Basic Configuration](https://github.com/google/googletest/blob/main/docs/getting-started/initial-configuration-validation/basic-configuration.md) for setup details.
- [EXPECT_CALL and ON_CALL](https://google.github.io/googletest/reference/mocking.html): Core macros for mocking methods.

---