---
title: "Parameterized and Typed Tests"
description: "A hands-on guide to testing across a range of input values and types. Covers value-parameterized tests and type-parameterized tests, enabling data-driven testing for functions and templates."
---

# Parameterized and Typed Tests

GoogleTest empowers developers to write flexible and reusable tests that run across a variety of data inputs and types, significantly reducing code duplication. This guide provides a hands-on approach to harnessing two powerful paradigms in GoogleTest: **value-parameterized tests** and **type-parameterized tests**. By using these mechanisms, you achieve data-driven testing for functions and templates, enabling thorough verification of your code's behavior in diverse scenarios.

---

## 1. Overview

### What You Will Achieve

- Run the same test code multiple times with different values (value-parameterized tests). 
- Repeat tests for multiple types using typed tests and type-parameterized tests.
- Organize large and complex test suites efficiently, improving test coverage and maintainability.

### Prerequisites

- Basic familiarity with writing tests using `TEST()` and `TEST_F()` macros.
- Understanding of C++ templates and classes is recommended to leverage typed tests.

### Expected Outcome

After completing this guide, you will be able to:

- Define value-parameterized test fixtures, write parameterized tests, and instantiate them with diverse input values.
- Create typed and type-parameterized test fixtures and write tests that automatically run for each type in a type list.
- Apply custom naming to parameterized and typed tests for clear identification in test reports.

### Time Estimate

30–45 minutes to absorb concepts and implement basic tests.

### Difficulty Level

Intermediate – familiarity with GoogleTest basics and C++ templates recommended.

---

## 2. Writing Value-Parameterized Tests

### Purpose

When you want to run identical test logic with different input values without duplicating code, value-parameterized tests are the answer.

### Workflow

<Steps>
<Step title="Define a Test Fixture">
Create a subclass of `testing::TestWithParam<T>` where `T` is your parameter type.

```cpp
class FooTest : public ::testing::TestWithParam<int> {
  // Setup and teardown methods can be added as needed
};
```

This fixture now has access to a parameter of type `T` during each test run.
</Step>

<Step title="Write Parameterized Tests">
Use the `TEST_P` macro instead of `TEST_F` to define tests that use the parameter.
Within the test body, access the parameter via `GetParam()`.

```cpp
TEST_P(FooTest, IsEven) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0);
}
```
</Step>

<Step title="Instantiate the Test Suite">
Use `INSTANTIATE_TEST_SUITE_P` to define the set of parameters to run your test with.
GoogleTest provides generators such as `Values()`, `Range()`, `Bool()`, and `Combine()`.

```cpp
INSTANTIATE_TEST_SUITE_P(EvenValues, FooTest, ::testing::Values(2, 4, 6, 8));
```

This will run `FooTest.IsEven` four times with values 2, 4, 6, and 8.
</Step>

<Step title="(Optional) Provide Custom Parameter Names">
You can supply a function or functor to generate readable test names.

```cpp
INSTANTIATE_TEST_SUITE_P(
    NamedParameters, FooTest, ::testing::Values(10, 20),
    [](const testing::TestParamInfo<int>& info) {
      return "Value" + std::to_string(info.param);
    });
```

</Step>
</Steps>

### Expected Test Names and Output

Tests will be named:

- `EvenValues/FooTest.IsEven/0`, with param 2
- `EvenValues/FooTest.IsEven/1`, with param 4
- and so on...

These names appear in test output and filtering options.

---

## 3. Writing Typed Tests

### Purpose

Typed tests let you test identical logic against a fixed set of types.
This is ideal for verifying template implementations or interfaces over multiple implementations.

### Workflow

<Steps>
<Step title="Define a Test Fixture Template">
Create a class template deriving from `testing::Test`:

```cpp
template <typename T>
class MyContainerTest : public testing::Test {
 public:
  T container_;
};
```

The type parameter `T` will be substituted during instantiation.
</Step>

<Step title="Associate the Test Fixture and List of Types">
Create a type list using `::testing::Types<...>`.
Then use the macro `TYPED_TEST_SUITE` to associate the fixture with the list.

```cpp
using MyTypes = ::testing::Types<std::vector<int>, std::list<int>>;
TYPED_TEST_SUITE(MyContainerTest, MyTypes);
```

</Step>

<Step title="Write Typed Tests Using `TYPED_TEST`">
Define test logic for the fixture, using the special `TypeParam` to refer to the type:

```cpp
TYPED_TEST(MyContainerTest, InitiallyEmpty) {
  EXPECT_TRUE(this->container_.empty());
}
```

You can reference fixture members with `this->`.
</Step>

</Steps>

### Customizing Test Suite Names

You may supply a name generator class as a third argument to `TYPED_TEST_SUITE` to customize the test suite names per type.

```cpp
class MyTypeNameGen {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, std::vector<int>>) return "Vector";
    if constexpr (std::is_same_v<T, std::list<int>>) return "List";
    return "Unknown";
  }
};

TYPED_TEST_SUITE(MyContainerTest, MyTypes, MyTypeNameGen);
```

This will append `Vector` or `List` suffixes to test suite names, improving readability.

---

## 4. Writing Type-Parameterized Tests

### Purpose

Type-parameterized tests allow defining test logic independently from the list of types.
You can define test cases abstractly, then instantiate multiple sets of types later.

### Workflow

<Steps>
<Step title="Define a Test Fixture Template">
Same as typed tests.

```cpp
template <typename T>
class MyAbstractTest : public testing::Test {};
```
</Step>

<Step title="Declare a Type-Parameterized Test Suite with `TYPED_TEST_SUITE_P`">
Declare your intention to define type-parameterized tests:

```cpp
TYPED_TEST_SUITE_P(MyAbstractTest);
```

</Step>

<Step title="Define Tests with `TYPED_TEST_P`">
Define the tests this suite will have:

```cpp
TYPED_TEST_P(MyAbstractTest, DoesBlah) {
  TypeParam value = 0;
  ...
}

TYPED_TEST_P(MyAbstractTest, HasPropertyA) {
  ...
}
```

</Step>

<Step title="Register the Tests">
Before instantiation, register the test names with:

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyAbstractTest, DoesBlah, HasPropertyA);
```

</Step>

<Step title="Instantiate the Suite with Types">
Use `INSTANTIATE_TYPED_TEST_SUITE_P` to bind types to the suite:

```cpp
using MyTypes = ::testing::Types<int, char, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyPrefix, MyAbstractTest, MyTypes);
```

Optionally supply a name generator similar to typed tests.
</Step>
</Steps>

### Advantages

- Define tests once in shared code.
- Instantiate with multiple type lists in multiple translation units.
- Supports modular and scalable testing.

---

## 5. Tips and Best Practices

- **Use expressive Type and Value Names**: For clarity in test outputs and filtering.
- **Leverage Custom Name Generators**: Improve test naming when using complex or templated types.
- **Compose Parameter Generators**: Use `Combine()` to test multiple parameters comprehensively.
- **Avoid Underscores in Test Names**: To prevent name mangling issues (see FAQs).
- **Mark Uninstantiated Tests if Needed**: Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` to suppress warnings about uninstantiated parameterized tests.

---

## 6. Troubleshooting

### Common Issue: Test Fixture Constructors

Ensure fixtures have accessible default constructors for GoogleTest.

### Missing Instantiations

When using `TEST_P` or `TYPED_TEST_P`, ensure corresponding instantiations exist.
Use the `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` macro if intentional.

### Unexpected Test Names

Check your custom name generators or avoid underscores and invalid characters.

---

## 7. Example: Value-Parameterized Test

```cpp
#include <gtest/gtest.h>

class IsEvenTest : public testing::TestWithParam<int> {};

TEST_P(IsEvenTest, CheckEven) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, IsEvenTest, testing::Values(2, 4, 6, 8));
```

Running this will execute `CheckEven` four times with the provided values.

---

## 8. Example: Typed Test

```cpp
#include <vector>
#include <list>
#include <gtest/gtest.h>

template <typename T>
class ContainerTest : public testing::Test {
 public:
  T container_;
};

using MyTypes = testing::Types<std::vector<int>, std::list<int>>;
TYPED_TEST_SUITE(ContainerTest, MyTypes);

TYPED_TEST(ContainerTest, IsInitiallyEmpty) {
  EXPECT_TRUE(this->container_.empty());
}
```

The test runs twice: once with `std::vector<int>`, once with `std::list<int>`.

---

## 9. Example: Type-Parameterized Test

```cpp
template <typename T>
class AbstractTest : public testing::Test {};

TYPED_TEST_SUITE_P(AbstractTest);

TYPED_TEST_P(AbstractTest, DoesSomething) {
  TypeParam value = 0;
  // Test implementation
}

TYPED_TEST_P(AbstractTest, HasFeatureA) {
  // Test implementation
}

REGISTER_TYPED_TEST_SUITE_P(AbstractTest, DoesSomething, HasFeatureA);

using MyTypes = testing::Types<int, char>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyGroup, AbstractTest, MyTypes);
```

This pattern enables flexible sharing and instantiation across modules.

---

## 10. Additional Resources

- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests)
- [Typed Tests](../advanced.md#typed-tests)
- [Type-Parameterized Tests](../advanced.md#type-parameterized-tests)
- [Testing Reference: Parameterized Tests](reference/testing.md#TEST_P)
- [FAQs on Typed and Parameterized Tests](../faq.md)

---

Using parameterized and typed tests unlocks the full power of automated testing, elevating test quality, reducing duplication, and improving maintenance in GoogleTest.


---

# Quick Reference Macros

| Macro                              | Purpose                                 |
|-----------------------------------|-----------------------------------------|
| `TEST_P(TestFixture, TestName)`   | Defines a value-parameterized test     |
| `INSTANTIATE_TEST_SUITE_P(...)`   | Instantiate value-parameterized tests  |
| `TYPED_TEST_SUITE(Fixture, Types)`| Defines typed test suite                |
| `TYPED_TEST(Fixture, TestName)`   | Defines typed test                      |
| `TYPED_TEST_SUITE_P(Fixture)`     | Declares type-parameterized test suite |
| `TYPED_TEST_P(Fixture, TestName)` | Defines type-parameterized test        |
| `REGISTER_TYPED_TEST_SUITE_P`     | Registers type-parameterized tests     |
| `INSTANTIATE_TYPED_TEST_SUITE_P` | Instantiates type-parameterized tests  |


---

# See also

For more detailed examples and extensions of these concepts, review:

- [GoogleTest Primer](primer.md)
- [Advanced GoogleTest Topics](advanced.md)
- [Testing Reference](reference/testing.md)
- [GoogleTest FAQ](faq.md)

Source and test code demonstrating parameterized and typed tests:

- `googletest/include/gtest/gtest-typed-test.h`
- `googletest/include/gtest/gtest-param-test.h`
- `googletest/test/gtest-typed-test_test.cc`
- `googletest/test/googletest-param-test-test.cc`

---