---
title: "Writing Parameterized & Typed Tests"
description: "Step-by-step guide to crafting parameterized and type-parameterized tests, enabling efficient testing of functions across multiple data inputs and types. Includes practical code examples and coverage for advanced test parameterization macros."
---

# Writing Parameterized & Typed Tests

This guide provides a practical, step-by-step approach to writing and using **parameterized** and **typed tests** in GoogleTest, enabling efficient and scalable testing of your code across multiple data inputs and types. These advanced testing techniques help you avoid code duplication and enhance the coverage of your tests.

---

## 1. Understanding Parameterized and Typed Tests

Before diving into the steps, it's crucial to understand the value these tests offer:

- **Parameterized Tests** allow you to run the same test logic multiple times with different input values.
- **Typed Tests** let you run the same test logic for different types, useful when testing generic code templates.

Both approaches prevent redundant code and make your test suites more expressive and maintainable.

---

## 2. Writing Value-Parameterized Tests

### Workflow Overview

- **Task**: Write tests that run repeatedly over a range or list of values.
- **Prerequisites**: Basic familiarity with GoogleTest and defining test fixtures.
- **Outcome**: A single test suite executing multiple test cases with different parameters.
- **Time Estimate**: 10-20 minutes for initial setup and simple examples.
- **Difficulty Level**: Intermediate.

### Step-by-Step Instructions

<Steps>
<Step title="Define a Parameterized Test Fixture">
Create a test fixture class deriving from `::testing::TestWithParam<T>`, where `T` is the parameter type.

```cpp
class FooTest : public ::testing::TestWithParam<int> {
  // Optional setup/teardown or shared members here
};
```

This class will provide the `GetParam()` method to extract the current test parameter.
</Step>

<Step title="Define Parameterized Tests Using TEST_P">
Declare tests using the `TEST_P` macro that associates test logic with the fixture.

```cpp
TEST_P(FooTest, IsEven) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}
```

Within these tests, use `GetParam()` to access the test-specific parameter.
</Step>

<Step title="Instantiate the Test Suite with Parameters">
Use `INSTANTIATE_TEST_SUITE_P` to generate test instances with specific parameters or parameter sequences.

Example using explicit values:

```cpp
INSTANTIATE_TEST_SUITE_P(Numbers, FooTest, ::testing::Values(2, 4, 6));
```

Example using a range:

```cpp
INSTANTIATE_TEST_SUITE_P(RangeExample, FooTest, ::testing::Range(0, 10, 2));
```

The first argument is a unique prefix used to distinct test instances.
</Step>

<Step title="Run the Tests and Interpret Output">
Compile and run your tests. Each parameter will result in a separate test with output like:

```
Numbers/FooTest.IsEven/0
Numbers/FooTest.IsEven/1
Numbers/FooTest.IsEven/2
```

Each suffix corresponds to an index of the parameter used.
</Step>
</Steps>

### Parameter Generators

GoogleTest provides several built-in generators for `INSTANTIATE_TEST_SUITE_P`:

- `Range(begin, end [, step])` – Values in `[begin, end)` with optional step.
- `Values(v1, v2, ..., vN)` – Explicit list of values.
- `ValuesIn(container_or_range)` – Values from array, container, or iterators.
- `Bool()` – `{false, true}`.
- `Combine(g1, g2, ..., gN)` – Cartesian product of multiple generators producing tuples.

### Naming Tests

You can specify a custom function or functor to name test instances meaningfully:

```cpp
INSTANTIATE_TEST_SUITE_P(
    CustomNames, FooTest, ::testing::Values(1,2,3),
    [](const ::testing::TestParamInfo<FooTest::ParamType>& info) {
      return "Value_" + std::to_string(info.param);
    });
```

This helps especially when parameters are complex or strings.

---

## 3. Writing Typed Tests

### Workflow Overview

- **Task**: Write tests that run repeatedly over different types.
- **Prerequisites**: Understanding of templates in C++ and basic GoogleTest usage.
- **Outcome**: Test suite that automatically runs for each specified type.
- **Time Estimate**: 15-30 minutes for setup and examples.
- **Difficulty Level**: Intermediate to Advanced.

### Step-by-Step Instructions

<Steps>
<Step title="Define a Typed Test Fixture Template">
Write a class template derived from `::testing::Test` which contains the test logic.

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
public:
  T value_ = T();
};
```
</Step>

<Step title="Associate Type List with Test Fixture">
Create a `using` alias with types to test, then associate them with the fixture using `TYPED_TEST_SUITE`:

```cpp
using MyTypes = ::testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

If you have only one type, specify it directly without `Types<>`.
</Step>

<Step title="Write Typed Tests with TYPED_TEST">
Use `TYPED_TEST` to define tests which will execute for every type in the list.

```cpp
TYPED_TEST(MyTypedTest, DefaultConstructedValueIsZero) {
  TypeParam val = this->value_;  // TypeParam is the type being tested
  EXPECT_EQ(val, TypeParam());
}
```

You can access the type parameter via `TypeParam`.
</Step>

<Step title="Compile and Run Tests">
Compile and run. GoogleTest will execute tests per type, with test suite names suffixed for clarity (e.g., `MyTypedTest/0`, `MyTypedTest/1`).
</Step>
</Steps>

### Customizing Type Names

Optionally, provide a name generator class to produce readable test suite names:

```cpp
class TypeNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, int>) return "Int";
    if constexpr (std::is_same_v<T, double>) return "Double";
    if constexpr (std::is_same_v<T, std::string>) return "String";
    return "Other";
  }
};

TYPED_TEST_SUITE(MyTypedTest, MyTypes, TypeNames);
```

---

## 4. Writing Type-Parameterized Tests

Type-parameterized tests provide more flexibility:

- Define the test patterns first using `TYPED_TEST_SUITE_P` and `TYPED_TEST_P`.
- Register tests with `REGISTER_TYPED_TEST_SUITE_P`.
- Instantiate the test suite with types using `INSTANTIATE_TYPED_TEST_SUITE_P`.

This approach supports defining tests in headers and instantiating them in multiple places.

---

## 5. Practical Examples

### Example 1: Parameterized Test for Even Numbers

```cpp
class IsEvenTest : public ::testing::TestWithParam<int> {};

TEST_P(IsEvenTest, ReturnsTrueForEvenNumbers) {
  EXPECT_EQ(GetParam() % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, IsEvenTest, ::testing::Values(2, 4, 6, 8));
```

### Example 2: Typed Test for Numeric Types

```cpp
template <typename T>
class NumericLimitsTest : public ::testing::Test {
public:
  T zero = T();
};

using NumericTypes = ::testing::Types<int, double, float>;
TYPED_TEST_SUITE(NumericLimitsTest, NumericTypes);

TYPED_TEST(NumericLimitsTest, ZeroIsDefault) {
  EXPECT_EQ(TypeParam(), this->zero);
}
```

### Example 3: Combining Parameters with Combine()

```cpp
enum Color { RED, GREEN, BLUE };

class ColorShapeTest : public ::testing::TestWithParam<std::tuple<std::string, Color>> {};

TEST_P(ColorShapeTest, HasValidColor) {
  auto [shape, color] = GetParam();
  EXPECT_TRUE(color == RED || color == GREEN || color == BLUE);
}

INSTANTIATE_TEST_SUITE_P(
    ColorShapeCombinations, ColorShapeTest,
    ::testing::Combine(::testing::Values("Circle", "Square"), ::testing::Values(RED, GREEN, BLUE)));
```

---

## 6. Troubleshooting & Tips

- Always ensure your parameter types are copyable.
- If `INSTANTIATE_TEST_SUITE_P` is missing for a `TEST_P`, expect a failure in the special `GoogleTestVerification` test suite.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` to suppress errors when no instantiation should happen.
- Parameter names generated by default may contain illegal characters; use custom naming functions.
- When parameters are containers or have pointers, ensure lifetime management to avoid dangling references.
- Remember that `GetParam()` returns a **copy** of the parameter, so modifications don't persist across invocations.

---

## 7. Next Steps & Related Content

- Explore [Core Assertions & Best Practices](../getting-started/core-assertions-best-practices.md) to improve your assertions.
- Learn about [Mocking with GoogleMock](../guides/advanced-and-real-world/mocking-basics-patterns.md) to extend test coverage.
- Study [Integration with Build Systems](../guides/integration-and-best-practices/build-integration.md) to include tests in your CI/CD.
- Read the detailed [Testing Reference](../reference/testing.md#value-parameterized-tests) to deepen understanding.

---

## References

- [GoogleTest Primer](https://google.github.io/googletest/primer.html)
- [Testing Reference: Value-Parameterized & Typed Tests](../reference/testing.md#TEST_P)
- [Advanced Guide: Value-Parameterized & Typed Tests](../advanced.md#value-parameterized-tests)

---

This guide helps you efficiently test your code by leveraging parameterized and typed tests, enabling your test suite to handle diverse inputs and types through clear, maintainable code patterns.