---
title: "Parameterized and Typed Tests"
description: "Shows how to construct tests that run automatically with varied data or types. Helps maximize test coverage with minimal boilerplate using value- and type-parameterized patterns."
---

# Parameterized and Typed Tests

GoogleTest empowers you to write concise, scalable tests that automatically run across varied data and types. This page guides you through creating **value-parameterized** and **typed tests**, enabling broad coverage with minimal boilerplate. By embracing these techniques, you ensure your code is robust against diverse inputs and type variations, while keeping your test suite maintainable.

---

## Why Use Parameterized and Typed Tests?

Imagine you have a function that should behave correctly under many scenarios — for example, processing integers, strings, or custom types, or running the same logic for different input values. Writing separate tests for each case quickly becomes tedious and error-prone. Parameterized and typed tests allow you to write the test logic once and run it automatically over a matrix of inputs or types.

- **Value-Parameterized Tests**: Run the same test logic with a range of values.
- **Typed Tests**: Run the same test suite logic with different C++ types.

These patterns help maximize test coverage with minimal duplication and increased clarity.

---

## 1. Value-Parameterized Tests

### Overview

Value-parameterized tests let you define a test fixture that accepts parameters. Each test runs once for each parameter, automating data-driven testing. 

### Prerequisites
- Basic familiarity with writing GoogleTest fixtures and tests.
- Have `#include <gtest/gtest.h>` included and your project configured for GoogleTest.

### Expected Outcome
By following the workflow, you'll have tests that run repeatedly, each time with a different input value or parameter, showing results specific to that parameter.

### Time Estimate
10–20 minutes to create and run your first value-parameterized tests.

### Difficulty Level
Beginner to Intermediate

### Workflow

<Steps>
<Step title="Define Your Test Fixture">
Create a fixture class inheriting from `testing::TestWithParam<T>` where `T` is your parameter type. This allows access to the current test parameter via `GetParam()`.

```cpp
class FooTest : public testing::TestWithParam<int> {
  // Optional: Setup/teardown and helpers
};
```
</Step>

<Step title="Write Parameterized Tests Using `TEST_P`">
Define your test functions using `TEST_P(FooTest, TestName)`. Inside these tests, access the parameter using `GetParam()`.

```cpp
TEST_P(FooTest, IsEven) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0);
}
```
</Step>

<Step title="Instantiate Test Suite with Parameters">
Use the `INSTANTIATE_TEST_SUITE_P` macro to specify the set of parameters your tests should run against.

```cpp
INSTANTIATE_TEST_SUITE_P(EvenNumbers, FooTest,
                         testing::Values(2, 4, 6, 8));
```

This runs `FooTest.IsEven` once for each parameter: 2, 4, 6, and 8.

You can also use generators like `Range`, `ValuesIn`, or `Combine` for complex parameter sets.
```
INSTANTIATE_TEST_SUITE_P(
  MyRange, FooTest, testing::Range(10, 15));  // 10, 11, 12, 13, 14
```
</Step>
</Steps>

### Important Notes

- The **first argument** of `INSTANTIATE_TEST_SUITE_P` is a unique prefix for the test instance group.
- Tests instantiated with parameterized fixtures are named with the pattern `InstancePrefix/TestSuiteName.TestName/i` where `i` is the parameter index.
- If you have parameterized tests without instantiation, GoogleTest will report failures. Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(FooTest);` to suppress if needed.

### Advanced Usage

- You can instantiate the same test suite multiple times with different parameter generators.
- Use a *custom naming function* in `INSTANTIATE_TEST_SUITE_P` to replace default parameter indexing with meaningful test names.

```cpp
INSTANTIATE_TEST_SUITE_P(
  CustomNames, FooTest, testing::Values(1, 2, 3),
  [](const testing::TestParamInfo<int>& info) {
     return std::to_string(info.param) + "_param";
  });
```

### Example
```cpp
class IsPrimeTest : public testing::TestWithParam<int> {};

TEST_P(IsPrimeTest, CheckPrime) {
  int n = GetParam();
  EXPECT_TRUE(IsPrime(n));
}

INSTANTIATE_TEST_SUITE_P(Primes, IsPrimeTest, testing::Values(2, 3, 5, 7, 11));
```


---

## 2. Typed Tests

### Overview

Typed tests allow you to write a test suite that runs for various C++ types. This is ideal when you want to verify that several types satisfy the same interface or general behavior without duplicating test logic.

### Prerequisites
- Familiarity with C++ templates and GoogleTest fixtures.
- Include `#include <gtest/gtest.h>` in your code.

### Expected Outcome
Tests run once for each specified type, letting you validate behavior across types with unified code.

### Time Estimate
15–30 minutes depending on template familiarity.

### Difficulty Level
Intermediate

### Workflow

<Steps>
<Step title="Define a Fixture Class Template">
Create a test fixture template class, templated by `typename T`, derived from `testing::Test`.

```cpp
template <typename T>
class NumericTest : public testing::Test {
 public:
  T value = T();
};
```
</Step>

<Step title="Specify Type List and Associated Test Suite">
Define a `using` alias with `testing::Types<Type1, Type2, ...>`. Then associate it with your test fixture using `TYPED_TEST_SUITE`.

```cpp
using MyTypes = testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericTest, MyTypes);
```
</Step>

<Step title="Write Typed Tests using `TYPED_TEST`">
Define typed test cases using `TYPED_TEST` instead of `TEST_F`. Use the special name `TypeParam` inside the test as the current test type.

```cpp
TYPED_TEST(NumericTest, IsZeroInitially) {
  TypeParam val = this->value;
  EXPECT_EQ(val, 0);
}
```
</Step>
</Steps>

### Example

```cpp
template <typename T>
class ContainerTest : public testing::Test {
 protected:
  std::vector<T> values{T(), T(1), T(2)};
};

using TestTypes = testing::Types<int, float, double>;
TYPED_TEST_SUITE(ContainerTest, TestTypes);

TYPED_TEST(ContainerTest, SizeIsThree) {
  EXPECT_EQ(this->values.size(), 3);
}

TYPED_TEST(ContainerTest, FirstElementIsDefault) {
  EXPECT_EQ(this->values[0], TypeParam());
}
```


---

## 3. Type-Parameterized Tests

Type-parameterized tests combine advantages of typed tests and parameterized tests. They allow you to define a test suite template and register typed tests independently, then instantiate the suite with types later.

### Key Points
- Define your fixture template.
- Use `TYPED_TEST_SUITE_P` and `TYPED_TEST_P` to declare and define tests (note the trailing underscore P).
- Register test names with `REGISTER_TYPED_TEST_SUITE_P`.
- Instantiate the test suite with types via `INSTANTIATE_TYPED_TEST_SUITE_P`.

### Example

```cpp
template <typename T>
class FooTest : public testing::Test {
  // ...
};

TYPED_TEST_SUITE_P(FooTest);

TYPED_TEST_P(FooTest, DoesSomething) {
  TypeParam value = 0;
  // ...
}

// Register tests
REGISTER_TYPED_TEST_SUITE_P(FooTest, DoesSomething);

// Instantiate
using MyTypes = testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, FooTest, MyTypes);
```

---

## 4. Best Practices

- Use parameterized tests for different input values of the same type.
- Use typed tests for testing multiple types with the same behavior.
- Prefer readable parameter names by customizing test name suffixes.
- Avoid overly complex parameter sets that reduce test clarity.
- Keep tests focused on one concept per parameterized test.

---

## 5. Troubleshooting

- If your `TEST_P` tests show failures due to no instantiations, confirm you have `INSTANTIATE_TEST_SUITE_P` calls.
- When using typed tests, ensure your test fixture is properly templated and `TYPED_TEST_SUITE` is declared before `TYPED_TEST`s.
- If tests do not run as expected, check for correct linkage and that GoogleTest initialization (`InitGoogleTest`) and `RUN_ALL_TESTS` are called.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` to suppress errors for test suites intentionally left uninstantiated.

---

## 6. Further Reading & Related Guides

For deeper insight and extended use cases, explore these documentation pages:

- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests)
- [Typed Tests](../advanced.md#typed-tests)
- [Type-Parameterized Tests](../advanced.md#type-parameterized-tests)
- [Writing Your First Test](../../guides/getting-started/writing-your-first-test)
- [Test Discovery and Assertions](../../overview/feature-summary-and-workflows/test-discovery-assertions)

---

By mastering parameterized and typed tests, you will minimize test redundancy while maximizing coverage and clarity — essential for scaling robust C++ testing.

---

## References

- [GoogleTest Primer](../../docs/primer.md)
- [Testing Reference: TEST_P, INSTANTIATE_TEST_SUITE_P, TYPED_TEST_SUITE](../../docs/reference/testing.md)
- [Advanced Features: Parameterized & Death Tests](../overview/feature-summary-and-workflows/advanced-features-parameterization)
