---
title: "Writing Your First Tests"
description: "Step-by-step instructions to write basic unit tests in GoogleTest, covering the use of TEST macros, basic assertions, and best practices for naming and organizing test cases. Suitable for newcomers building their foundational testing knowledge."
---

# Writing Your First Tests

Welcome to your first step in mastering GoogleTest! This guide will take you through the essentials of writing basic unit tests using GoogleTest's `TEST` macros and fundamental assertions. By the end, you will have a solid foundation in structuring and naming your tests to build reliable, maintainable test suites.

---

## 1. Understanding What This Guide Will Help You Achieve

- **Task Description:** Learn how to write your first C++ unit tests using GoogleTest.
- **Prerequisites:** 
  - GoogleTest installed and properly configured in your build environment.
  - Basic knowledge of C++ programming.
- **Expected Outcome:**
  - Create simple, functional test suites using the `TEST` macro.
  - Use basic assertions to verify expected code behavior.
  - Understand conventions for test naming and organization.
- **Time Estimate:** Approximately 15-30 minutes.
- **Difficulty Level:** Beginner

---

## 2. Step-by-Step Instructions for Writing Your First Tests

### Step 1: Writing a Simple Test Function Using `TEST`

GoogleTest groups tests into *test suites*, each containing individual *tests*. To define a test:

1. Use the `TEST(TestSuiteName, TestName)` macro.
2. Implement your test code inside the macro body.

```cpp
// A simple test to check factorial of 0.
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}
```

> **Expected Result:** You have defined a test called `HandlesZeroInput` inside the test suite `FactorialTest`.

### Step 2: Add More Assertions

Add more tests inside the same suite or in a new suite.

```cpp
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
}
```

> **Outcome:** You now can test multiple scenarios in your code.

### Step 3: Use Assertions to Verify Behavior

The basic assertion macros you will frequently use are:

| Macro          | Purpose                            | Behavior on Failure                     |
|----------------|----------------------------------|----------------------------------------|
| `EXPECT_TRUE`  | Fail if condition is false        | Non-fatal (test continues)              |
| `ASSERT_TRUE`  | Fail if condition is false        | Fatal (aborts current test)             |
| `EXPECT_EQ`    | Check if two values are equal     | Non-fatal                              |
| `ASSERT_EQ`    | Check if two values are equal     | Fatal                                 |

Example:

```cpp
TEST(MathTest, BasicComparisons) {
  int a = 5;
  int b = 5;
  EXPECT_EQ(a, b) << "a and b should be equal";
  ASSERT_TRUE(a == b);
}
```

> **Verification:** Failures will generate clear messages with file and line numbers.

### Step 4: Compile and Run Your Tests

Make sure your build system compiles the test file with necessary flags and links against GoogleTest libraries. Then, run your test executable.

```shell
./my_test_executable
```

You should see output indicating which tests passed or failed.

### Step 5: Naming and Organizing Tests Properly

- Avoid underscores (`_`) in test suite and test names to prevent name collisions and compatibility issues.
- Use descriptive names that clearly communicate the test's intention.
- Group related tests in the same test suite.

Example:

```cpp
TEST(StringUtils, ReturnsEmptyForNullInput) {
  EXPECT_EQ(MyStringLength(nullptr), 0);
}
```

> **Tip:** Consistent naming improves maintainability and helps test filtering.

---

## 3. Examples & Complete Test File

```cpp
#include <gtest/gtest.h>

// Sample function to test
int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n - 1);
}

// Tests for Factorial
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Run this after building, and GoogleTest will report detailed test results.

---

## 4. Troubleshooting & Best Practices

### Common Issues

- **Compilation errors**: Ensure you include `<gtest/gtest.h>` and link against the GoogleTest library.
- **Tests not running**: Confirm tests are linked into your executable and that your test executable calls `RUN_ALL_TESTS()`.
- **Assertion failures unclear**: Provide custom failure messages using streaming (`<<`) to clarify.

### Best Practices

- Prefer `EXPECT_*` for soft checks, allowing multiple assertions per test.
- Use `ASSERT_*` when failure should abort the current test path early.
- Keep tests small, focused, and independent.
- Use descriptive test and suite names.

### Performance Considerations

For very large test suites, consider dividing tests into separate suites and selectively running subsets.

### Alternative Approaches

As you advance, explore `TEST_F` for using fixtures that share setup, and parameterized tests (`TEST_P`) for running tests with multiple inputs.

---

## 5. Next Steps & Related Content

- Read [Building and Running Tests](../getting-started/first-steps-validation/build-run-tests.md) to learn how to compile and execute tests.
- Explore the [Assertions Reference](../docs/reference/assertions.md) for detailed assertion macros.
- Advance to [Using Fixtures](primer.md#same-data-multiple-tests) to improve test reuse.
- Dive into [Parameterized and Typed Tests](../guides/real-world-usage-and-best-practices/parameterized-and-typed-tests.md) for data-driven testing.


---

## Additional Resources

- [GoogleTest Primer](primer.md) – an in-depth introduction
- [GoogleTest Advanced Topics](advanced.md) – for sophisticated testing needs
- [Mocking with GoogleMock](googlemock/README.md) – for integration of mocks


<Check>
Remember to compile your test binary correctly and call `RUN_ALL_TESTS()` in your `main()` function to execute tests.
</Check>

---

Congrats! You've just taken your first step into writing tests with GoogleTest.

