---
title: "Typed Tests and Type-Parameterization"
description: "Learn to use typed and type-parameterized test infrastructure to efficiently validate generic code across types. Includes patterns for maintaining type lists and maximizing reusability."
---

# Typed Tests and Type-Parameterization

GoogleTest offers powerful typed and type-parameterized test infrastructures designed to help you efficiently validate generic code against multiple types with minimal duplication. This guide walks you through writing, registering, and instantiating such tests while adhering to best practices that maximize reusability and maintainability.

---

## 1. Understanding Typed Tests

Typed tests let you define a test fixture template parameterized by a type and run a suite of tests repeatedly for each type in a predefined list. This approach is ideal when you know exactly which types you want to test at compile time.

### What You Achieve

- Write generic tests once, run on different types
- Verify interface compliance and common behavior across types
- Simplify test maintenance and enhance coverage

### Prerequisites

- Basic understanding of GoogleTest fixtures and TEST_F macros
- C++ template programming familiarity

### Basic Workflow

<Steps>
<Step title="Define the Fixture Class Template">
Create a test fixture template deriving from `::testing::Test`:

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
  // Test setup if needed
};
```
</Step>
<Step title="Associate a List of Types">
Use `::testing::Types<>` to specify types and register with `TYPED_TEST_SUITE`:

```cpp
using MyTypes = ::testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```
</Step>
<Step title="Define Typed Tests with `TYPED_TEST`">
Write tests using `TYPED_TEST`, where `TypeParam` represents the current type:

```cpp
TYPED_TEST(MyTypedTest, DoesSomething) {
  TypeParam value{};
  // Test code using TypeParam
}
```
</Step>
</Steps>

### Example: Vector Size Test

```cpp
template <typename T>
class VectorTest : public ::testing::Test {};

using TestTypes = ::testing::Types<std::vector<int>, std::vector<double>>;
TYPED_TEST_SUITE(VectorTest, TestTypes);

TYPED_TEST(VectorTest, IsEmptyInitially) {
  TypeParam v;
  EXPECT_EQ(0U, v.size());
}
```

### Declaring Custom Type Names

To get more readable test suite names per type, specify a custom name generator class with a templated static function `GetName(int)`:

```cpp
class CustomTypeNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, int>) return "Int";
    if constexpr (std::is_same_v<T, double>) return "Double";
    return "Unknown";
  }
};

TYPED_TEST_SUITE(VectorTest, TestTypes, CustomTypeNames);
```

## 2. Exploring Type-Parameterized Tests

Type-parameterized tests are a flexible generalization where test patterns are defined *without* fixed type parameters. Tests are declared, registered, and instantiated separately, letting multiple translation units instantiate the tests with different types.

This approach supports scenarios like abstract interface compliance testing where implementations vary.

### Key Concepts

- Define fixture templates
- Define test patterns with `TYPED_TEST_P`
- Register tests using `REGISTER_TYPED_TEST_SUITE_P`
- Instantiate with `INSTANTIATE_TYPED_TEST_SUITE_P`

### Basic Workflow

<Steps>
<Step title="Define the Test Fixture Template">
```cpp
template <typename T>
class MyTypeParamTest : public ::testing::Test {
  // Optionally add common functionality
};
```
</Step>
<Step title="Declare the Type-Parameterized Test Suite">
```cpp
TYPED_TEST_SUITE_P(MyTypeParamTest);
```
</Step>
<Step title="Define Tests with `TYPED_TEST_P`">
```cpp
TYPED_TEST_P(MyTypeParamTest, DoesAction) {
  TypeParam value{};
  // Add assertions
}

TYPED_TEST_P(MyTypeParamTest, HasProperty) {
  // Additional tests
}
```
</Step>
<Step title="Register Tests">
```cpp
REGISTER_TYPED_TEST_SUITE_P(MyTypeParamTest, DoesAction, HasProperty);
```
</Step>
<Step title="Instantiate the Test Suite">
```cpp
using ImplTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyImpls, MyTypeParamTest, ImplTypes);
```
</Step>
</Steps>

### Example: Numeric Interface Test

```cpp
template <typename T>
class NumericTest : public ::testing::Test {};

TYPED_TEST_SUITE_P(NumericTest);

TYPED_TEST_P(NumericTest, DefaultIsZero) {
  EXPECT_EQ(0, TypeParam());
}

TYPED_TEST_P(NumericTest, ZeroLessThanOne) {
  EXPECT_LT(TypeParam(0), TypeParam(1));
}

REGISTER_TYPED_TEST_SUITE_P(NumericTest, DefaultIsZero, ZeroLessThanOne);

using NumericTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, NumericTest, NumericTypes);
```

### Custom Names for Type-Parameterized Tests

You can specify a custom name generator when instantiating:

```cpp
class NumericNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, int>) return "Int";
    if constexpr (std::is_same_v<T, double>) return "Double";
  }
};

INSTANTIATE_TYPED_TEST_SUITE_P(Custom, NumericTest, NumericTypes, NumericNames);
```

## 3. Advanced Patterns

### Deriving from a Common Base

You may define a non-template base fixture and derive multiple typed or type-param fixtures for shared logic.

### Mixing Typed and Type-Parameterized Tests

You can have typed tests and type-parameterized tests coexist, using the approach best suited for your use case.

### Combining with Value-Parameterized Tests

For complex scenarios, consider combining typed or type-parameterized tests with value-parameterized tests to cover a broad matrix of inputs and types.

## 4. Best Practices and Common Pitfalls

- Always ensure your fixture class template has a public default constructor accessible to GoogleTest.
- Define all test cases **before** calling `REGISTER_TYPED_TEST_SUITE_P`.
- When using type-parameterized tests, remember that the defined patterns are abstract until instantiated.
- Avoid underscores in test suite and test names to prevent run-time conflicts and errors.
- Use custom name generators to improve readability and test diagnostics.
- Declare `SetUpTestSuite()` and `TearDownTestSuite()` as `public` if you use them in parameterized tests.
- Donâ€™t mix `TEST_F` and `TEST` macros in the same test suite (fixture class) to avoid runtime errors.

## 5. Troubleshooting

- If you get linker errors about missing default constructors on your fixture, add an explicit default constructor.
- If your typed or type-parameterized tests do not run, verify that test definitions appear before registration macros.
- For obscure runtime errors about test suite fixture types, verify that all tests in a suite use the same fixture class.
- Use `SCOPED_TRACE` or `testing::ScopedTrace` to add trace logs inside tests for easier debugging.

## 6. Summary Diagram of the Typed and Type-Parameterized Test Workflow

```mermaid
flowchart TD
  A[Define Fixture Template]
  B[Define List of Types]<br/>(typed tests only)
  C[Declare Test Patterns]<br/>(type-parameterized only)
  D[Define Tests using TYPED_TEST or TYPED_TEST_P]
  E[Register Tests]<br/>(type-parameterized only)
  F[Instantiate Test Suite]

  subgraph Typed Tests
    A --> B --> D --> F
  end

  subgraph Type-Parameterized Tests
    A --> C --> D --> E --> F
  end

  classDef process fill:#bbf,stroke:#333,stroke-width:2px;
  class A,B,C,D,E,F process;
```

## 7. Related Documentation

- [Writing Parameterized Tests](../guides/parameterized-and-typed-tests/writing-parameterized-tests.md) - complements typed tests by covering value-parameterized tests
- [Core Testing Concepts](../overview/core_fundamentals/core_concepts.md) - foundational testing ideas
- [Testing Reference](../docs/reference/testing.md) - definitions of the test macros and classes
- [GoogleTest Primer](../docs/primer.md) - start here if you're new to GoogleTest

## 8. Next Steps

Once you understand typed and type-parameterized tests:

- Explore writing parameterized tests to handle more complex input domains
- Learn about mock usage to isolate dependencies
- Dive into best practices for test maintenance and performance

---

### Useful Code Links

<Source url="https://github.com/google/googletest" paths={[{"path": "googletest/include/gtest/gtest-typed-test.h", "range": "1-269"},{"path": "googletest/test/gtest-typed-test_test.cc", "range": "1-265"}]} />



