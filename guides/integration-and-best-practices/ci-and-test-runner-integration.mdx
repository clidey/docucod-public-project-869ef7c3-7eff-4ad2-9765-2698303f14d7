---
title: "Integrating with CI & Test Runners"
description: "Connect GoogleTest with popular CI systems and external test runners. See how to generate machine-readable output, use test adapters, and connect with tools like gtest-parallel and VSCode extensions to maximize productivity."
---

# Integrating with CI & Test Runners

GoogleTest offers flexible integration options with continuous integration (CI) systems and external test runners, enabling you to automate test executions at scale while maintaining visibility into results. This guide walks you through methods for generating machine-readable outputs, connecting GoogleTest with popular CI tools and test adapters, and leveraging auxiliary tools that maximize your productivity.

---

## 1. Workflow Overview

- **Task Description:** Learn how to integrate your GoogleTest test binaries with CI systems and test runners, generate result reports in standard formats, and utilize test adapters to enhance usability.
- **Prerequisites:**
  - A working GoogleTest test binary compiled with GoogleTest.
  - Familiarity with running tests from the command line.
  - Basic understanding of your CI system’s configuration (e.g., Jenkins, GitHub Actions).
- **Expected Outcome:**
  - Ability to run GoogleTest tests automatically on your CI system.
  - Generate XML output for test reports compatible with CI dashboards.
  - Integrate GoogleTest tests with external runners and IDE extensions.
- **Time Estimate:** ~20-30 minutes setup
- **Difficulty Level:** Intermediate

---

## 2. Step-by-Step Instructions

### Step 1: Generating Machine-Readable Output for CI

GoogleTest can output test results in XML format that many CI systems understand.

1. **Run your test binary with the `--gtest_output=xml` flag**:

   ```bash
   ./your_test_binary --gtest_output=xml:report.xml
   ```

   This command generates an XML report at `report.xml`.

2. **Verify XML report contents:**
   - The report contains detailed info about test suites, test cases, pass/fail status, and durations.
   - Compatible with CI plugins like Jenkins JUnit Reporter.

3. **Configure your CI system to collect and display the report.** For example, in Jenkins, use the ‘Publish JUnit test result report’ post-build action linked to your report XML.

---

### Step 2: Using Test Adapters and Extensions

Improving your testing workflow by integrating GoogleTest with IDE extensions and test runners:

- **VS Code GoogleTest Adapter:**
  - Install the [GoogleTest Adapter extension](https://marketplace.visualstudio.com/items?itemName=DavidSchuldenfrei.gtest-adapter).
  - Configure it to point to your test executable.
  - Use tree views to browse, run, and debug tests interactively.

- **C++ TestMate Extension:**
  - Alternative VS Code extension supporting GoogleTest, allowing similar capabilities with debugging and inline test status.

- **gtest-parallel:**
  - Use [gtest-parallel](https://github.com/google/gtest-parallel) to run your tests concurrently, speeding up execution.
  - Simple usage:

    ```bash
    gtest-parallel ./your_test_binary
    ```

  - Integrate this into your CI script to reduce test time.

---

### Step 3: Connecting with External Test Runners

If your CI or test infrastructure uses specific test runners or protocols:

- **TAP Output:**
  - Consider using event listeners like [gtest-tap-listener](https://github.com/kinow/gtest-tap-listener) that output results in the Test Anything Protocol (TAP) format.
  - Useful if your infrastructure supports TAP natively.

- **Custom Event Listeners:**
  - Write your own event listener by subclassing `testing::TestEventListener` to produce custom output formats.
  - Register the listener through the GoogleTest event listener API to collect and serialize events as needed.

---

### Step 4: Automating Test Execution in CI Pipelines

1. **Add test execution to your CI script:**

   - Use your build pipeline to compile the test binaries.
   - Invoke the test binary with CLI flags to generate XML reports:

     ```bash
     ./your_test_binary --gtest_output=xml:results/report.xml
     ```

2. **Publish test results:**
   - Configure the CI system’s test report publisher/plugin to consume the generated XML.

3. **Optional Flags to tune execution:**
   - `--gtest_filter=Pattern` to run specific tests.
   - `--gtest_shuffle` to randomize test order.
   - `--gtest_repeat=N` to run tests multiple times.

4. **Handle failures:**
   - CI jobs should parse exit codes from `RUN_ALL_TESTS()`.
   - Zero exit means all tests passed; non-zero means failures.

---

## 3. Examples & Usage Scenarios

### Example: Running Tests and Exporting XML for Jenkins

```bash
./my_tests --gtest_output=xml:build/test-results/gtest.xml
```

Configure Jenkins with the JUnit plugin to read the `gtest.xml` from the workspace.

### Example: Using gtest-parallel to Accelerate Tests

```bash
gtest-parallel ./my_tests --gtest_shuffle
```

Run tests concurrently while randomizing order.

### Example: Customizing Output with Event Listeners

```cpp
class MyCustomListener : public testing::EmptyTestEventListener {
 public:
  void OnTestEnd(const testing::TestInfo& test_info) override {
    if(test_info.result()->Passed()) {
      std::cout << "Test " << test_info.name() << " passed.\n";
    }
  }
};

int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  testing::UnitTest& unit_test = *testing::UnitTest::GetInstance();

  auto& listeners = unit_test.listeners();
  delete listeners.Release(listeners.default_result_printer());
  listeners.Append(new MyCustomListener);

  return RUN_ALL_TESTS();
}
```

Replace default output with a custom minimal report.

---

## 4. Troubleshooting & Tips

<AccordionGroup title="Common Issues and Recommendations">
<Accordion title="1. No XML Output Generated">
- Verify that `--gtest_output=xml:<path>` is correctly passed.
- Confirm the test binary finishes execution and produces no early crashes.
- Check write permissions on the output directory.
</Accordion>
<Accordion title="2. CI Does Not Show Test Results">
- Confirm your CI plugin supports GoogleTest’s XML report format.
- Ensure paths specified in your CI settings point to the actual XML report location.
- Use post-build steps to archive test result files.
</Accordion>
<Accordion title="3. Long Test Execution Times in CI">
- Use `gtest-parallel` to leverage concurrency.
- Adjust test filters to run only relevant subsets during CI.
</Accordion>
<Accordion title="4. Debugging Failing Tests in CI">
- Use `--gtest_break_on_failure` to halt on failures during manual runs.
- Configure verbose logging or redirect stdout/stderr to files.
- Use VS Code adapters for debugging locally before CI runs.
</Accordion>
</AccordionGroup>

<Tip>
Always check the exit code of your test binaries in CI pipelines. A zero exit code means all tests passed, while a non-zero exit indicates failure. Use GoogleTest flags like `--gtest_filter` to isolate failing tests.
</Tip>

---

## 5. Next Steps & Related Content

- Explore the [Running and Interpreting Your Tests](../guides/gtest-core-guides/running-tests.md) guide for more on command line options.
- Consult [Integrating GoogleTest with Your Build System](../guides/integration-and-best-practices/build-integration.md) for how to embed tests in build workflows.
- Learn about test parametrization in the [Parameterized Tests](../guides/advanced-testing-features/parameterized-tests.md) guide to cover complex test scenarios.
- Check [Optimizing Test Suite Performance](../guides/integration-and-best-practices/test-performance.md) to reduce CI runtime.

---

## Summary

This page equips you with practical steps and best practices for integrating GoogleTest into your continuous integration pipelines and external test runners. You will generate standardized XML test reports, use VS Code adapters for interactive test management, leverage parallel test execution with gtest-parallel, and customize output via event listeners. Troubleshooting advice ensures smooth CI execution and rapid diagnosis of test failures.

---

## References

- Official GitHub repo: [https://github.com/google/googletest](https://github.com/google/googletest)
- [GoogleTest Primer](../getting-started/first-run-validation/write-first-test.md)
- [Running and Interpreting Your Tests](../guides/gtest-core-guides/running-tests.md)
- [gtest-parallel](https://github.com/google/gtest-parallel)
- VS Code GoogleTest Adapter extension marketplace page

---

## Example Diagram: GoogleTest CI Integration Workflow

```mermaid
flowchart TD
  A[Build Test Binary] --> B{Run Test Binary}
  B -->|With --gtest_output=xml| C[Generate XML Report]
  B -->|Without XML flag| D[Console Output]
  C --> E[CI System Collects XML]
  D --> F[Console Logs Displayed]
  E --> G{Test Result Parser}
  F --> G
  G -->|Pass| H[Mark Build Passed]
  G -->|Fail| I[Mark Build Failed]
  H --> J[Notify Team]
  I --> J
  J --> K[End]

  subgraph Developer IDE
    L[VS Code / Test Adapter]
  end
  L -- Run/Debug Tests --> B

  subgraph Parallel Test Execution
    M[gtest-parallel]
  end
  M --> B

  click B href="/guides/gtest-core-guides/running-tests"
  click C href="/guides/integration-and-best-practices/ci-and-test-runner-integration"
```

This flowchart illustrates the execution flow from building test binaries, running tests with GoogleTest CLI flags to generate XML results, to CI test collection and feedback, including optional interactive IDE integration and parallel test execution.
