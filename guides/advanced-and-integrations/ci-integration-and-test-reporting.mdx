---
title: "Integrating with CI Pipelines and Generating Test Reports"
description: "Guides users through integrating GoogleTest into Continuous Integration environments, generating XML/JSON reports, and using commonly-supported formats for downstream analysis and tracking in DevOps or QA workflows."
---

# Integrating with CI Pipelines and Generating Test Reports

## Workflow Overview

### Task Description
This guide helps you seamlessly integrate GoogleTest into your Continuous Integration (CI) pipelines and generate detailed test reports in supported formats such as XML and JSON. You will learn how to configure test runs for automated environments and produce reports that can be consumed by DevOps and QA systems for analysis and tracking.

### Prerequisites
- A working GoogleTest test binary built and ready to run.
- Familiarity with running GoogleTest at the command line.
- Access to your CI environment configuration or pipeline scripts.

### Expected Outcome
By following this guide, you will be able to:
- Execute GoogleTest suites inside your CI workflow.
- Generate machine-readable test reports in XML or JSON.
- Configure report output locations suitable for downstream tools.
- Understand how to control test selection and output verbosity for CI needs.

### Time Estimate
10-20 minutes depending on your CI environment familiarity.

### Difficulty Level
Intermediate â€“ assumes basic knowledge of CI systems and command-line usage.

---

## Step-by-Step Instructions

### 1. Run Your GoogleTest Binary with Test Reports Enabled

GoogleTest supports emitting test reports in XML and JSON formats suitable for integration with various CI tools.

- **Generate an XML report:** Use the `--gtest_output` flag with the value `xml:<path>` to specify an output file.

```bash
./your_test_binary --gtest_output=xml:test-results.xml
```

- **Generate a JSON report:** Use the `--gtest_output` flag with the value `json:<path>`.

```bash
./your_test_binary --gtest_output=json:test-results.json
```

- **Generate the output in the current directory with default filenames:**

```bash
./your_test_binary --gtest_output=xml
# Output will be in './test_detail.xml'

./your_test_binary --gtest_output=json
# Output will be in './test_detail.json'
```

#### Expected Result
The test binary runs all tests (or the filtered subset) and produces a properly structured
report file conforming to jUnit-like XML or defined JSON schema.

---

### 2. Configure Your CI Pipeline to Capture Test Reports

Integrate the test execution command into your CI pipeline steps. Ensure the generated report file(s) are saved as build artifacts or passed to your CI test reporter plugin.

Example for popular CI platforms:

- **Jenkins:** Use the "Publish JUnit test result report" post-build action pointing to the XML report path.
- **GitLab CI/CD:** Add `artifacts` to your `.gitlab-ci.yml` for the report file and use `junit` reporter with the XML file.
- **GitHub Actions:** Use the `actions/upload-artifact` action to upload test reports. Consider using third-party actions for junit-report annotation.

#### Checkpoint
Verify the CI interface shows test results, including passed, failed, and skipped tests with detail.

---

### 3. Customize Test Runs for CI Efficiency

Leverage GoogleTest flags to optimize test runs in CI contexts:

- **Focus on a subset of tests:** Use `--gtest_filter=<pattern>` to run targeted tests.

```bash
./your_test_binary --gtest_filter=FooTest.* --gtest_output=xml:foo_test_results.xml
```

- **Avoid long runs:** Use `--gtest_repeat=<count>` to repeat tests multiple times for flakiness checks.
- **Stop on first failure:** Use `--gtest_fail_fast` flag to exit immediately on failure, reducing CI feedback time.
- **Include disabled tests if relevant:** `--gtest_also_run_disabled_tests` to include tests usually skipped.

#### Confirm
Run your adjusted test command locally to validate expected behavior before applying to CI.

---

### 4. Add Custom Properties to Test Reports

You can add metadata (key-value pairs) to your test output by calling `::testing::Test::RecordProperty()` in your tests.

```cpp
TEST_F(MyTestSuite, CustomPropertyExample) {
  // Test logic here
  ::testing::Test::RecordProperty("Environment", "Staging");
}
```

This information appears in generated XML/JSON reports as attributes and can be useful for filtering or annotating results in CI.


---

## Examples & Command Snippets

### Generating and Viewing an XML Report

```bash
./my_tests --gtest_output=xml:/tmp/test_results.xml
```

After this, you can view `/tmp/test_results.xml` or upload it to a CI server for processing.

### Filtering Tests and Generating JSON Report

```bash
./my_tests --gtest_filter=NetworkTests.* --gtest_output=json:/tmp/network_test_results.json
```

### Including Disabled Tests in the Report

```bash
./my_tests --gtest_also_run_disabled_tests --gtest_output=xml
```

---

## Troubleshooting & Tips

### Common Issues

- **No report generated:** 
  - Ensure the `--gtest_output` flag is specified with either `xml` or `json` and a valid path.
  - Make sure the test binary runs and exits normally.
- **Report file missing or empty:**
  - Verify your CI environment has correct permissions to write to the target directory.
  - If specifying a directory only (like `xml:output/reports/`), confirm the directory exists or allow test binary to create it.
- **CI tool does not recognize report format:**
  - Use XML output for wide compatibility, as many CI servers expect jUnit XML format.
  - Check for report file encoding or corruption.

### Best Practices

- Always specify the report output path explicitly in CI to avoid confusion.
- Use test filtering to reduce output size and focus on relevant tests.
- Enable test repeats for flaky test detection.
- Upload reports as artifacts so they persist beyond the test run.
- Use test naming conventions to organize and filter easily.

### Performance Considerations

- Generating detailed reports slightly increases runtime. Use only what you need.
- Running all tests on every check-in vs. nightly full runs can balance speed vs. coverage.

### Alternative Approaches

- Use GoogleTest event listeners if you require custom reporting formats.
- Consider third-party tools like `gtest-parallel` for faster test execution across shards.

---

## Next Steps & Related Content

- Explore [Writing Your First Unit Test](/guides/getting-started/writing-your-first-test) to ensure tests are authorable and stable.
- Read [Integration and Extensibility](/overview/architecture-concepts/integration-overview) for details on extending GoogleTest within CI and other tools.
- For deeper command-line options, see [Running Test Programs: Advanced Options](/docs/advanced.md#running-test-programs-advanced-options).
- When needing custom reports, review [Extending GoogleTest by Handling Test Events](/docs/advanced.md#extending-google-test-by-handling-test-events).
- When encountering CI issues, consult [Integration Troubleshooting](/faq/advanced-usage-optimization/integration-with-other-tools).

---

This guide empowers you to confidently bring GoogleTest into automated pipelines, unlocking rigorous testing and reliable feedback crucial for modern software development.