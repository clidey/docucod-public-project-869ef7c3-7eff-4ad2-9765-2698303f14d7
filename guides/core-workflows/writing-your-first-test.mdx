---
title: "Writing Your First Test"
description: "A beginner-friendly, step-by-step walkthrough for creating and running your first GoogleTest unit test—from setting up dependencies to running your tests and inspecting the results. Ideal for users new to C++ testing or migrating from other test frameworks."
---

# Writing Your First Test

A beginner-friendly, step-by-step walkthrough for creating and running your first GoogleTest unit test—from setting up dependencies to running your tests and inspecting the results. Ideal for users new to C++ testing or migrating from other test frameworks.

---

## Overview

This guide leads you through writing your first C++ unit test using GoogleTest, the industry-standard testing framework. You’ll learn how to set up a test file, define test cases, use assertions to verify behavior, compile your test, run it, and analyze the test output.

Whether you’re new to unit testing or transitioning from another framework, this guide ensures you start on solid ground with practical, working examples.

### What You Will Achieve

- Create your first GoogleTest test suite and test case
- Use basic assertions to validate code behavior
- Build and run your tests
- Understand how to interpret test results

### Prerequisites

- Basic knowledge of C++ programming
- GoogleTest installed and integrated into your build environment (see the Installation Methods guide)
- A C++ compiler supporting C++11 or later
- Familiarity with your build tool (e.g., CMake, Bazel, or manual compilation)

### Time Estimate

Allow about 20-30 minutes to complete this workflow from writing code to validating the test run.

### Skill Level

Beginner — aimed at developers stepping into unit testing with GoogleTest for the first time.

---

## Step-by-Step Instructions

<Steps>
<Step title="Create a Test File">
Create a new C++ source file for your tests, e.g., `foo_test.cpp`. This file will hold your test definitions.

**Outcome:** Your test source file is ready to accept test code.
</Step>

<Step title="Include GoogleTest Headers">
At the top of your test file, include the GoogleTest header to access testing macros and utilities:

```cpp
#include <gtest/gtest.h>
```

**Outcome:** Testing macros like `TEST()` become available.
</Step>

<Step title="Write Your First Test Case">
Define a new test case using the `TEST` macro. It requires two identifiers: the test suite name and the test name.

```cpp
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}
```

Replace `Factorial(0)` with the function or method call you want to test, and `1` with the expected result.

**Outcome:** A runnable test that checks a specific behavior.
</Step>

<Step title="Add More Tests as Needed">
Define additional tests in the same file for related behavior:

```cpp
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
}
```

This groups related tests under one logical suite `FactorialTest`.

**Outcome:** Better test coverage with grouped organization.
</Step>

<Step title="Compile Your Test Program">
Use your build system to compile the test source file. If you use CMake with GoogleTest, ensure you link against both GoogleTest and GoogleMock (if used).

A minimal command might look like:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include -pthread foo_test.cpp /path/to/libgtest.a -o foo_test
```

**Outcome:** Executable test binary produced.
</Step>

<Step title="Run Your Tests">
Execute your test binary. GoogleTest will automatically detect your tests and run them all.

```bash
./foo_test
```

You should see output listing passed and failed tests with summaries.

**Outcome:** Test results displayed on your console.
</Step>

<Step title="Interpret Test Results">
GoogleTest presents test results clearly:

- Tests passing show `[       OK ]` and pass counts
- Failures show `[  FAILED  ]` with details like assertion messages and line numbers

Investigate failures as needed and fix your code or test.

**Outcome:** Clear insight into your code’s correctness.
</Step>
</Steps>

---

## Code Examples

Here’s a complete minimal example of a GoogleTest test file for a simple factorial function:

```cpp
#include <gtest/gtest.h>

// Function under test
int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}

// Tests factorial of zero
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

// Tests factorial of positive numbers
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(4), 24);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This self-contained program defines tests and includes a `main()` function that initializes and runs them.

---

## Best Practices & Tips

- **Name test suites and tests meaningfully:** Use names reflecting the function and behavior under test (e.g., `FactorialTest` / `HandlesZeroInput`).
- **Start small and simple:** Begin with straightforward test cases before adding complexity or fixtures.
- **Run tests frequently:** Run your tests after writing to catch issues early.
- **Use assertions thoughtfully:** Prefer `EXPECT_` variants for non-fatal checks to allow multiple failures per run.
- **Keep tests independent:** Each test should work in isolation without relying on global or shared state.
- **Use test fixtures (with `TEST_F`) for shared setup:** When multiple tests require common setup or teardown.
- **Consult the Assertions Reference:** To maximize your effectiveness with assertions.

<Tip>
If you want to suppress warnings about uninteresting calls (mock methods called without explicit expectations) in the future, consider using `NiceMock` for your mock objects.
</Tip>

---

## Troubleshooting

### Tests Not Detected
- Verify test functions are defined with `TEST` or `TEST_F` macros.
- Ensure `RUN_ALL_TESTS()` is called in `main()` after `InitGoogleTest()`.

### Compiler Errors
- Confirm include path to `gtest/gtest.h` is correct.
- Make sure C++11 or later is enabled in your compiler with appropriate flags.

### Linking Errors
- Link against GoogleTest libraries (`libgtest.a` or `gtest.lib`) and pthread if on Unix.
- Check that the build system configuration correctly includes GoogleTest.

### Test Failures
- Read the detailed failure messages and line numbers.
- Use `--gtest_filter` to run specific tests for focused debugging.

### GoogleTest Initialization
- Always call `::testing::InitGoogleTest` with `argc` and `argv` before `RUN_ALL_TESTS`.

---

## Next Steps

- Explore **Test Fixtures** to share setup across multiple tests.
- Learn how to write **Assertions Effectively** for more complex validations.
- Look into **Parameterized Tests** to run the same test logic with multiple inputs.
- Read about **Building and Running Tests** guides to set up your build system with GoogleTest.
- If using mocks, investigate the **Creating and Using Mocks** guide to start working with GoogleMock.

---

## Additional Resources

- [GoogleTest Primer](../primer.md) — Learn foundational concepts and basics.
- [Assertions Reference](../api-reference/core-testing-apis/assertions-reference.md) — Full list of assertions.
- [Building and Running Tests](../getting-started/first-test-validation/building-and-running-tests.mdx) — Detailed build/run instructions.
- [Writing Your First Test Guide](../getting-started/first-test-validation/writing-your-first-test.mdx) — Extended guide with examples.
- [GoogleTest GitHub Repository](https://github.com/google/googletest) — Source, issues, and contributions.

---

_This guide focuses explicitly on writing and running your first test with GoogleTest._