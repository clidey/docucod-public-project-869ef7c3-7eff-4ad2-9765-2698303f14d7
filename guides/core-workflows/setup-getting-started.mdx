---
title: "Getting Started: Installation and Setup"
description: "Begin your journey with GoogleTest and GoogleMock by learning how to set up your project, configure build systems like CMake or Bazel, and verify your installation. This page walks you through initializing a test environment for both template and real-world projects."
---

# Getting Started: Installation and Setup

Welcome to your first step in harnessing the power of GoogleTest and GoogleMock. This guide is designed to walk you through setting up your testing project by configuring build systems like CMake or Bazel, incorporating GoogleTest and GoogleMock libraries, and verifying your installation. Whether you are starting with a template project or a real-world codebase, this page ensures your test environment is ready for productive development.

---

## 1. Workflow Overview

### What This Guide Helps You Accomplish
- Integrate GoogleTest and GoogleMock into your C++ project using build tools.
- Configure your build environment to properly compile and link tests.
- Verify that your installation and configuration are working correctly.

### Prerequisites
- A C++17 compatible compiler installed on your system (e.g. GCC, Clang, MSVC).
- CMake (version 3.14 or later) and/or Bazel installed, depending on your build system preference.
- Basic familiarity with your chosen build system.
- Access to GoogleTest and GoogleMock source code or installed libraries.

### Expected Outcome
By following this guide, you will have:
- A CMakeLists.txt or Bazel BUILD file set up to build tests with GoogleTest and GoogleMock.
- Test executables linked against GoogleTest and GoogleMock.
- A successful run of a test suite confirming your setup.

### Estimated Time Commitment
Approximately 15–30 minutes depending on familiarity and system setup.

### Difficulty Level
Beginner to Intermediate.

---

## 2. Step-by-Step Instructions

### Step 1: Prepare Your Environment
1. Ensure your system meets the requirements detailed in [System Requirements & Supported Platforms](../getting-started/prerequisites-installation/system-requirements).
2. Confirm that CMake or Bazel is installed and accessible from the command line.

### Step 2: Obtain GoogleTest and GoogleMock
- **Standalone build:** Clone the repository or download source from [GoogleTest GitHub](https://github.com/google/googletest).
- **Integration:** You may include the GoogleTest sources as a subdirectory in your own project, or use installed packages.

### Step 3: Configure with CMake
#### Option A: Build GoogleTest and GoogleMock Standalone
```bash
# Clone the repo
git clone https://github.com/google/googletest.git
cd googletest
mkdir build && cd build
# Generate build files including GoogleMock
cmake ..
# Build the libraries
cmake --build .
```

This builds both GoogleTest and GoogleMock. You can run `make install` to install them system-wide if desired.

#### Option B: Integrate GoogleTest into Your Existing CMake Project
Add the following snippet to your `CMakeLists.txt`:
```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/refs/tags/release-1.17.0.zip
)
FetchContent_MakeAvailable(googletest)

# Link against gtest and gmock libraries
add_executable(your_test test.cpp)
target_link_libraries(your_test gtest_main gmock_main)
add_test(NAME your_test COMMAND your_test)
```

### Step 4: Configure with Bazel
In your Bazel `BUILD` file, include GoogleTest and GoogleMock as dependencies:
```python
cc_test(
    name = "your_test",
    srcs = ["your_test.cpp"],
    deps = ["@com_google_googletest//:gmock_main"],
)
```
Ensure that your workspace declares the GoogleTest repository according to Bazel rules.

### Step 5: Writing a Simple Test
Create a file, e.g., `example_test.cpp`:
```cpp
#include <gtest/gtest.h>

TEST(SampleTest, AssertTrue) {
  ASSERT_TRUE(true);
}
```

### Step 6: Build and Run Your Tests
- With CMake, build your project and run test executables:
```bash
cmake --build build_dir
cd build_dir
./your_test
```
- With Bazel, simply run:
```bash
bazel test //path/to:your_test
```

### Step 7: Verify Success
The output should indicate `RUN_ALL_TESTS()` executing all registered tests.
An example terminal message:
```
Running main() from gmock_main.cc
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.AssertTrue
[       OK ] SampleTest.AssertTrue (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

<Check>
If you see failures or linkage errors, refer to the Troubleshooting section below.
</Check>

---

## 3. Best Practices & Tips

- **Link against `gtest_main` or `gmock_main`** unless you need a custom entry point.
- Call `testing::InitGoogleMock(&argc, argv);` in your main when writing a custom `main()`.
- Use `gmock_main` library to avoid writing your own `main()`; it calls `RUN_ALL_TESTS()` for you.
- Maintain consistent C++ standards (C++17+) across your project and GoogleTest build.
- For performance, include GoogleTest as a subdirectory in your project instead of building/installing separately.
- On Windows, watch for runtime library mismatches (e.g., dynamic vs static CRT); use the `gtest_force_shared_crt` option.
- Reference [Installation Instructions](../getting-started/prerequisites-installation/installation-instructions) for platform-specific details.

---

## 4. Troubleshooting

### Common Issues

| Problem                      | Solution                                         |
|-----------------------------|-------------------------------------------------| 
| Linker errors for gtest/gmock symbols | Ensure libraries are linked (gtest_main, gmock_main). If using CMake, check `target_link_libraries` includes these. |
| Missing headers             | Verify include directories point to GoogleTest and GoogleMock headers. |
| Build failures on Windows  | Check runtime library consistency, enable `gtest_force_shared_crt` if needed. |
| Tests don't run or are not discovered | Confirm `RUN_ALL_TESTS()` is invoked; link against `gtest_main` or provide a main with `InitGoogleTest`.

### Tips

- Run sample tests (see [Quick Validation & Sample Tests](../getting-started/configuration-initial-run/quick-validation)) to verify your setup.
- When customizing test runners, use `InitGoogleMock` to initialize both GoogleMock and GoogleTest.
- Inspect test executable output for messages starting with `Running main() from gmock_main.cc` to confirm correct entry point.

---

## 5. Next Steps

- Write your first real unit test following [Your First Unit Test](../getting-started/configuration-initial-run/first-test).
- Explore mocking dependencies with GoogleMock via [Mocking Dependencies with GoogleMock](../guides/core-workflows/using-mocks).
- Integrate tests into your build system for continuous testing from [Integrating Tests into Your Build System](../guides/core-workflows/integration-examples).
- Deepen your understanding of assertions and matchers in GoogleTest and GoogleMock API References.

---

## 6. Additional Examples

### Minimal `main()` with GoogleMock support

If you prefer to write your own `main()` for special handling, use this example:
```cpp
#include <gmock/gmock.h>
#include <gtest/gtest.h>

int main(int argc, char** argv) {
  ::testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Sample CMakeLists.txt Snippet

```cmake
cmake_minimum_required(VERSION 3.14)
project(MyTests CXX)

# Fetch GoogleTest
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/refs/tags/release-1.17.0.zip
)
FetchContent_MakeAvailable(googletest)

add_executable(MyTest example_test.cpp)
target_link_libraries(MyTest gtest_main gmock_main)

include(GoogleTest)
gtest_discover_tests(MyTest)
```

---

## References
- [Installation Instructions](../getting-started/prerequisites-installation/installation-instructions)
- [System Requirements & Supported Platforms](../getting-started/prerequisites-installation/system-requirements)
- [Quick Validation & Sample Tests](../getting-started/configuration-initial-run/quick-validation)
- [Using Mocks (gMock Cookbook)](../docs/gmock_cook_book.md)

---

<Note>
This guide focuses solely on installation and setup steps. For authoring tests, consult the relevant authoring guides.
</Note>

---

*Get up and running confidently with GoogleTest and GoogleMock — your foundation for effective C++ testing starts here.*
