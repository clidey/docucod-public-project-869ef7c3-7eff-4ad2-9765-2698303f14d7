---
title: "Writing and Running Your First Tests"
description: "Step-by-step guidance for authoring your initial test cases using GoogleTest. Includes how to define tests, make assertions, compile test binaries, and interpret test output. This guide is ideal for users new to testing or migrating from other frameworks."
---

# Writing and Running Your First Tests with GoogleTest

Welcome to your first step in mastering automated testing with GoogleTest, Google's powerful C++ testing framework. This guide will walk you through authoring your initial test cases, from defining tests and making assertions to compiling test binaries and interpreting test results. Whether you are new to testing or migrating from another framework, this practical workflow empowers you to start confidently.

---

## 1. Workflow Overview

### What This Guide Helps You Accomplish
- Author your first tests using GoogleTest's macros.
- Use assertions to verify your code behavior.
- Build and run your tests producing a clear test report.
- Understand how to interpret test output for debugging.

### Prerequisites
- GoogleTest installed and integrated with your C++ build system.
- Basic familiarity with C++ programming.
- Your project configured to compile and link GoogleTest libraries.

### Expected Outcome
You will have created and executed simple, passing and failing GoogleTest tests, understanding the roles of test suites, test names, and assertions.

### Estimated Time
Approximately 15-30 minutes to write, build, run, and review your first tests.

### Difficulty Level
Beginner

---

## 2. Step-by-Step Instructions

### Step 1: Create Your First Test Case

GoogleTest organizes tests into **test suites** and **tests**. Use the `TEST()` macro to declare your test.

```cpp
#include <gtest/gtest.h>

// Define a test suite "FactorialTest" and a test "HandlesZeroInput".
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);  // Expect that Factorial(0) returns 1
}

// Another test in the same suite
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

> **Note:** Both suite and test names must be valid C++ identifiers and should not include underscores `_` to avoid name conflicts.


### Step 2: Understand Assertions

Assertions are checks that verify your code’s expected behavior. They are your tests’ checkpoints.

- `EXPECT_*` macros generate **non-fatal failures** — the test will continue after the assertion.
- `ASSERT_*` macros generate **fatal failures** — the current test function aborts immediately on failure.

Example:

```cpp
EXPECT_EQ(Factorial(1), 1);    // Test continues if this fails.
ASSERT_NE(ptr, nullptr);       // Test aborts here if ptr is nullptr.
```

### Step 3: Build Your Test Binary

Assuming GoogleTest is properly installed and linked, compile your test source file with your C++ compiler. For example, using g++:

```bash
g++ -std=c++17 -isystem /path/to/gtest/include -pthread my_test.cc /path/to/libgtest.a /path/to/libgtest_main.a -o my_test
```

Replace `/path/to/gtest/` entries with the actual path to GoogleTest headers and libraries.

### Step 4: Run Your Tests

Execute your test binary:

```bash
./my_test
```

You will see output resembling:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
my_test.cc:12: Failure
Expected equality of these values:
  Factorial(2)
    Which is: 3
  2
[  FAILED  ] FactorialTest.HandlesPositiveInput (1 ms)
[----------] 2 tests from FactorialTest (1 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (1 ms total)
[  PASSED  ] 1 test.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] FactorialTest.HandlesPositiveInput
```

Failures show the source file, line number, the condition that failed, and the differing values.

### Step 5: Interpret Test Output

- **`[  PASSED  ]`** indicates the passed tests.
- **`[  FAILED  ]`** identifies which tests failed.
- Failure messages provide detailed diagnostic data.

Use this information to debug and fix errors in your code or tests.

### Step 6 (Optional): Use Fixtures For Shared Setup

When multiple tests require the same setup and teardown logic, use **test fixtures** with `TEST_F()`.

```cpp
class QueueTest : public testing::Test {
 protected:
  void SetUp() override {
    // prepare shared test data or objects
  }

  void TearDown() override {
    // clean up
  }

  Queue<int> q_;
};

TEST_F(QueueTest, IsEmptyInitially) {
  EXPECT_EQ(q_.size(), 0);
}

TEST_F(QueueTest, EnqueueAddsElements) {
  q_.Enqueue(1);
  EXPECT_EQ(q_.size(), 1);
}
```

---

## 3. Examples

### Complete Sample Test File

```cpp
#include <gtest/gtest.h>

// A simple factorial function for the test.
int Factorial(int n) {
  return n == 0 ? 1 : n * Factorial(n - 1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(4), 24);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### Notes

- The `main()` function initializes GoogleTest and runs all tests.
- Use descriptive test and suite names; they show up in test reports.

---

## 4. Troubleshooting & Tips

### Common Issues

- **Tests don’t run or are not discovered**: Check your test source is linked into your test binary.
- **Compilation errors with `TEST()` macros**: Ensure test and test suite names don't contain underscores `_`.
- **Missing `main()` errors**: Link against `gtest_main` or provide your own `main()` as shown.
- **Test binary runs but produces no output**: Confirm that `InitGoogleTest()` is called before `RUN_ALL_TESTS()`.

### Best Practices

- Use `EXPECT_` assertions to capture multiple errors simultaneously.
- Use `ASSERT_` assertions when a failure should halt the test immediately.
- Group related tests logically into test suites.
- Use fixtures (`TEST_F()`) when tests share common setup/teardown.
- Name tests clearly and avoid underscores for compatibility.

### Performance Considerations

- Keep tests lightweight and independent to run quickly.
- Share expensive set-up via fixtures carefully to avoid unintended side effects.

---

## 5. Next Steps & Related Content

### What’s Next?
- Explore [Organizing Test Suites and Test Discovery](/guides/core-workflows/organizing-test-suites) to manage larger test sets.
- Learn about [Writing Clear and Effective Assertions](/guides/integration-and-best-practices/writing-effective-assertions) to improve your test diagnostics.
- Discover [Advanced Testing Strategies](/guides/advanced-testing-strategies/parameterized-and-typed-tests) for more powerful test reuse.

### Additional Resources
- GoogleTest Primer: [docs/primer.md](https://github.com/google/googletest/blob/main/docs/primer.md)
- Assertions Reference: [docs/reference/assertions.md](https://github.com/google/googletest/blob/main/docs/reference/assertions.md)
- FAQ for common issues: [docs/faq.md](https://github.com/google/googletest/blob/main/docs/faq.md)

---

For comprehensive coverage on installation and set up, refer to the Getting Started guides:
- [Installation on Different Platforms](/getting-started/prerequisites-installation/installation-methods)
- [Setup and Project Integration](/getting-started/configuration-first-run/configuration-setup)

Embed yourself in the GoogleTest workflow with the rest of the documentation, progressively growing your testing expertise.

---

##### This concludes the foundational guide on authoring and running your first GoogleTest tests. Happy testing!
