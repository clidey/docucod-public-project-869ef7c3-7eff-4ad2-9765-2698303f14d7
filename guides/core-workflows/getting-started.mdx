---
title: "Getting Started with GoogleTest"
description: "A step-by-step guide to installing GoogleTest, adding it to your project via Bazel or CMake, and writing and running your first test. Perfect for users new to the framework, this walkthrough highlights initial setup, basic project integration, and the fundamental structure of a test case."
---

# Getting Started with GoogleTest

## Workflow Overview

### Task Description
This guide walks you through the entire initial journey of working with GoogleTest, the C++ testing framework. It covers installing GoogleTest, integrating it into your project using either Bazel or CMake, writing your first test case, and running that test to validate the setup. Ideal for users new to GoogleTest, it helps you confidently establish your first test and understand the frameworkâ€™s fundamental test structure.

### Prerequisites
- A compatible C++17 development environment (supported compilers and OS platforms).
- Basic knowledge of C++ and your build system (Bazel or CMake).
- Network access to fetch GoogleTest sources or binaries for installation.

### Expected Outcome
- GoogleTest installed and integrated into your project.
- A working test executable that runs your first GoogleTest unit test.
- Understanding of the basic structure of a GoogleTest test case.

### Time Estimate
Approximately 15 to 30 minutes depending on your environment setup and familiarity with build systems.

### Difficulty Level
Beginner

---

## Step-by-Step Instructions

### 1. Install GoogleTest

#### Using CMake
1. Clone the Googletest repository or download the release archive:

```bash
git clone https://github.com/google/googletest.git
```

2. Add Googletest as part of your CMake project using `add_subdirectory` or build and install it separately.

3. Refer to [Install with CMake](https://github.com/google/googletest/blob/main/googletest/README.md#cmake) for detailed instructions.

#### Using Bazel
1. Add the GoogleTest dependency in your `WORKSPACE` file:

```python
http_archive(
    name = "com_google_googletest",
    url = "https://github.com/google/googletest/archive/release-1.12.1.tar.gz",
    strip_prefix = "googletest-release-1.12.1",
)
```

2. Import the GoogleTest targets in your `BUILD` files.

3. Consult [Install with Bazel](https://docs.bazel.build/versions/main/tutorial/cpp.html#using-googletest) for exact usage.

### 2. Integrate GoogleTest into Your Project

#### Using CMake
1. Include GoogleTest headers using the `include_directories` or `target_include_directories` directive.
2. Link against `gtest` and `gtest_main` libraries.

Example snippet from your `CMakeLists.txt`:

```cmake
find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})
add_executable(my_tests test.cpp)
target_link_libraries(my_tests ${GTEST_LIBRARIES} pthread)
```

#### Using Bazel
1. In your test target, add dependency on `@com_google_googletest//:gtest` and `@com_google_googletest//:gtest_main`.

Example in `BUILD`:

```python
cc_test(
    name = "my_tests",
    srcs = ["test.cpp"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

### 3. Write Your First Test

1. Create a test file (e.g., `test.cpp`).
2. Include the GoogleTest header.

```cpp
#include <gtest/gtest.h>
```

3. Write a simple test case using the `TEST` macro:

```cpp
// Simple test function testing a trivial addition
TEST(SampleTestSuite, SimpleAddition) {
  EXPECT_EQ(1 + 1, 2);
}
```

This creates a test named `SimpleAddition` in the `SampleTestSuite`.

### 4. Write the `main()` function or Link with Provided Main

- If your build links against `gtest_main` or `gmock_main`, you do not need your own `main` function.

- Otherwise, write the following main function to initialize and run tests:

```cpp
int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### 5. Build Your Tests

Run your build tool to compile and link your test executable.

### 6. Run Tests and Interpret Results

Execute your test binary. You will see output reporting the progress and result of your tests.

Expected output snippet:

```shell
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTestSuite
[ RUN      ] SampleTestSuite.SimpleAddition
[       OK ] SampleTestSuite.SimpleAddition (0 ms)
[----------] 1 test from SampleTestSuite (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This confirms successful test execution.

---

## Example: Complete Minimal Test File

```cpp
#include <gtest/gtest.h>

// A basic test.
TEST(SampleTestSuite, SimpleAddition) {
  EXPECT_EQ(1 + 1, 2);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

---

## Tips & Best Practices

- Use meaningful test suite and test names that describe the behavior under test.
- Group related tests into test suites for better organization.
- When linking, prefer using `gtest_main` or `gmock_main` to avoid writing your own `main()`.
- Run tests frequently during development to detect regressions early.
- Use assertions like `EXPECT_EQ()` and `ASSERT_EQ()` appropriately to verify expected outcomes.
- Separate test code from production code for clean project structure.

## Troubleshooting

- If tests fail to run or link, verify include paths and linked libraries.
- Ensure you call `InitGoogleTest()` before `RUN_ALL_TESTS()`.
- Check compiler compatibility and C++17 support.
- If you see missing symbols related to `main()`, verify whether you linked against `gtest_main` or need to write your own `main()`.
- For detailed debugging, add the `--gtest_verbose=info` flag when running tests.

---

## Next Steps & Related Content

- Advance your knowledge with the [GoogleTest Primer](../primer.md) for deeper concepts.
- Explore adding mocks using GoogleMock in [Add Your First Mock (Optional)](../basic-setup-first-test/using-googlemock.md).
- Learn how to write more complex tests in [Writing and Running Tests](../../guides/core-workflows/writing-tests.md).
- For build system integration, see [Configure Your Project](../basic-setup-first-test/configure-project.md).
- Troubleshoot build and test issues with [Troubleshooting Common Issues](../../getting-started/troubleshooting-validation/common-issues.md).

---

## References

- Official GoogleTest repository and documentation: https://github.com/google/googletest
- [GoogleTest Primer](../primer.md)
- [GoogleMock for Dummies](../gmock_for_dummies.md)
- Bazel and CMake integration guides in the main repository

---

*This guide is your launchpad into effective C++ testing with GoogleTest. Start simple, build confidence, and scale your tests with the rich ecosystem GoogleTest offers.*