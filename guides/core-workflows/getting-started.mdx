---
title: "Getting Started: Write Your First Test"
description: "Learn how to create, build, and run your first C++ test using GoogleTest. This guide introduces the basic structure of a test, explains essential setup steps, and demonstrates how to verify code behavior with assertions."
---

# Getting Started: Write Your First Test

Learn how to create, build, and run your first C++ test using GoogleTest. This guide introduces the basic structure of a test, explains essential setup steps, and demonstrates how to verify code behavior with assertions.

---

## 1. Overview and Prerequisites

### What This Guide Helps You Accomplish
This guide walks you through the process of writing your very first test using GoogleTest. You will learn how to define simple test cases, build them using CMake, run tests, and interpret results. It is designed for users new to GoogleTest who want a practical start.

### What You Need Before Starting
- A C++17 capable compiler (GCC, Clang, MSVC)
- CMake (version 3.14 or later)
- Git installed to clone the repository
- Basic familiarity with C++ and terminal commands

### What You'll Achieve
By following this guide, you will have successfully:
- Cloned and built the GoogleTest framework
- Written a minimal, compiling C++ test
- Linked your test program against GoogleTest libraries
- Run the tests and seen passing output

### Estimated Time
Approximately 15-30 minutes, depending on your system setup.

### Skill Level
Beginner

---

## 2. Writing and Running Your First Test

### Step 1: Clone and Build GoogleTest
GoogleTest uses CMake for building binaries. Start by cloning the official repository and building it as a standalone project.

Open a terminal and run:

```bash
# Clone GoogleTest repository (version 1.17.0)
git clone https://github.com/google/googletest.git -b v1.17.0
db googletest

# Create a build directory and navigate into it
mkdir build && cd build

# Generate native build scripts with GoogleMock (included by default)
cmake ..

# Build the libraries
make
```

_On Windows_, you can open the generated `gtest.sln` with Visual Studio and build the solution.

_On macOS_, an `.xcodeproj` file is generated and can be opened in Xcode.

### Tip:
- To build only GoogleTest without GoogleMock, use `cmake .. -DBUILD_GMOCK=OFF`.

### Step 2: Write Your First Test File
Create a C++ source file named `first_test.cpp` with the following minimal test:

```cpp
#include <gtest/gtest.h>

// The simplest test, named "ExampleTest" and test case "Basic".
TEST(ExampleTest, Basic) {
  // Assert equality of values
  EXPECT_EQ(1 + 1, 2);
}
```

This test checks that `1 + 1` equals `2`.

### Step 3: Build Your Test Executable
Create a simple `CMakeLists.txt` file alongside your `first_test.cpp`:

```cmake
cmake_minimum_required(VERSION 3.14)
project(FirstTestProject LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Add your test executable
add_executable(first_test first_test.cpp)

# Link against GoogleTest (built from source in ../build)
target_link_libraries(first_test gtest_main)

# Enable CTest to run the tests
include(GoogleTest)
gtest_discover_tests(first_test)
```

Make sure your build directory is separate from source (e.g., create a directory `build_first_test`), then run:

```bash
cd build_first_test
cmake ..
make
```

### Step 4: Run the Tests
Run your test executable:

```bash
./first_test
```

You should see output like:

```text
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.Basic
[       OK ] ExampleTest.Basic (0 ms)
[----------] 1 test from ExampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This confirms your test passed successfully.

---

## 3. Understanding Test Anatomy and Best Practices

### The TEST Macro
- `TEST(TestSuiteName, TestName)` declares a test.
- Both names must be valid C++ identifiers without underscores.
- The first argument groups related tests; the second distinguishes the test.

### Assertions
- `EXPECT_EQ(val1, val2)` verifies *val1 == val2* and reports failure without stopping the test.
- Use `ASSERT_*` variants to abort tests on failure.

### Test Isolation
- Each test runs independently with separate fixture.
- They do not share state by default.

### Writing Clear Tests
- Name test suites and cases to reflect tested functionality.
- Keep tests focused on a single behavior.

### Example: Multiple Assertions

```cpp
TEST(MathTest, BasicArithmetic) {
  EXPECT_EQ(2 + 2, 4);
  EXPECT_NE(2 * 2, 5);
  EXPECT_LT(3, 10);
  EXPECT_GT(10, 3);
}
```

---

## 4. Tips and Common Pitfalls

### Common Issues
- Forgetting to link against `gtest` or `gtest_main` will cause linker errors.
- Omitting `testing::InitGoogleTest()` leads to tests not running correctly.
- Using non-virtual functions in mocks will not work as expected.

### Best Practices
- Use `gtest_main` target to automatically provide a proper `main()`.
- Always call `RUN_ALL_TESTS()` in your main function (handled by `gtest_main`).
- Write meaningful test names to describe tested behavior clearly.

### Quick Verification
If you encounter test failures or build issues:
- Ensure C++17 is enabled
- Check correct header includes (`#include <gtest/gtest.h>`)
- Verify linking libraries are correct

---

## 5. Next Steps & Additional Resources

### After You Write Your First Test
- Explore test fixtures to reuse common setup (`TEST_F` macros).
- Dive into writing assertions for complex data types.
- Learn to create and use mocks with GoogleMock.

### Related Documentation
- [GoogleTest Primer](../getting-started/overview-setup/basic-configuration.md) — for foundational concepts
- [Using Mocks](../guides/mocking-and-advanced-patterns/using-mocks.md) — to isolate dependencies
- [Integration with Build Systems & Tools](../overview/architecture_and_integration/integration_points.md) — for build environment setup
- [Troubleshooting Common Installation Issues](../getting-started/first-run-validation/troubleshooting-common-issues.md) — for quick fixes

### External Resources
- GoogleTest GitHub repo: [https://github.com/google/googletest](https://github.com/google/googletest)
- CMake official site: <https://cmake.org/>

---

## 6. Summary
Writing your first test with GoogleTest involves these actionable steps:

- Clone and build GoogleTest with CMake
- Create a simple test source file using `TEST` macros
- Build your test executable linking against GoogleTest
- Run the executable and verify output demonstrates passing tests

Use the provided example code and CMake configuration as a starting point in your project. Remember to organize tests meaningfully and use assertions effectively for maximum test clarity and utility.

<Tip>
For complex projects, integrating GoogleTest directly into your build system using `add_subdirectory()` in CMake helps keep everything consistent and simple.
</Tip>

---

<Source url="https://github.com/google/googletest" paths={[{"path": "googletest/README.md", "range": "1-110"}, {"path": "docs/gmock_for_dummies.md", "range": "1-160"}, {"path": "docs/gmock_cheat_sheet.md", "range": "1-120"}]} />
