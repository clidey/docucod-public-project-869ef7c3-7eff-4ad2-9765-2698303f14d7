---
title: "Parameterized and Typed Tests"
description: "Learn how to use value-parameterized and type-parameterized tests to maximize test coverage with less code. Includes practical examples and template usage patterns."
---

# Parameterized and Typed Tests

This guide teaches you how to use value-parameterized and type-parameterized tests in GoogleTest to maximize test coverage efficiently with less code. These test types let you run the same test code with different parameters or types, helping you write concise, scalable, and expressive tests.

---

## 1. Overview of Parameterized and Typed Tests

### What This Guide Helps You Accomplish

You will learn how to write:

- **Value-Parameterized Tests** that run the same test logic with various input values.
- **Type-Parameterized Tests** that run tests against different types using class templates.

The resulting tests increase coverage by exercising multiple scenarios while minimizing code duplication.

### Prerequisites

- Familiarity with basic GoogleTest test writing using `TEST()` and `TEST_F()`.
- C++ knowledge, including classes, inheritance, and templates.
- GoogleTest included and set up in your build environment.

### Expected Outcome

By following this guide, you will:

- Understand how to create and use value-parameterized tests with `TEST_P` and `INSTANTIATE_TEST_SUITE_P`.
- Understand how to implement typed tests with `TYPED_TEST_SUITE` and `TYPED_TEST`.
- Know how to customize parameter generators and test naming.
- Gain practical code examples demonstrating common usage patterns.

### Time Estimate

15–20 minutes, depending on familiarity with C++ templates and GoogleTest basics.

### Difficulty Level

Intermediate — involves templates and test fixtures.

---

## 2. Creating Value-Parameterized Tests

Value-parameterized tests let you run the same test logic repeatedly with different input values.

### How Value-Parameterized Tests Work

1. You define a test fixture class inheriting from `testing::TestWithParam<T>`, where `T` is the parameter type.
2. You write tests using the `TEST_P` macro inside this fixture class.
3. Use `GetParam()` within the test body to access the parameter value.
4. Instantiate your test suite with specific parameters using `INSTANTIATE_TEST_SUITE_P` and parameter generators like `Values()`, `Range()`, or `Combine()`.

### Step-by-Step Example

```cpp
#include <gtest/gtest.h>

class IsEvenTest : public testing::TestWithParam<int> {};

TEST_P(IsEvenTest, ReturnsTrueForEvenNumbers) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0) << "Number " << n << " is not even.";
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers,
                         IsEvenTest,
                         testing::Values(2, 4, 6, 8));
```

### Important Details

- `GetParam()` returns the current test parameter.
- You can instantiate the test suite multiple times with different parameter sets and names.
- Parameter generators can be sequences (`Range`), discrete values (`Values`), containers (`ValuesIn`), booleans (`Bool`), or Cartesian products (`Combine`).

#### Example with `Combine` Generator

```cpp
INSTANTIATE_TEST_SUITE_P(
    MultipleParamsTest, MyTestFixture,
    testing::Combine(testing::Values(1, 2),  // Param 1
                     testing::Bool()));      // Param 2
```

This runs tests for all pairs of `(1, false)`, `(1, true)`, `(2, false)`, `(2, true)`.

### Customizing Test Names

You can provide a name generator function to create descriptive test names:

```cpp
INSTANTIATE_TEST_SUITE_P(
    NamedInstantiation, MyTestSuite,
    testing::Values(1, 2, 3),
    [](const testing::TestParamInfo<int>& info) {
      return "Number_" + std::to_string(info.param);
    });
```

### When to Use Value-Parameterized Tests

- When your test logic is the same and you want to verify it against a range or set of values.
- When you want to avoid writing multiple similar test functions.

---

## 3. Creating Type-Parameterized Tests

Type-parameterized tests allow running the same test code against a list of types.

### How Type-Parameterized Tests Work

1. Define a class template fixture derived from `testing::Test`.
2. Use the `TYPED_TEST_SUITE` macro to specify the types to test.
3. Write tests using `TYPED_TEST`, referring to the current type via `TypeParam`.

### Step-by-Step Example

```cpp
#include <gtest/gtest.h>
#include <vector>
#include <list>

template <typename T>
class ContainerTest : public testing::Test {
public:
  T container_;
};

using MyTypes = testing::Types<std::vector<int>, std::list<int>>;
TYPED_TEST_SUITE(ContainerTest, MyTypes);

TYPED_TEST(ContainerTest, IsInitiallyEmpty) {
  EXPECT_TRUE(this->container_.empty());
}

TYPED_TEST(ContainerTest, CanAddElements) {
  this->container_.insert(this->container_.end(), 42);
  EXPECT_FALSE(this->container_.empty());
}
```

### Important Details

- `TypeParam` is the placeholder for the current type being tested.
- The test fixture is a template class.
- Types used in `TYPED_TEST_SUITE` must be unique and default-constructible unless customized.

### Using `TYPED_TEST_SUITE_P` (Type-Parameterized Test Suites)

For advanced scenarios where test registration and instantiation are separate, you can declare typed test suites as *parameterized* and register tests separately. This is useful for libraries or complex test frameworks.

### When to Use Type-Parameterized Tests

- When testing the same behavior across multiple types.
- When you want to verify template code or polymorphic behavior.

---

## 4. Best Practices and Tips

- **Choose Between Value and Type Parameterization:** Use value-parameterized tests when input values vary but type stays the same; use type-parameterized tests when testing multiple types with the same interface.

- **Keep Test Logic Focused:** Each test should verify a single behavior or property.

- **Use Meaningful Test Names:** Especially for value-parameterized tests, customize test names to easily identify failing parameters.

- **Avoid Overly Complex Parameter Generators:** Complex parameter spaces can make test failures harder to interpret.

- **Use `Combine()` for Cartesian Products:** When testing combinations of independent parameters.

- **Access Parameters Correctly:** Use `GetParam()` inside `TEST_P` tests, and `TypeParam` inside `TYPED_TEST` tests.

- **Match Parameter and Fixture Types:** Your test fixture must be compatible with the parameters or template types you choose.

- **Understand How GoogleTest Runs Parameterized Tests:** Each test case runs for each instantiation, and the framework automatically manages test registration and naming.

---

## 5. Troubleshooting Common Issues

- **Tests Not Running:** Check that `INSTANTIATE_TEST_SUITE_P` has been called and linked properly.

- **Compile Errors with Template Fixtures:** Ensure the fixture class is a template and properly declared before use.

- **Incorrect Parameter Types:** `GetParam()` returns the exact parameter type `T`; casting or conversion may be needed.

- **Underscores in Test Names Cause Issues:** Avoid underscores in test and test suite names to prevent macro conflicts.

- **Ambiguous Overloads:** If you have overloaded test methods or fixtures, use explicit type annotations.

- **Naming Collisions:** Use unique instantiation names to avoid collisions when instantiating the same test suite multiple times.

---

## 6. Next Steps and Related Content

- Explore **[Value-Parameterized Tests](../advanced.md#value-parameterized-tests)** for detailed usage patterns.
- Explore **[Typed Tests](../advanced.md#typed-tests)** and **[Type-Parameterized Tests](../advanced.md#type-parameterized-tests)** for advanced type-based testing.
- Use **Matchers** and **Assertions** to verify parameterized test results.
- Learn about **Mocking Techniques** to combine parameterized tests with mocks for full test coverage.

---

## Summary

Value-parameterized and type-parameterized tests help you write comprehensive, maintainable tests that run the same test logic against various inputs or types. GoogleTest provides intuitive macros and generator functions to define these tests cleanly. Mastering these tools will significantly boost your testing efficiency and code coverage.

---

## References

- [GoogleTest Primer](primer.md) - Getting started with tests fundamentals.
- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) - Detailed advanced guide.
- [Typed Tests](../advanced.md#typed-tests) - In-depth on type-parameterized tests.
- [INSTANTIATE_TEST_SUITE_P API](docs/reference/testing.md#INSTANTIATE_TEST_SUITE_P) - API for test instantiation.
- [TYPED_TEST_SUITE API](docs/reference/testing.md#TYPED_TEST_SUITE) - API for typed test suites.
- [GoogleTest Assertions](docs/reference/assertions.md) - For making test assertions.
- [Matchers Reference](docs/reference/core_assertions_matchers/matchers_reference) - To write expressive checks.

[GoogleTest User's Guide Overview](docs/index.md) — Explore overall documentation navigation.

---

<Check>
Remember to call `INSTANTIATE_TEST_SUITE_P` for each value-parameterized test suite and use `GetParam()` inside `TEST_P` test bodies.
</Check>

<Check>
For typed tests, ensure `TYPED_TEST_SUITE` is declared before writing `TYPED_TEST` cases.
</Check>