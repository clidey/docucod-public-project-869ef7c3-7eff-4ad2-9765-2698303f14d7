---
title: "Parameterizing Tests: Values and Types"
description: "Enable more thorough and DRY testing by running your tests over multiple values and types. This guide demonstrates how value-parameterized and type-parameterized tests work, including setup and common patterns."
---

# Parameterizing Tests: Values and Types

## Overview

This guide helps you leverage **value-parameterized** and **type-parameterized** tests in GoogleTest to write more thorough, concise, and maintainable unit tests. By running tests over multiple input values or types automatically, you avoid duplicating test code (following the DRY — Don't Repeat Yourself — principle), achieving broader coverage with less effort.

### Prerequisites
- Basic knowledge of writing and running tests in GoogleTest.
- Familiarity with the `TEST` and `TEST_F` macros.
- A working GoogleTest setup.

### Expected Outcome
After completing this guide, you will be able to:
- Define test fixtures that accept parameter values.
- Write parameterized tests that run using multiple data inputs.
- Define tests that run for multiple type parameters.
- Understand the common patterns and best practices for parameterized tests.

### Time Estimate
About 15-30 minutes.

### Difficulty Level
Intermediate

---

## 1. Value-Parameterized Tests
Value-parameterized tests allow you to run the same test logic multiple times, each time with different input values.

### 1.1 Defining a Value-Parameterized Test Fixture
Create a test fixture class inheriting from `::testing::TestWithParam<T>`, where `T` is the parameter type.

```cpp
#include <gtest/gtest.h>

class IsEvenTest : public ::testing::TestWithParam<int> {};
```

### 1.2 Writing Test Cases Using the Fixture
Use the `TEST_P` macro instead of `TEST_F`. Access the parameter via `GetParam()` inside the test body.

```cpp
TEST_P(IsEvenTest, ReturnsTrueForEvenNumbers) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}
```

### 1.3 Instantiating the Test with Values
Specify the parameters with the `INSTANTIATE_TEST_SUITE_P` macro:

```cpp
INSTANTIATE_TEST_SUITE_P(
    EvenNumbers,               // Instance name
    IsEvenTest,                // Test suite name
    ::testing::Values(2, 4, 6, 8));  // Values to test
```

You can use various generators such as `Values()`, `Range()`, `ValuesIn()` and combine them.

### 1.4 Running the Tests
When you run your test binary, GoogleTest generates and runs one test per input value.

---

## 2. Type-Parameterized Tests
Type-parameterized tests run the same code with different types. This is especially useful for templates or type-generic code.

### 2.1 Defining a Type-Parameterized Test Clause
Define a class template inheriting from `::testing::Test`:

```cpp
template <typename T>
class StackTest : public ::testing::Test {
  // You can add common setup or utility functions here.
};
```

### 2.2 Declaring the Test Cases
Use the `TYPED_TEST` macro inside the template test class.

```cpp
template <typename T>
typedef Stack<T> MyStack;

TYPED_TEST(StackTest, IsEmptyInitially) {
  MyStack<TypeParam> stack;
  EXPECT_TRUE(stack.IsEmpty());
}
```

### 2.3 Registering the Types
Provide the list of types using `typedef ::testing::Types<...>` and associate it:

```cpp
typedef ::testing::Types<int, double, std::string> MyTypes;
TYPED_TEST_SUITE(StackTest, MyTypes);
```

The tests will be instantiated and run for each type.

---

## 3. Key Patterns and Best Practices

- **Use Fixtures for Shared Setup:** Place common setup in fixture classes.
- **Start Simple:** Parameterize with a small but representative set of values or types before expanding.
- **Carefully Select Parameter Types:** Choose value types that cover edge cases.
- **Combine Value and Type Parameterization:** Advanced use cases can combine both for maximal coverage.
- **Avoid Over-specifying in Tests:** Parameters should focus on where behavior varies.

---

## 4. Examples

### 4.1 Value-Parameterized Test Example
```cpp
class IsPrimeTest : public ::testing::TestWithParam<int> {};

TEST_P(IsPrimeTest, CheckPrimeStatus) {
  int n = GetParam();
  bool is_prime = IsPrime(n);  // Your code under test
  EXPECT_EQ(is_prime, (n == 2 || n == 3));
}

INSTANTIATE_TEST_SUITE_P(Primes, IsPrimeTest, ::testing::Values(2, 3, 4, 5));
```

This will run the `CheckPrimeStatus` for each of 2, 3, 4, and 5.

### 4.2 Type-Parameterized Test Example
```cpp
template <typename T>
class MathTest : public ::testing::Test {};

TYPED_TEST_SUITE(MathTest, ::testing::Types<int, float, double>);

TYPED_TEST(MathTest, CanInitializeToZero) {
  TypeParam value = TypeParam(0);
  EXPECT_EQ(value, 0);
}
```

This runs `CanInitializeToZero` for each specified type.

---

## 5. Troubleshooting & Tips

### Common Issues
- **Missing `INSTANTIATE_TEST_SUITE_P`:** Tests won't run if your parameterized tests are not instantiated.
- **Type Mismatches:** Be sure the type in `TestWithParam<T>` matches the type passed in `Values()` or `Types<>`.
- **Overloads and Ambiguities:** For type-parameterized tests on templates, ensure your test code handles all types correctly.

### Tips
- Use `ValuesIn()` to parameterize over an array or container.
- Use `Combine()` and `Range()` for multidimensional parameterization.
- Name your test instances meaningfully using the first argument to `INSTANTIATE_TEST_SUITE_P`.
- Use GoogleTest matchers inside your tests for expressive assertions.

---

## 6. Next Steps & Related Content

- Explore [Writing Your First Test](https://github.com/google/googletest/blob/main/docs/guides/getting-started/first-test.md) for basics.
- Read the [Parameterized Tests Concept](https://github.com/google/googletest/blob/main/docs/concepts/core_architecture/parameterized_tests.md) for detailed explanation.
- Review [Mocking with GoogleMock](https://github.com/google/googletest/blob/main/docs/gmock_for_dummies.md) to integrate with mocks.
- Consult the [Matchers Reference](https://github.com/google/googletest/blob/main/docs/reference/matchers.md) for powerful assertions.

---

For comprehensive information about mock behavior related to parameterized tests or more complex mock setups, visit the [GoogleMock Cookbook](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md) and [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md).
