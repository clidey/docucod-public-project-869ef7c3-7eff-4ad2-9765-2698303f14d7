---
title: "Parameterized and Typed Tests"
description: "Step-by-step instructions for writing value-parameterized and type-parameterized tests. Includes examples and tips for maximizing coverage and minimizing duplication when testing functions across a matrix of inputs and types."
---

# Parameterized and Typed Tests

This guide provides clear, step-by-step instructions for writing value-parameterized and type-parameterized tests in GoogleTest. You will learn how to maximize test coverage while minimizing duplication by testing functions across various inputs and types efficiently.

---

## 1. Introduction to Parameterized and Typed Tests

When testing functions or classes that behave differently across different input values or types, writing distinct tests for each case leads to code duplication and brittle test suites. Parameterized and typed tests help you solve this problem by reusing the same test logic for a matrix of inputs or types.

- **Value-Parameterized Tests** run the same test logic multiple times with different input values.
- **Type-Parameterized Tests** run the same test logic multiple times with different types.

This page focuses exclusively on how to write these tests in GoogleTest.

---

## 2. Prerequisites

Before writing parameterized or typed tests:

- You must have GoogleTest and GoogleMock installed and correctly configured in your build environment.
- Familiarity with writing basic GoogleTest tests and mock classes is essential. Refer to the [gMock for Dummies](../gmock_for_dummies.md) and [Mocking Reference](../reference/mocking.md) documents for grounding.
- Your test subject should be designed to accept parameters or be templated for type-parameterization.

---

## 3. Writing Value-Parameterized Tests

Value-Parameterized Tests allow running the same test case logic multiple times with different input parameters.

### 3.1 Workflow Overview

- Define a fixture class deriving from `::testing::TestWithParam<T>`, where `T` is the parameter type.
- Write test cases using `TEST_P` macro instead of `TEST`.
- Instantiate the tests with a set of parameter values using `INSTANTIATE_TEST_SUITE_P`.

### 3.2 Step-by-Step Instructions

<Steps>
<Step title="Define Your Parameterized Test Fixture">
Create a test fixture class inheriting from `::testing::TestWithParam<T>`, where `T` is the parameter type.
```cpp
class MyTestFixture : public ::testing::TestWithParam<int> {
  // Optional: helper methods or setup
};
```
</Step>
<Step title="Write Parameterized Test Cases">
Use the `TEST_P` macro instead of `TEST` to write test logic that uses `GetParam()`.
```cpp
TEST_P(MyTestFixture, TestFunctionWithParam) {
  int input = GetParam();
  EXPECT_TRUE(FunctionUnderTest(input));
}
```
</Step>
<Step title="Define Test Parameters">
Specify the values to run tests against using `INSTANTIATE_TEST_SUITE_P`.
```cpp
INSTANTIATE_TEST_SUITE_P(
    ValidInputs, MyTestFixture,
    ::testing::Values(1, 2, 3, 42, 99));
```
</Step>
<Step title="Run Your Tests">
Build and run your binary. GoogleTest will run your parameterized test once per parameter.
</Step>
</Steps>

### 3.3 Example

```cpp
class IsEvenTest : public ::testing::TestWithParam<int> {};

TEST_P(IsEvenTest, ReturnsTrueForEvenNumbers) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, IsEvenTest, ::testing::Values(2, 4, 6, 8));
```

### 3.4 Tips and Best Practices

- Use `::testing::ValuesIn` to instantiate from a vector or array.
- Prefer concise parameter types and values for clarity.
- Avoid complex logic inside `GetParam()` retrieval.
- Use descriptive prefixes in `INSTANTIATE_TEST_SUITE_P` for organized test reporting.

---

## 4. Writing Type-Parameterized Tests

Type-Parameterized Tests enable running the same test logic for multiple types.

### 4.1 Workflow Overview

- Define a test fixture templated on a type parameter, inheriting from `::testing::Test`.
- Register the types to test with `TYPED_TEST_SUITE`.
- Write test cases using `TYPED_TEST` macro.

### 4.2 Step-by-Step Instructions

<Steps>
<Step title="Create a Templated Test Fixture">
Define a template test class deriving from `::testing::Test`. Use `TypeParam` to access the type.
```cpp
template <typename T>
class StackTest : public ::testing::Test {};
```
</Step>
<Step title="List the Types to Test">
Use the `TYPED_TEST_SUITE` macro to associate the test fixture with the types.
```cpp
using TestedTypes = ::testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(StackTest, TestedTypes);
```
</Step>
<Step title="Write Typed Test Cases">
Create tests with `TYPED_TEST`, using `TypeParam` as the type.
```cpp
TYPED_TEST(StackTest, IsEmptyInitially) {
  Stack<TypeParam> s;
  EXPECT_TRUE(s.empty());
}
```
</Step>
<Step title="Execute All Type Variants">
Build and run your test binary. The tests will execute once per type in `TestedTypes`.
</Step>
</Steps>

### 4.3 Example

```cpp
template <typename T>
class QueueTest : public ::testing::Test {};

using QueueTypes = ::testing::Types<int, float>;
TYPED_TEST_SUITE(QueueTest, QueueTypes);

TYPED_TEST(QueueTest, IsEmptyOnCreation) {
  Queue<TypeParam> q;
  EXPECT_TRUE(q.empty());
}
```

### 4.4 Tips and Best Practices

- Choose a clear alias name for your type list.
- Use `TYPED_TEST` only inside the same namespace scope as the fixture.
- Use `TypeParam` inside tests to refer to the current type.
- Typed tests are ideal for template classes or functions.

---

## 5. Maximizing Test Coverage and Minimizing Duplication

Parameterized and typed tests enable broad coverage with minimal code. Here are techniques to get the most out of them:

- Combine Value-Parameterized and Typed Tests for multi-dimensional test matrices.
- Use `INSTANTIATE_TEST_SUITE_P` with custom generators, like `Range()` or `Combine()`, for sophisticated parameter combinations.
- Employ `PrintToStringParamName` or custom parameter name generators to produce readable test names.
- Carefully balance test completeness with test suite runtime to prevent bloated tests.

---

## 6. Common Pitfalls and Troubleshooting

<AccordionGroup title="Troubleshooting Parameterized and Typed Tests">
<Accordion title="Tests Not Running or Not Recognized">
Ensure that your test fixture and parameter/typed macros are used correctly and the test binary is linked and run properly. Use `--gtest_list_tests` to verify test discovery.
</Accordion>
<Accordion title="Type Parameterization Compilation Issues">
Verify the template instantiations and that your types meet any constraints of the tested code. Check that `TYPED_TEST_SUITE` lists the correct types.
</Accordion>
<Accordion title="Name Collisions in Instantiations">
Avoid duplicate prefixes in `INSTANTIATE_TEST_SUITE_P` names which can cause conflicts.
</Accordion>
<Accordion title="Verbose Logging to Debug Failures">
Run tests with `--gtest_brief=0` and `--gtest_repeat` settings for detailed output.
</Accordion>
</AccordionGroup>

---

## 7. Next Steps & Related Content

- Explore the [gMock Cookbook](../gmock_cook_book.md) for advanced mocking with parameterized tests.
- Review [Writing Effective Assertions](../guides/core-workflows/writing-assertions.md) for best practices in test validation.
- Study [Using Test Fixtures for Reusable Setups](../guides/core-workflows/using-fixtures.md) to combine fixtures with parameterized tests.
- Consult the [Actions Reference](../reference/actions.md) and [Matchers](../reference/matchers.md) for more testing options.

---

## 8. Summary

Parameterized and typed tests in GoogleTest empower you to write scalable, maintainable, and thorough test suites by enabling code reuse across different inputs and types. Mastery of these features is foundational to implementing high-quality C++ testing strategies.

---

## References
- [gMock for Dummies](../gmock_for_dummies.md)
- [gMock Cookbook](../gmock_cook_book.md)
- [Mocking Reference](../reference/mocking.md)
- [Actions Reference](../reference/actions.md)
- [Matchers Reference](../reference/matchers.md)
- [Writing Effective Assertions](../guides/core-workflows/writing-assertions.md)
- [Using Test Fixtures](../guides/core-workflows/using-fixtures.md)

---

# Quick Summary of Core Macros

| Macro                       | Usage                                 |
|-----------------------------|-------------------------------------|
| `TEST_P(test_suite, name)`  | Defines a parameterized test case    |
| `INSTANTIATE_TEST_SUITE_P`  | Registers parameter values           |
| `TYPED_TEST_SUITE`          | Registers types for typed tests      |
| `TYPED_TEST(test_suite, name)` | Defines a typed test case          |

# Practical Example

```cpp
#include <gtest/gtest.h>
#include <vector>

// Value-parameterized example
class EvenNumberTest : public ::testing::TestWithParam<int> {};

TEST_P(EvenNumberTest, IsEven) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, EvenNumberTest, ::testing::Values(2, 4, 6, 8));

// Typed test example
template<typename T>
class StackTest : public ::testing::Test {};

using StackTypes = ::testing::Types<int, double>;
TYPED_TEST_SUITE(StackTest, StackTypes);

TYPED_TEST(StackTest, IsEmptyTest) {
  std::vector<TypeParam> v;
  EXPECT_TRUE(v.empty());
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This example shows a value-parameterized test checking even numbers and a typed test that runs against `int` and `double` types.
