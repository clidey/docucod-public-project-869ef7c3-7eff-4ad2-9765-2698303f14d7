---
title: "Using Parameterized and Typed Tests"
description: "Walkthrough on harnessing value-parameterized and type-parameterized tests to efficiently cover multiple input cases and data types, minimizing code duplication and maximizing test coverage."
---

# Using Parameterized and Typed Tests

## Overview

GoogleTest's **parameterized** and **typed tests** empower you to write concise, reusable test logic that thoroughly exercises your code across multiple input values or data types. Instead of duplicating similar tests for different parameters or types, you define generalized test fixtures and instantiate them with varying inputs or types, maximizing coverage while minimizing boilerplate.

This guide walks you through setting up these powerful test patterns, focusing on practical, step-by-step usage and best practices so you can effectively harness GoogleTest's capabilities.

---

## Contents
- [Value-Parameterized Tests](#value-parameterized-tests)
- [Writing Value-Parameterized Tests](#writing-value-parameterized-tests)
- [Instantiating Parameterized Tests](#instantiating-parameterized-tests)
- [Typed Tests](#typed-tests)
- [Writing Typed Tests](#writing-typed-tests)
- [Type-Parameterized Tests](#type-parameterized-tests)
- [Best Practices and Tips](#best-practices-and-tips)
- [Troubleshooting](#troubleshooting)
- [Next Steps and References](#next-steps-and-references)

---

## Value-Parameterized Tests

Value-parameterized tests enable testing the **same logic over a set of values** without duplicating code. This allows for *data-driven* testing patterns, especially useful when you want to verify a function or component behaves correctly across diverse inputs.

### Writing Value-Parameterized Tests

1. **Define a test fixture** that inherits from `::testing::TestWithParam<T>` where `T` is your parameter type.

```cpp
class FooTest : public ::testing::TestWithParam<int> {
  // You may add setup logic or helpers here if needed
};
```

2. Use the `TEST_P` macro to implement test methods that leverage the test parameter via `GetParam()`.

```cpp
TEST_P(FooTest, WorksWithValues) {
  int param = GetParam();
  EXPECT_TRUE(FunctionUnderTest(param));
}
```

3. **Instantiate your tests** with `INSTANTIATE_TEST_SUITE_P`, supplying a name, your fixture, and a parameter generator (e.g., `Values()`, `Range()`).

```cpp
INSTANTIATE_TEST_SUITE_P(ExampleValues, FooTest, 
                         ::testing::Values(1, 2, 3));
```

### Parameter Generators

GoogleTest provides various parameter generators under `::testing`:

| Generator             | Description                                                                 |
|-----------------------|-----------------------------------------------------------------------------|
| `Range(begin, end [, step])` | Generates sequence `{begin, begin+step, ...}` excluding `end`. Step defaults to 1. |
| `Values(v1, v2, ..., vN)`     | Enumerates fixed values `{v1, v2, ..., vN}`.                                |
| `ValuesIn(container)` or `ValuesIn(begin, end)` | Draws parameters from an STL container, C-array, or iterator range `[begin, end)` |
| `Bool()`                  | Generates `{false, true}`, useful for flag testing.                       |
| `Combine(g1, g2, ..., gN)`  | Produces the Cartesian product of all values from multiple generators.      |

Example of combining generators:

```cpp
INSTANTIATE_TEST_SUITE_P(
    CombinedExample, FooTest,
    ::testing::Combine(
        ::testing::Values(1, 2),
        ::testing::Bool()));
```

Within your test, `GetParam()` then returns a `std::tuple<int, bool>`.

### Custom Parameter Naming

The last optional argument of `INSTANTIATE_TEST_SUITE_P` accepts a function or functor that generates test name suffixes based on parameter values:

```cpp
INSTANTIATE_TEST_SUITE_P(
    NamedParams, FooTest, Values(1, 2, 3),
    [](const ::testing::TestParamInfo<int>& info) {
      return "Value" + std::to_string(info.param);
    });
```

This produces test names like `NamedParams/FooTest.Value1`.

---

## Typed Tests

Typed tests repeat the **same test logic for different data types**. Useful for verifying type-generic code or multiple implementations conforming to a common interface.

### Writing Typed Tests

1. **Define a class template test fixture** derived from `::testing::Test`:

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
  // Members or utilities important for the typed tests
  T value_;
};
```

2. Declare the type list with `::testing::Types<Types...>`:

```cpp
using MyTypes = ::testing::Types<int, double, std::string>;
```

3. Associate your fixture template with this type list using `TYPED_TEST_SUITE`:

```cpp
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

4. Write individual typed tests using `TYPED_TEST` macro. Use `TypeParam` as the placeholder for the current type.

```cpp
TYPED_TEST(MyTypedTest, DoesBasicWork) {
  TypeParam x = this->value_;
  EXPECT_TRUE(IsValid(x));
}
```

GoogleTest creates a distinct test instance for each type in the list.

### Custom Naming for Typed Tests

Specify a name generator as an optional third argument to `TYPED_TEST_SUITE`:

```cpp
class MyTypeNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, int>) return "Int";
    if constexpr (std::is_same_v<T, double>) return "Double";
    return "Other";
  }
};

TYPED_TEST_SUITE(MyTypedTest, MyTypes, MyTypeNames);
```

---

## Type-Parameterized Tests

These are like typed tests but allow defining the test pattern without initially specifying the type list. Types (and type lists) can be bound later, even multiple times, supporting reusable interface/concept testing.

Example workflow:

1. Define a type-parameterized test suite template:

```cpp
template <typename T>
class MyTPTest : public ::testing::Test {
  // ...
};
```

2. Declare the test suite with `TYPED_TEST_SUITE_P(MyTPTest);`

3. Define tests with `TYPED_TEST_P`:

```cpp
TYPED_TEST_P(MyTPTest, BehaviorTest) {
  TypeParam value = TypeParam{};
  EXPECT_TRUE(Check(value));
}
```

4. Register test names `REGISTER_TYPED_TEST_SUITE_P(MyTPTest, BehaviorTest);`

5. Instantiate with specific types/lists:

```cpp
using MyTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(InstantiationName, MyTPTest, MyTypes);
```

---

## Best Practices and Tips

- **Parameter Types:** Use types that are cheap to copy or pass by const reference.
- **Parameter Names:** Avoid underscores `_` in test and suite names to maintain proper filtering and output behavior.
- **Test Independence:** Ensure tests for different parameters/types remain independent to improve reliability.
- **Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`** if you define parameterized tests that might not always have instantiations, to suppress warnings.
- **Trace Failures:** Use `SCOPED_TRACE` to add context to failures in parameterized tests to improve debug clarity.
- **Avoid Side-Effects:** Because each parameterized test runs in its own instance, do not rely on shared mutable state without synchronization.

---

## Troubleshooting

### Test Names Not Showing Up

- Make sure to call `INSTANTIATE_TEST_SUITE_P` at global or namespace scope, not inside functions.
- Verify your parameter generator is yielding values.
- Check for naming conflicts or invalid characters in test names.

### Compilation Issues

- Confirm that your fixture class visibility and method declarations match GoogleTest expectations (e.g., `SetUpTestSuite()` must be public for parameterized tests).
- Typed tests require valid type lists, and your test fixture must be a template.

### Runtime Failures

- Look for assertion failures related to parameter conversions or mismatches in expected types.
- Use `SCOPED_TRACE` in the body of tests to clarify which parameter caused a failure.

---

## Next Steps and References

- Read the [GoogleTest Primer](primer.md) for foundational testing concepts.
- Explore the [Advanced GoogleTest Topics](advanced.md) for deeper understanding.
- Consult the [Testing Reference](reference/testing.md) for detailed API and macro documentation.
- Review [Sample Tests](samples.md) for real-world examples using parameterized and typed tests.
- Try writing your own parameterized and typed tests following the included examples.

---