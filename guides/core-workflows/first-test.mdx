---
title: "Writing Your First Test"
description: "A step-by-step guide to creating and running your first test case with GoogleTest. Includes tips for structuring test suites, using assertions, and understanding output. Ideal for newcomers establishing initial testing workflows."
---

# Writing Your First Test with GoogleTest

Welcome to the essential first step in your journey with GoogleTest: creating and running your first test case. This guide walks you through the practical steps of writing a test function, using assertions to validate conditions, running your test, and interpreting the results. Designed for newcomers, this document emphasizes clear, actionable instructions to establish your foundational testing workflow quickly and confidently.

---

## 1. Workflow Overview

### What This Guide Helps You Accomplish
This guide enables you to write a simple unit test in C++ using the GoogleTest framework, compile it, run your test binary, and understand the test output. You will learn how to use GoogleTest's macros to define test cases and use assertions to validate expected results.

### Prerequisites
- GoogleTest must be installed and correctly set up in your build environment. See [Installation Instructions](https://github.com/google/googletest/blob/main/docs/getting-started/setup-basics/installation-instructions.mdx).
- Your development environment must support C++11 or later.
- Basic familiarity with C++ syntax and compilation procedures.

### Expected Outcome
- A compiled test binary containing your first test.
- Execution of this binary will run the test(s) and provide output indicating success or failure.
- Familiarity with writing `TEST` macros and using assertions like `EXPECT_EQ`.

### Time Estimate
Approximately 15-30 minutes, depending on your familiarity with C++ development and build systems.

### Difficulty Level
Beginner

---

## 2. Step-by-Step Instructions

### Step 1: Include GoogleTest Header
At the top of your test source file, include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

This header offers all necessary macros and functions for writing tests.

### Step 2: Define Your Test Case
Use the `TEST` macro to define a test case. It takes two parameters: the test suite name and the test name. Inside the body, place the code you want to test.

```cpp
TEST(ExampleTest, SimpleEquality) {
  int expected = 5;
  int actual = 2 + 3;
  EXPECT_EQ(expected, actual);
}
```

- `ExampleTest` is the test suite grouping related tests.
- `SimpleEquality` is the individual test case.
- `EXPECT_EQ` asserts that `expected` and `actual` are equal.

### Step 3: Compile Your Test
Compile your test source file with GoogleTest linked correctly. For example, using `g++` and CMake:

```bash
g++ -std=c++11 my_test.cc -lgtest_main -lgtest -pthread -o my_test
```

Or integrate your source into your build system following the [Configuration & Environment Setup](https://github.com/google/googletest/blob/main/docs/getting-started/setup-basics/configuration-setup.mdx) guide.

### Step 4: Run the Test Binary
Execute your compiled test binary:

```bash
./my_test
```

GoogleTest will initialize and run all tests defined with `TEST` macros.

### Step 5: Review Test Output
Successful test run output looks like this:

```plaintext
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.SimpleEquality
[       OK ] ExampleTest.SimpleEquality (0 ms)
[----------] 1 test from ExampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

If a test fails, GoogleTest reports the failure location and the expected vs actual values.

### Tips on Using Assertions
- Use `EXPECT_...` assertions to continue test execution even if they fail.
- Use `ASSERT_...` assertions to abort the current test if they fail.
- Popular assertions include:
  - `EXPECT_EQ(expected, actual)`: Checks equality
  - `EXPECT_TRUE(condition)`: Checks if condition is true
  - `EXPECT_FALSE(condition)`: Checks if condition is false

### Step 6: Expand Your Tests
Add more tests to the same suite or create new suites using the same approach.

---

## 3. Practical Example

Suppose you want to test a simple addition function like this:

```cpp
int Add(int a, int b) {
  return a + b;
}
```

Hereâ€™s how you write a test:

```cpp
#include <gtest/gtest.h>

int Add(int a, int b) {
  return a + b;
}

TEST(AdditionTest, AddsPositiveNumbers) {
  EXPECT_EQ(Add(2, 3), 5);
  EXPECT_EQ(Add(10, 15), 25);
}

TEST(AdditionTest, AddsNegativeNumbers) {
  EXPECT_EQ(Add(-2, -3), -5);
}
```

Compile and run these tests. The output will indicate which tests passed or failed.

---

## 4. Troubleshooting & Tips

### Common Issues
- **Test binary does not compile or link**: Verify GoogleTest is correctly installed and linked.
- **Tests are not discovered or running**: Ensure you are building the test binary with test source files included.
- **Assertion fails unexpectedly**: Use `--gtest_verbose=info` to view detailed test execution logs.

### Best Practices
- Start small: write simple tests that clearly express expected behavior.
- Use descriptive names for test suites and test cases.
- Use `EXPECT_` assertions over `ASSERT_` when possible to allow multiple checks per test.
- Regularly run tests during development.

### Performance Considerations
For small tests, execution time is minimal. To optimize larger suites, consider test filtering and parallel execution (covered in other guides).

---

## 5. Next Steps & Related Content

- **Running and Validating Tests**: Learn how to run complex test suites and interpret results [Running and Validating Tests](https://github.com/google/googletest/blob/main/docs/getting-started/first-test-run/running-tests.mdx).
- **Setting Up and Configuring GoogleTest**: If you need to install or configure GoogleTest, see [Setup and Configure GoogleTest](https://github.com/google/googletest/blob/main/docs/guides/core-workflows/setup-basics.mdx).
- **Mocking with GoogleMock**: Start using mocks for interaction testing with [Mocking Basics](https://github.com/google/googletest/blob/main/docs/guides/core-workflows/mocking-basics.mdx).
- **Understanding Assertions and Failure Handling**: Deepen your understanding with [Assertions and Failure Handling](https://github.com/google/googletest/blob/main/api-reference/gtest-core-api/assertions-and-failures.mdx).

---

## Helpful References
- [GoogleTest Core Features](https://github.com/google/googletest/blob/main/overview/getting-started-with-googletest/core-features.mdx) - core capabilities and benefits.
- [Writing Your First Test Guide](https://github.com/google/googletest/blob/main/getting-started/first-test-run/writing-first-test.mdx) - detailed tutorial.
- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) - if you want to move into mocking.

<Tip>
Remember, GoogleTest's `TEST` macro automatically registers your test to be run, so ensure your test functions are placed in source files linked into your test binary.
</Tip>

<Note>
All tests end with an exit code that reflects success or failure. You can integrate this in your CI pipelines for automated validation.
</Note>

---