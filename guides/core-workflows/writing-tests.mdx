---
title: "Writing Your First Test Case"
description: "Learn how to create your first unit test using GoogleTest, including setting up a test fixture, using assertions, and running tests. This guide is ideal for newcomers starting their journey into C++ testing."
---

# Writing Your First Test Case with GoogleTest

Welcome to your first step into C++ testing with GoogleTest! This guide walks you through the essential workflow of writing, compiling, and running your very first unit test using GoogleTest. You'll learn how to set up a test fixture, use assertions effectively, and run your test successfully — all tailored for newcomers eager to build solid testing foundations.

---

## 1. Understanding the Workflow

### What This Guide Helps You Accomplish
- Write your first basic test case in C++ using GoogleTest.
- Create test fixtures to share setup and teardown logic.
- Use fundamental assertions to validate code behavior.
- Compile and run your tests, interpreting the results.

### Prerequisites
- GoogleTest must be installed and properly integrated into your build system (e.g., CMake). See the [Installation with CMake](https://github.com/google/googletest/tree/main/getting-started/setup-prerequisites-installation/installation-cmake) guide for setup instructions.
- You should have a working C++ development environment with a supported compiler.
- Minimal familiarity with C++ programming and your project’s build process.

### Expected Outcome
You will successfully write, compile, and run a GoogleTest unit test, using test fixtures and basic assertions, gaining confidence to expand your test suite.

### Estimated Time
About 15-30 minutes for initial setup and running your first test.

### Difficulty Level
Beginner

---

## 2. Step-by-Step Instructions

<Steps>
<Step title="Step 1: Include GoogleTest Headers">
Start by including the main GoogleTest header in your test file to gain access to its testing macros and utilities.

```cpp
#include <gtest/gtest.h>
```

This header provides all the functionality you need for writing tests.
</Step>

<Step title="Step 2: Define a Test Case and Test">
A test case groups together related tests. Define a test case and an individual test within it using the `TEST` macro:

```cpp
TEST(SampleTestCase, ExampleTest) {
  EXPECT_EQ(1 + 1, 2);
}
```

- `SampleTestCase` is the test case name.
- `ExampleTest` is the test name.

Inside the body, use assertions to check conditions.
</Step>

<Step title="Step 3: Using Assertions to Validate Conditions">
GoogleTest provides many assertions; the simplest and most common is `EXPECT_EQ` to check equality:

```cpp
EXPECT_EQ(actual, expected);
```

Example:

```cpp
EXPECT_EQ(1 + 1, 2);  // Verifies that 1+1 == 2
```

If the assertion fails, GoogleTest reports an error but continues running the test.

Other useful assertions:
- `ASSERT_TRUE(condition)` / `ASSERT_FALSE(condition)` — aborts the current test if failed.
- `EXPECT_NE(val1, val2)` — checks inequality.

Start with `EXPECT_*` for non-fatal checks.
</Step>

<Step title="Step 4: Creating and Using Test Fixtures">
Test fixtures let you reuse common setup and teardown code across multiple tests. To create one:

1. Derive a class from `::testing::Test`.
2. Define `SetUp()` and `TearDown()` methods to run before and after each test.
3. Use the `TEST_F` macro to create tests using the fixture.

Example:

```cpp
class MyTestFixture : public ::testing::Test {
 protected:
  void SetUp() override {
    // Initialization code here
  }

  void TearDown() override {
    // Cleanup code here
  }

  // Shared variables
  int shared_value;
};

TEST_F(MyTestFixture, TestExample) {
  shared_value = 5;
  EXPECT_EQ(shared_value, 5);
}
```

Each `TEST_F` test runs with fresh setup/teardown.
</Step>

<Step title="Step 5: Compile Your Test Code">
Make sure your build system includes the necessary GoogleTest libraries and headers.

For CMake users, a minimal integration looks like:

```cmake
find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})
add_executable(MyTest my_test.cc)
target_link_libraries(MyTest ${GTEST_LIBRARIES} pthread)  # pthread for Linux
```

Compile the test executable normally.
</Step>

<Step title="Step 6: Run Your Test Executable">
Run the compiled test binary. If everything is set up, GoogleTest will discover and execute your tests automatically.

You should see output like:

```
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from SampleTestCase
[ RUN      ] SampleTestCase.ExampleTest
[       OK ] SampleTestCase.ExampleTest (0 ms)
[----------] 1 test from SampleTestCase
[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (1 ms total)
[  PASSED  ] 1 test.
```

If a test fails, GoogleTest provides detailed error messages and stack traces to help.
</Step>
</Steps>

---

## 3. Practical Examples

### Example: Simple Test Without Fixture

```cpp
#include <gtest/gtest.h>

TEST(MathTests, AdditionWorks) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_NE(1 + 1, 3);
}
```

### Example: Using Test Fixture

```cpp
#include <gtest/gtest.h>

class CalculatorTest : public ::testing::Test {
 protected:
  void SetUp() override {
    result = 0;
  }

  int result;
};

TEST_F(CalculatorTest, Addition) {
  result = 2 + 2;
  EXPECT_EQ(result, 4);
}

TEST_F(CalculatorTest, Subtraction) {
  result = 5 - 3;
  EXPECT_EQ(result, 2);
}
```

### Running the Tests

Compile and run your test binary as usual; GoogleTest will report detailed results.

---

## 4. Troubleshooting & Best Practices

### Common Issues

- **Tests Do Not Run or Not Found:**
  - Confirm you used the `TEST` or `TEST_F` macros.
  - Ensure your test binary links to GoogleTest correctly.
  - Verify test cases/functions have unique names.

- **Linker Errors on GoogleTest Symbols:**
  - Check that your linker settings include the GoogleTest library.
  - Make sure library paths and includes are correct.

- **Tests Fail Unexpectedly:**
  - Check assertion expressions for correctness.
  - Use the `--gtest_filter` flag to run specific tests.

### Best Practices

- Write clear, focused tests verifying one behavior at a time.
- Use test fixtures to manage repetitive setup/teardown.
- Prefer `EXPECT_*` for non-critical assertions and `ASSERT_*` to abort impossible continuation.
- Name test cases and tests descriptively for easy identification.
- Regularly run tests with verbosity: use `--gtest_verbose=info` for more insight.

### Tips for Success

- Run `InitGoogleTest` in your `main` function to initialize the framework:

```cpp
int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- Leverage GoogleTest's rich set of assertions and extend with [custom assertions](https://github.com/google/googletest/blob/main/docs/reference/assertions.md).
- Use continuous integration to run tests automatically on every commit.

---

## 5. Next Steps & Related Resources

- Continue to the [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) to deepen your understanding.
- Explore writing [parameterized tests](https://github.com/google/googletest/blob/main/docs/advanced.md#writing-parameterized-tests) for data-driven validation.
- Learn about [mocking with GoogleMock](https://github.com/google/googletest/tree/main/googlemock) to simulate dependencies.
- Refer to the [GoogleTest FAQ](https://github.com/google/googletest/blob/main/docs/faq.md) for common questions.
- Use [GoogleTest Assertions Reference](https://github.com/google/googletest/blob/main/docs/reference/assertions.md) for detailed information about available assertions.

---

## Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [GoogleTest Documentation Home](https://github.com/google/googletest/blob/main/docs/README.md)
- Navigation: [Overview](../overview/introduction-and-value/product-overview), [Setup & Installation](../getting-started/setup-prerequisites-installation/installation-cmake)


---

Start your journey by writing your first simple test, then build confidence adding fixtures and assertions. With this foundation, you’ll be ready to harness the full power of GoogleTest.

Happy testing! 