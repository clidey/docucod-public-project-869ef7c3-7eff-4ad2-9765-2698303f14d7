---
title: "Getting Started with GoogleTest"
description: "A beginner-friendly walkthrough for setting up GoogleTest and writing your first unit tests. Covers essential concepts like test fixtures, assertion macros, and building/running basic test suites."
---

# Getting Started with GoogleTest

Welcome to a comprehensive, beginner-friendly guide to GoogleTest. This page empowers you to set up GoogleTest and quickly write your first unit tests, giving you a solid foundation for effective C++ testing.

---

## 1. Introduction & Workflow Overview

### What You Will Accomplish
By following this guide, you'll:
- Understand the structure and basic concepts of GoogleTest.
- Set up GoogleTest with CMake.
- Write simple test cases and test fixtures.
- Build and run your test binaries successfully.

### Prerequisites
Make sure you have:
- A compatible operating system (Linux, macOS, or Windows).
- A C++ compiler that supports at least C++17.
- CMake (version 3.14 or newer) and a build tool like Make or Ninja installed.

### Expected Outcome
After completing this guide, you will have a working GoogleTest project with sample tests that you can build and execute, validating your setup.

### Estimated Time & Difficulty
- Time: Approximately 10-20 minutes
- Difficulty Level: Beginner

---

## 2. Setting Up Your GoogleTest Project with CMake

GoogleTest integrates smoothly with CMake, a widely used cross-platform build system. This setup enables you to manage dependencies, build, and test your C++ code efficiently.

### Step 1: Create a New Project Directory
Open your terminal and run:

```bash
mkdir my_project && cd my_project
```

This creates and enters a fresh folder for your test project.

### Step 2: Configure `CMakeLists.txt`
Create a `CMakeLists.txt` file with the following contents:

```cmake
cmake_minimum_required(VERSION 3.14)
project(my_project)

# Use C++17 as required by GoogleTest
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/03597a01ee50ed33e9dfd640b249b4be3799d395.zip
)

# Windows-specific setting for runtime linkage
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)

FetchContent_MakeAvailable(googletest)

# Enable testing
enable_testing()

# Add the test executable
add_executable(
  hello_test
  hello_test.cc
)

# Link the test executable against GoogleTest's main library
target_link_libraries(
  hello_test
  GTest::gtest_main
)

# Discover tests so CTest can run them
include(GoogleTest)
gtest_discover_tests(hello_test)
```

### Explanation
- `FetchContent` downloads GoogleTest source code during the configuration, ensuring your build always has correct dependencies.
- The `hello_test` executable will contain your test code.

### Step 3: Add a Sample Test File
Create `hello_test.cc` with this simple test:

```cpp
#include <gtest/gtest.h>

// Checks basic assertions
TEST(HelloTest, BasicAssertions) {
  // Expect two strings are not equal
  EXPECT_STRNE("hello", "world");
  // Expect numeric equality
  EXPECT_EQ(7 * 6, 42);
}
```

This test demonstrates GoogleTest's basic assertion macros.

---

## 3. Build & Run Your Tests

### Step 1: Generate Build Files with CMake
From the root of your project:

```bash
cmake -S . -B build
```

This generates native build files in the `build` directory.

### Step 2: Build the Test Binary

```bash
cmake --build build
```

You should see compilation output ending with successful build messages.

### Step 3: Run Tests Using CTest

```bash
cd build
ctest
```

You will see the test run output, similar to:

```
Test project /path/to/my_project/build
    Start 1: HelloTest.BasicAssertions
1/1 Test #1: HelloTest.BasicAssertions ........   Passed    0.01 sec

100% tests passed, 0 tests failed out of 1

Total Test time (real) =   0.01 sec
```

This confirms GoogleTest is working as expected.

---

## 4. Writing Tests in GoogleTest

### Writing Simple Tests
Use `TEST(TestSuiteName, TestName)` to define individual test functions:

```cpp
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}
```

*Note:* Test suite names group related tests while test names identify individual cases.

### Using Assertions
GoogleTest provides two main assertion types:
- `EXPECT_` Assertions: Non-fatal failures; test continues after failure.
- `ASSERT_` Assertions: Fatal failures; test aborts on failure.

Example:

```cpp
EXPECT_EQ(result, expected_value);
ASSERT_NE(ptr, nullptr) << "Pointer must not be null before dereference";
```

Use `EXPECT_` for multiple checks within tests; `ASSERT_` when subsequent code depends on a condition.

### Test Fixtures for Shared Setup
When multiple tests share setup logic:

1. Define a fixture class deriving from `testing::Test`.
2. Use `TEST_F(FixtureName, TestName)` macro to write tests using the fixture.

Example:

```cpp
class QueueTest : public testing::Test {
 protected:
  void SetUp() override {
    q_.enqueue(1);
    q_.enqueue(2);
  }

  Queue<int> q_;
};

TEST_F(QueueTest, DequeueReturnsElementsInOrder) {
  EXPECT_EQ(q_.dequeue(), 1);
  EXPECT_EQ(q_.dequeue(), 2);
}
```

Each test runs with a fresh fixture instance for isolation.

---

## 5. Best Practices

- **Set expectations before invoking code under test** to let failures occur at the point of violation.
- **Use matchers** (`_`, `Eq()`, `Ge()`, etc.) to specify argument expectations precisely.
- **Control expectation frequency** with `Times()`, `WillOnce()`, and `WillRepeatedly()`.
- **Keep tests independent and repeatable**: tests should not rely on states changed by others.

---

## 6. Troubleshooting Tips

- If tests fail to compile, verify you have C++17 support and correct include/link paths.
- If tests fail to run or are not discovered, check your CMake configuration including `enable_testing()` and `gtest_discover_tests()`.
- On Windows, use `set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)` in your CMakeLists.txt when mixing runtimes.
- To debug failing test assertions, increase verbosity with `--gtest_verbose=info`.

---

## 7. Next Steps

- Explore the [GoogleTest Primer](primer.md) for deeper coverage of writing tests.
- Learn about [Writing and Running Tests](guides/writing-and-running-tests/core-test-workflows.md) for common patterns.
- Review the [Mocking Cookbook](gmock_cook_book.md) to start mocking dependencies in your tests.
- Use the [GoogleTest Samples](samples.md) repository for practical examples.

---

## Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [CMake Official Documentation](https://cmake.org/documentation/)
- [Supported Platforms](platforms.md)

---

Congratulations on setting up your GoogleTest workflow! Ready to dive deeper? The journey ahead covers powerful assertion techniques, advanced fixtures, mock objects, and continuous integration practices to supercharge your test suites.
