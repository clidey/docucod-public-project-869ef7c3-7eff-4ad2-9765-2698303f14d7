---
title: "Parameterized and Typed Tests"
description: "Unpack the mechanics and advantages of value-parameterized and type-parameterized tests. Real-world scenarios illustrate how to reuse test logic across multiple data sets and types, dramatically reducing code duplication."
---

# Parameterized and Typed Tests

Unlock the power of reusing test logic across multiple data sets and types in GoogleTest by mastering value-parameterized and type-parameterized tests. This guide demystifies these advanced testing paradigms with practice-focused explanations and real-world examples that drastically reduce code duplication and improve test coverage.

---

## Overview

GoogleTest supports two powerful frameworks for writing reusable tests:

1. **Value-Parameterized Tests**: Run the same test logic with different values.
2. **Typed and Type-Parameterized Tests**: Run tests across a list of types to validate template code or generic programming constructs.

These approaches let you write one test and execute it multiple times with various inputs or types, eliminating repetitive test code and enhancing maintainability.

---

## 1. Value-Parameterized Tests

### Purpose
Use value-parameterized tests to verify your codeâ€™s behavior against a set of varied inputs without copying and pasting test code.

### How Value-Parameterized Tests Work

- You define a test fixture class derived from `testing::TestWithParam<T>`, where `T` is your parameter type.
- Use the `TEST_P` macro to define tests that can access each parameter value via the `GetParam()` method.
- Instantiate the test suite with a parameter generator using `INSTANTIATE_TEST_SUITE_P`, specifying the parameters and optionally a custom name generator.

### Step-by-Step

<Steps>
<Step title="Define a Parameterized Test Fixture">
Derive a class from `testing::TestWithParam<T>`, where `T` is the parameter type.

```cpp
class FooTest : public testing::TestWithParam<int> {
  // Setup if needed
};
```
</Step>
<Step title="Write Tests Using TEST_P">
Use `TEST_P` to create tests that can access the parameter via `GetParam()`.

```cpp
TEST_P(FooTest, IsEven) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}
```
</Step>
<Step title="Instantiate the Test Suite with Parameters">
Use `INSTANTIATE_TEST_SUITE_P` with a parameter generator such as `Values`, `Range`, or `Combine`.

```cpp
INSTANTIATE_TEST_SUITE_P(EvenNumbers, FooTest, testing::Values(2, 4, 6, 8));
```
This creates four test instances called `EvenNumbers/FooTest.IsEven/0` through `.../3`.
</Step>
</Steps>

### Parameter Generators

- `Values(...)`: Explicit list of values.
- `Range(begin, end[, step])`: Numeric ranges (end exclusive).
- `ValuesIn(container)`: Values from an array or STL container.
- `Bool()`: Generates `false` and `true`.
- `Combine(g1, g2, ..., gN)`: Cartesian product of multiple generators producing tuples.
- `ConvertGenerator<T>(g[, func])`: Converts generated values to type `T` optionally using a converter function.

### Example

```cpp
class StringLengthTest : public ::testing::TestWithParam<std::string> {};

TEST_P(StringLengthTest, LengthIsCorrect) {
  std::string s = GetParam();
  EXPECT_EQ(s.size(), s.length());
}

INSTANTIATE_TEST_SUITE_P(
    BasicStrings, StringLengthTest,
    testing::Values("foo", "bar", "", "googletest"));
```

### Best Practices

- Use meaningful parameter types to ensure clarity.
- When using complex parameters (like tuples), consider defining custom printing functions to improve test output readability.
- Use `PrintToStringParamName` or supply a custom naming function for clearer test names.

### Common Pitfalls

- Forgetting to instantiate the parameterized test suite causes tests not to run.
- Using types that are not copyable or printable might lead to compilation or runtime confusion.
- Naming clashes or invalid characters in custom name generators can cause failures.

---

## 2. Typed Tests and Type-Parameterized Tests

Typed tests let you run a single test suite over a list of types to validate templates or type-generic code.

### Difference between Typed Tests and Type-Parameterized Tests

| Feature               | Typed Tests                      | Type-Parameterized Tests                  |
|-----------------------|--------------------------------|------------------------------------------|
| When types known upfront | Yes                           | No (defined before types are known)      |
| Test suite definition  | Uses `TYPED_TEST_SUITE`         | Uses `TYPED_TEST_SUITE_P` (pattern/template) |
| Test definition        | Uses `TYPED_TEST`               | Uses `TYPED_TEST_P`                       |
| Registration required  | No                            | Must register with `REGISTER_TYPED_TEST_SUITE_P` |
| Multiple instantiations| No (one suite, multiple types) | Yes (instantiate multiple times with different types) |

### 2.1 Typed Tests

Use when you know the list of types at the point you write your tests.

#### Steps

1. Define a test fixture class template parameterized by `typename T` deriving from `testing::Test`.
2. Associate a type list via `TYPED_TEST_SUITE`.
3. Use `TYPED_TEST` to write tests. Inside tests, `TypeParam` gives access to the current type.

#### Example

```cpp
template <typename T>
class NumericTest : public testing::Test {
 public:
  T value = 0;
};

using MyTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericTest, MyTypes);

TYPED_TEST(NumericTest, DefaultIsZero) {
  EXPECT_EQ(this->value, TypeParam{});
}
```

### 2.2 Type-Parameterized Tests

Use when you want to define tests without knowing types upfront, to instantiate later.

#### Steps

1. Define a test fixture class template parameterized by `typename T`.
2. Declare the test suite pattern with `TYPED_TEST_SUITE_P`.
3. Use `TYPED_TEST_P` to define test pattern(s).
4. Register tests with `REGISTER_TYPED_TEST_SUITE_P`.
5. Instantiate with `INSTANTIATE_TYPED_TEST_SUITE_P` providing type lists.

#### Example

```cpp
template <typename T>
class AbstractTest : public testing::Test {};

TYPED_TEST_SUITE_P(AbstractTest);

TYPED_TEST_P(AbstractTest, TestDefault) {
  EXPECT_EQ(TypeParam{}, TypeParam(0));
}

REGISTER_TYPED_TEST_SUITE_P(AbstractTest, TestDefault);

using TypesToTest = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyTypes, AbstractTest, TypesToTest);
```

### Advanced: Custom Test Suite Name Generators

Both typed and type-parameterized tests can specify a class with a static templated `GetName(int)` to define custom names for each type's test suite.

### Best Practices

- Use typed tests for straightforward conformance of multiple types to a concept.
- Use type-parameterized tests when you need to reuse test patterns across translation units or define abstract test patterns.
- Provide custom names when default generated names become unwieldy or unclear.

### Common Pitfalls

- Forgetting to register tests in type-parameterized test suites will result in build or runtime errors.
- Using types without default constructors may cause issues unless carefully handled.
- Using complicated or very long type names can make test output hard to read without naming customization.

---

## Tips and Troubleshooting

<AccordionGroup title="Common Tips & Troubleshooting for Parameterized and Typed Tests">
<Accordion title="Test Not Running">
Check if you have:
- Defined the test fixture properly.
- Used the correct macro (`TEST_P`, `TYPED_TEST`, or `TYPED_TEST_P`).
- Properly instantiated or registered your test suites.
</Accordion>
<Accordion title="Unclear Test Names">
- Use GoogleTest's built-in `PrintToStringParamName` for value-parameterized tests for clearer individual test names.
- Implement a custom name generator functor or lambda to produce readable type or parameter-based names.
</Accordion>
<Accordion title="Parameter Type Issues">
- Ensure parameter types are copyable and printable.
- For non-copyable types, use wrapping or careful ownership semantics.
- Provide `PrintTo()` overloads for custom complex types to improve output readability.
</Accordion>
<Accordion title="Compilation Errors with Typedefs or Template Types">
- Use fully qualified or aliased type names when registering or instantiating.
- Wrap function arguments with commas in parentheses in `MOCK_METHOD` or similar macros to avoid parsing errors.
</Accordion>
</AccordionGroup>

---

## Summary Diagram of the Workflow

```mermaid
flowchart TD
  A[Write Test Fixture Template<br/>class FooTest<T> : Test] --> B[Define Tests:<br/>TEST_P / TYPED_TEST / TYPED_TEST_P]
  B --> C{Is It Typed or Type-Parameterised?}

  C -->|Typed Test| D[TYPED_TEST_SUITE(FooTest, TypesList)]
  C -->|Type-Parameterized| E[TYPED_TEST_SUITE_P(FooTest)]

  E --> F[Register Tests:<br/>REGISTER_TYPED_TEST_SUITE_P]
  D & F --> G[Instantiate Test Suites]

  G -->|Value-Parameterized| H[INSTANTIATE_TEST_SUITE_P with Generators (Values, Range, Combine, etc.)]
  G -->|Type-Parameterized| I[INSTANTIATE_TYPED_TEST_SUITE_P with Types]

  H & I --> J[GoogleTest Runs Tests Individually with Parameters or Types]

  J --> K[Test Results Reported]

  click D href "docs/reference/testing.md#TYPED_TEST_SUITE"
  click E href "docs/reference/testing.md#TYPED_TEST_SUITE_P"
  click H href "docs/reference/testing.md#INSTANTIATE_TEST_SUITE_P"
  click I href "docs/reference/testing.md#INSTANTIATE_TYPED_TEST_SUITE_P"
```

---

## Next Steps & Related Content

- Explore the [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) section for deeper details on parameter generation.
- Dive into [Typed Tests](../advanced.md#typed-tests) and [Type-Parameterized Tests](../advanced.md#type-parameterized-tests) for more examples and use cases.
- Review [Test Case Structure and Parameterization](../api-reference/core-test-apis/test-structure-parameterization) in the API reference for official macro and class details.
- Check the [GoogleTest Primer](../getting-started/first-test-run-validation/write-first-test) to understand foundational concepts and initial test writing.
- For mocking related tests, look at the [Using Mocks Effectively](../guides/advanced-and-mocking-guides/using-mocks-effectively) guide.

---

## References

- `TEST_P`, `INSTANTIATE_TEST_SUITE_P`: [Testing Reference](docs/reference/testing.md#TEST_P)
- `TYPED_TEST_SUITE`, `TYPED_TEST`: [Typed Tests Reference](docs/reference/testing.md#TYPED_TEST_SUITE)
- `TYPED_TEST_SUITE_P`, `REGISTER_TYPED_TEST_SUITE_P`, `INSTANTIATE_TYPED_TEST_SUITE_P`: [Type-Parameterized Tests Reference](docs/reference/testing.md#TYPED_TEST_SUITE_P)



---

_Start maximizing your code coverage and test efficiency today with GoogleTest parameterized and typed testing!_
