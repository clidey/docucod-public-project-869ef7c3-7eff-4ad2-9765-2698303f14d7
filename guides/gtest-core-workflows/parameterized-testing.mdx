---
title: "Parameterized and Typed Tests"
description: "Explains how to write value-parameterized and type-parameterized test suites to efficiently test a function or class with a variety of parameters or types. Includes practical code examples for sophisticated test automation."
---

# Parameterized and Typed Tests Guide

GoogleTest empowers you to write versatile and efficient tests by allowing you to define _value-parameterized_ and _type-parameterized_ test suites. Rather than writing multiple test cases manually, you can systematically test functions or classes across many input values or types, significantly reducing code duplication and improving coverage.

---

## 1. Understanding the Value of Parameterized Testing

Imagine you have a function that behaves differently depending on some input parameters. Instead of writing many almost identical test cases, value-parameterized tests let you write one test logic that runs automatically over a suite of parameter values you specify.

Similarly, when verifying generic code templates or class templates, you want the same tests to run on different types without rewriting the tests each time. This is precisely where typed tests and type-parameterized tests shine.

### What You Will Achieve With This Guide
- Learn how to write _value-parameterized test suites_, run a test repeatedly on different values
- Learn how to write _typed tests_, running a test multiple times for each type in a set
- Master _type-parameterized tests_, defining abstract test patterns and instantiating them with multiple types
- See clear, practical C++ code examples

### Prerequisites
- Basic familiarity with GoogleTest macros (`TEST`, `TEST_F`)
- Understanding of C++ templates for typed testing
- A test project set up with GoogleTest included

---

## 2. Writing Value-Parameterized Tests

Value-parameterized tests run the same test logic multiple times, each with a different parameter value.

### 2.1 Create a Test Fixture Class
Define a test fixture class inheriting from `::testing::TestWithParam<T>`, where `T` is the parameter type (can be any copyable type).

```cpp
class MyValueTest : public ::testing::TestWithParam<int> {
  // Test setup or helpers here
};
```

### 2.2 Write Parameterized Tests Using `TEST_P`
Define parameterized test cases with the `TEST_P` macro. Access the current parameter within each test via `GetParam()`.

```cpp
TEST_P(MyValueTest, IsEven) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0) << "Value " << value << " is not even.";
}
```

### 2.3 Instantiate Tests With Parameter Values

Use `INSTANTIATE_TEST_SUITE_P` to supply the parameter values using GoogleTest's built-in generators: `Values()`, `Range()`, `ValuesIn()` and others.

```cpp
INSTANTIATE_TEST_SUITE_P(EvenNumbersInstantiation, MyValueTest, ::testing::Values(2, 4, 6, 8));

// Or using a range
INSTANTIATE_TEST_SUITE_P(RangeInstantiation, MyValueTest, ::testing::Range(0, 10, 2));
```

---

## 3. Writing Typed Tests

Typed tests run test cases for each specified type, useful when testing class templates or templated functions.

### 3.1 Define a Test Fixture Template
Write a fixture template class parameterized by type `T`. Derive it from `testing::Test`.

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 protected:
  T value_{};
};
```

### 3.2 Define a Type List and Associate With Fixture
Declare a type alias with `::testing::Types` listing all types to test with. Register this list with your fixture via `TYPED_TEST_SUITE`.

```cpp
using MyTypes = ::testing::Types<int, double, char>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

### 3.3 Write Tests Using `TYPED_TEST`
Define the test case with `TYPED_TEST`. The special name `TypeParam` refers to the current type.

```cpp
TYPED_TEST(MyTypedTest, IsDefaultConstructible) {
  TypeParam value = this->value_;
  // Example usage assuming default constructible types
  EXPECT_TRUE(true);  // Add meaningful checks here
}
```

---

## 4. Writing Type-Parameterized Tests

Type-parameterized tests differ from typed tests by allowing test patterns to be defined without specifying the types. You can instantiate them later with different type sets, across multiple translation units.

### 4.1 Define a Fixture Template
Prepare a test fixture template derived from `testing::Test`.

```cpp
template <typename T>
class MyTypeParamTest : public ::testing::Test {
  // Generic test logic
};
```

### 4.2 Declare a Type-Parameterized Test Suite
Mark the test suite with `TYPED_TEST_SUITE_P` to declare it as type-parameterized.

```cpp
TYPED_TEST_SUITE_P(MyTypeParamTest);
```

### 4.3 Define Tests with `TYPED_TEST_P`
Each test definition uses the macro `TYPED_TEST_P`.

```cpp
TYPED_TEST_P(MyTypeParamTest, HasDefaultConstructor) {
  TypeParam value{};
  (void)value;  // Avoid unused warning
  EXPECT_TRUE(true);
}
```

### 4.4 Register Tests with `REGISTER_TYPED_TEST_SUITE_P`
Register all test names.

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyTypeParamTest, HasDefaultConstructor);
```

### 4.5 Instantiate Type-Parameterized Tests
Instantiate with a type list in any translation unit.

```cpp
using TypesToTest = ::testing::Types<int, float>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, MyTypeParamTest, TypesToTest);
```

---

## 5. Practical Examples

### 5.1 Value-Parameterized Test Example

```cpp
class IsPositiveTest : public ::testing::TestWithParam<int> {};

TEST_P(IsPositiveTest, PositiveValues) {
  int value = GetParam();
  EXPECT_GT(value, 0);
}

INSTANTIATE_TEST_SUITE_P(
  PositiveTests, IsPositiveTest,
  ::testing::Values(1, 5, 42));
```

This automatically creates three tests, each checking one of these values.

### 5.2 Typed Test Example

```cpp
template <typename T>
class StorageTest : public ::testing::Test {
 protected:
  T data_{};
};

using TestTypes = ::testing::Types<int, double, char>;
TYPED_TEST_SUITE(StorageTest, TestTypes);

TYPED_TEST(StorageTest, IsZeroInitialized) {
  EXPECT_EQ(this->data_, TypeParam{});
}
```

Each type gets the `IsZeroInitialized` test.

### 5.3 Type-Parameterized Test Example

```cpp
template <typename T>
class ContainerTest : public ::testing::Test {};

TYPED_TEST_SUITE_P(ContainerTest);

TYPED_TEST_P(ContainerTest, DefaultConstructible) {
  TypeParam container;
  EXPECT_TRUE(container.empty());
}

REGISTER_TYPED_TEST_SUITE_P(ContainerTest, DefaultConstructible);

using ContainerTypes = ::testing::Types<std::vector<int>, std::list<int>>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyContainers, ContainerTest, ContainerTypes);
```

The above is ideal when test cases are shared but types available for testing may vary.

---

## 6. Best Practices and Tips

- **Naming Instantiations**: Use unique, descriptive names in `INSTANTIATE_TEST_SUITE_P` to organize your test results clearly.
- **Custom Test Names**: Supply custom name generators for test parameters to improve test output readability.
- **Reuse Fixtures**: Share common set-up logic in fixtures to avoid duplication.
- **Limit Test Explosion**: Be mindful of combinatorial explosion when combining many parameters and types.

<Tip>
Write clear, parameter-specific test assertions to benefit fully from parameterized tests.
</Tip>

---

## 7. Troubleshooting Common Issues

### Tests Not Running
- Ensure that `INSTANTIATE_TEST_SUITE_P` is called; otherwise parameterized tests remain uninstantiated.
- To suppress uninstantiated warnings, use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`.

### Invalid Test Names
- Parameter names must be alphanumeric or underscores, no spaces or dashes.
- Provide a custom name generator to produce valid test names.

### Type Conversion Problems
- Use `ConvertGenerator` if parameters need explicit conversion to the fixture type.

---

## 8. Related Content

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) for foundational test writing
- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) in the advanced guide
- [Typed and Type-Parameterized Tests](../advanced.md#typed-tests) for in-depth usage
- [Testing Reference - Parameterized and Typed Tests](../api_reference/core_testing_framework/parameterized_and_typed_tests.md)
- [Sample #6](https://github.com/google/googletest/tree/main/googletest/samples) shows typed tests
- [Sample #7 and #8](https://github.com/google/googletest/tree/main/googletest/samples) show value-parameterized tests

---

By applying these patterns, you gain a powerful testing strategy that scales gracefully with your test complexity, reduces code duplication, and clarifies intent through structured parameterization.
