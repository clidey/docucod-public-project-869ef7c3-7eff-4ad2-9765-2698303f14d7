---
title: "Parameterizing Your Tests"
description: "Dive into value- and type-parameterized tests to maximize coverage and minimize boilerplate—for scenarios where your logic must be tested across different inputs or types."
---

# Parameterizing Your Tests

Dive into value- and type-parameterized tests to maximize coverage and minimize boilerplate—for scenarios where your logic must be tested across different inputs or types.

---

## Overview

Parameterizing your tests in GoogleTest allows you to write a single generic test and run it multiple times with different input values or types. This approach reduces code duplication while ensuring robust test coverage across a wide range of scenarios.

This guide focuses specifically on how to create and manage value-parameterized and type-parameterized tests, empowering your test suite to efficiently handle diverse inputs and type variations.

---

## Prerequisites

- Familiarity with GoogleTest basics such as writing simple tests with `TEST()` and fixtures with `TEST_F()`.
- GoogleTest properly installed and configured within your project.
- Basic knowledge of C++ templates and types is helpful for understanding type-parameterized tests.

---

## What You Will Achieve

- Define and run value-parameterized tests that execute the same logic with different literal/test values.
- Create type-parameterized tests to validate the same test suite logic works across multiple C++ types.
- Instantiate tests with custom parameter sets using built-in generators like `Values()`, `Range()`, `Combine()`, and more.
- Customize test names dynamically for readable and debuggable test reports.

---

## Time Estimate

About 20-30 minutes to learn and implement basic parameterized tests, depending on C++ familiarity.

---

# Value-Parameterized Tests

When you want to run the same test logic against different literal values (e.g., integers, strings, enums), value-parameterized tests save you from creating multiple test functions.

## Steps to Create a Value-Parameterized Test

<Steps>
<Step title="Define a Test Fixture Inheriting from `TestWithParam<T>`">
Derive a test fixture class from `::testing::TestWithParam<T>`, where `T` is the parameter type you want.

```cpp
class FooTest : public ::testing::TestWithParam<int> {};
```

This fixture will provide access to the parameter via `GetParam()`.
</Step>
<Step title="Write Your Tests Using `TEST_P` Macro">
Define parameterized tests using `TEST_P` instead of `TEST_F`. Inside the test, access the current parameter using `GetParam()`.

```cpp
TEST_P(FooTest, DoesBlah) {
    int param = GetParam();
    EXPECT_TRUE(SomeFunction(param));
}
```
</Step>
<Step title="Instantiate the Test Suite with Parameters">
Use `INSTANTIATE_TEST_SUITE_P` to create test instances with different parameters.

Example with explicit values:

```cpp
INSTANTIATE_TEST_SUITE_P(MyParams, FooTest, ::testing::Values(1, 2, 3));
```

Example with a container:

```cpp
int arr[] = {4, 5, 6};
INSTANTIATE_TEST_SUITE_P(ContainerParams, FooTest, ::testing::ValuesIn(arr));
```

You can combine generators using `Combine()`, generate ranges with `Range()`, or simply test Boolean cases with `Bool()`.
</Step>
<Step title="Run Your Tests Normally">
Invoke tests as usual with `RUN_ALL_TESTS()`. GoogleTest will run the test suite for each parameter value.

Test names will include the parameter index by default, e.g., `MyParams/FooTest.DoesBlah/0`.
</Step>
</Steps>


### Built-in Parameter Generators

| Generator      | Description                                                                                 |
| -------------- | ------------------------------------------------------------------------------------------- |
| `Values(...)`  | Tests with the listed explicit values, e.g., `Values(1, 2, 3)`                             |
| `ValuesIn(...)`| Tests using values from arrays, containers, or iterator ranges                             |
| `Range(start, end[, step])` | Tests a sequence starting at `start` to but excluding `end`, stepping by `step`         |
| `Bool()`       | Tests with boolean `false` and `true`                                                      |
| `Combine(g1, g2, ...)` | Combines multiple generators creating a Cartesian product of parameters                  |


### Example: Value-Parameterized Test

```cpp
class IsEvenTest : public ::testing::TestWithParam<int> {};

TEST_P(IsEvenTest, CheckEven) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, IsEvenTest, ::testing::Values(2, 4, 6, 8));
```

This runs `CheckEven` four times—once with each value.

---

# Customizing Parameter Test Names

The default parameter names are numeric indices which may not be descriptive. You can provide a custom naming function:

```cpp
INSTANTIATE_TEST_SUITE_P(
    Named, FooTest, ::testing::Values(1,2,3),
    [](const testing::TestParamInfo<int>& info) {
        return "Value_" + std::to_string(info.param);
    });
```

This produces test cases appended with suffixes like `Value_1`, `Value_2`, etc.

---

# Type-Parameterized Tests

Use these when the same test logic should be verified over multiple C++ types, such as `int`, `float`, `std::string`, or custom classes.

## Steps to Create a Type-Parameterized Test

<Steps>
<Step title="Define a Fixture Template Class">
Template your fixture class on a type parameter and derive from `::testing::Test`.

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
   T value_;
};
```
</Step>
<Step title="Declare the List of Types to Test">
List the types you want your tests to be instantiated with using `testing::Types<...>`.

```cpp
using MyTypes = ::testing::Types<int, float, double>;
```
</Step>
<Step title="Associate the Types with the Fixture Using `TYPED_TEST_SUITE`">
Bind the type list to your test suite.

```cpp
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```
</Step>
<Step title="Write Typed Tests Using `TYPED_TEST`">
Define tests with `TYPED_TEST`. Use the special `TypeParam` alias to access the current type.

```cpp
TYPED_TEST(MyTypedTest, DoesBlah) {
  TypeParam n = this->value_;
  EXPECT_TRUE(SomeFunction(n));
}
```
</Step>
<Step title="Run Your Tests Normally">
The GoogleTest framework will instantiate and run tests for each specified type.
</Step>
</Steps>

---

# Type-Parameterized Test Patterns

These tests allow you to define abstract test patterns without knowing the types in advance, then instantiate with multiple type lists in different translation units.

Required steps:

- Use the `_P` macro variants: `TYPED_TEST_SUITE_P`, `TYPED_TEST_P`, `REGISTER_TYPED_TEST_SUITE_P`.
- Instantiate with `INSTANTIATE_TYPED_TEST_SUITE_P` using your list of types.

This approach is especially valuable when implementing interfaces or concepts to verify compliance with behavior irrespective of type.

---

# Practical Tips & Best Practices

- Every test run uses a fresh fixture instance — avoid sharing state across tests.
- Use descriptive parameter names for clarity in test output.
- Combine parameter generators to stress-test combinations of inputs (e.g., multiple flags).
- Prefer `TEST_P` for reusable parameterized fixtures rather than duplicating similar `TEST_F` tests.
- When the parameter type is not implicitly convertible from the generator, use `ConvertGenerator` to convert values safely.
- Remember parameter generators are evaluated during `InitGoogleTest()`, not at instantiation or test runtime.

---

# Common Pitfalls & Troubleshooting

<AccordionGroup title="Troubleshooting Parameterized Tests">
<Accordion title="Test Cases Are Not Instantiated or Run">
Make sure you call `INSTANTIATE_TEST_SUITE_P` for every parameterized test suite.
Without instantiation, tests will be registered as uninstantiated and skipped.
If you want to allow uninstantiated tests, use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`.
</Accordion>
<Accordion title="Test Names are Confusing or Duplicated">
Customize the naming function in `INSTANTIATE_TEST_SUITE_P` to give meaningful test suffixes.
Avoid parameters with characters invalid for test names.
</Accordion>
<Accordion title="Parameters Not Correctly Passed to Test">
Verify your fixture derives from `TestWithParam<T>` where `T` exactly matches your parameter type.
Access parameters only via `GetParam()`.
</Accordion>
<Accordion title="Compiler Errors with Type-Parameterized Tests">
Confirm your fixture class is a template with one type parameter.
Use `TYPED_TEST_SUITE` macro correctly including its type list alias.
Make sure your test code uses `TYPED_TEST` macros with correct test suite and test names.
</Accordion>
</AccordionGroup>

---

# Example Code Snippets

### Value-Parameterized Test Example

```cpp
class IsPrimeTest : public ::testing::TestWithParam<int> {};

TEST_P(IsPrimeTest, CheckPrime) {
  int n = GetParam();
  EXPECT_TRUE(IsPrime(n));
}

INSTANTIATE_TEST_SUITE_P(PrimeNumbers, IsPrimeTest, ::testing::Values(2, 3, 5, 7, 11));
```

### Type-Parameterized Test Example

```cpp
template <typename T>
class NumericLimitsTest : public ::testing::Test {
 protected:
  T min_ = std::numeric_limits<T>::min();
};

using NumericTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericLimitsTest, NumericTypes);

TYPED_TEST(NumericLimitsTest, MinIsNotZero) {
  EXPECT_NE(this->min_, 0);
}
```

---

# Next Steps & Related Topics

- Explore [Writing and Running Your First Test](/guides/getting-started/writing-your-first-test) to solidify foundational skills.
- Dive into [Using Assertions Effectively](/guides/core-workflows/using-assertions) for assertion mastery within parameterized tests.
- Learn about [Structured Test Suites](/guides/core-workflows/structuring-tests) to better organize your parameterized tests.
- Study [Mocking Functions and Objects](/guides/core-workflows/mocking-basics) to combine mocking with parameterized testing.

For more code examples, visit the [googletest samples directory](https://github.com/google/googletest/tree/main/googletest/samples).

---

# References

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md)
- [Advanced: Value-Parameterized Tests](https://github.com/google/googletest/blob/main/docs/advanced.md#value-parameterized-tests)
- [Advanced: Typed Tests](https://github.com/google/googletest/blob/main/docs/advanced.md#typed-tests)
- [GoogleTest API Reference - TEST_P, INSTANTIATE_TEST_SUITE_P](https://github.com/google/googletest/blob/main/docs/reference/testing.md#TEST_P)
- [GoogleTest API Reference - TYPED_TEST_SUITE](https://github.com/google/googletest/blob/main/docs/reference/testing.md#TYPED_TEST_SUITE)

---

# Summary

This page guides you through creating parameterized tests that maximize coverage while minimizing repetitive code in GoogleTest. It covers how to write value-parameterized tests with `TEST_P` and `INSTANTIATE_TEST_SUITE_P`, how to employ type-parameterized tests using templates and `TYPED_TEST_SUITE`, and advanced patterns like type-parameterized test registration and instantiation. Practical code examples, troubleshooting tips, and best practices ensure your journey into parameterized tests is smooth and effective.

---