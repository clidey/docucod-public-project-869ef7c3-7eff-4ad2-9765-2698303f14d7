---
title: "Value- and Type-Parameterized Tests"
description: "Tutorial on writing parameterized tests to increase coverage with minimal code duplication. Covers value-parameterized and type-parameterized patterns with examples."
---

# Value- and Type-Parameterized Tests

GoogleTest provides powerful patterns called _value-parameterized_ and _type-parameterized_ tests. These techniques let you run the same test logic repeatedly with different data or types, drastically increasing test coverage with minimal code duplication. This guide walks you through how to write these tests, explains the differences, and offers actionable examples to get you started.

---

## Table of Contents
- [Overview](#overview)
- [Value-Parameterized Tests](#value-parameterized-tests)
  - [Writing Value-Parameterized Tests](#writing-value-parameterized-tests)
  - [Accessing Test Parameters](#accessing-test-parameters)
  - [Instantiating Parameterized Tests](#instantiating-parameterized-tests)
  - [Customizing Parameter Names](#customizing-parameter-names)
  - [Best Practices and Common Pitfalls](#best-practices-and-common-pitfalls)
- [Type-Parameterized Tests](#type-parameterized-tests)
  - [Writing Typed Test Fixtures](#writing-typed-test-fixtures)
  - [Defining Typed Test Suites](#defining-typed-test-suites)
  - [Writing Typed Tests](#writing-typed-tests)
  - [Type-Parameterized Tests (Patterns)](#type-parameterized-tests-patterns)
  - [Advanced: Custom Test Name Generators](#advanced-custom-test-name-generators)
- [Troubleshooting & Tips](#troubleshooting--tips)
- [Next Steps & Related Content](#next-steps--related-content)

---

## Overview

Value- and type-parameterized tests are designed for running one suite of tests multiple times with different _values_ or _types_, respectively:

- **Value-Parameterized Tests:** One test logic, different input data.
- **Type-Parameterized Tests:** One test logic, applied across different types.

Using these techniques helps you avoid tedious duplications, quickly cover more edge cases, and reduce maintenance by writing tests once.

Before you proceed, make sure you have a basic understanding of GoogleTest fixtures and macros like `TEST()`, `TEST_F()`, and `EXPECT_*`. If you need to brush up, see the [GoogleTest Primer](../primer.md).

---

## Value-Parameterized Tests

### Writing Value-Parameterized Tests

1. **Define a Fixture Class Template**
   Derive it from `::testing::TestWithParam<T>`, where `T` is the parameter type.

```cpp
class FooTest : public ::testing::TestWithParam<int> {
  // Add members and setup as needed
};
```

2. **Define Parameterized Test Cases**
 Use the `TEST_P()` macro and use `GetParam()` to access the current test parameter.

```cpp
TEST_P(FooTest, HandlesPositiveValues) {
  int n = GetParam();
  EXPECT_GT(n, 0);
  // Test logic using 'n'
}
```

3. **Instantiate the Tests with Parameters**
 Use `INSTANTIATE_TEST_SUITE_P()` and supply a set of values with a parameter generator, e.g., `Values()`, `Range()`, or `Combine()`.

```cpp
INSTANTIATE_TEST_SUITE_P(Positives,
                         FooTest,
                         ::testing::Values(1, 2, 3, 10));
```

### Accessing Test Parameters

- Use `GetParam()` inside your test bodies (`TEST_P`) to retrieve the current parameter.
- The parameter type `T` should be copyable, and if a pointer, manage lifespan properly.

### Instantiating Parameterized Tests

- `INSTANTIATE_TEST_SUITE_P(prefix, TestSuiteName, param_generator);`
- Parameter generators include:
  - `Values(v1, v2, ..., vN)` — explicit list
  - `Range(start, end [, step])` — numeric ranges (note end is exclusive)
  - `ValuesIn(container_or_array)` - from container or iterator range
  - `Bool()` — parameters false and true
  - `Combine(gen1, gen2, ...)` — Cartesian product of generators

Example:

```cpp
INSTANTIATE_TEST_SUITE_P(FooStuff, FooTest, ::testing::Range(1, 5));
```

This generates tests with parameters 1 through 4.

### Customizing Parameter Names

- You can provide a function or functor to convert parameters to test name suffixes.
- This is passed as an optional fourth argument to `INSTANTIATE_TEST_SUITE_P`.
- The naming function takes a `testing::TestParamInfo<T>` and returns a std::string.

Example:

```cpp
std::string NameGenerator(const testing::TestParamInfo<int>& info) {
  return "Param" + std::to_string(info.param);
}
...
INSTANTIATE_TEST_SUITE_P(FooStuff, FooTest, ::testing::Range(1, 5), NameGenerator);
```

### Best Practices and Common Pitfalls

- Always instantiate your tests, or use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST()` if you expect no instantiation.
- Be mindful that parameter generators are evaluated during `InitGoogleTest()`, not at macro invocation time.
- Use `Combine()` to generate multidimensional test parameter spaces.
- Choose parameter types that are easy to print or provide custom names for readable test reports.

---

## Type-Parameterized Tests

### Writing Typed Test Fixtures

1. **Define a Template Fixture Class**

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
  // You can define T-dependent members here
};
```

2. **Define the List of Types**

```cpp
using MyTypes = ::testing::Types<int, char, double>;
```

3. **Associate Types with the Fixture**

```cpp
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

### Defining Typed Test Suites

- Use `TYPED_TEST_SUITE()` to declare the typed test suite and associate the types.
- For a single type, you can pass it directly instead of a `Types<>` list.
- Optionally, provide a name generator class for custom test names.

### Writing Typed Tests

- Use `TYPED_TEST()` to define tests within the typed suite.
- Use the special keyword `TypeParam` inside the test body to refer to the current type.
- Access static members and typedefs via `TestFixture::` prefix.

Example:

```cpp
TYPED_TEST(MyTypedTest, DoesBlah) {
  TypeParam value{};  // default construct
  // Use this-> if accessing non-static members
  typename TestFixture::Container container;
  // ... test logic ...
}
```

### Type-Parameterized Tests (Patterns)

- `TYPED_TEST_SUITE` and `TYPED_TEST` define typed tests that run on all specified types automatically.
- You can write your fixture once and GoogleTest generates concrete tests behind the scenes.

### Advanced: Custom Test Name Generators

- Implement a class with:

```cpp
class MyTypeNames {
 public:
  template <typename T>
  static std::string GetName(int index) {
    if (std::is_same<T, char>()) return "char";
    if (std::is_same<T, int>()) return "int";
    if (std::is_same<T, unsigned int>()) return "unsignedInt";
    // ... other types ...
    return "unknown";
  }
};
```

- Pass the class as third parameter:

```cpp
TYPED_TEST_SUITE(MyTypedTest, MyTypes, MyTypeNames);
```

### Notes

- The macro `TYPED_TEST_SUITE` replaces deprecated `TYPED_TEST_CASE`.
- Typed tests are ideal when you want the same testing logic applied for a fixed set of types known at compile time.

---

## Troubleshooting & Tips

- If you see tests are not instantiated, verify you instantiated them with `INSTANTIATE_TEST_SUITE_P` or marked them with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` if intentional.
- Ensure your parameter types have accessible copy constructors and support streaming to make output readable.
- When writing typed tests, always remember to use `typename` to access type-dependent names inside templates.
- For value-parameterized tests, the parameter generator expressions are evaluated during initialization, so dynamic runtime values are not possible.

---

## Next Steps & Related Content

- Explore [Value-Parameterized Tests](//docs/reference/testing.md#TEST_P) and [Typed Tests](//docs/reference/testing.md#TYPED_TEST) in the API Reference for details.
- See the [GoogleTest Primer](../primer.md) for foundational test writing.
- For examples, review the Googletest Samples in the samples directory.
- To integrate with mocks, check out the [Mocking Reference](../reference/mocking.md) and the [gMock Cookbook](../gmock_cook_book.md).
- For advanced scenarios and customization, read the [Creating Custom Matchers and Actions](../guides/advanced-testing-patterns/custom-matchers-actions.md).

---