---
title: "Parameterized and Typed Tests"
description: "Harness value- and type-parameterized tests to cover broader input variations and generic logic. This guide demonstrates how to define and instantiate parameterized test cases and suites, with real code samples."
---

# Parameterized and Typed Tests

Harness value- and type-parameterized tests to cover broader input variations and generic logic. This guide demonstrates how to define and instantiate parameterized test cases and suites, with real code samples to accelerate your effective testing with GoogleTest.

---

## Workflow Overview

### Purpose
This guide helps you use GoogleTest's **value-parameterized** and **type-parameterized tests** to implement flexible test suites that run the same test logic over many input variations or types, thereby increasing coverage and reducing code duplication.

### Prerequisites
- Basic familiarity with writing tests in GoogleTest using `TEST`, `TEST_F`, and `TEST_P` macros.
- Understanding of C++ templates and type lists.
- GoogleTest properly installed and integrated into your project.

### Expected Outcome
By following this guide, you will be able to:
- Define **value-parameterized tests** to test code behavior across multiple input values.
- Use **test parameter generators** such as `Range()`, `Values()`, and `Combine()` to produce input sets.
- Create **typed tests** where the same test logic runs on multiple specified types.
- Define **type-parameterized tests** that allow flexible type instantiation across translation units.

### Time Estimate
~15-30 minutes to understand and implement examples.

### Difficulty Level
Intermediate. Requires some C++ template knowledge and test fixture familiarity.

---

## Step-by-Step Instructions

### 1. Writing Value-Parameterized Tests

Value-parameterized tests allow you to run the same test logic multiple times with different parameter values.

#### Define the Test Fixture
Create a test fixture class derived from `::testing::TestWithParam<T>`, where `T` is the type of the parameter values.

```cpp
class FooTest : public ::testing::TestWithParam<int> {
  // Usual test fixture members
};
```

#### Define Parameterized Tests
Use `TEST_P` macro instead of `TEST` or `TEST_F`:

```cpp
TEST_P(FooTest, HandlesValues) {
  int param = GetParam();
  EXPECT_TRUE(param >= 0);
  // Additional assertions on param...
}
```

Inside the test, use `GetParam()` to access the current parameter.

#### Instantiate the Parameterized Test Suite
Use `INSTANTIATE_TEST_SUITE_P` to specify the test parameters.

```cpp
INSTANTIATE_TEST_SUITE_P(Numbers,           // Instantiation name
                         FooTest,          // Test Suite Name
                         ::testing::Values(1, 2, 3, 5, 8)); // Parameter generator
```

Each parameter value creates one test instance, named like `Numbers/FooTest.HandlesValues/0`.

#### Use Parameter Generators
GoogleTest provides several generators to create parameters:

- `Range(start, end [, step])`: generates a sequence `[start, start + step, ..., end)`, excluding `end`, step defaults to 1.
- `Values(v1, v2, ..., vN)`: enumerates exact values.
- `ValuesIn(container)` or `ValuesIn(begin, end)`: generates values from array or container.
- `Bool()`: yields `{false, true}`.
- `Combine(gen1, gen2, ..., genN)`: Cartesian product, yields tuples.

Example using `Combine`:

```cpp
class FlagDependentTest : public ::testing::TestWithParam<std::tuple<bool, int>> {};

TEST_P(FlagDependentTest, WorksWithFlags) {
  auto [flag, number] = GetParam();
  // Test logic
}

INSTANTIATE_TEST_SUITE_P(AllVariants, FlagDependentTest, 
                         ::testing::Combine(::testing::Bool(), ::testing::Values(0, 1)));
```

#### Custom Parameter Naming
You can provide a functor or lambda to generate readable test suffixes:

```cpp
INSTANTIATE_TEST_SUITE_P(
    NamedVariants, MyTestSuite, ::testing::Values(...),
    [](const ::testing::TestParamInfo<int>& info) {
      return "Val" + std::to_string(info.param);
    });
```


### 2. Writing Typed Tests

Typed tests run the same test logic on multiple types. You specify the types at test definition time.

#### Define a Typed Test Fixture Template
Create a template fixture deriving from `::testing::Test`:

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
  // You can use T here and define members
};
```

#### Declare the Type List
Define the list of types you want to test:

```cpp
using MyTypes = ::testing::Types<int, char, unsigned int>;
```

#### Associate the Types with the Test Suite
Use `TYPED_TEST_SUITE` macro:

```cpp
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

#### Define Typed Tests
Use `TYPED_TEST` macro, where `TypeParam` refers to the current type.

```cpp
TYPED_TEST(MyTypedTest, BasicBehavior) {
  TypeParam value = static_cast<TypeParam>(1);
  EXPECT_TRUE(value);
}
```

Multiple `TYPED_TEST`s can be defined for the same `MyTypedTest` suite.

#### Optional: Custom Type Names
You may provide a class with a templated `GetName(int)` static function to generate readable type suffixes.

```cpp
class MyTypeNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if (std::is_same<T, int>()) return "int";
    if (std::is_same<T, char>()) return "char";
    return "unknown";
  }
};

TYPED_TEST_SUITE(MyTypedTest, MyTypes, MyTypeNames);
```

### 3. Writing Type-Parameterized Tests

Type-parameterized tests are flexible, allowing test patterns to be defined without knowing the types in advance, supporting multiple instantiations across files.

#### Define the Fixture Template and Declare the Suite

```cpp
template <typename T>
class MyTypeParamTest : public ::testing::Test {};

TYPED_TEST_SUITE_P(MyTypeParamTest);
```

#### Define Tests with `TYPED_TEST_P`

```cpp
TYPED_TEST_P(MyTypeParamTest, Test1) {
  TypeParam value{};
  EXPECT_EQ(value, TypeParam{});
}

TYPED_TEST_P(MyTypeParamTest, Test2) {
  // Another test
}
```

#### Register the Tests

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyTypeParamTest, Test1, Test2);
```

#### Instantiate the Suite with Types

```cpp
using SomeTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, MyTypeParamTest, SomeTypes);
```

Multiple `INSTANTIATE_TYPED_TEST_SUITE_P` can instantiate with different type lists.


---

## Examples & Code Samples

### Example 1: Value-Parameterized Test with `Values`
```cpp
class FooTest : public ::testing::TestWithParam<int> {};

TEST_P(FooTest, IsNonZero) {
  EXPECT_NE(0, GetParam());
}

INSTANTIATE_TEST_SUITE_P(FooValues, FooTest, ::testing::Values(1, 2, 3, 4));
```

### Example 2: Value-Parameterized Test with `Range`
```cpp
class RangeTest : public ::testing::TestWithParam<int> {};

TEST_P(RangeTest, IsLessThanTen) {
  EXPECT_LT(GetParam(), 10);
}

INSTANTIATE_TEST_SUITE_P(NumbersFromZeroToNine, RangeTest, ::testing::Range(0, 10));
```

### Example 3: Typed Test Example
```cpp
template <typename T>
class NumericTest : public ::testing::Test {};

using NumericTypes = ::testing::Types<int, float, double>;

TYPED_TEST_SUITE(NumericTest, NumericTypes);

TYPED_TEST(NumericTest, DefaultValueIsZero) {
  TypeParam value{};
  EXPECT_EQ(value, 0);
}
```

### Example 4: Type-Parameterized Test Example
```cpp
template <typename T>
class MyTest : public ::testing::Test {};

TYPED_TEST_SUITE_P(MyTest);

TYPED_TEST_P(MyTest, DoesSomething) {
  TypeParam val{};
  EXPECT_TRUE(true);  // Example check
}

REGISTER_TYPED_TEST_SUITE_P(MyTest, DoesSomething);

using MyTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, MyTest, MyTypes);
```

---

## Troubleshooting & Tips

### Common Issues
- **Test suite not instantiated error:** Ensure that all value-parameterized tests declared with `TEST_P` have a corresponding `INSTANTIATE_TEST_SUITE_P`. Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` to suppress errors if uninstantiated intentionally.
- **Duplicate parameter test names:** When using custom parameter name generators, ensure test suffixes are unique and contain only alphanumeric characters or underscores.
- **Type-parameterized test registration errors:** Define and register tests (`TYPED_TEST_P` and `REGISTER_TYPED_TEST_SUITE_P`) before instantiating types.
- **Parameter conversion errors:** Use `ConvertGenerator` to convert parameter types explicitly if generated types and fixture parameter types donâ€™t match.

### Best Practices
- **Use descriptive instantiation names** to clarify test output and filtering.
- **Name parameterized test instances clearly** using custom name generators for better test diagnostics.
- **Choose between typed and type-parameterized tests** based on whether types are known at test definition time or require reusable test patterns.
- **Leverage `Combine()`** to cover multi-factor input spaces exhaustively.
- **Avoid dangling references** in parameter generators by carefully managing ownership (see `ConvertGenerator` caveat in parameter naming).

---

## Next Steps & Related Content

### What to Explore Next
- Read about [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) and [Type-Parameterized Tests](../advanced.md#type-parameterized-tests) for deeper insights.
- Refer to the [Assertions and Matchers Guide](../guides/writing-effective-tests/assertions-matchers) to compose more expressive test validations.
- Explore [Basic Configuration Options](../getting-started/first-run-configuration-troubleshooting/basic-configuration-options) to customize test execution.

### Related Guides
- [Writing and Running Your First Test](../getting-started/first-run-configuration-troubleshooting/writing-and-running-your-first-test)
- [Installing GoogleTest](../getting-started/setup-prerequisites-installation/installing-googletest)
- [Troubleshooting Common Setup Issues](../getting-started/first-run-configuration-troubleshooting/troubleshooting-common-setup-issues)

---

For a centralized reference, see the [Testing Reference](../docs/reference/testing.md) detailing all related macros, classes, and functions.

---

## Additional Resources
- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [GoogleTest Primer](../guides/getting-started/primer)
- [Parameterized and Typed Tests API Reference](../api-reference/core-testing-apis/parameterized-and-typed-tests)

---