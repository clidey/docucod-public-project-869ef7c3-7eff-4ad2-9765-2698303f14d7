---
title: "Parameterized and Typed Tests: Writing Once, Testing Many"
description: "Discover how to write versatile, reusable tests using value-parameterized and type-parameterized test patterns. Includes practical steps, real examples, and advanced tips to maximize coverage with minimal code duplication."
---

# Parameterized and Typed Tests: Writing Once, Testing Many

## Introduction

In modern C++ testing, maintaining broad coverage without code duplication is a common challenge. GoogleTest addresses this via *parameterized* and *typed* tests — powerful patterns that let you write a test once and automatically run it across multiple input values or types. This guide will walk you through how to use these test patterns effectively, maximizing your test suite's flexibility, maintainability, and coverage.

---

## Workflow Overview

- **Task Description:** Learn how to write value-parameterized and type-parameterized tests in GoogleTest to run the same test logic for multiple values or types.

- **Prerequisites:** A working GoogleTest environment with C++17 or later (see [Prerequisites & Platform Support](/getting-started/environment-setup/prerequisites-platform-support)), basic familiarity with writing simple tests and test fixtures.

- **Expected Outcome:** Users will be able to create parameterized test fixtures, define parameterized tests, instantiate tests with multiple parameter sets or types, and understand naming and advanced customization.

- **Time Estimate:** 15–30 minutes, depending on experience.

- **Difficulty Level:** Intermediate

---

## 1. Value-Parameterized Tests

### What Are Value-Parameterized Tests?
Value-parameterized tests allow you to write test logic once and execute it multiple times with different test inputs (values). This is invaluable for testing the same functionality across multiple inputs without duplicating test code.

### When to Use
- When your tests differ only in input data.
- When testing a function with a variety of parameters.
- To avoid repetitive similar test logic.

### How to Write Value-Parameterized Tests

#### Step 1: Define a Test Fixture Class
Derive your fixture from `testing::TestWithParam<T>` where `T` is the type of the parameter you want to test.

```cpp
class FooTest : public ::testing::TestWithParam<int> {
  // Optional setup, teardown, and helper functions
};
```

#### Step 2: Write Parameterized Tests with `TEST_P`
Use the `TEST_P` macro instead of `TEST` or `TEST_F`. Inside the test, access the parameter using `GetParam()`.

```cpp
TEST_P(FooTest, HandlesValuesCorrectly) {
  int value = GetParam();
  EXPECT_TRUE(ProcessValue(value));
}
```

#### Step 3: Instantiate the Test Suite
Use `INSTANTIATE_TEST_SUITE_P` to define which values the tests will run with. GoogleTest offers several parameter generators:
- `Values(...)`: enumerates explicit values
- `ValuesIn(container)`: values from a container or iterator range
- `Range(start, end[, step])`: sequential values
- `Bool()`: generates `false` and `true`
- `Combine(...)`: Cartesian product of multiple generators

Example:

```cpp
INSTANTIATE_TEST_SUITE_P(
    IntValues,
    FooTest,
    ::testing::Values(1, 2, 3, 5, 8));
```

or from a container:

```cpp
std::vector<int> values = {10, 20, 30};
INSTANTIATE_TEST_SUITE_P(FromVector, FooTest, ::testing::ValuesIn(values));
```

#### Step 4: Run and Verify
When running, each instantiation appears as a separate test with suffixes like `/0`, `/1`, indicating parameter indices.

### Customizing Parameter Names
By default, GoogleTest appends numeric indexes as test suffixes, but you can specify custom naming:

```cpp
INSTANTIATE_TEST_SUITE_P(
    CustomNames,
    FooTest,
    ::testing::Values(10, 20, 30),
    [](const ::testing::TestParamInfo<int>& info) {
      return "Value_" + std::to_string(info.param);
    });
```

### Tips and Best Practices
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(FooTest);` if you define a parameterized test but don't instantiate it immediately.
- Avoid parameter names with spaces or special characters; use only alphanumerics and underscores.
- Combine multiple parameters using `Combine()` and unpack them with tuples in your test.

---

## 2. Typed Tests

### What Are Typed Tests?
Typed tests run the same test logic over a list of *types*, useful when you want to verify multiple implementations or template instantiations.

### When to Use
- Testing multiple types against a shared interface.
- Verifying template class behavior for various types.

### How to Write Typed Tests

#### Step 1: Define a Fixture Class Template
The class template should derive from `testing::Test`:

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
  T value_;
  // ... other members
};
```

#### Step 2: Define Type List and Associate with Test Suite
Use `using` and `TYPED_TEST_SUITE`:

```cpp
using MyTypes = ::testing::Types<int, double, char>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

#### Step 3: Write Typed Tests With `TYPED_TEST`
Access the current test type via `TypeParam`:

```cpp
TYPED_TEST(MyTypedTest, DoesSomething) {
  TypeParam n = this->value_;
  // Do testing with n
  EXPECT_TRUE(SomeCheck(n));
}
```

#### Step 4: Run Tests
This runs one test per type in your type list.

### Type-Parameterized Tests

For more flexible scenarios where test logic is defined separately from type list, use type-parameterized tests:

- Define the test fixture template
- Use `TYPED_TEST_SUITE_P` to declare a suite
- Use `TYPED_TEST_P` to define typed tests
- Register tests with `REGISTER_TYPED_TEST_SUITE_P`
- Instantiate with `INSTANTIATE_TYPED_TEST_SUITE_P` and a list of types

```cpp
TYPED_TEST_SUITE_P(MyTest);

TYPED_TEST_P(MyTest, Test1) { ... }
TYPED_TEST_P(MyTest, Test2) { ... }

REGISTER_TYPED_TEST_SUITE_P(MyTest, Test1, Test2);

using Types = ::testing::Types<int, float>;
INSTANTIATE_TYPED_TEST_SUITE_P(Instantiation1, MyTest, Types);
```

---

## 3. Practical Examples

### Example 1: Value-Parameterized Test for Even Numbers

```cpp
class EvenTest : public ::testing::TestWithParam<int> {};

TEST_P(EvenTest, IsEven) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, EvenTest, ::testing::Values(2, 4, 6, 8));
```

### Example 2: Typed Test for Container Types

```cpp
template <typename T>
class ContainerTest : public ::testing::Test {
 public:
  T container_;
};

using ContainerTypes = ::testing::Types<std::vector<int>, std::list<int>>;

TYPED_TEST_SUITE(ContainerTest, ContainerTypes);

TYPED_TEST(ContainerTest, IsEmptyInitially) {
  EXPECT_TRUE(this->container_.empty());
}
```

---

## 4. Troubleshooting & Tips

### Common Issues
- Forgetting to instantiate parameterized tests causes silent failures. Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` when intentional.
- Parameter name conflicts or containing invalid characters lead to errors on instantiation.
- Dangling references in parameter generators: be careful when generating parameters with lambdas taking non-owning references.

### Best Practices
- Always instantiate your parameterized tests in the same or a linked source file.
- Use custom naming functions for clarity in test outputs.
- Combine several parameter generators to create complex input combinations.
- Use fixtures to share setup code among parameterized tests.

### Performance Considerations
- Parameterized tests multiply test counts; be judicious in how many parameters you generate.

### Alternative Approaches
- For complex assertions based on parameters, consider custom GMock matchers.

---

## 5. Next Steps & Related Content

- Explore [Writing Your First Test](/guides/getting-started/writing-your-first-test) for basic testing skills.
- Learn [Best Practices for Test Assertions](/guides/writing-effective-tests/advanced-assertions-practices) to write robust checks.
- Dive into [Creating and Using Mocks](/guides/getting-started/first-mock-guide) to extend tests with mock objects.
- Read [Type-Parameterized Tests](../concepts/extensibility-and-advanced-usage/parameterized-and-typed-tests) for more advanced typing patterns.

---

## References

- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests)
- [Typed Tests](../advanced.md#typed-tests)
- [INSTANTIATE_TEST_SUITE_P documentation](../reference/testing.md#INSTANTIATE_TEST_SUITE_P)
- [TYPED_TEST and TYPED_TEST_SUITE documentation](../reference/testing.md#TYPED_TEST)

---

This comprehensive guide equips you to harness GoogleTest's parameterized and typed test facilities, transforming your test suites into flexible, maintainable, and thorough assets that grow with your codebase.
