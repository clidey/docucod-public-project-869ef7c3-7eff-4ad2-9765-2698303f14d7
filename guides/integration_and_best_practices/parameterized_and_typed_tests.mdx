---
title: "Parameterized and Typed Tests"
description: "Level up your tests by running them across multiple values and data types. Learn how to use value-parameterized and type-parameterized test patterns to achieve broad coverage with minimal code duplication."
---

# Parameterized and Typed Tests

## Level up your tests by running them across multiple values and data types

This guide helps you leverage GoogleTest's powerful parameterized and typed test features to achieve broad test coverage while minimizing code duplication. You will learn how to use value-parameterized tests to run the same test logic with multiple input values, and how to use typed and type-parameterized tests to run the same test logic for multiple C++ types seamlessly.

---

## Workflow Overview

**What You Will Accomplish:**

- Create value-parameterized tests that run the same test logic for multiple input values
- Define typed tests that repeat tests across a fixed set of types
- Utilize type-parameterized tests to define test patterns that can be instantiated later with specific types

**Prerequisites:**

- Familiarity with basic GoogleTest usage, including writing simple tests using `TEST()` and test fixtures using `TEST_F()`
- A C++ project set up with GoogleTest headers and libraries included

**Expected Outcome:**

By following this guide, you will write tests that automatically run across a variety of values and types, improving test coverage without duplicating test code or writing manual loops.

**Time Estimate:** 20-40 minutes

**Difficulty Level:** Intermediate

---

## Value-Parameterized Tests

### What Are They?

Value-parameterized tests let you define tests that run repeatedly with different input parameters. Instead of writing similar tests multiple times, you write one test logic which GoogleTest executes with a series of different input values.

### How to Write Value-Parameterized Tests

1. **Define a Test Fixture Class Derived from `testing::TestWithParam<T>`**

   - Replace `T` with the type of your test parameter, which can be primitive types, classes, or structs.

   ```cpp
   class MyValueParamTest : public testing::TestWithParam<int> {
    // Add any common setup or utilities here.
   };
   ```

2. **Write Tests Using `TEST_P` Macro**

   - Within these tests, access the current test parameter by calling `GetParam()`.

   ```cpp
   TEST_P(MyValueParamTest, IsNonNegative) {
     int value = GetParam();
     EXPECT_GE(value, 0);
   }
   ```

3. **Instantiate the Test Suite with Parameter Values Using `INSTANTIATE_TEST_SUITE_P`**

   - Use one of the parameter generators such as `Values()`, `Range()`, `Bool()`, or `Combine()` to specify the input values.

   ```cpp
   INSTANTIATE_TEST_SUITE_P(
       NonNegativeValues,
       MyValueParamTest,
       testing::Values(0, 1, 2, 5, 10));
   ```

### Parameter Generators Overview

| Generator               | Description                                                              | Example                                         |
|-------------------------|--------------------------------------------------------------------------|------------------------------------------------|
| `Values(v1, v2, ..., vN)`      | Explicit list of values                                                     | `Values(1, 2, 3)`                                |
| `ValuesIn(container)`            | Values from container, array, or iterator range                            | `ValuesIn(my_vector)`                            |
| `Range(begin, end, step=1)`     | Yields values between `begin` and `end`, excluding `end`                  | `Range(0, 5)` (0,1,2,3,4)                        |
| `Bool()`                       | Yields `false` and `true`                                                  | `Bool()`                                        |
| `Combine(g1, g2, ..., gN)`      | Builds Cartesian product of multiple generators                             | `Combine(Bool(), Values(1, 2))`                  |


### Example

```cpp
class IntTest : public testing::TestWithParam<int> {};

TEST_P(IntTest, IsPositive) {
  EXPECT_GT(GetParam(), 0);
}

INSTANTIATE_TEST_SUITE_P(PositiveValues, IntTest, testing::Values(1, 5, 10, 42));
```

**Result**: The `IsPositive` test runs 4 times with the parameter values 1, 5, 10, and 42.

### Tips & Best Practices

- Use `Combine()` for testing with multiple parameters simultaneously by combining generators.
- Use `PrintToStringParamName` or define a custom name generator to improve how test parameter names appear in reports and `--gtest_filter`.
- Remember each parameter instantiates a separate test case, so keep your parameter lists manageable.

### Common Pitfalls

- Forgetting to call `INSTANTIATE_TEST_SUITE_P` causes tests to not run.
- Using complex types may require you to teach GoogleTest how to print them via `PrintTo()` for readable test names.

---

## Typed Tests

### What Are They?

Typed tests run the same test logic across a compile-time fixed list of C++ types. This enables you to verify type-dependent code behavior and maintain a single test suite for multiple types.

### How to Write Typed Tests

1. **Define a Test Fixture Template Parameterized by Type**

   ```cpp
   template <typename T>
   class MyTypedTest : public testing::Test {
    protected:
     T value_ = T();  // Example member
   };
   ```

2. **Declare the List of Types to Test Using `testing::Types<...>`**

   ```cpp
   using MyTypes = testing::Types<int, double, std::string>;
   ```

3. **Associate the Test Fixture Template and Type List Using `TYPED_TEST_SUITE`**

   ```cpp
   TYPED_TEST_SUITE(MyTypedTest, MyTypes);
   ```

4. **Write Tests Using `TYPED_TEST` Macro**

   Inside the test body, `TypeParam` refers to the current type parameter. Access members via `this->` if needed.

   ```cpp
   TYPED_TEST(MyTypedTest, ValueIsDefaultConstructed) {
     TypeParam val = this->value_;
     EXPECT_EQ(val, TypeParam());
   }
   ```

### Example

```cpp
template <typename T>
class NumericTest : public testing::Test {
 protected:
  T initial_value = 0;
};

using NumericTypes = testing::Types<int, long, float>;
TYPED_TEST_SUITE(NumericTest, NumericTypes);

TYPED_TEST(NumericTest, IsZeroInitially) {
  EXPECT_EQ(this->initial_value, TypeParam());
}
```

**Result**: The `IsZeroInitially` test runs once per type in `NumericTypes`.

### Tips & Best Practices

- If your type list grows large or has long names, consider providing a custom type name generator to keep test suite names readable.
- Access static members using `TestFixture::` prefix.

### Common Pitfalls

- Not using `this->` to access fixture members inside `TYPED_TEST` can result in compile errors.
- Attempting to instantiate typed tests with incomplete or invalid types will cause compilation failures.

---

## Type-Parameterized Tests (Type-Parameterized Test Suites)

### What Are They?

Type-parameterized tests let you define abstract test patterns parameterized by types, then instantiate those tests with specific type lists as needed. They are useful when defining interfaces or concepts that multiple types should fulfill.

### How to Write Type-Parameterized Tests

1. **Define a Test Fixture Template Parameterized by Type**

   ```cpp
   template <typename T>
   class FooTest : public testing::Test { ... };
   ```

2. **Declare Test Suite as Type-Parameterized Using `TYPED_TEST_SUITE_P`**

   ```cpp
   TYPED_TEST_SUITE_P(FooTest);
   ```

3. **Write Type-Parameterized Tests Using `TYPED_TEST_P`**

   ```cpp
   TYPED_TEST_P(FooTest, TestA) {
     TypeParam x = {};
     // test body
   }
   TYPED_TEST_P(FooTest, TestB) { ... }
   ```

4. **Register All Tests Using `REGISTER_TYPED_TEST_SUITE_P`**

   ```cpp
   REGISTER_TYPED_TEST_SUITE_P(FooTest, TestA, TestB);
   ```

5. **Instantiate The Test Suite With Types Using `INSTANTIATE_TYPED_TEST_SUITE_P`**

   ```cpp
   using MyTypes = testing::Types<int, double>;
   INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, FooTest, MyTypes);
   ```

### Example

```cpp
template <typename T>
class ContainerTest : public testing::Test { ... };

TYPED_TEST_SUITE_P(ContainerTest);

TYPED_TEST_P(ContainerTest, DefaultConstructible) {
  TypeParam container;
  EXPECT_TRUE(container.empty());
}

REGISTER_TYPED_TEST_SUITE_P(ContainerTest, DefaultConstructible);

using MyTypes = testing::Types<std::vector<int>, std::list<int>>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyContainers, ContainerTest, MyTypes);
```

### Tips & Best Practices

- You can define your type-parameterized tests in headers and instantiate them in different source files.
- Use unique instantiation names to distinguish multiple instantiations.

### Common Pitfalls

- Forgetting to register tests with `REGISTER_TYPED_TEST_SUITE_P` causes instantiation errors.
- Instantiating the same type-parameterized test suite multiple times with overlapping types requires careful naming to avoid conflicts.

---

## Practical Scenarios

- **Testing functions with different input values:** Use value-parameterized tests to supply diverse input data sets.
- **Testing container-like classes:** Use typed tests to confirm behavior across multiple container types.
- **Verifying interface compliance:** Use type-parameterized tests to validate that different implementations satisfy tenancy to your interface.

---

## Troubleshooting & Tips

### Common Issues

- **Tests not running:** Ensure `INSTANTIATE_TEST_SUITE_P` or `INSTANTIATE_TYPED_TEST_SUITE_P` is called, or mark with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` to suppress warnings about uninstantiated parameterized tests.
- **Compilation errors:** Confirm that test fixture classes properly inherit and members are accessed correctly (e.g., use `this->` in typed tests).
- **Test naming is unclear or duplicated:** Use custom name generators in `INSTANTIATE_TEST_SUITE_P` or in typed tests to provide meaningful unique names.
- **Dangling references in `ConvertGenerator`:** When using lambdas converting parameters, ensure parameter types avoid references to temporaries.

### Best Practices

- Use `Combine()` to test all combinations of multiple parameters instead of manually enumerating.
- Use `PrintTo()` overloads for your custom types so they display clearly in test names and output.
- Keep parameter lists concise to avoid excessive test suite sizes.
- Prefer `ValuesIn()` when loading parameters from containers or arrays.
- Use `ConvertGenerator` when your test parameters require conversions or complex initialization.

---

## Next Steps & Related Content

- Explore [Writing Your First Test](/guides/core_workflows/writing_first_test) to solidify your foundation.
- See [Using Assertions Effectively](/guides/core_workflows/using_assertions_effectively) to write robust test conditions.
- Learn about [Organizing Test Suites and Fixtures](/guides/core_workflows/organizing_test_suites) for scalable tests.
- For advanced mocking patterns, check out [Getting Started with GoogleMock](/guides/mocking_and_advanced_patterns/getting_started_with_googlemock).
- Dive deeper into [Parameterized and Typed Tests API Reference](/api-reference/core-testing-api/advanced-test-types) for macro and class details.

---

## Summary of Key Macros & Classes

| Feature                           | Macro/Class                      | Description                              |
|---------------------------------|---------------------------------|------------------------------------------|
| Value-Parameterized Test Fixture| `testing::TestWithParam<T>`     | Base class for value-parameterized tests with parameter type `T`|
| Define Value-Parameterized Test  | `TEST_P(Fixture, TestName)`      | Create a test using a parameterized fixture|
| Instantiate Value-Parameterized  | `INSTANTIATE_TEST_SUITE_P()`     | Instantiate parameterized tests with parameter values|
| Typed Test Fixture               | Template class derived from `testing::Test` with type parameter|
| Associate Types with Fixture     | `TYPED_TEST_SUITE(Fixture, Types)`| Define the list of types to test|
| Define Typed Tests               | `TYPED_TEST(Fixture, TestName)` | Write tests for all types in the list|
| Type-Parameterized Test Fixture | Template class derived from `testing::Test` with type parameter|
| Declare Abstract Type Test Suite | `TYPED_TEST_SUITE_P(Fixture)`    | Declare a type-parameterized test suite|
| Define Type-Parameterized Tests | `TYPED_TEST_P(Fixture, TestName)`| Write abstract tests for type-parameterized suite|
| Register Type-Parameterized Tests| `REGISTER_TYPED_TEST_SUITE_P(Fixture, Tests...)`| Register tests for instantiation|
| Instantiate Type-Parameterized Tests| `INSTANTIATE_TYPED_TEST_SUITE_P(Prefix, Fixture, Types)`| Instantiate tests with types|

---

To see practical examples and deep dives, please consult the source code in `googletest/test/googletest-param-test-test.cc` and `googletest/include/gtest/gtest-param-test.h`, along with the official [GoogleTest Testing Reference](https://github.com/google/googletest/blob/main/docs/reference/testing.md#TEST_P) and [Advanced Guide on Parameterized Tests](https://github.com/google/googletest/blob/main/docs/advanced.md#value-parameterized-tests).
