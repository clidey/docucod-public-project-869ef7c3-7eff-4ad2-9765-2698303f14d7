---
title: "Using Parameterized and Typed Tests"
description: "Guides users through setting up parameterized and typed tests in GoogleTest to comprehensively test functions across input spaces and data types. Includes practical usage examples and best practices."
---

# Using Parameterized and Typed Tests in GoogleTest

## Workflow Overview

### Task Description
This guide helps you write and use **parameterized tests** in GoogleTest, allowing comprehensive testing of your code across different input values and data types without duplicating test logic. It covers *value-parameterized tests* for multiple input values and *typed tests* for running the same tests over a variety of types.

### Prerequisites
- Basic familiarity with writing simple tests using `TEST()` and test fixtures using `TEST_F()`.
- GoogleTest installed and properly configured in your C++ project.
- Ability to compile and run GoogleTest-based test programs.

### Expected Outcome
By following this guide, you will be able to:
- Define and implement value-parameterized tests that run with multiple input values.
- Instantiate such tests with various parameter generators.
- Define and use typed tests to run the same set of tests over multiple data types.
- Understand and apply best practices and avoid common pitfalls when using these test types.

### Time Estimate
Approximately 20â€“30 minutes to grasp concepts and implement your first parameterized and typed tests.

### Difficulty Level
Intermediate

---

## Step-by-Step Instructions

### Part 1: Writing Value-Parameterized Tests

1. **Define a Parameterized Test Fixture**

   Create a fixture class that inherits from `testing::TestWithParam<T>`, where `T` is the type of test parameter you want to use (e.g., `int`, `std::string`).

   ```cpp
   class FooTest : public testing::TestWithParam<int> {
    protected:
     // Usual fixture setup if needed
   };
   ```

2. **Write Parameterized Tests Using `TEST_P` Macro**

   Use `TEST_P` instead of `TEST` to define tests that use parameters. Access the parameter inside tests via `GetParam()` method.

   ```cpp
   TEST_P(FooTest, HandlesPositiveNumbers) {
     int param = GetParam();
     EXPECT_GT(param, 0);
     // Your test logic using param
   }
   ```

3. **Instantiate Test Suites with Parameter Generators**

   Use `INSTANTIATE_TEST_SUITE_P` to create concrete test suites by providing:
   - An instantiation prefix name (unique)
   - The test fixture class
   - A parameter generator (e.g., `Values`, `Range`, `ValuesIn`, `Combine`)

   ```cpp
   INSTANTIATE_TEST_SUITE_P(
       PositiveValues, FooTest,
       testing::Values(1, 5, 10, 20));
   ```

4. **Examples of Parameter Generators**

   - `Values(v1, v2, ..., vN)`: explicit list of values.
   - `Range(begin, end[, step])`: sequence from `begin` (inclusive) to `end` (exclusive).
   - `ValuesIn(container)`: values from STL container or array.
   - `Bool()`: generates `{false, true}`.
   - `Combine(g1, g2, ..., gN)`: Cartesian product of multiple generators producing `std::tuple`s.

   ```cpp
   INSTANTIATE_TEST_SUITE_P(
       RangeTests, FooTest,
       testing::Range(1, 5));

   int arr[] = {10, 20, 30};
   INSTANTIATE_TEST_SUITE_P(
       ArrayTests, FooTest,
       testing::ValuesIn(arr));

   INSTANTIATE_TEST_SUITE_P(
       BoolTests, FooTest,
       testing::Bool());

   INSTANTIATE_TEST_SUITE_P(
       CombinedTests, FooTest,
       testing::Combine(
           testing::Values("cat", "dog"),
           testing::Bool()));
   ```

5. **(Optional) Custom Test Name Suffix Generator**

   Pass a functor or lambda as the last argument of `INSTANTIATE_TEST_SUITE_P` to provide friendly test names for each parameter.

   ```cpp
   INSTANTIATE_TEST_SUITE_P(
       NamedTests, FooTest,
       testing::Values(42, 100),
       [](const testing::TestParamInfo<int>& info) {
         return "Value" + std::to_string(info.param);
       });
   ```


### Part 2: Writing Typed Tests

Typed tests allow you to write tests that run over a list of types.

1. **Define a Typed Test Fixture Template**

   Template your test fixture class on a type and inherit from `testing::Test`:

   ```cpp
   template <typename T>
   class NumericTest : public testing::Test {
    public:
     T value_{};
   };
   ```

2. **Associate a List of Types with the Test Suite**

   Use `testing::Types<...>` and `TYPED_TEST_SUITE` macro:

   ```cpp
   using NumericTypes = testing::Types<int, float, double>;
   TYPED_TEST_SUITE(NumericTest, NumericTypes);
   ```

3. **Write Typed Tests Using `TYPED_TEST` Macro**

   Within each typed test, refer to the type as `TypeParam`.

   ```cpp
   TYPED_TEST(NumericTest, IsDefaultZero) {
     TypeParam val = this->value_;  // Accessing fixture member
     EXPECT_EQ(val, TypeParam{});
   }

   TYPED_TEST(NumericTest, CanAdd) {
     TypeParam a = 1;
     TypeParam b = 2;
     EXPECT_EQ(a + b, 3);
   }
   ```

4. **Run Tests**

   The typed test suite runs one copy of each typed test per type in the list.


### Part 3: Writing Type-Parameterized Tests (Advanced)

1. Define a test suite with `TYPED_TEST_SUITE_P` and tests with `TYPED_TEST_P`.
2. Register test names with `REGISTER_TYPED_TEST_SUITE_P`.
3. Instantiate with `INSTANTIATE_TYPED_TEST_SUITE_P` passing your types.

This allows definition and registration of tests in one place and multiple instantiations later.


## Examples & Code Samples

### Example: Value-Parameterized Test

```cpp
class MathTest : public testing::TestWithParam<int> {};

TEST_P(MathTest, IsEven) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, MathTest, testing::Values(2, 4, 6, 8));
```

This runs the `IsEven` test four times, once for each provided integer.

### Example: Typed Test

```cpp
template <typename T>
class VectorTest : public testing::Test {
 public:
  std::vector<T> data_ = {T(), T(1), T(2)};
};

using MyTypes = testing::Types<int, float, double>;
TYPED_TEST_SUITE(VectorTest, MyTypes);

TYPED_TEST(VectorTest, SizeIsThree) {
  EXPECT_EQ(this->data_.size(), 3);
}

TYPED_TEST(VectorTest, FirstElementIsDefault) {
  EXPECT_EQ(this->data_[0], TypeParam());
}
```

This runs the two tests once for each type in `MyTypes`.

### Example: Combining Parameter Generators

```cpp
class MultiParamTest : public testing::TestWithParam<std::tuple<int, bool>> {};

TEST_P(MultiParamTest, TestBothParams) {
  int param1 = std::get<0>(GetParam());
  bool param2 = std::get<1>(GetParam());
  // Test logic here
}

INSTANTIATE_TEST_SUITE_P(
    Combinations, MultiParamTest,
    testing::Combine(testing::Values(1, 2), testing::Bool()));
```

This creates 4 test instances covering all combinations of the parameters.


## Troubleshooting & Tips

### Common Issues

- **Tests not running:** Make sure you have correctly instantiated all your parameterized test suites with `INSTANTIATE_TEST_SUITE_P`. Without instantiation, `TEST_P` tests will be defined but not run.

- **Duplicate test names:** Use unique prefixes in instantiation names to avoid clashes.

- **Dangling references in parameter generators:** If using `ConvertGenerator` with lambdas that take references, ensure underlying objects outlive the generator to avoid dangling references.

- **Parameter name invalid characters:** Custom name generators should produce only alphanumeric characters and underscores to be valid as test suffixes.


### Best Practices

- Keep parameter types copyable to avoid lifetime issues.
- Use specialized parameter types combining multiple inputs in tuples via `Combine` for better coverage.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` if you want to define parameterized tests without instantiating them immediately.
- Prefer `TEST_P` with descriptive test names and meaningful parameter sets.
- For typed tests, keep your type lists concise and focused to keep test runs manageable.


### Performance Considerations

- Too many parameter combinations can lead to long test execution times. Use filters and selective instantiation during development.
- Reuse shared expensive resources in test fixtures carefully.


## Next Steps & Related Content

- Explore [GoogleTest Primer](../getting-started/guides/primer-basics) to understand basic test writing.
- Read [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) and [Typed Tests](../advanced.md#typed-tests) in the Advanced Topics for deeper insights.
- Combine with assertions documentation ([Writing and Using Assertions](../guides/core-testing-workflows/writing-assertions)) for robust test logic.
- Learn about [Mocking](../guides/getting-started/mocking-primer) to integrate test doubles.
- Use [Test Fixtures and Test Organization](../guides/core-testing-workflows/test-fixtures-best-practices) to write clean, maintainable tests.

---

## Summary

This page guides users through the process of creating and using **parameterized** and **typed tests** in GoogleTest, enabling efficient coverage of code across diverse input values and types. It provides clear workflows for defining fixtures, writing tests, instantiating parameter sets, writing typed tests, and customizing test names. Users also gain insight into best practices, troubleshooting common problems, and next steps for expanding test sophistication.

**Key Sections Covered:**
- Workflow overview of parameterized and typed tests
- Step-by-step creation of value-parameterized tests
- Usage of parameter generators (Range, Values, Combine, Bool, etc.)
- Writing typed tests with type lists
- Practical usage examples and test name customization
- Troubleshooting guidance and best practice tips
- Links to related core concepts and advanced topics

**Important Links and References:**
- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests)
- [Typed Tests](../advanced.md#typed-tests)
- [GoogleTest Primer](../getting-started/guides/primer-basics)
- [Writing and Using Assertions](../guides/core-testing-workflows/writing-assertions)
- [Test Fixtures and Test Organization](../guides/core-testing-workflows/test-fixtures-best-practices)

**Cross-References:**
- Guides for integrating with mocks
- API references for macros: `TEST_P`, `INSTANTIATE_TEST_SUITE_P`, `TYPED_TEST`, `TYPED_TEST_SUITE`

**Next Steps:**
Explore how to combine parameterized tests with advanced assertions and mocking to build comprehensive, maintainable C++ test suites using GoogleTest.
