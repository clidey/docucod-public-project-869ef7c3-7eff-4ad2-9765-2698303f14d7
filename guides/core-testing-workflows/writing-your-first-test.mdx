---
title: "Writing Your First Test"
description: "Learn how to quickly set up and write your first unit test using GoogleTest, from project initialization to running your first assertions. This page lays the foundation for productive test development and explains essential expectations and outcomes."
---

# Writing Your First Test with GoogleTest

Welcome to your step-by-step journey into writing your first unit test using GoogleTest. This guide equips you with everything you need to quickly set up a test, write assertions, and execute your test to validate your codeâ€™s behavior. Whether you are new to GoogleTest or new to automated testing in C++, this guide clears the path toward productive test development.

---

## 1. What You Will Accomplish

- Initialize a test file with GoogleTest headers.
- Write a simple, focused test case.
- Use assertions to check code correctness.
- Compile and run your test executable.
- Understand criteria for a passing test.

### Prerequisites

- A C++17-compatible compiler installed.
- GoogleTest source code downloaded and accessible (see [Obtaining GoogleTest](https://github.com/google/googletest)).
- Project configured to include and link against GoogleTest (refer to [Project Setup](../getting-started/installation-configuration/project-setup) if needed).

### Expected Outcome

You will create a test source file defining a test case that exercises your code and verifies the expected outcomes using GoogleTest macros. You will compile and run this test, and interpret the results to ensure your setup and code behaves as expected.

### Time Estimate

15-30 minutes depending on your familiarity with C++ and GoogleTest.

### Difficulty Level

Beginner

---

## 2. Step-By-Step Guide to Writing Your First Test

<Steps>
<Step title="Include GoogleTest Headers and Project Headers">
Start by including the GoogleTest header to gain access to testing macros and features. Also, include any headers defining the functions or classes you wish to test.

```cpp
#include <gtest/gtest.h>
#include "path/to/your/code.h"  // Your code to test
```

Expected Result: Your source compiles without errors related to missing GoogleTest symbols.
</Step>

<Step title="Define a Test Case Using TEST Macro">
Write your first test using the `TEST(TestSuiteName, TestName)` macro, where:
- `TestSuiteName` groups related tests logically.
- `TestName` identifies the specific behavior or condition being tested.

Write a small test function inside the macro body.

Example:

```cpp
TEST(FactorialTest, ReturnsOneForZero) {
  EXPECT_EQ(Factorial(0), 1);
}
```

Expected Result: The test function is defined and ready for compilation.
</Step>

<Step title="Using Assertions to Check Conditions">
Use GoogleTest assertions to verify your code output or state. The basic assertions are:

- `EXPECT_EQ(val1, val2)`: verifies equality but continues on failure.
- `ASSERT_EQ(val1, val2)`: verifies equality but aborts test on failure.

Choose `EXPECT_` if you want to gather multiple failures, or `ASSERT_` when further code depends on the assertion.

Example:

```cpp
EXPECT_EQ(Factorial(1), 1);
EXPECT_EQ(Factorial(3), 6);
```

Expected Result: Your checks are coded clearly in the test.
</Step>

<Step title="Compile Your Test">
Compile the test source file, linking to GoogleTest binaries.

Common with CMake:

```bash
mkdir build
cd build
cmake ..
make
```

Or using raw g++:

```bash
g++ -std=c++17 -isystem path/to/googletest/include -pthread your_test.cc path/to/libgtest.a -o your_test
```

Expected Result: Compilation succeeds with no errors.
</Step>

<Step title="Run Your Test and Analyze Output">
Execute the built test binary.

```bash
./your_test
```

If your test passes, you will see output similar to:

```shell
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from FactorialTest
[ RUN      ] FactorialTest.ReturnsOneForZero
[       OK ] FactorialTest.ReturnsOneForZero (0 ms)
[----------] 1 test from FactorialTest (0 ms total)

[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

If your test fails, GoogleTest will print detailed failure information including the file, line number, expected, and actual values.

Expected Result: Test runs to completion, showing pass/fail status.
</Step>
</Steps>

---

## 3. Example: Testing a Simple Factorial Function

Suppose you have a factorial function:

```cpp
int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n - 1);
}
```

Write a test file `factorial_test.cc`:

```cpp
#include <gtest/gtest.h>

int Factorial(int n);

// Test that factorial(0) returns 1.
TEST(FactorialTest, ReturnsOneForZero) {
  EXPECT_EQ(Factorial(0), 1);
}

// Test factorial of positive inputs.
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

Compile and run as per the instructions above.

Expected Result: All tests pass.

---

## 4. Best Practices and Tips

- **Name your test suites and tests clearly** to express intent, e.g., `QueueTest` and `IsEmptyInitially`.
- **Group related tests** into test suites for easier maintenance.
- **Use TEST_F for test fixtures** when tests require shared setup or teardown logic.
- **Use `EXPECT_` assertions when possible** to continue testing and report multiple failures.
- **Set up your environment properly** to link against GoogleTest libraries.
- **Run tests frequently** during development to catch regressions early.
- **Avoid over-specifying expectations** to reduce brittle tests.

---

## 5. Troubleshooting Common Issues

<AccordionGroup title="Common Problems When Writing Your First Test">
<Accordion title="Compilation Errors: Missing GoogleTest Includes">
Ensure you have included `<gtest/gtest.h>` and pointed your compiler to the GoogleTest include directory.
Check your build configuration if using CMake or other build systems.
</Accordion>
<Accordion title="Linker Errors: Undefined References to GoogleTest">
Verify that GoogleTest libraries (`gtest` and optionally `gtest_main`) are linked correctly.
If building manually, specify full path or ensure library search paths are configured.
</Accordion>
<Accordion title="Test Fails Unexpectedly">
Read failure messages carefully. GoogleTest outputs the exact line and assertion that failed.
Run your tests with `--gtest_break_on_failure` to break in debugger immediately on a failure.
</Accordion>
<Accordion title="No Tests Run or Tests Are Not Found">
Ensure your test functions are defined with the `TEST` or `TEST_F` macros.
Make sure you call `RUN_ALL_TESTS()` in your main function.
If using `gtest_main` library, a `main()` is provided automatically.
</Accordion>
<Accordion title="Tests Pass But You Expect Failure">
Check your assertions. Verify logic inside the test.
Try more assertive checks e.g., `ASSERT_EQ` over `EXPECT_EQ` if you want immediate failure stop.
Enable verbose messages with `--gtest_verbose=info` for detailed output.
</Accordion>
</AccordionGroup>

---

## 6. Next Steps & Further Learning

- Explore writing **test fixtures** with `TEST_F()` for shared setup.
- Learn advanced assertions from the [Assertions Reference](../api-reference/core-test-apis/assertions).
- Proceed to running tests with filters, shuffling, and XML output in [Running and Validating Tests](../getting-started/first-test-run-validation/run-tests).
- For mocking dependencies, explore [Mocking for Dummies](../gmock_for_dummies).
- Review project setup and integration in [Configuring Your Project](../getting-started/installation-configuration/project-setup).

---

## 7. Additional Resources

- **GoogleTest Primer**: Full beginner guide on GoogleTest basics.
- **Obtaining GoogleTest**: How to clone or download the framework.
- **Sample Tests**: Found under googletest/samples in the repo for practical examples.
- **GoogleMock Cookbook**: Once comfortable, level up with mock object usage.

---

Enjoy building reliable, maintainable, and fast tests with GoogleTest!

---