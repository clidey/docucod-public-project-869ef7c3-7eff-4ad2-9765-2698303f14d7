---
title: "Writing Your First Test"
description: "A beginner-friendly walkthrough to quickly create, build, and run your first test suite using GoogleTest, covering setup, test structure, and execution. This guide ensures you gain hands-on experience in just a few steps."
---

# Writing Your First Test

Create your initial GoogleTest test suite with confidence using this practical, step-by-step guide. We'll take you through the process of setting up your first test program, defining test cases, compiling, and running them, so you gain hands-on experience rapidly.

---

## 1. What You Will Achieve

By completing this guide, you will:

- Define and write your first GoogleTest test suite and test cases.
- Structure your test code for clarity and maintainability.
- Compile and run your test executable.
- Observe and interpret basic test results.

## 2. Prerequisites

Before beginning, ensure you have:

- A C++ development environment set up with a compiler supporting C++17.
- GoogleTest installed or included as part of your project.
- Basic knowledge of C++ programming.
- Your project configured to link with GoogleTest libraries (see [Configuring Your Project](/getting-started/setup-prerequisites-installation/configuring-your-project)).

<Check>
If you havenâ€™t configured your project yet, visit the [Configuring Your Project](https://google.github.io/googletest/setup-prerequisites-installation/configuring-your-project) guide before continuing.
</Check>

## 3. Time and Difficulty

- **Estimated time:** 15-30 minutes
- **Difficulty level:** Beginner

---

## 4. Step-by-Step Guide

### Step 1: Prepare a Test Source File

Create a new `.cc` or `.cpp` file for your tests, for example, `first_test.cc`.

### Step 2: Include the GoogleTest Header

At the top of your test file, include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

### Step 3: Write Your First TEST()

Define a test using the `TEST()` macro. It takes two arguments: the test suite name and the test name. Both must be valid C++ identifiers and **should not** contain underscores.

Example of a simple test checking basic integer equality:

```cpp
TEST(ExampleTest, BasicAssertions) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_NE(1 + 1, 3);
}
```

- `ExampleTest` is the test suite grouping related tests.
- `BasicAssertions` is an individual test case.
- Inside the test body, assertions check conditions. Here, `EXPECT_EQ` tests equality, and `EXPECT_NE` tests inequality.

### Step 4: Write Additional Tests (Optional)

You can add more tests under the same suite or create new suites:

```cpp
TEST(ExampleTest, MoreAssertions) {
  EXPECT_TRUE(true);
  EXPECT_FALSE(false);
}

TEST(AnotherTestSuite, SimpleTest) {
  EXPECT_LT(1, 2);
}
```

### Step 5: Add a main() Function (Optional)

GoogleTest provides a default main function in the `gtest_main` library, so you usually do **not** need this. If you want to customize initialization, add the following:

```cpp
int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

> Use this only if you do not link against `gtest_main`.

### Step 6: Compile Your Test

Compile your test with your C++ compiler, linking with GoogleTest. For example, with `g++` and CMake you might run:

```bash
cmake --build .
```

or directly:

```bash
g++ -std=c++17 first_test.cc -lgtest -lgtest_main -pthread -o first_test
```

> Adjust the command based on your environment and GoogleTest installation.

### Step 7: Run the Test Executable

Execute your test binary:

```bash
./first_test
```

### Step 8: Interpret the Output

Expected output resembles:

```
[==========] Running 2 tests from 2 test suites.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.BasicAssertions
[       OK ] ExampleTest.BasicAssertions (0 ms)
[----------] 1 test from ExampleTest (0 ms total)

[----------] 1 test from AnotherTestSuite
[ RUN      ] AnotherTestSuite.SimpleTest
[       OK ] AnotherTestSuite.SimpleTest (0 ms)
[----------] 1 test from AnotherTestSuite (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 2 test suites ran. (0 ms total)
[  PASSED  ] 2 tests.
```

This means all your tests have passed successfully.

<Check>
If any test fails, the output shows the failure source file, line number, and message. Use this information to debug.
</Check>

---

## 5. Practical Example

Here's a complete example including all necessary parts:

```cpp
#include <gtest/gtest.h>

// Function to test
int Add(int a, int b) {
  return a + b;
}

// Test suite: AddTest
TEST(AddTest, AddsPositiveNumbers) {
  EXPECT_EQ(Add(1, 2), 3);
  EXPECT_EQ(Add(5, 5), 10);
}

TEST(AddTest, AddsWithZero) {
  EXPECT_EQ(Add(0, 5), 5);
  EXPECT_EQ(Add(7, 0), 7);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run it as described above.

---

## 6. Best Practices and Tips

- Use descriptive test suite and test names without underscores, reflecting tested functionality.
- Group logically related tests within the same test suite for clarity.
- Prefer `EXPECT_*` assertions for non-fatal failures so all errors in a test are reported.
- Use `ASSERT_*` when continuing after failure is meaningless (e.g., dereferencing a null pointer).
- Link with `gtest_main` when possible to avoid writing `main()`.
- Run your tests frequently during development to catch regressions early.

## 7. Common Pitfalls

- Forgetting `#include <gtest/gtest.h>` leads to compilation errors.
- Naming tests or suites with underscores can cause conflicts or confusing names.
- Not linking against GoogleTest libraries causes linker errors.
- Using `ASSERT_*` unnecessarily can make tests less informative.
- Omitting `::testing::InitGoogleTest(&argc, argv);` in custom `main()` prevents flag parsing.

## 8. Troubleshooting

<AccordionGroup title="Troubleshooting Your First Test">  
<Accordion title="Test executable fails to run or link">  
- Verify GoogleTest libraries are correctly linked.
- Confirm that you compiled test files with the right compiler and flags.
- Check for missing `-pthread` or equivalent threading flags if on Linux/macOS.
</Accordion>  
<Accordion title="Tests don't run or report results">  
- Ensure `main` calls `RUN_ALL_TESTS()` and returns its result.
- Make sure `InitGoogleTest` is called before `RUN_ALL_TESTS()`.
- If you rely on `gtest_main` but the test doesn't start, ensure proper linking.
</Accordion>  
<Accordion title="Compiler errors regarding `TEST` or `EXPECT`">  
- Confirm `#include <gtest/gtest.h>` is present.
- Verify naming conventions for test suites and tests.
</Accordion>  
<Accordion title="Tests report failures unexpectedly">  
- Use `--gmock_verbose=info` flag when running tests to see detailed mock call info.
- Review failure messages for source information to locate issues.
</Accordion>
</AccordionGroup>

---

## 9. Next Steps

- After mastering test writing, explore advanced assertions and custom matchers in [Using Assertions Effectively](/guides/core-testing-workflows/using-assertions-effectively).
- Learn to run and filter tests with command-line flags in [Running Tests and Interpreting Results](/getting-started/first-test-validation/running-tests-and-interpreting-results).
- When ready, advance into mocks with [Introduction to Mocking](/guides/mocking-and-advanced-patterns/introduction-to-mocking).

---

For detailed information and examples, see the [GoogleTest Primer](https://google.github.io/googletest/primer.html) and the [Writing Your First Test Case](https://google.github.io/googletest/getting-started/first-test-validation/writing-first-test-case.html) guide.

---

*Happy Testing!* ðŸš€
