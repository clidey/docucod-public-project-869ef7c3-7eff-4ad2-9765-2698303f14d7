---
title: "Parameterized and Type-Parameterized Tests"
description: "Step-by-step instructions for writing tests that run with multiple values or types, enabling broader test coverage with less code. Includes value-parameterized and type-parameterized patterns."
---

# Parameterized and Type-Parameterized Tests

GoogleTest supports test patterns that run the same test logic multiple times using different types or values. This empowers you to achieve broader test coverage with less code duplication.

This guide covers how to write **value-parameterized tests** and **type-parameterized tests** with step-by-step instructions and examples.

---

## 1. Understanding Parameterized Tests

### Value-Parameterized Tests

Value-parameterized tests allow you to run the same test with different input values. This is particularly useful when you want to verify your code works across a range of inputs without writing separate test cases for each.

- Your test fixture inherits from `::testing::TestWithParam<T>`, where `T` is the type of test parameter.
- You define parameterized tests with the `TEST_P` macro.
- You instantiate tests with different parameter values using `INSTANTIATE_TEST_SUITE_P`.

### Type-Parameterized Tests

Type-parameterized tests allow you to run the same test logic over multiple types, enabling compile-time polymorphic testing.

- Your test fixture is a class template parameterized on type `T` and inherits from `::testing::Test`.
- You associate the test fixture template with a list of types using `TYPED_TEST_SUITE`.
- Individual tests are defined using `TYPED_TEST`.

---

## 2. Writing Value-Parameterized Tests

### Workflow Overview

| Aspect               | Details                                               |
|----------------------|--------------------------------------------------------|
| **User Intent**       | Run the same test logic with multiple parameter values |
| **Prerequisites**     | GoogleTest installed, basic familiarity with `TEST` macros |
| **Expected Outcome**  | Run tests multiple times, each receiving a different parameter |
| **Time Estimate**     | 5-10 minutes to setup and run                          |
| **Difficulty Level**  | Intermediate                                          |

### Step-by-Step Instructions

<Steps>
<Step title="Define a Test Fixture Inheriting from `TestWithParam<T>`">
Use the `::testing::TestWithParam<T>` as the base class. Here, `T` is the type of your parameter.

```cpp
class FooTest : public ::testing::TestWithParam<int> {
  // Additional setup or members can be added here
};
```
</Step>
<Step title="Write Parameterized Tests Using `TEST_P`">
Define your tests with the `TEST_P` macro. Access the parameter via `GetParam()`.

```cpp
TEST_P(FooTest, HandlesParameter) {
  int value = GetParam();
  EXPECT_TRUE(value >= 0);
  // Test logic using `value`
}
```
</Step>
<Step title="Instantiate the Test Suite with Values">
Define which parameter values to use with `INSTANTIATE_TEST_SUITE_P`. You can use parameter generators like `Values()`, `Range()`, `Bool()`, `Combine()`, or `ValuesIn()`.

```cpp
INSTANTIATE_TEST_SUITE_P(MyInstantiation, FooTest, Values(1, 2, 3));
```

The tests will run for parameter values 1, 2, and 3.
</Step>
<Step title="Run Your Tests">
Add `RUN_ALL_TESTS()` in your `main()` and run the binary. Check that all tests run with the expected parameter values.
</Step>
</Steps>

### Important Details & Tips

- Parameters can be any copyable type, including user-defined types.
- Use `GetParam()` inside tests to get the current test parameter.
- Complex parameters can be generated with `Combine()` to produce Cartesian products.
- Customize test name suffixes in `INSTANTIATE_TEST_SUITE_P` by providing a name generator function.
- If your parameter type is not implicitly convertible from generator types, use `ConvertGenerator<T>()` to convert.

### Example

```cpp
class IntTest : public ::testing::TestWithParam<int> {};

TEST_P(IntTest, IsEven) {
  int n = GetParam();
  EXPECT_EQ(0, n % 2);
}

INSTANTIATE_TEST_SUITE_P(Evens, IntTest, Values(2, 4, 6, 8));
```

This runs the `IsEven` test with parameters 2, 4, 6, and 8.

---

## 3. Writing Type-Parameterized Tests

### Workflow Overview

| Aspect               | Details                                               |
|----------------------|--------------------------------------------------------|
| **User Intent**       | Run the same test code on different types               |
| **Prerequisites**     | GoogleTest installed, familiarity with template classes |
| **Expected Outcome**  | Tests executed for each type, checked at compile time   |
| **Time Estimate**     | 5-15 minutes                                          |
| **Difficulty Level**  | Intermediate to Advanced                               |

### Step-by-Step Instructions

<Steps>
<Step title="Define a Class Template Test Fixture">
Create a class template inheriting from `::testing::Test`.

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 protected:
  T value_{};
};
```
</Step>
<Step title="Declare a Type List and Associate It with the Test Suite">
Define your list of test types using `::testing::Types<...>` and associate it
using `TYPED_TEST_SUITE` (formerly `TYPED_TEST_CASE`).

```cpp
using MyTypes = ::testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```
</Step>
<Step title="Write Typed Tests Using `TYPED_TEST`">
Define tests for each type using `TYPED_TEST`. Use `TypeParam` inside the test to refer to the current type.

```cpp
TYPED_TEST(MyTypedTest, IsDefaultInitialized) {
  TypeParam default_value{};
  EXPECT_EQ(default_value, this->value_);
}
```
</Step>
<Step title="Run Your Tests">
Compile and run your tests. Each `TYPED_TEST` expands to one test per type.
</Step>
</Steps>

### Important Details & Tips

- `TypeParam` is a special typedef within `TYPED_TEST` functions referencing the current type.
- You can specialize setup behavior for specific types by specializing your test fixture template.
- For more dynamic type-parameter lists or cross-translation-unit tests, use type-parameterized test suites (`TYPED_TEST_SUITE_P` and `INSTANTIATE_TYPED_TEST_SUITE_P`).

### Example

```cpp
template <typename T>
class NumericTest : public ::testing::Test {
 protected:
  T value_ = T();
};

using NumericTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericTest, NumericTypes);

TYPED_TEST(NumericTest, IsZeroByDefault) {
  EXPECT_EQ(0, this->value_);
}
```

This runs the `IsZeroByDefault` test for `int`, `float`, and `double`.

---

## 4. Using Parameter Generators

GoogleTest provides several parameter generator functions for use in `INSTANTIATE_TEST_SUITE_P`:

| Generator Name      | Description                          |
|---------------------|------------------------------------|
| `Range(begin, end[, step])`   | Generates values in a half-open range `[begin, end)` stepping by `step`. |
| `Values(v1, v2, ..., vN)`     | Enumerates explicitly given values.       |
| `ValuesIn(containerOrArray)`  | Yields all values from container or array.   |
| `Bool()`                     | Generates `false` and `true`.             |
| `Combine(g1, g2, ..., gN)`     | Cartesian product of multiple generators producing `std::tuple`. |

You can also use `ConvertGenerator<T>(gen)` to convert or transform generated parameters.

### Example: Combining Generators

```cpp
INSTANTIATE_TEST_SUITE_P(Combos, FooTest, Combine(Values(1, 2), Bool()));
```

This instantiates tests running with parameters: `(1,false)`, `(1,true)`, `(2,false)`, `(2,true)`.

---

## 5. Customizing Parameterized Test Names

You can provide an optional name generator as the last argument to `INSTANTIATE_TEST_SUITE_P`. This must be callable and produce valid test name suffixes:

```cpp
INSTANTIATE_TEST_SUITE_P(
    NamedInstantiation, FooTest, Values(1, 2, 3),
    [](const testing::TestParamInfo<int>& info) {
      return "Param" + std::to_string(info.param);
    });
```

Test names help identify which parameters correspond to which failures.

---

## 6. Best Practices and Common Pitfalls

- Always instantiate your parameterized test suites or they won't run.
- Use descriptive instantiation names to clarify your test output.
- Avoid mutable parameters that can alter the test state.
- When using string parameters, avoid `PrintToStringParamName` due to quoting issues.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` macro to suppress errors for parameterized tests not instantiated intentionally.
- Value parameters must be copyable; consider wrappers for non-copyable types.
- For type-parameterized tests, remember tests are compiled once per type.

---

## 7. Troubleshooting and Tips

<AccordionGroup title="Common Issues and Solutions">
<Accordion title="Parameterized tests not running">
If your parameterized tests don't run, verify that you have:

- Used `INSTANTIATE_TEST_SUITE_P` for the test suite.
- Provided valid parameter generator expressions.
- Linked against GoogleTest correctly.

</Accordion>
<Accordion title="Ambiguous method or argument matches">
If you encounter ambiguous overload errors in parameterized tests, try:

- Specifying the type explicitly using `ConvertGenerator`.
- Wrapping complex types inside aliases.

</Accordion>
<Accordion title="Custom parameter types cause conversion errors">
Check that your custom parameter types correctly implement copy and/or conversion constructors.

Use `ConvertGenerator` with an appropriate converter lambda if implicit conversion isn't possible.

</Accordion>
</AccordionGroup>

---

## 8. Next Steps & Related Content

- Explore [Writing Your First Test](../getting-started/first-run-validation/writing-first-test) to ground basic test creation.
- Use [Mocking Reference](../docs/reference/mocking.md) when combining parameterized tests with mocks.
- Read [Core Concepts and Terminology](../overview/architecture-concepts/core-concepts-terminology) to understand test nomenclature.
- Dive into the [Feature Overview](../overview/getting-started-intro/feature-overview) for broader context on test capabilities.

---

## Additional Resources

- [Value-Parameterized Tests Sample](https://github.com/google/googletest/blob/main/samples/sample7_unittest.cc)
- [Type-Parameterized Tests Sample](https://github.com/google/googletest/blob/main/samples/sample9_unittest.cc)
- Detailed documentation of parameter generators and macros are available in the [GoogleTest Reference](../docs/reference/testing.md#INSTANTIATE_TEST_SUITE_P) and [Typed Tests Reference](../docs/reference/testing.md#TYPED_TEST)

---

This guide equips you to write effective and maintainable tests that systematically cover multiple values or types, helping you catch more bugs with less duplicated effort.
