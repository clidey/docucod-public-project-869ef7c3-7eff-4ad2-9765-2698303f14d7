---
title: "Parameterized and Typed Tests"
description: "Achieve extensive coverage with minimal duplication using value-parameterized and type-parameterized test suites. This guide details setup, instantiation, and execution patterns for broadly reusable tests."
---

# Parameterized and Typed Tests

Achieve extensive coverage with minimal duplication using value-parameterized and type-parameterized test suites. This guide details setup, instantiation, and execution patterns for broadly reusable tests.

---

## Overview

GoogleTest provides powerful features to run the same test logic across different data sets or types without duplicating code. This documentation focuses specifically on *value-parameterized tests* and *typed tests* (including type-parameterized tests), helping you write more comprehensive and maintainable test suites.

Using parameterized and typed tests lets you efficiently verify your code's behavior across a variety of inputs or implementations, improving test coverage while reducing boilerplate.

## Prerequisites

- Basic familiarity with writing tests in GoogleTest using `TEST` and `TEST_F` macros.
- Understanding of test fixtures and how to write simple test classes.
- A C++11-compatible compiler and properly configured GoogleTest environment.

## Expected Outcome

By following this guide, you will:
- Understand how to write value-parameterized tests, instantiate them with data sets, and customize test naming.
- Define typed tests that run over various types at compile time with shared logic.
- Learn how to write type-parameterized test suites that can be instantiated flexibly.
- Use advanced techniques such as custom factories and name generators.

## Time Estimate

Approximately 15-30 minutes to read through and practice with examples, depending on your familiarity.

## Difficulty Level

Intermediate: Requires knowledge of C++ templates and GoogleTest basics.

---

## 1. Writing Value-Parameterized Tests

Value-parameterized tests allow you to run the same test code with different input values. This is ideal for testing behaviors that vary by parameter or implementation details.

### 1.1 Define a Parameterized Test Fixture

Create a class derived from `testing::TestWithParam<T>`, where `T` is your parameter type.

```cpp
class FooTest : public ::testing::TestWithParam<int> {
  // Set up any shared members or helper functions.
};
```

You can also inherit from a base test class and add `WithParamInterface` if you prefer complex inheritance:

```cpp
class BaseTest : public ::testing::Test { ... };

class DerivedTest : public BaseTest, public ::testing::WithParamInterface<std::string> { ... };
```

### 1.2 Define Parameterized Test Cases Using `TEST_P`

```cpp
TEST_P(FooTest, HandlesVariousValues) {
  int param = GetParam();
  // Use param to test your code
  EXPECT_TRUE(MyFunction(param));
}
```

Within the test case, get the current parameter value with `GetParam()`.

### 1.3 Instantiate Your Parameterized Tests

Use `INSTANTIATE_TEST_SUITE_P` to specify the data set and optional naming.

```cpp
INSTANTIATE_TEST_SUITE_P(
    Basic, FooTest,
    testing::Values(1, 2, 3, 4, 5),
    testing::PrintToStringParamName());
```

Google Test provides useful generator functions for parameters:

| Generator         | Description                         |
|-------------------|-----------------------------------|
| `Range(begin,end)` | Produces a range of values (excluding `end`).|
| `Values(...)`     | Produces explicitly specified discrete values. |
| `ValuesIn(container)` | Produces values from containers or arrays. |
| `Bool()`          | Produces `false` and `true`.       |
| `Combine(...)`    | Cartesian product of multiple generators producing tuple parameters. |

#### Example: Combine Two Parameters

```cpp
class MultiParamTest : public testing::TestWithParam<std::tuple<int, bool>> {};

TEST_P(MultiParamTest, TestCombination) {
  int number = std::get<0>(GetParam());
  bool flag = std::get<1>(GetParam());
  // Test logic here
}

INSTANTIATE_TEST_SUITE_P(
    Variations, MultiParamTest,
    testing::Combine(testing::Range(1,4), testing::Bool()));
```

### 1.4 Optional: Custom Parameter Name Generators

By default, test instance names include index numbers. You can provide a function or functor that returns a string name based on the parameter.

Example:

```cpp
INSTANTIATE_TEST_SUITE_P(
    Named, FooTest, testing::Values(10, 20, 30),
    [](const testing::TestParamInfo<FooTest::ParamType>& info) {
      return "Param" + std::to_string(info.param);
    });
```

> **Tip:** Test names must only contain alphanumeric characters and underscores.

### 1.5 Special Note: Handling Uninstantiated Parameterized Tests

If you define a parameterized test suite that is not instantiated anywhere, GoogleTest fails a separate verification test. To silence it intentionally (e.g., when deferring instantiation to another module), use:

```cpp
GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(FooTest);
```

---

## 2. Writing Typed Tests

Typed tests allow you to run the same test logic over a list of types. Unlike value-parameterized tests, they operate on types rather than values.

This is useful when you want to ensure that multiple implementations or type variants satisfy the same requirements.

### 2.1 Define a Typed Test Fixture Template

Create a class template parameterized by type `T`, inheriting from `testing::Test`.

```cpp
template <typename T>
class TypedTestExample : public testing::Test {
 public:
  T value_;
};
```

### 2.2 Associate a Type List with the Test Suite

Define an alias for the set of types and associate them via `TYPED_TEST_SUITE`.

```cpp
using MyTypes = ::testing::Types<int, double, char>;
TYPED_TEST_SUITE(TypedTestExample, MyTypes);
```

> The alias is necessary to help the macro parse the list of types.

### 2.3 Define Typed Tests Using `TYPED_TEST`

Inside the test, the type parameter is named `TypeParam`.

```cpp
TYPED_TEST(TypedTestExample, HasDefaultValue) {
  TypeParam val = this->value_;
  EXPECT_EQ(val, TypeParam());  // Compares with default constructor
}
```

You can define multiple tests in this framework. GoogleTest will generate separate test instances for each type.

### 2.4 Optional: Custom Type Name Generator

To customize the test suite names by type, define a class with a static template method `GetName(int)` returning a string name for each type.

Example:

```cpp
class MyTypeNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if (std::is_same<T, int>::value) return "Int";
    if (std::is_same<T, double>::value) return "Double";
    if (std::is_same<T, char>::value) return "Char";
    return "Unknown";
  }
};

TYPED_TEST_SUITE(TypedTestExample, MyTypes, MyTypeNames);
```

### 2.5 Execution

GoogleTest will execute the tests once per type, reporting results with the type name.

---

## 3. Writing Type-Parameterized Tests

Type-parameterized tests let you declare abstract tests where the type list is unknown at definition time. This allows the same test logic to be instantiated multiple times with different sets of types across different source files.

### 3.1 Define a Type-Parameterized Test Fixture Template

Define your fixture class template as usual.

```cpp
template <typename T>
class MyAbstractTest : public testing::Test { ... };
```

### 3.2 Declare the Suite with `TYPED_TEST_SUITE_P`

```cpp
TYPED_TEST_SUITE_P(MyAbstractTest);
```

### 3.3 Define Tests with `TYPED_TEST_P`

Use the macro to define each test pattern.

```cpp
TYPED_TEST_P(MyAbstractTest, DoesSomething) {
  TypeParam val = ...;
  EXPECT_TRUE(SomeCondition(val));
}

TYPED_TEST_P(MyAbstractTest, HasProperty) { ... }
```

### 3.4 Register Tests with `REGISTER_TYPED_TEST_SUITE_P`

List all test names defined.

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyAbstractTest, DoesSomething, HasProperty);
```

### 3.5 Instantiate Tests with `INSTANTIATE_TYPED_TEST_SUITE_P`

In your source files, instantiate with type lists.

```cpp
using MyInstTypes = ::testing::Types<int, float>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, MyAbstractTest, MyInstTypes);
```

> You can instantiate the suite multiple times with different type lists, even in different translation units.

### 3.6 Optional: Custom Suffix Generator

Similar to typed tests, you can provide a class with a `GetName` method as the last argument to control naming.

---

## 4. Practical Example: Typed Test with Value-Parameterized Instantiation

Suppose you want to test a template container class over multiple types and with different initialization parameters. You may mix typed and parameterized tests by combining these approaches.

```cpp
// Typed test fixture for a container.
template <typename T>
class ContainerTest : public testing::Test {
 public:
  T container_;
};

using ContainerTypes = ::testing::Types<std::vector<int>, std::set<char>>;
TYPED_TEST_SUITE(ContainerTest, ContainerTypes);

TYPED_TEST(ContainerTest, DefaultConstructedEmpty) {
  EXPECT_EQ(0U, this->container_.size());
}

// Value parameterized test
class IntParamTest : public testing::TestWithParam<int> {};

TEST_P(IntParamTest, ValueIsPositive) {
  int val = GetParam();
  EXPECT_GT(val, 0);
}

INSTANTIATE_TEST_SUITE_P(MyInts, IntParamTest, testing::Values(1, 10, 100));
```

---

## 5. Troubleshooting & Tips

### Common Issues

- **Tests not running**: Ensure you instantiate all parameterized or type-parameterized tests; otherwise, GoogleTest emits errors or ignores your test.
- **Invalid test names**: Avoid using underscores in test suite and test names as they may cause macro expansion issues.
- **Parameter naming errors**: Custom parameter name generators must produce only alphanumeric and underscore characters.
- **Compile errors in typed tests**: Remember to provide the type list as an alias (`using` or `typedef`) to avoid macro parsing errors.

### Best Practices

- Use *typed tests* when testing multiple concrete types with the same interface.
- Use *value-parameterized tests* for repetitive tests over data inputs or factory functions.
- For interfaces with multiple implementations, consider defining abstract type-parameterized tests to encourage reuse across components.
- Use custom naming generators to improve test output clarity.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` for test suites defined in libraries that may not always be instantiated.

### Performance Considerations

Keep test fixtures light and avoid heavy state initialization per parameter unless necessary; use `SetUpTestSuite` for expensive shared initialization.

---

## 6. Next Steps & Related Documentation

- Explore [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) in the Advanced Guide for deeper patterns.
- Read about [Typed Tests](../advanced.md#typed-tests) and [Type-Parameterized Tests](../advanced.md#type-parameterized-tests) for template-driven testing.
- Consult the [Testing Reference](../reference/testing.md#TEST_P) for macro syntaxes and detailed behaviors.
- Review [Running a Subset of Tests](../advanced.md#running-a-subset-of-the-tests) to filter tests in large suites.
- Look into [Custom Parameter Naming](../advanced.md#specifying-names-for-value-parameterized-test-parameters) for improved test reporting.

---

## References

- [GoogleTest Primer](../primer.md) — For getting started with tests
- [Testing Reference (TEST, TEST_P, TYPED_TEST)](../reference/testing.md)
- [Advanced Guide on Parameterized and Typed Tests](../advanced.md#value-parameterized-tests)
- [FAQ on Typed and Parameterized Tests](../faq.md#i-need-to-test-that-different-implementations-of-an-interface-satisfy-some-common-requirements-should-i-use-typed-tests-or-value-parameterized-tests)


---

## Source Code

For examples of typed tests and parameterized tests in action, review:

- [`googletest/include/gtest/gtest-param-test.h`](https://github.com/google/googletest/blob/main/googletest/include/gtest/gtest-param-test.h) — value-parameterized test declarations and macros
- [`googletest/include/gtest/gtest-typed-test.h`](https://github.com/google/googletest/blob/main/googletest/include/gtest/gtest-typed-test.h) — typed and type-parameterized test declarations
- [`googletest/test/googletest-param-test-test.cc`](https://github.com/google/googletest/blob/main/googletest/test/googletest-param-test-test.cc) — test cases exercising parameterized tests
- [`googletest/test/gtest-typed-test_test.cc`](https://github.com/google/googletest/blob/main/googletest/test/gtest-typed-test_test.cc) — test cases demonstrating typed tests

---

For further information, please consult the GoogleTest repository and official documentation.
