---
title: "Type-Parameterized Tests"
description: "Instructions for leveraging type-parameterized tests to verify code behavior across different type instantiations. Includes setup patterns and tips for minimizing boilerplate."
---

# Type-Parameterized Tests

Use type-parameterized tests in GoogleTest to verify code behavior across multiple types without duplicating test logic. This page guides you through declaring, registering, and instantiating type-parameterized tests, focusing on setup patterns and tips for reducing boilerplate and maximizing test coverage.

---

## Workflow Overview

### What is a Type-Parameterized Test?
Type-parameterized tests define a test suite template parameterized by one or more types. Instead of writing the same test logic repeatedly for each type, you write a single test pattern and instantiate it with a list of types. This ensures consistent testing of interface requirements, algorithms, or data structures across various type instantiations.

### Prerequisites
- Familiarity with C++ templates and class templates.
- Basic understanding of GoogleTest test fixtures and `TEST_F` macro.
- GoogleTest environment set up and working.

### Expected Outcome
By following this guide, you will be able to:
- Define a generic fixture class template for your type-parameterized tests.
- Declare tests that use a type parameter via specialized GoogleTest macros.
- Register those tests before instantiation.
- Instantiate the test suite with a list of desired types.
- Run the resulting generated test cases with descriptive test names.

### Time Estimate
15-30 minutes to grasp and write your first type-parameterized test suite.

### Difficulty Level
Intermediate — requires C++ template knowledge and test fixture familiarity.

---

## Step-by-Step Instructions

### 1. Define a Fixture Class Template
Create a class template parameterized by a type `T`. Derive from `testing::Test`.

```cpp
template <typename T>
class MyFixture : public testing::Test {
 public:
  // Optional shared state or aliases for use in tests
  using ValueType = T;
  T value_{};  // default constructed
  // Additional setup or shared utilities
};
```

### 2. Declare the Type-Parameterized Test Suite
Use `TYPED_TEST_SUITE_P(TestSuiteName);` to declare your suite as type-parameterized.

```cpp
TYPED_TEST_SUITE_P(MyFixture);
```

### 3. Define Typed Tests
Use `TYPED_TEST_P(TestSuiteName, TestName)` macros to define individual tests.
Inside each test:
- Refer to the current type with the keyword `TypeParam`.
- Access the fixture instance's members via `this->` due to C++ template rules.

```cpp
TYPED_TEST_P(MyFixture, CanDefaultConstruct) {
  TypeParam value = this->value_;
  // Perform your test assertions here
  EXPECT_TRUE(sizeof(value) > 0);
}

TYPED_TEST_P(MyFixture, WorksWithSharedTypeAlias) {
  typename TestFixture::ValueType v = this->value_;
  EXPECT_TRUE(sizeof(v) > 0);
}
```

### 4. Register Your Typed Tests
List all test names defined with `TYPED_TEST_P` to associate them with the suite.

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyFixture, CanDefaultConstruct, WorksWithSharedTypeAlias);
```

### 5. Instantiate the Typed Test Suite
Create a type list of all the types you want to test against using `testing::Types<...>`.
Then instantiate the tests with `INSTANTIATE_TYPED_TEST_SUITE_P`.

```cpp
using MyTypes = ::testing::Types<int, double, std::string>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, MyFixture, MyTypes);
```

If preferred, provide a custom name generator class as a fourth argument:

```cpp
class CustomNameGenerator {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, int>) return "IntType";
    if constexpr (std::is_same_v<T, double>) return "DoubleType";
    if constexpr (std::is_same_v<T, std::string>) return "StringType";
    return "Unknown";
  }
};

INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, MyFixture, MyTypes, CustomNameGenerator);
```

This results in test names like `MyInstantiation/MyFixture.CanDefaultConstruct/IntType`.

---

## Tips for Minimizing Boilerplate

- Prefer `using` aliases over verbose template lists if types are long.
- Group type parameter lists in header files for reuse across test implementation files.
- Use `TYPED_TEST_SUITE` instead of `_P` variants when your type list is known upfront.
- Register all tests immediately after defining them in the same source file or header.
- Use custom name generators for readability and easy identification of failing test instantiations.

---

## Expected Results

Following these steps allows you to write tests that are:
- Reusable: single test template for multiple types.
- Descriptive: generated test names clearly indicate tested types.
- Comprehensive: ensure your code behaves as expected for all intended types.

Example output snippet when running tests:

```
[ RUN      ] MyInstantiation/MyFixture.CanDefaultConstruct/IntType
[       OK ] MyInstantiation/MyFixture.CanDefaultConstruct/IntType (0 ms)
[ RUN      ] MyInstantiation/MyFixture.CanDefaultConstruct/DoubleType
[       OK ] MyInstantiation/MyFixture.CanDefaultConstruct/DoubleType (0 ms)
```

---

## Troubleshooting & Best Practices

### Common Issues
- **Tests Not Running:** Ensure you instantiated the typed test suite properly. Missing `INSTANTIATE_TYPED_TEST_SUITE_P` will result in tests not executing.
- **Linker Errors:** Make sure tests are declared and registered only once to avoid duplicates.
- **Confusing Test Names:** Use a custom name generator to produce human-friendly names.
- **Fixture Mismatch:** All tests in one suite must use the same fixture class.

### Best Practices
- Use typed tests for interface compliance testing across types.
- Keep fixture templates minimal to maximize flexibility.
- Document custom name generators for clarity.
- Always register tests after defining all typed tests.

### Performance Considerations
- Instantiating tests with very large type lists can increase compilation times.
- Use selective filters (`--gtest_filter`) to run subsets of tests during development.

---

## Examples

Here is a complete minimal example demonstrating the full flow:

```cpp
// 1. Define a fixture template
template <typename T>
class MathTest : public ::testing::Test {
 protected:
  T zero_{};
};

// 2. Declare this as a type-parameterized test suite
TYPED_TEST_SUITE_P(MathTest);

// 3. Define individual tests using TYPED_TEST_P
TYPED_TEST_P(MathTest, ZeroValueIsDefault) {
  typename TestFixture::ValueType val = this->zero_;
  EXPECT_EQ(val, 0);
}

TYPED_TEST_P(MathTest, AdditionWorks) {
  TypeParam x = 1;
  TypeParam y = 2;
  EXPECT_EQ(x + y, 3);
}

// 4. Register the tests
REGISTER_TYPED_TEST_SUITE_P(MathTest, ZeroValueIsDefault, AdditionWorks);

// 5. Instantiate the suite with types
using TestTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(NumTypes, MathTest, TestTypes);
```

Run this test executable, and you’ll get test runs for `int` and `double` with clear type context.

---

## Next Steps & Related Content

- Explore **Value-Parameterized Tests** to test with different values rather than types. Reference: [Value-Parameterized Tests](../advanced.md#value-parameterized-tests)
- Read about **Typed Tests** for concrete type lists known at compile time. Reference: [Typed Tests](../advanced.md#typed-tests)
- Learn **Custom Test Naming** strategies for clearer test output.
- Consult **Writing Your First Test** for test basics: [/getting-started/first-test/writing-basic-test](https://google.github.io/googletest/primer.html)
- Deep dive into **Type-Parameterized Tests** implementation details: [/guides/parameterized-and-advanced-testing/type-param-tests](./type-param-tests.md)

---

## References

- [GoogleTest Typed Test API Reference](docs/reference/testing.md#typed_tests)
- [Typed Tests in GoogleTest User Guide](../advanced.md#typed-tests)
- [Type-Parameterized Tests in GoogleTest User Guide](../advanced.md#type-parameterized-tests)
- [Sample Implementation with Typed Tests](https://github.com/google/googletest/blob/main/googletest/include/gtest/gtest-typed-test.h)

---

## Summary
This page instructs you on efficiently leveraging type-parameterized tests in GoogleTest. Starting with a generic fixture template, it covers macros to define, register, and then instantiate tests parameterized by types. The guide equips you to test multiple types under a unified test pattern, improving maintainability and increasing coverage with minimal boilerplate.

<Tip>
Focus on the user intent of testing behavior across multiple types with a shared testing pattern. Use type parameterized suites when you want the same test logic to apply to many types.
</Tip>

---

## Glossary
| Term | Meaning |
| ---- | ------- |
| Test Fixture | A class representing the test environment/state for a test.
| Type Parameter | A C++ template parameter representing a type in test fixtures.
| `TYPED_TEST_SUITE_P` | Macro declaring a test suite as type-parameterized.
| `TYPED_TEST_P` | Macro defining an individual test in a type-parameterized suite.
| `REGISTER_TYPED_TEST_SUITE_P` | Macro registering tests by name in a type-parameterized suite.
| `INSTANTIATE_TYPED_TEST_SUITE_P` | Macro instantiating the suite with concrete types.

---

## Quick Reference Macro Summary

| Macro | Purpose |
|-------|---------|
| `TYPED_TEST_SUITE_P(TestSuite)` | Declare a suite as type-parameterized for registration.
| `TYPED_TEST_P(TestSuite, TestName)` | Define a typed test using a type parameter.
| `REGISTER_TYPED_TEST_SUITE_P(TestSuite, TestNames...)` | Register test names for the suite.
| `INSTANTIATE_TYPED_TEST_SUITE_P(Prefix, TestSuite, Types)` | Instantiate the suite with concrete types.

---

## Related Code Links

- Implementation and examples in GoogleTest source: [googletest/test/googletest-list-tests-unittest_.cc](https://github.com/google/googletest/blob/main/googletest/test/googletest-list-tests-unittest_.cc)
- Typed Tests header: [googletest/include/gtest/gtest-typed-test.h](https://github.com/google/googletest/blob/main/googletest/include/gtest/gtest-typed-test.h)
- Reference for parameterized tests macros: [docs/reference/testing.md#typed_tests](https://github.com/google/googletest/blob/main/docs/reference/testing.md#typed_tests)

---