---
title: "Parameterized and Typed Tests"
description: "Unlock the full power of test reuse through value and type parameterization. This guide covers setting up parameterized suites and type tests, reducing duplication while expanding coverage across varied inputs and data types."
---

# Parameterized and Typed Tests

GoogleTest empowers you to efficiently reuse test logic across different values and types through *value-parameterized tests* and *typed tests*. This guide provides actionable steps to set up these tests, drastically reducing code duplication while expanding coverage across diverse inputs and data types.

---

## Value-Parameterized Tests

Value-parameterized tests enable running the same test logic repeatedly, each time with a different input parameter. This is ideal for verifying code behavior under a variety of runtime values without duplicating test code.

### Workflow Overview

- **Task**: Create a single test suite that runs multiple tests with different input parameters.
- **Prerequisites**: Knowledge of test fixtures and GoogleTest basic macros; GoogleTest installed and integrated into your build.
- **Expected Outcome**: One test suite with multiple instantiations each receiving a distinct parameter.
- **Time Estimate**: 10-20 minutes
- **Difficulty**: Intermediate

### Step-by-Step Instructions

<Steps>
<Step title="Define a Parameterized Test Fixture">
Define a test fixture class that inherits from `::testing::TestWithParam<T>`, where `T` is the type of your test parameter (must be copyable).

```cpp
class MyParamTest : public ::testing::TestWithParam<int> {
  // Your shared setup or utilities
};
```

This fixture class allows your tests to access the current parameter via `GetParam()`.
</Step>

<Step title="Write Parameterized Tests Using TEST_P">
Define your tests using the macro `TEST_P` instead of `TEST_F`.

Inside each test, call `GetParam()` to access the current parameter.

```cpp
TEST_P(MyParamTest, IsPositive) {
  EXPECT_GT(GetParam(), 0);
}
```

You can define multiple `TEST_P` tests for one fixture.
</Step>

<Step title="Instantiate Tests with Parameter Generators">
Use `INSTANTIATE_TEST_SUITE_P` to generate test instances for your parameterized tests.

You must provide:

- A unique prefix name to distinguish this instantiation.
- The test fixture name.
- A *parameter generator* that creates a sequence of test parameters.

GoogleTest provides several parameter generators:

| Generator | Description |
| --- | --- |
| `Range(begin, end [, step])` | Generates values from `begin` up to but not including `end` with `step` increments. |
| `Values(v1, v2, ..., vN)` | Enumerates explicit values. |
| `ValuesIn(container)` | Uses values from a container or array. |
| `Bool()` | Generates boolean values `false` and `true`. |
| `Combine(g1, g2, ..., gN)` | Produces the Cartesian product (all combinations) of multiple generators. |

Example:

```cpp
INSTANTIATE_TEST_SUITE_P(
    PositiveValues, MyParamTest,
    ::testing::Values(1, 2, 3, 10, 100));
```
</Step>

<Step title="Run Your Tests and Interpret Output">
After building, run your test executable. You will see GoogleTest run multiple tests:

```
PositiveValues/MyParamTest.IsPositive/0
PositiveValues/MyParamTest.IsPositive/1
PositiveValues/MyParamTest.IsPositive/2
```

Each test corresponds to a parameter value and reports success or failure.

Use the names for filtering with `--gtest_filter` if desired.
</Step>
</Steps>

### Practical Tips

- If your test parameter is a pointer, manage the lifespan carefully to avoid dangling pointers.
- You can instantiate the same parameterized test suite multiple times with different parameter sets by using distinct instantiation prefixes.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(TestSuiteName)` to prevent errors if you define parameterized tests without instantiation (useful for abstract tests).
- The parameter generator expressions are evaluated during `InitGoogleTest()`, allowing dynamic parameter sets based on runtime conditions.

### Example

```cpp
class StringLengthTest : public ::testing::TestWithParam<std::string> {};

TEST_P(StringLengthTest, LengthIsCorrect) {
  EXPECT_EQ(GetParam().length(), static_cast<size_t>(3));
}

INSTANTIATE_TEST_SUITE_P(
    ThreeCharStrings, StringLengthTest,
    ::testing::Values("abc", "def", "xyz"));
```

This runs three tests, each verifying the length for a different string.

---

## Typed Tests

Typed tests allow you to write a test fixture template and run the same tests over a list of types, verifying type-dependent behavior.

### Workflow Overview

- **Task**: Run the same test suite for each type in a compile-time list.
- **Prerequisites**: Familiarity with C++ templates and test fixtures.
- **Expected Outcome**: Multiple test suites instantiated with different type parameters.
- **Time Estimate**: 15-25 minutes
- **Difficulty**: Intermediate to Advanced

### Step-by-Step Instructions

<Steps>
<Step title="Define a Fixture Class Template">
Write a class template that derives from `testing::Test`. This template class can have typedefs, static and instance members related to the type parameter.

```cpp
template <typename T>
class MyTypedTest : public testing::Test {
 public:
  T value_;
  static T static_value_;
};

template <typename T>
T MyTypedTest<T>::static_value_ = T();
```
</Step>

<Step title="Define the List of Types">
Create a type list using `::testing::Types<T1, T2, ...>`.

```cpp
using MyTypes = ::testing::Types<int, double, char>;
```
</Step>

<Step title="Associate the Type List with the Fixture">
Use `TYPED_TEST_SUITE` to associate the fixture template with the type list.

```cpp
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```
</Step>

<Step title="Write Typed Tests with TYPED_TEST">
Use `TYPED_TEST` instead of `TEST_F` to define tests inside the fixture template.

Inside the tests, use `TypeParam` to refer to the type parameter.

```cpp
TYPED_TEST(MyTypedTest, IsDefaultZero) {
  TypeParam zero{};
  EXPECT_EQ(zero, this->value_);
}
```
</Step>

<Step title="Build and Run">
Compile and run your tests. GoogleTest generates separate test suites named after the fixture plus the type (specialized).

Example output:

```
MyTypedTest/0.IsDefaultZero
MyTypedTest/1.IsDefaultZero
MyTypedTest/2.IsDefaultZero
```

Each corresponds to the test run for each type.
</Step>
</Steps>

### Practical Tips

- Use `typename TestFixture::SomeType` and `this->member_` inside `TYPED_TEST` bodies to address dependent types and members properly.
- You can specify custom type names with an optional third parameter to `TYPED_TEST_SUITE` to generate clearer test suite names.
- Test setup and teardown methods like `SetUpTestSuite()` should be marked `public` in parameterized tests.

### Example

```cpp
template <typename T>
class NumericTest : public ::testing::Test {
 public:
  static T default_value_;
};

template <typename T>
T NumericTest<T>::default_value_ = T();

using NumericTypes = ::testing::Types<int, float>;
TYPED_TEST_SUITE(NumericTest, NumericTypes);

TYPED_TEST(NumericTest, DefaultIsZero) {
  EXPECT_EQ(TypeParam(), this->default_value_);
}
```

---

## Type-Parameterized Tests

Type-parameterized tests are similar to typed tests but support declaration and registration separately, enabling the definition of reusable test patterns that can be instantiated later with different type sets.

### Workflow Overview

- **Task**: Define test patterns for unspecified types and instantiate them later.
- **Prerequisites**: Understanding of typed tests and templates.
- **Expected Outcome**: Reusable test definitions, instantiable with multiple type sets.
- **Time Estimate**: 30 minutes
- **Difficulty**: Advanced

### Step-by-Step Instructions

<Steps>
<Step title="Declare a Type-Parameterized Test Suite">
Use `TYPED_TEST_SUITE_P` macro to declare a test suite template without tying it to any types.

```cpp
template <typename T>
class MyPatternTest : public testing::Test {};

TYPED_TEST_SUITE_P(MyPatternTest);
```
</Step>

<Step title="Define Tests Using TYPED_TEST_P">
Define tests with `TYPED_TEST_P`, referring to the type via `TypeParam`.

```cpp
TYPED_TEST_P(MyPatternTest, ExampleTest) {
  TypeParam value = TypeParam();
  EXPECT_EQ(value, value);
}
```
</Step>

<Step title="Register the Tests">
Register defined tests with `REGISTER_TYPED_TEST_SUITE_P`, specifying all test names.

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyPatternTest, ExampleTest);
```
</Step>

<Step title="Instantiate with Concrete Types">
Instantiate the pattern for specific types using `INSTANTIATE_TYPED_TEST_SUITE_P`.

```cpp
using Implementations = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInst, MyPatternTest, Implementations);
```
</Step>
</Steps>

### Practical Tips

- You can instantiate the same type-parameterized test suite multiple times with different type sets and prefixes.
- Organize reusable test definitions in headers to be included in multiple translation units.
- Ensure test suite and instantiations are in the same namespace if needed.

---

## Troubleshooting & Tips

- **Duplicate instantiations**: Provide unique prefixes in `INSTANTIATE_TEST_SUITE_P` and `INSTANTIATE_TYPED_TEST_SUITE_P` to avoid name collisions.
- **Missing instantiations**: If any `TEST_P` or `TYPED_TEST_P` is not instantiated, GoogleTest reports a failure in `GoogleTestVerification`. Suppress with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` if intentional.
- **Invalid test names**: Custom names for parameterized test cases must be ASCII alphanumeric or underscore and unique.
- **Parameter lifespan**: Raw pointer parameters require careful lifetime management.
- **Generator evaluation timing**: Parameter generators run during `InitGoogleTest()`, so any runtime-dependent parameter generation should happen before this call.

---

## Next Steps & Related Content

- Explore [Test Discovery and Execution](../guides/getting-started-testing/test-discovery-execution.md) to learn about filtering and running subsets of tests.
- Combine parameterized and typed tests with mocking capabilities from [GoogleMock](../overview/introduction-value/what-is-googletest.md) for advanced testing.
- Delve into [Creating Your First Test](../guides/getting-started-testing/creating-first-test.md) if new to test writing.
- Learn how to [Run and Validate Tests](../getting-started/first-steps/running-tests.md) to ensure coverage.

---

## References

- [Testing Reference: TEST_P, INSTANTIATE_TEST_SUITE_P](../docs/reference/testing.md#TEST_P)
- [Advanced Topics: Typed and Type-Parameterized Tests](../docs/advanced.md#typed-tests)
- [Value-Parameterized Tests](../docs/advanced.md#value-parameterized-tests)
- [Sample Abstract Tests in GoogleTest repository](https://github.com/google/googletest/tree/main/samples)

---

Unlock new levels of test maintainability and coverage with parameterized and typed tests — systematically verify your code’s behavior over multiple inputs and types with succinct, reusable test suites.