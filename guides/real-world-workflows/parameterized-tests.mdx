---
title: "Using Parameterized and Typed Tests"
description: "Step-by-step guide to creating tests that automatically run with different data values and types, enabling data-driven and generic test patterns for robust coverage."
---

# Using Parameterized and Typed Tests

GoogleTest empowers you to write *parameterized* and *typed* tests, enabling flexible, data-driven testing and type generic test patterns. This guide takes you step-by-step through creating tests that automatically run with different data values and types, increasing your code coverage and simplifying test maintenance.

---

## 1. Understanding Parameterized and Typed Tests

### What Are Parameterized Tests?

Parameterized tests let you write a single test definition that is executed multiple times with different input values. This is invaluable for testing functions and classes against various data without code duplication.

### What Are Typed Tests?

Typed tests allow running the same test logic across different C++ types. This is key for testing templates or ensuring that multiple implementations of an interface behave consistently.

### Why Use Them?

- Avoid repetitive test code
- Achieve broad coverage with concise test suites
- Test interfaces or templates generically
- Easily add new data or types without test duplication

---

## 2. Prerequisites

- Basic familiarity with GoogleTest basics and standard test writing
- Setup with GoogleTest library included and properly linked
- Understanding of test fixtures and macros (`TEST`, `TEST_F`)

---

## 3. Writing Value-Parameterized Tests

Value-parameterized tests run the same test code multiple times with varying *values*.

### Step 1: Define the Test Fixture

Create a test fixture inheriting from `testing::TestWithParam<Type>`, where `Type` is the parameter type.

```cpp
class MyValueTest : public testing::TestWithParam<int> {
  // Optional: Add members or helpers here
};
```

### Step 2: Write Parameterized Tests Using `TEST_P`

Use `TEST_P` to define tests that use the parameter from `GetParam()`.

```cpp
TEST_P(MyValueTest, HandlesPositive) {
  int value = GetParam();
  EXPECT_GT(value, 0) << "Value should be positive";
}
```

### Step 3: Instantiate the Test Suite with Values

Use `INSTANTIATE_TEST_SUITE_P` to bind your test with a set of parameter values.

```cpp
INSTANTIATE_TEST_SUITE_P(
    PositiveValues,
    MyValueTest,
    testing::Values(1, 10, 100));
```

### Example: Full Value-Parameterized Test

```cpp
class IsEvenTest : public testing::TestWithParam<int> {};

TEST_P(IsEvenTest, ReturnsTrueForEvenNumbers) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenValues, IsEvenTest,
                         testing::Values(2, 4, 6, 8, 10));
```

---

## 4. Using Parameter Generators

GoogleTest provides several generators to create parameter sets:

- `Values(v1, v2, ..., vN)`: yields the specified values
- `ValuesIn(container)`: uses values from an array or STL container
- `Range(start, end[, step])`: yields values in [start, end), with optional step
- `Bool()`: yields `false` and `true`
- `Combine(g1, g2, ..., gN)`: Cartesian product of multiple generators

### Example: Using Generators and Combination

```cpp
class MyTest : public testing::TestWithParam<std::tuple<int, bool>> {};

TEST_P(MyTest, HandlesCombinedParams) {
  int i = std::get<0>(GetParam());
  bool flag = std::get<1>(GetParam());
  EXPECT_GE(i, 0);
}

INSTANTIATE_TEST_SUITE_P(MyCombinations, MyTest,
                        testing::Combine(testing::Range(0, 3), Bool()));
```

This runs tests with (0,false), (0,true), (1,false), (1,true), (2,false), and (2,true).

---

## 5. Writing Typed Tests

Typed tests allow you to write tests once and run them for multiple types.

### Step 1: Define the Typed Test Fixture Template

This template class inherits from `testing::Test`:

```cpp
template <typename T>
class MyTypedTest : public testing::Test {
 protected:
  T value_{};
};
```

### Step 2: Define the List of Types

Specify the list of types to test with `testing::Types`:

```cpp
using MyTypes = testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

### Step 3: Write Typed Tests With `TYPED_TEST`

Use `TYPED_TEST` to define tests templated on `TypeParam`:

```cpp
TYPED_TEST(MyTypedTest, IsDefaultInitialized) {
  TypeParam val = this->value_;
  // Add checks for val
  EXPECT_TRUE(true);  // Replace with actual
}
```

### Example: Typed Test

```cpp
template <typename T>
class NumericTest : public testing::Test {
 public:
  T value_ = T();
};

using NumericTypes = testing::Types<int, double, float>;
TYPED_TEST_SUITE(NumericTest, NumericTypes);

TYPED_TEST(NumericTest, DefaultValueIsZero) {
  EXPECT_EQ(static_cast<TypeParam>(0), this->value_);
}
```

---

## 6. Writing Type-Parameterized Tests

These are the more flexible variant of typed tests, allowing test pattern definition and multiple instantiations.

### Step 1: Declare Test Suite with `TYPED_TEST_SUITE_P`

```cpp
template <typename T>
class MyPolyTest : public testing::Test {
  // ...
};

TYPED_TEST_SUITE_P(MyPolyTest);
```

### Step 2: Define Test Patterns with `TYPED_TEST_P`

```cpp
TYPED_TEST_P(MyPolyTest, DoesSomething) {
  // Use TypeParam
}
```

### Step 3: Register Test Names

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyPolyTest, DoesSomething);
```

### Step 4: Instantiate Test Suites

```cpp
using MyInstTypes = testing::Types<int, float>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInst, MyPolyTest, MyInstTypes);
```

---

## 7. Naming Notes and Restrictions

- Test suite and test names must be valid C++ identifiers without underscores (`_`). Avoid underscores to prevent reserved identifier conflicts.
- Parameterized test instantiation names (the prefix in `INSTANTIATE_TEST_SUITE_P`) should be unique to distinguish instantiations.
- Test name suffixes generated automatically from parameters must contain only ASCII alphanumeric characters and underscores.

---

## 8. Best Practices and Tips

- Use `TEST_P` and `INSTANTIATE_TEST_SUITE_P` for varying *data* tests.
- Use `TYPED_TEST` and `TYPED_TEST_SUITE` for varying *type* tests.
- For test fixtures shared by both death and non-death tests, alias the fixture with `using` to manage naming and suite organization.
- Limit the parameter types to copyable and printable types to enable clear test output.
- Use custom name generators in `INSTANTIATE_TEST_SUITE_P` to improve test output readability.
- Use `SCOPED_TRACE` or parameter accessors to add context for failures inside parameterized tests.

---

## 9. Troubleshooting

- **Tests not running?** Ensure you instantiate parameterized tests with `INSTANTIATE_TEST_SUITE_P`.
- **Compilation errors on default constructor of fixture?** Your fixture must be default-constructible for `TEST_F` and parameterized tests.
- **Test failures related to underscores in names?** Remove underscores from `TestSuiteName` and `TestName` to avoid reserved identifier conflicts.
- **Parameters not displayed clearly?** Define `PrintTo()` or implement `<<` operator for your parameter types.
- **Multiple test fixtures with the same suite name?** Rename fixtures to avoid conflicts.

---

## 10. Next Steps & Further Reading

- Explore the [GoogleTest Primer](primer.md) for fundamental concepts.
- Read the [Advanced GoogleTest Topics](advanced.md) for deeper usage patterns.
- Consult the [Testing Reference](reference/testing.md) for detailed API and macros.
- Review the [FAQ](faq.md) for common issues regarding parameterized and typed tests.

---

## 11. Additional Resources

- [Value- and Type-Parameterized Tests (Concepts)](/concepts/advanced-testing-patterns/parameterized-tests)
- [Parameterized and Typed Tests API Reference](/api-reference/gtest-core-api/parameterized-and-typed-tests)
- [Guides on Mocking](guides/real-world-workflows/mocking-basics)

---

## Summary Diagram of Parameterized Test Workflow

```mermaid
flowchart TD
  A[Define Test Fixture Class]
  B[Write TEST_P Using GetParam()]
  C[Define Parameter Generators (Values, Range, etc.)]
  D[Instantiate Tests with INSTANTIATE_TEST_SUITE_P]
  E[Run Tests Automatically For Each Value]

  A --> B --> D --> E
  C --> D
```

---

Thank you for exploring parameterized and typed tests in GoogleTest! By mastering these techniques, you will write tests that are robust, maintainable, and scalable.

---