---
title: "Test Output and Reporting"
description: "Leverage advanced output features such as XML/JSON reporting, custom test listeners, and integration with third-party tools. Learn how to interpret output, configure formats, and extend reporting for dashboards or CI."
---

# Test Output and Reporting

Harness the full power of GoogleTest's advanced output and reporting features to make your testing workflow efficient and insightful. This guide explains how to configure output formats, interpret detailed results, extend reporting, and integrate with third-party tools such as CI systems and dashboards.

---

## 1. Overview of Test Output Options

GoogleTest provides multiple output modes to suit different workflows and environments:

- **Console Output**: The default, human-readable output detailing test progress, status, and failures.
- **XML Reporting**: Produces detailed reports in the JUnit-style XML format, useful for CI integration and dashboard visualization.
- **JSON Reporting**: Outputs test results in a JSON schema format for flexible consumption by external tools.
- **Streaming Results**: Streams live test results to a specified host and port on supported platforms (Linux/macOS).

By configuring these options, you can tailor the level of detail, format, and target of your test outputs.

---

## 2. Configuring Test Output Formats

GoogleTest controls output formats primarily via the `--gtest_output` flag or environment variables. You can specify:

- Format: `xml`, `json`, or empty string (default console output)
- Output destination: a file path or directory

### Examples:

```bash
--gtest_output=xml                    # Generate XML report in current directory as test_detail.xml
--gtest_output=xml:my_reports/       # Save XML report inside my_reports directory
--gtest_output=xml:results/my_tests.xml  # Save XML report to specified filename
--gtest_output=json:report.json      # Generate JSON report to report.json
```

### How GoogleTest resolves output paths:

- If the output path ends with a directory separator, it is treated as a directory. The file name will be based on the test executable name appended to the directory.
- If no file is specified, defaults to `test_detail.xml` or `test_detail.json` in the current directory.

### Best Practices:

- Always specify an absolute or relative path to control where reports are saved.
- Use directories for multi-run or multi-test executables to avoid file overwrite.

---

## 3. Understanding Console Output

The console output offers a clear narrative of test execution:

- **Test Iteration Start**: Displays the number and set of tests about to run.
- **Test Suite Start**: Indicates the start of each test suite.
- **Test Start / Result**: Lines prefixed with `[ RUN      ]`, `[       OK ]`, or `[  FAILED  ]` show test execution and outcomes.
- **Failures**: Failure messages include source file, line, and detailed assertion messages.
- **Test Summary**: A final summary lists how many tests passed, failed, or were skipped.

### Color Output:

- Green: Passing tests and successes.
- Red: Failures.
- Yellow: Disabled or skipped tests.

### Flags Affecting Console Output:

- `--gtest_color`: Control colored output (`yes`, `no`, `auto`).
- `--gtest_brief`: Suppress passed test messages, showing only failures.
- `--gtest_print_time`: Show or hide elapsed times for each test.

---

## 4. Generating XML Reports

XML output is ideal for CI servers and dashboards supporting JUnit XML.

### How to enable:

- Use `--gtest_output=xml`[`:file_or_directory`]

### XML Report Structure:

- Root `<testsuites>` element summarizing the entire run.
- Nested `<testsuite>` elements for each test suite.
- `<testcase>` elements for each test inside a suite.
- `<failure>` child elements within `<testcase>` denote individual assertion failures.

### Recorded Attributes:

- `<testsuites>`: `tests`, `failures`, `disabled`, `time`, `timestamp`, and others.
- `<testsuite>`: `name`, `tests`, `failures`, `skipped`, etc.
- `<testcase>`: `name`, `file`, `line`, `status`, `time`, `classname` (test suite), and properties.

You can add custom test properties during tests or test suite setup for richer reporting (see section on Recording Properties).

---

## 5. Generating JSON Reports

GoogleTest can produce JSON reports with a comprehensive schema suitable for advanced tools.

### How to enable:

- Use `--gtest_output=json`[`:file_or_directory`]

### JSON Report Features:

- Mirrors the structure of XML reports in JSON format.
- Includes details for tests, suites, failures, timestamps, and durations.
- Allows easy parsing and integration with custom dashboards or analytics.

---

## 6. Streaming Test Results to a Server

On Linux and macOS, GoogleTest supports streaming live test results to a network service.

### How to enable:

- Use `--gtest_stream_result_to=host:port`

### Use cases:

- Real-time dashboards
- Remote CI aggregators

### Notes:

- Streaming is enabled only on supported OS platforms.
- The listener sends events with encoded data such as test start, end, failure messages.

---

## 7. Customizing and Extending Reporting

GoogleTest uses an event listener architecture allowing you to insert your own listeners or replace the default ones.

### Default listeners:

- **PrettyUnitTestResultPrinter**: The default console printer with color and detailed output.
- **BriefUnitTestResultPrinter**: Shows only failed tests.
- **XmlUnitTestResultPrinter**: Produces XML output.
- **JsonUnitTestResultPrinter**: Produces JSON output.

### Replacing default listeners:

To customize output:

```cpp
// Remove default console output
auto& listeners = ::testing::UnitTest::GetInstance()->listeners();
delete listeners.Release(listeners.default_result_printer());

// Add custom listener
listeners.Append(new MyCustomListener());
```

### Adding properties in tests or setup/teardown

Use `RecordProperty(key, value)` to annotate tests, test suites, or the entire run:

- Called during a test: properties recorded under the specific `<testcase>`.
- Called during `SetUpTestSuite` or `TearDownTestSuite`: attached to `<testsuite>`.
- Called outside any test suite (e.g. Environment setup): attached to `<testsuites>` root.

Custom properties enrich reports, filter displays, or support integration tools.

Example:

```cpp
TEST(FooTest, Bar) {
  RecordProperty("DataVersion", "1.2");
  EXPECT_EQ(1, 1);
}
```

---

## 8. Filtering and Sharding Impact on Reporting

GoogleTest can filter and shard tests, influencing which tests run and are reported.

- Tests excluded by filters are marked as not run.
- Disabled tests are not run by default; use `--gtest_also_run_disabled_tests` to include.
- Sharding variables `GTEST_TOTAL_SHARDS` and `GTEST_SHARD_INDEX` limit tests executed per shard.

Reports accurately reflect which tests ran, passed, failed, or were disabled/skipped.

---

## 9. Tips and Common Pitfalls

- **Ensure initialization**: Call `InitGoogleTest()` before running tests to initialize output flags properly.
- **Specify output paths**: Avoid relying on defaults to prevent confusion about report locations.
- **Check for reserved property keys**: Custom properties must not conflict with GoogleTest reserved XML attributes such as `name`, `time`, or `classname`.
- **Beware of overwriting files**: When outputting to directories, GoogleTest will generate unique file names to avoid collisions.

---

## 10. Troubleshooting Output Issues

- **Output files not generated**: Verify you have write permissions to the specified directory and that the `--gtest_output` flag is correctly formatted.
- **No tests reported**: Check your test filter settings; a filter might exclude all tests.
- **Colors not showing**: Confirm terminal supports colors or override with `--gtest_color=yes`.
- **Streaming connection failures**: Confirm the host and port are correct and reachable.

---

## 11. Next Steps & Related Resources

- [Running Tests and Interpreting Results](../getting-started-core-workflows/running-tests-and-interpreting-results) — Learn about running tests and understanding console output.
- [Integrating with CI and Build Systems](../advanced-mocking-integrations/integrating-with-ci-and-build-systems) — Best practices for automated test execution with reporting.
- [Using Assertions Effectively](../real-world-usage-and-best-practices/using-assertions-effectively) — Improve test quality through assertions.
- [Writing Your First Test](../getting-started-first-steps-validation/write-your-first-test) — Start writing tests.

You may also explore event listener customization through [Sample9 Unittest](../googletest/samples/sample9_unittest.cc) for an example of replacing output listeners.

---

<Note>
This page covers GoogleTest's test output and reporting capabilities only. For comprehensive test management, refer to the Getting Started and Guides sections.
</Note>
