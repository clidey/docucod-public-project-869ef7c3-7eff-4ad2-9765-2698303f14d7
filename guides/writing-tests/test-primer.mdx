---
title: "Getting Started: Writing Your First Test"
description: "Learn how to set up GoogleTest, structure your first C++ test case, and run it from the command line. Covers project setup, basic test structure, and minimal assertions for rapid onboarding."
---

# Getting Started: Writing Your First Test

## Overview

This guide will take you through the essential steps to start writing and running your very first C++ test using GoogleTest. You will learn how to set up your project, write a simple test case, include minimal assertions, and execute tests from the command line. By following this workflow, you will quickly onboard GoogleTest and gain confidence in your testing environment.

---

## 1. Workflow Overview

### Task Description

You will create a simple GoogleTest test case covering one or more functions, build the test executable, and run your tests to see results.

### Prerequisites

- A C++ development environment (compiler and build tools).
- GoogleTest source code installed or accessible.
- Basic familiarity with C++ syntax.

### Expected Outcome

By completing this guide, you will have:
- Set up GoogleTest in your project.
- Written a basic, passing test case.
- Successfully compiled and run tests from the command line.

### Time Estimate

Approximately 15 to 30 minutes, depending on environment setup.

### Difficulty Level

Beginner

---

## 2. Step-by-Step Instructions

### Step 1: Set Up Your Project to Use GoogleTest

- Ensure GoogleTest is cloned or installed.
- Add GoogleTest include and source files to your project's build system.
- For CMake projects, you can add GoogleTest as a subdirectory or find it if installed.

**Expected Result:** Your build system knows where to find GoogleTest headers and libraries.

---

### Step 2: Write Your First Test Case

Create a new source file, e.g., `sample_test.cpp`, and add the following code:

```cpp
#include <gtest/gtest.h>

// A simple function to test
int Add(int a, int b) {
  return a + b;
}

// Define a test case named AddTest and a test named SimpleAddition
TEST(AddTest, SimpleAddition) {
  EXPECT_EQ(Add(1, 2), 3);
  EXPECT_NE(Add(1, 2), 4);
}
```

This test checks that the function `Add` returns the correct sum.

**Expected Result:** A test case named `AddTest.SimpleAddition` that verifies basic addition.

---

### Step 3: Build Your Test Executable

- Use your build tool to compile and link the test file with GoogleTest.

For example, using `g++` and assuming GoogleTest is in `/path/to/googletest`:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include \
    -pthread sample_test.cpp \
    /path/to/googletest/lib/libgtest.a /path/to/googletest/lib/libgtest_main.a \
    -o sample_test
```

- Alternatively, if using CMake, follow the project's instructions to add your test and link GoogleTest.

**Expected Result:** An executable binary named `sample_test` (or your chosen name).

---

### Step 4: Run Your Tests

Execute your test binary from the command line:

```bash
./sample_test
```

GoogleTest will discover the test(s), run them, and display a summary.

Expected output snippet:

```
[ RUN      ] AddTest.SimpleAddition
[       OK ] AddTest.SimpleAddition (0 ms)

[----------] 1 test from AddTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

**Expected Result:** Tests run successfully and report passing status.

---

### Step 5: Inspect Test Results and Debug if Needed

- If tests pass, your setup works correctly.
- If tests fail, examine error messages and check your code.
- Common issues include misspelling macros, missing link libraries, or compiler flags.

---

## 3. Example: Basic Addition Test

```cpp
#include <gtest/gtest.h>

int Add(int a, int b) {
  return a + b;
}

TEST(AdditionTest, ZeroPlusZero) {
  EXPECT_EQ(Add(0, 0), 0);
}

TEST(AdditionTest, PositiveNumbers) {
  EXPECT_EQ(Add(2, 3), 5);
  EXPECT_NE(Add(2, 2), 5);
}
```

Compile and run as described above.

---

## 4. Tips and Best Practices

- **Always define a virtual destructor in base classes** if you plan to use inheritance with mocks or tests (general C++ best practice).
- Use `EXPECT_` assertions if you want tests to continue on failure; `ASSERT_` if failure should abort the test.
- Keep tests independent and isolated.
- Name your tests clearly to reflect intent.
- Use fixtures (`TEST_F`) when multiple tests share setup code.

---

## 5. Troubleshooting Common Issues

### Problem: Tests Are Not Discovered
- Ensure tests are linked with GoogleTest's main library (`gtest_main`).
- Make sure your test functions use the correct macro (`TEST` or `TEST_F`).

### Problem: Compile Errors Related to GoogleTest
- Confirm include paths are correct.
- Confirm C++17 or higher is specified.
- Link against pthread if on Unix-like systems (`-pthread`).

### Problem: Tests Failing Unexpectedly
- Verify test logic and assertions.
- Run tests with verbose output for clues.

### Problem: Test Executable Runs But No Output
- GoogleTest suppresses output if no tests found or disabled. Double-check test macros and linkage.

---

## 6. Next Steps & Related Content

- **Explore Test Fixtures:** Learn to use `TEST_F` for shared setup and teardown.
- **Learn Mocking Basics:** Use `gMock` to create mock classes and verify interactions.
- **Run Tests with Advanced Flags:** Customize test execution with GoogleTest options.
- **Write Parameterized Tests:** For testing multiple data sets cleanly.

### Useful Links
- [GoogleTest Primer](https://google.github.io/googletest/primer.html)
- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [Mocking Reference](../docs/reference/mocking.md)
- [GoogleTest User's Guide](index.md)

---

With these steps, you have started your testing journey with GoogleTest â€” ensuring your code behaves as expected while facilitating future maintenance and debugging.
