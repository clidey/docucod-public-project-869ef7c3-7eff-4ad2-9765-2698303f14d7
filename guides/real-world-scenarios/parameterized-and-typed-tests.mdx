---
title: "Parameterized and Typed Tests for Broader Coverage"
description: "Guides users through leveraging value- and type-parameterized tests to ensure code correctness across a wide range of inputs and type scenarios. Emphasizes strategies for minimizing duplication and maximizing test coverage."
---

# Parameterized and Typed Tests for Broader Coverage

GoogleTest empowers you to extend your testing suite by running tests repeatedly with different input values or types, thereby maximizing code coverage while minimizing duplication. This page guides you through leveraging **value-parameterized tests** and **typed tests**, showing you how to create robust tests that validate your code across a broad range of scenarios.

---

## Workflow Overview

### What This Guide Helps You Do
- Understand how to write tests that automatically run with multiple values or types.
- Learn syntax and patterns for value-parameterized and typed tests.
- Discover instantiation techniques and naming strategies for parameterized tests.

### Prerequisites
- Familiarity with GoogleTest basics, including `TEST()`, `TEST_F()`, and test fixtures.
- A working GoogleTest setup compatible with C++17 or newer.

### Expected Outcome
- You'll be able to define parameterized test fixtures and tests using `TEST_P` and `TYPED_TEST` macros.
- Implement instantiations of these tests to cover multiple input values or types.
- Improve test coverage systematically with less test code duplication.

### Time Estimate
- 15–30 minutes to read and practice examples initially.

### Difficulty Level
- Intermediate (requires C++ templates knowledge and GoogleTest basics).

---

## Value-Parameterized Tests: Testing Across Varying Inputs

Value-parameterized tests let you write a single test that runs multiple times with different input values.

### Step 1: Define a Value-Parameterized Test Fixture

Create a fixture class that inherits from `testing::TestWithParam<T>`, where `T` is the type of parameter your test will receive.

```cpp
class MyValueParamTest : public ::testing::TestWithParam<int> {
  // Optional: shared setup or helper methods.
};
```

### Step 2: Write Tests Using `TEST_P`

Use the `TEST_P` macro instead of `TEST` or `TEST_F`. Inside each test, access the parameter with `GetParam()`.

```cpp
TEST_P(MyValueParamTest, HandlesPositive) {
  int param = GetParam();
  EXPECT_GT(param, 0);  // test something about param
}
```

### Step 3: Instantiate Tests with Parameter Sets

Use `INSTANTIATE_TEST_SUITE_P` to supply the set of values your test will run on. You can use GoogleTest's built-in parameter generators such as `Values()`, `Range()`, or custom generators.

```cpp
INSTANTIATE_TEST_SUITE_P(
    PositiveIntegers, MyValueParamTest,
    ::testing::Values(1, 10, 100));
```

### Available Parameter Generators
| Generator         | Description                                         |
|-------------------|-----------------------------------------------------|
| `Range(begin, end[, step])` | Yields values from begin up to (but not including) end, optionally stepping. |
| `Values(v1, v2, ..., vN)` | Yields listed values.
| `ValuesIn(container)` | Yields values from a container or array.
| `Bool()` | Yields `false` and `true`.
| `Combine(g1, g2, ..., gN)` | Cartesian product of other generators, producing tuple values.

### Step 4: (Optional) Customize Test Naming

You can supply a function to `INSTANTIATE_TEST_SUITE_P` to generate meaningful test names from parameters.

```cpp
INSTANTIATE_TEST_SUITE_P(
    CustomNames, MyValueParamTest,
    ::testing::Values(1, 2, 3),
    [](const ::testing::TestParamInfo<int>& info) {
      return "Value" + std::to_string(info.param);
    });
```

---

## Typed Tests and Type-Parameterized Tests: Testing Across Types

Typed tests let you write tests once and execute them for multiple types, perfect for templated code or type-generic testing.

### Typed Tests: Using `TYPED_TEST_SUITE` and `TYPED_TEST`

#### Step 1: Define a Fixture Template

Write a test fixture template parameterized by a type.

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 protected:
  T value_{};  // Type-specific member
};
```

#### Step 2: Declare the Type List and Associate It

Define a list of types and associate it with your fixture.

```cpp
using MyTypes = ::testing::Types<int, double, char>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

#### Step 3: Write Tests Using `TYPED_TEST`

Write typed tests, using the special `TypeParam` to refer to the current type.

```cpp
TYPED_TEST(MyTypedTest, CanDefaultConstruct) {
  TypeParam val = this->value_;
  EXPECT_EQ(val, TypeParam{});
}
```

#### Step 4: Run Tests Normally

All typed test variants run when you execute `RUN_ALL_TESTS()`.

### Type-Parameterized Tests: Using `TYPED_TEST_SUITE_P` and `TYPED_TEST_P`

You can create reusable test patterns without specifying concrete types initially.

1. Define fixture template and declare suite with `TYPED_TEST_SUITE_P`.
2. Write tests with `TYPED_TEST_P`.
3. Register tests with `REGISTER_TYPED_TEST_SUITE_P`.
4. Instantiate with types via `INSTANTIATE_TYPED_TEST_SUITE_P`.

```cpp
template <typename T>
class MyTypeParamTest : public ::testing::Test {};

TYPED_TEST_SUITE_P(MyTypeParamTest);

TYPED_TEST_P(MyTypeParamTest, DoesSomething) {
  // Use TypeParam here
}

REGISTER_TYPED_TEST_SUITE_P(MyTypeParamTest, DoesSomething);

using MyTypes = ::testing::Types<int, float>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, MyTypeParamTest, MyTypes);
```

---

## Practical Tips and Best Practices

- **Use Value-Parameterized Tests** when the test logic depends on varying input data sets.
- **Use Typed Tests** when you want to verify the same behavior across types, especially template parameters.
- Combine `Combine()` generator for cross-product parameterization (e.g., test all combinations of input parameters).
- Provide meaningful test names in instantiations for easier failure diagnostics.
- Avoid overly large tuples or type lists that may complicate debugging.

---

## Common Pitfalls and Troubleshooting

- Forgetting to instantiate a parameterized test results in no tests being run — compile-time or run-time warnings may appear.
- Using parameters in `TEST_P` without inheriting from `TestWithParam<T>` causes compile errors.
- Name collisions in parameterized instances can confuse test filters; use explicit name generators.
- Be cautious with lambda use in `ConvertGenerator` due to lifetime issues.

<Tip>
If your types or values are not implicitly convertible, consider using `ConvertGenerator` to bridge conversions or provide explicit mapping functions.
</Tip>

---

## Next Steps

- Explore [Writing and Running Your First Test](../getting-started/configuration-first-run/write-first-test.md) to solidify test basics.
- Dive into [Using Advanced Assertions and Matchers](../guides/core-workflows/advanced-assertions-matchers.md) to assert more complex conditions.
- Learn about [Mocking Dependencies with GoogleMock](../guides/core-workflows/mocking-basics.md) for interaction testing.
- For expert patterns, see [Organizing and Scaling Your Test Suite](../guides/real-world-scenarios/organizing-tests.md).

---

## References

- [GoogleTest Primer](../docs/primer.md)
- [Value-Parameterized Tests - Advanced Guide](../docs/advanced.md#value-parameterized-tests)
- [Typed Tests - Advanced Guide](../docs/advanced.md#typed-tests)
- [API Reference: TEST_P and INSTANTIATE_TEST_SUITE_P](../docs/reference/testing.md#TEST_P)
- [API Reference: TYPED_TEST_SUITE and TYPED_TEST](../docs/reference/testing.md#TYPED_TEST_SUITE)

---

## Example: Combining Value-Parameterized Testing

```cpp
#include <gtest/gtest.h>

// Fixture for testing integer properties.
class IsEvenTest : public ::testing::TestWithParam<int> {};

// Test to check if the number is even.
TEST_P(IsEvenTest, IsMultipleOfTwo) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0) << n << " is not even.";
}

// Instantiate with some even numbers.
INSTANTIATE_TEST_SUITE_P(EvenNumbers, IsEvenTest, ::testing::Values(2, 4, 8, 16));

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This example will run the same test four times, once for each even value provided.

---