---
title: "Parameterized and Typed Tests"
description: "Learn to write flexible and reusable tests using GoogleTest's parameterized and typed test features. This guide covers test registration, value and type parameters, and practical examples for maximizing code coverage with minimal boilerplate."
---

# Parameterized and Typed Tests

Learn to write flexible and reusable tests using GoogleTest's parameterized and typed test features. This guide covers test registration, value and type parameters, and practical examples for maximizing code coverage with minimal boilerplate.

---

## Overview

GoogleTest's parameterized and typed tests empower you to run the same logical test over multiple types or input values without duplicating code. This dramatically increases code coverage while keeping your test suite maintainable.

This guide helps you:

- Understand the purpose and structure of value-parameterized and typed tests.
- Learn how to write and register parameterized test fixtures and test cases.
- Use different parameter generators to supply test data.
- Instantiate tests with custom naming strategies for clarity.
- Explore typed and type-parameterized tests for generic type coverage.

---

## Prerequisites

- Basic familiarity with GoogleTest `TEST()`, `TEST_F()` macros, and test fixtures.
- A working GoogleTest environment as described in the Getting Started guides.
- Knowledge of C++ templates and type parameters enhances the experience for typed tests.

---

## What You Will Achieve

- Create parameterized test fixtures that automatically run tests across multiple input values.
- Define typed tests that execute the same code over multiple type instantiations.
- Leverage GoogleTest's parameter generators to define reusable test data sets.
- Customize test names for easier filtering and identification during test runs.

Estimated time: 15-30 minutes
Difficulty: Intermediate

---

## 1. Writing Value-Parameterized Tests

Value-parameterized tests let you write test fixtures and tests that are instantiated with different values automatically. 

### Steps:

<Steps>
<Step title="Define a parameterized test fixture">
Create a fixture class derived from `::testing::TestWithParam<T>`, where `T` is the type of your parameter (e.g., `int`, `std::string`).

```cpp
class MyParamTest : public ::testing::TestWithParam<int> {
  // Optional additional setup or members.
};
```
</Step>

<Step title="Write parameterized tests with TEST_P">
Use `TEST_P` to define tests that use the parameter.

```cpp
TEST_P(MyParamTest, IsPositive) {
  EXPECT_GT(GetParam(), 0);
}
```
Inside the test body, access the parameter via `GetParam()`.
</Step>

<Step title="Instantiate the tests with parameter generators">
Use `INSTANTIATE_TEST_SUITE_P` to instantiate the test suite with parameter values or generator functions:

```cpp
INSTANTIATE_TEST_SUITE_P(
    PositiveNumbers, MyParamTest, ::testing::Values(1, 2, 3, 5));
```

You can also use other generators like:

- `Range(start, end[, step])`
- `Values(v1, v2, ..., vN)`
- `ValuesIn(container)`
- `Bool()`
- `Combine(...)` for tuples

Example with multiple values:

```cpp
INSTANTIATE_TEST_SUITE_P(SequentialNumbers, MyParamTest, ::testing::Range(1, 4));
```
</Step>

<Step title="Run and filter tests">
All instantiated tests are visible to GoogleTest and can be run or filtered by their full names:

```
PositiveNumbers/MyParamTest.IsPositive/0
PositiveNumbers/MyParamTest.IsPositive/1
PositiveNumbers/MyParamTest.IsPositive/2
```
</Step>
</Steps>

### Example

```cpp
class FactorialTest : public ::testing::TestWithParam<int> {};

TEST_P(FactorialTest, ReturnsExpected) {
  int n = GetParam();
  EXPECT_GE(Factorial(n), 1);
}

INSTANTIATE_TEST_SUITE_P(
    BasicTests, FactorialTest, ::testing::Values(0, 1, 5, 10));
```

### Tips

- You must use `INSTANTIATE_TEST_SUITE_P` for each set of parameters.
- Test names have suffixes with parameter indices to distinguish instances.
- Provide a naming function for clearer test names if desired.

---

## 2. Providing Custom Test Names for Parameters

To improve test name readability, provide a custom name generator function or functor to `INSTANTIATE_TEST_SUITE_P` as the last argument.

### Example

```cpp
std::string CustomNameGenerator(
    const testing::TestParamInfo<int>& info) {
  return "Param_" + std::to_string(info.param);
}

INSTANTIATE_TEST_SUITE_P(
    NamedTests, FactorialTest, ::testing::Values(0, 1, 5, 10), CustomNameGenerator);
```

This produces test names like `NamedTests/FactorialTest.Param_0`.

### Important restrictions

- Parameter names must only contain ASCII alphanumerics and underscores.
- Names must be unique within the instantiated suite.

---

## 3. Combining Multiple Parameters with `Combine`

For tests requiring multiple parameters, use `::testing::Combine` to produce Cartesian products of parameter sets.

### Example

```cpp
class FlagDependentTest : public ::testing::TestWithParam<std::tuple<bool, bool>> {};

TEST_P(FlagDependentTest, BehaviorDependsOnFlags) {
  auto [flag1, flag2] = GetParam();
  // Test logic here.
}

INSTANTIATE_TEST_SUITE_P(
    FlagCombinations, FlagDependentTest,
    ::testing::Combine(::testing::Bool(), ::testing::Bool()));
```

This runs tests covering all combinations of the two boolean flags.

---

## 4. Typed Tests

Typed tests let you run the same tests for several types with minimal code duplication.

### Steps:

<Steps>
<Step title="Define a type-parameterized test fixture">
Create a class template derived from `::testing::Test`, templated on type `T`.

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
  // Define members and types dependent on T
};
```
</Step>

<Step title="Define the type list and associate with test suite">
Define a list of types to test.

```cpp
using MyTypes = ::testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```
</Step>

<Step title="Write typed test cases using TYPED_TEST">
Define tests using `TYPED_TEST` macro. Use `TypeParam` to refer to the type parameter.

```cpp
TYPED_TEST(MyTypedTest, HasDefaultConstructor) {
  TypeParam instance{};
  // ... test instance ...
}
```
</Step>

<Step title="Run tests">
Compiled tests run once for each type.
</Step>
</Steps>

### Example

```cpp
template <typename T>
class NumericLimitsTest : public ::testing::Test {};

using NumericTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericLimitsTest, NumericTypes);

TYPED_TEST(NumericLimitsTest, MinIsNonNegative) {
  EXPECT_GE(std::numeric_limits<TypeParam>::min(), 0);
}
```

---

## 5. Type-Parameterized Tests

Similar to typed tests but allow defining the test patterns separately from type instantiations.

### Steps:

<Steps>
<Step title="Define the type-parameterized test suite">
Create a class template derived from `::testing::Test`.

```cpp
template <typename T>
class MyTypeParamTest : public ::testing::Test {};
```

Declare the test suite using `TYPED_TEST_SUITE_P`:

```cpp
TYPED_TEST_SUITE_P(MyTypeParamTest);
```
</Step>

<Step title="Define tests with TYPED_TEST_P">
Write test cases using `TYPED_TEST_P` macro.

```cpp
TYPED_TEST_P(MyTypeParamTest, Test1) {
  // Use TypeParam for the type
}
```
</Step>

<Step title="Register test names">
Register all test names in the suite.

```cpp
REGISTER_TYPED_TEST_SUITE_P(MyTypeParamTest, Test1, Test2);
```
</Step>

<Step title="Instantiate test suite with types">
Instantiate with specific type list and optional naming generator:

```cpp
using TypesToTest = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, MyTypeParamTest, TypesToTest);
```
</Step>
</Steps>

### Notes

- Type-parameterized tests are useful for testing interfaces or concepts.
- They allow test reuse across translation units.

---

## Common Pitfalls and Troubleshooting

- **Parameter names invalid or duplicate:** Custom parameter names must be unique and contain only alphanumeric characters or underscores. If invalid names are used, GoogleTest will abort.
- **Tests not instantiated:** If `TEST_P` is used without corresponding `INSTANTIATE_TEST_SUITE_P`, tests will not run and GoogleTest emits failure. Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(test_suite)` if intentional.
- **Parameters evaluated too early:** Parameter generators are evaluated in `InitGoogleTest()`, not at instantiation or run time.
- **Dangling references in lambdas:** When using `ConvertGenerator` with lambdas that take references, ensure lifetime of referenced objects is safe.

---

## Additional Tips

- Keep parameter generators concise and reusable.
- Use custom name generators for clearer test output.
- Use typed tests to ensure code works across different data types without duplicating test logic.
- Combine multiple parameterized inputs with `Combine()` to explore interactions.

---

## References and Next Steps

- [Value-Parameterized Tests (Advanced Concepts)](/advanced.md#value-parameterized-tests)
- [Typed Tests and Type-Parameterized Tests (Advanced Concepts)](/advanced.md#typed-tests)
- [Writing Your First Test](/guides/core-workflow/getting-started-tests)
- [GoogleTest Primer](/docs/primer.md)
- [Test Registration and Execution API Reference](/api-reference/core-testing-framework/test-registration-and-execution)


---

## Example: Complete Value-Parameterized Test Suite
```cpp
class IsEvenTest : public ::testing::TestWithParam<int> {};

TEST_P(IsEvenTest, ReturnsTrueForEvenNumbers) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0);
}

std::string GenerateName(const ::testing::TestParamInfo<int>& info) {
  return "Value_" + std::to_string(info.param);
}

INSTANTIATE_TEST_SUITE_P(EvenValues, IsEvenTest, ::testing::Values(2, 4, 6, 8), GenerateName);
```

This instantiates the suite `IsEvenTest` four times with values 2, 4, 6, and 8, and custom test names.

---

## Example: Typed Test
```cpp
template<typename T>
class StackTest : public ::testing::Test {
protected:
  std::stack<T> stack;
};

using MyTypes = ::testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(StackTest, MyTypes);

TYPED_TEST(StackTest, IsEmptyInitially) {
  EXPECT_TRUE(this->stack.empty());
}
```

This runs the `IsEmptyInitially` test on stacks of `int`, `double`, and `std::string`.

---

## Glossary

- **Value-Parameterized Tests:** Tests run with varying input **values**.
- **Typed Tests:** Tests run with varying **types**.
- **Type-Parameterized Tests:** Abstract typed tests instantiated with many types.
- **Parameter Generator:** Mechanism that produces sequences of test parameters.
- **Instantiation:** The process of creating concrete tests from parameterized test cases.

---

For more examples and in-depth concepts, consult GoogleTest's [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) and [Typed Tests](../advanced.md#typed-tests) sections.


