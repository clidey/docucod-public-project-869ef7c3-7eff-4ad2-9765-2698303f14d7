---
title: "Writing Your First Test"
description: "Step-by-step guidance on creating your initial GoogleTest unit tests, including test case structure, basic assertions, and common patterns. Introduces core terminology and walks through a simple, practical example."
---

# Writing Your First Test

Welcome to your journey into GoogleTest! This guide provides step-by-step instructions to write your initial unit tests using GoogleTest, including structuring test cases, writing basic assertions, and understanding common patterns. By following along, you'll grasp core testing terminology and see a simple, practical example come to life.

---

## 1. Workflow Overview

### Task Description
This guide helps you create your first C++ unit test using GoogleTest. You'll learn how to write test functions, group them logically, and verify your code's behavior through assertions.

### Prerequisites
- GoogleTest and its dependencies installed and correctly configured.
- A working C++ project environment with compilation set up.
- Basic knowledge of C++ programming.

### Expected Outcome
By the end of this guide, you'll have a simple unit test that:
- Tests a function or class method.
- Uses assertions to validate results.
- Runs successfully in your test suite.

### Time Estimate
Approximately 15-30 minutes.

### Difficulty Level
Beginner

---

## 2. Writing Your First Test

### 2.1. Basic Test Structure
Use the `TEST()` macro to define tests. It takes two arguments:

- **Test Suite Name**: Groups related tests.
- **Test Name**: Identifies the specific test.

The syntax looks like this:

```cpp
TEST(TestSuiteName, TestName) {
  // Test code goes here.
}
```

### 2.2. Writing Assertions
Assertions verify that your code behaves as expected. Use `EXPECT_*` macros for non-fatal checks (test continues after failure) or `ASSERT_*` macros for fatal checks (test aborts on failure).

Example assertions include:

```cpp
EXPECT_EQ(expected_value, actual_value);  // Checks equality
EXPECT_TRUE(condition);                   // Checks if condition is true
ASSERT_NE(pointer, nullptr);              // Checks pointer is not null; aborts if fails
```

### 2.3. Example: Testing a Factorial Function
Suppose you have this function:

```cpp
int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}
```

Write tests to verify it:

```cpp
#include <gtest/gtest.h>

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

Run these tests to validate correctness.

### 2.4. Organizing Multiple Tests
Group related tests under the same test suite name (first argument to `TEST`). This keeps your test suite structured and easy to navigate.

---

## 3. Using Test Fixtures for Shared Setup

When multiple tests need the same data or environment, create a test fixture:

1. Derive a class from `testing::Test`.
2. Initialize shared resources in the constructor or `SetUp()`.
3. Clean up in the destructor or `TearDown()`.

Example:

```cpp
class QueueTest : public testing::Test {
 protected:
  QueueTest() {
    // Common setup for all tests
    q_.Enqueue(1);
  }

  void SetUp() override {
    // Optional additional setup
  }

  void TearDown() override {
    // Optional cleanup
  }

  Queue<int> q_;
};

TEST_F(QueueTest, IsNotEmptyAfterEnqueue) {
  EXPECT_EQ(q_.size(), 1);
}

TEST_F(QueueTest, DequeueReturnsCorrectValue) {
  int* value = q_.Dequeue();
  ASSERT_NE(value, nullptr);
  EXPECT_EQ(*value, 1);
  delete value;
}
```

Use `TEST_F()` to access the fixture.

---

## 4. Best Practices

- Write small, focused tests verifying one behavior.
- Use meaningful test suite and test names for readability.
- Use `EXPECT_` for checks that allow the test to continue; use `ASSERT_` when subsequent code depends on the check.
- Run your tests frequently during development.
- Keep tests fast and independent.

---

## 5. Troubleshooting

- **Test not running?** Ensure `RUN_ALL_TESTS()` is called in `main()`.
- **Assertion failures?** Check the output messages for which condition failed.
- **Compilation errors?** Verify `#include <gtest/gtest.h>` and that your build system links GoogleTest correctly.

---

## 6. Next Steps

- Learn how to write tests with fixtures in more complex scenarios.
- Explore parameterized tests for more efficient coverage.
- Start integrating GoogleMock for mocking dependencies.

---

## 7. Additional Resources

- [GoogleTest Primer](../docs/primer.md) for foundational concepts
- [gMock for Dummies](../docs/gmock_for_dummies.md) to get started with mocking
- [gMock Cookbook](../docs/gmock_cook_book.md) for recipes and patterns
- [Mocking Reference](../docs/reference/mocking.md) for API details

---

Happy testing!
