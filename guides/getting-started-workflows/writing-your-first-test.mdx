---
title: "Writing and Running Your First Test"
description: "Step-by-step instructions to create your first test case using GoogleTest. Learn how to structure unit tests, use basic assertions, and execute tests to validate code correctness. This page enables quick wins for onboarding engineers."
---

# Writing and Running Your First Test

Welcome to your quick start guide for creating and running your first test case using GoogleTest. This guide will walk you through the core steps needed to write a basic unit test, use essential assertions, and execute the test to confidently validate your code.

---

## 1. Overview of Your First Test Workflow

### What You Will Accomplish
You will write a simple test function following GoogleTest conventions, understand how to structure it, use basic assertions to validate outcomes, and run the test executable to verify correctness.

### Prerequisites
- GoogleTest and GoogleMock installed and integrated with your C++ project.
- Basic understanding of C++ functions and classes.
- Your development environment set up to build and run tests.

### Expected Outcome
- A working C++ test source file with at least one successful test case.
- Ability to compile and run the test executable.
- Confident observation of test results via console output.

### Time Estimate
~10 to 15 minutes

### Difficulty Level
Beginner

---

## 2. Step-by-Step Instructions

Follow these action-oriented steps to write and run your first GoogleTest test.

<Steps>
<Step title="Step 1: Create a Test Source File">
Create a new C++ source file named `your_first_test.cc` (or any name you prefer).

Add necessary includes at the top:

```cpp
#include <gtest/gtest.h>
```

This header gives you access to all GoogleTest macros and utilities.
</Step>

<Step title="Step 2: Write a Basic Test Case">
Define a test using the `TEST` macro:

```cpp
TEST(ExampleTestSuite, YourFirstTest) {
  // Your test code here
  EXPECT_EQ(1 + 1, 2);  // Simple assertion
}
```

- `ExampleTestSuite` groups related tests.
- `YourFirstTest` uniquely identifies this test.

Inside the test, use assertions such as `EXPECT_EQ` to validate behavior.
</Step>

<Step title="Step 3: Build the Test Executable">
- Add the new test source file to your build system (Bazel, CMake, Makefile).
- Link against GoogleTest and GoogleMock libraries.
- Build your test executable.

For example, using CMake:

```cmake
add_executable(your_first_test your_first_test.cc)
target_link_libraries(your_first_test gtest gmock pthread)
```

Adjust according to your environment.
</Step>

<Step title="Step 4: Run Your Test">
Run the resulting executable from the command line:

```bash
./your_first_test
```

The output should indicate the test was run and passed:

```text
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTestSuite
[ RUN      ] ExampleTestSuite.YourFirstTest
[       OK ] ExampleTestSuite.YourFirstTest (0 ms)
[----------] 1 test from ExampleTestSuite (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This confirms your test succeeded.
</Step>
</Steps>

<Note>
If the test fails or you see errors:
- Verify GoogleTest and GoogleMock are installed correctly.
- Confirm your test file compiles and links without errors.
- Check your assertions and test logic.
</Note>

---

## 3. Practical Example

Here is a complete minimal example you can use directly:

```cpp
#include <gtest/gtest.h>

// A simple function to test
int Add(int a, int b) {
  return a + b;
}

// Test case for Add()
TEST(MathTests, AddFunction) {
  EXPECT_EQ(Add(1, 1), 2);
  EXPECT_EQ(Add(-1, 1), 0);
  EXPECT_EQ(Add(10, 20), 30);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- Save this as `math_test.cc`.
- Build and run it.
- Expect all assertions to pass and tests to succeed.

---

## 4. Tips and Best Practices

- **Name your test suites and test cases clearly** to convey intent.
- Use `EXPECT_*` macros for nonfatal assertions that let your test continue.
- `ASSERT_*` macros abort the current test on failure; use them when subsequent code depends on the assertion.
- Keep tests small and focused on one aspect of functionality.
- Run tests frequently during development.
- Use `ON_CALL` and `EXPECT_CALL` when introducing mocks (beyond initial tests).

## 5. Common Pitfalls

- Forgetting to call `InitGoogleTest` and `RUN_ALL_TESTS` in `main()` causes no tests to run.
- Expectation macros (`EXPECT_CALL`) must be set before exercising mocked methods.
- Overly strict expectations make tests brittle; be specific only where necessary.
- Omitting test suite or test case names, or using invalid identifiers.

---

## 6. Troubleshooting

If your test:

- Does not compile:
  - Check that `gtest/gtest.h` is included.
  - Ensure your build and link settings include GoogleTest.

- Does not run or shows “No tests found”:
  - Verify test macro usage and `main()` function implementation.

- Fails unexpectedly:
  - Use `--gtest_break_on_failure` to debug failures.
  - Enable verbose logs with `--gmock_verbose=info` to trace mock invocations.

- Mock warnings about uninteresting calls:
  - Add relevant `EXPECT_CALL`s or use `NiceMock` for suppressing warnings.

---

## 7. Next Steps and Related Guides

- Explore the **[Getting Started with Mocks](https://google.github.io/googletest/guides/getting-started-workflows/mocking-basics.html)** page to learn how to create mock classes and set expectations.
- Learn about **[Setting Up GoogleTest & GoogleMock](https://google.github.io/googletest/guides/getting-started-workflows/quickstart-setup.html)** for integrating into your project.
- Once comfortable, deepen your understanding with the **gMock Cookbook** at [docs/gmock_cook_book.md](https://google.github.io/googletest/gmock_cook_book.html) for advanced mocking techniques.
- Visit the **Mocking Reference** at [docs/reference/mocking.md](https://google.github.io/googletest/reference/mocking.html) for detailed API usage.

---

# Summary

This guide enables you to create, structure, and execute your first GoogleTest unit test to verify code correctness. You learn to use foundational assertion macros, compile tests, and validate your setup efficiently. Next, users can transition to mocking basics and integrating GoogleMock for more complex testing scenarios.

---

# Additional Resources

- [GoogleTest Primer](https://google.github.io/googletest/primer.html) - Learn test fundamentals.
- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) - Mocking basics.
- [Mocking Cookbook](https://google.github.io/googletest/gmock_cook_book.html) - Practical mocking patterns.
- [GoogleTest API Reference](https://google.github.io/googletest/reference/) - Detailed references.

---

# Key Links

- [Writing and Running Your First Test (this page)](/guides/getting-started-workflows/writing-your-first-test)
- [Quickstart Setup](https://google.github.io/googletest/guides/getting-started-workflows/quickstart-setup.html)
- [Getting Started with Mocks](https://google.github.io/googletest/guides/getting-started-workflows/mocking-basics.html)
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)

---

_With this foundation, you will rapidly onboard and unlock powerful modern testing with GoogleTest._