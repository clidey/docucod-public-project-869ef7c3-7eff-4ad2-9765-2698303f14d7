---
title: "Writing Your First Test Cases"
description: "Step-by-step tutorial for creating your first test cases with GoogleTest. Covers basic test structure, using assertions, and running tests. Includes practical examples to help teams get productive quickly."
---

# Writing Your First Test Cases with GoogleTest

Welcome to your first step into writing test cases with GoogleTest. This guide walks you through creating basic test cases, using assertions to validate behavior, and running tests efficiently. By the end, you'll have a practical grasp of how to build your initial tests, helping your team establish a reliable testing foundation quickly.

---

## 1. Overview of First Test Cases

**What This Guide Covers:**
- Creating simple test cases using the `TEST` macro
- Organizing tests with clear structure
- Employing basic assertions to verify outcomes
- Running tests and interpreting their results

**Prerequisites:**
- GoogleTest installed and configured (refer to [Installation via CMake](../getting-started/setup-and-installation/installation-via-cmake) or [Installation via Bazel](../getting-started/setup-and-installation/installation-via-bazel))
- A C++ project setup with GoogleTest include paths and linked libraries
- Familiarity with basic C++ syntax

**Expected Outcome:**
You will be able to write and run your first set of unit tests, understand the framework’s basic structure, and feel confident in verifying program behavior using GoogleTest assertions.

**Time Estimate:**
15-30 minutes

**Difficulty Level:**
Beginner

---

## 2. Writing Your First Test Cases: Step-by-Step

<Steps>
<Step title="Step 1: Include GoogleTest Header">
Start by including the necessary GoogleTest headers in your test source file.

```cpp
#include <gtest/gtest.h>
```

This header provides all essential definitions for writing and running tests.
</Step>
<Step title="Step 2: Define a Simple Test Case">
Use the `TEST` macro to declare a test case. The macro takes two parameters:
- Test suite name (grouping related tests)
- Test name (describes test intent)

Example:

```cpp
TEST(MathTest, AdditionWorks) {
  int sum = 2 + 2;
  EXPECT_EQ(sum, 4);  // Assert that sum equals 4
}
```

**What it does:**
- Sets up a test named `AdditionWorks` in the `MathTest` suite
- Checks that `2 + 2` equals 4 using an assertion
</Step>
<Step title="Step 3: Use Assertions to Validate Behavior">
Assertions are the core of testing. GoogleTest provides many, including:

- `EXPECT_EQ(val1, val2)`: Non-fatal check if `val1 == val2`
- `ASSERT_TRUE(condition)`: Fatal check if condition is true
- `EXPECT_NE(val1, val2)`: Check values are not equal
- `EXPECT_THROW(statement, exception_type)`: Check if statement throws an exception

Example with multiple assertions:

```cpp
TEST(StringTest, BasicComparisons) {
  std::string hello = "hello";
  EXPECT_EQ(hello.size(), 5);
  EXPECT_NE(hello, "world");
  ASSERT_TRUE(hello == "hello");
}
```

Use `EXPECT_` variants when you want tests to continue after failure and `ASSERT_` when failure means test should stop immediately.
</Step>
<Step title="Step 4: Group Tests Using Test Fixtures (Optional)">
For tests that share common setup or data, use `TEST_F` and define a test fixture class.

Example:

```cpp
class CalculatorTest : public ::testing::Test {
 protected:
  void SetUp() override {
    calculator = new Calculator();
  }

  void TearDown() override {
    delete calculator;
  }

  Calculator* calculator;
};

TEST_F(CalculatorTest, AddsNumbers) {
  EXPECT_EQ(calculator->Add(3, 4), 7);
}
```

Test fixtures help keep your tests DRY and organized.
</Step>
<Step title="Step 5: Build and Run Your Tests">
Make sure your build system links test files with `gtest` and `gtest_main` or provide your own `main()`.

Run the test binary:

```bash
./your_test_binary
```

Look for output indicating tests passed or failed. Here’s an example pass output:

```text
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from MathTest
[ RUN      ] MathTest.AdditionWorks
[       OK ] MathTest.AdditionWorks (0 ms)
[----------] 1 test from MathTest (0 ms total)
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```
</Step>
</Steps>

---

## 3. Practical Examples

### Example 1: Testing a Simple Function

Assuming you have a function:

```cpp
int Multiply(int a, int b) { return a * b; }
```

You can write a test:

```cpp
TEST(MathTest, MultiplyWorks) {
  EXPECT_EQ(Multiply(3, 4), 12);
  EXPECT_EQ(Multiply(-2, 5), -10);
  EXPECT_EQ(Multiply(0, 10), 0);
}
```

### Example 2: Test Fixture for a Class

```cpp
class Stack {
 public:
  void Push(int val);
  int Pop();
  bool IsEmpty() const;

 private:
  std::vector<int> data_;
};

class StackTest : public ::testing::Test {
 protected:
  Stack stack;
};

TEST_F(StackTest, StartsEmpty) {
  EXPECT_TRUE(stack.IsEmpty());
}

TEST_F(StackTest, CanPushAndPop) {
  stack.Push(10);
  EXPECT_FALSE(stack.IsEmpty());
  EXPECT_EQ(stack.Pop(), 10);
  EXPECT_TRUE(stack.IsEmpty());
}
```

### Example 3: Using Assertions for Error Handling

```cpp
TEST(DivisionTest, DivideByZeroThrows) {
  auto divide = [](int a, int b) {
    if (b == 0) throw std::invalid_argument("divide by zero");
    return a / b;
  };

  EXPECT_THROW(divide(10, 0), std::invalid_argument);
}
```

---

## 4. Troubleshooting & Tips

<AccordionGroup title="Common Issues When Writing Your First Tests">
<Accordion title="Tests Not Running or Detected">
Ensure your test target is linked with `gtest` and either links to `gtest_main` or provides a `main()` function. Check your build and execution command.
</Accordion>
<Accordion title="Failed Assertions But No Detailed Error">
Run your tests with verbose output: add `--gtest_verbose=info` to get more info.
</Accordion>
<Accordion title="Compilation Errors with MOCK_METHOD">
Confirm you are using `MOCK_METHOD` correctly and including `<gmock/gmock.h>` when writing mocks. See [Mocking Reference](../reference/mocking) for detailed syntax.
</Accordion>
</AccordionGroup>

<Tip>
Keep your first tests simple and isolated. Avoid writing multiple assertions in one test when exploring the framework.
</Tip>

<Tip>
Use descriptive test and test suite names to clarify test intent and simplify debugging.
</Tip>

<Tip>
If your tests depend on shared state, consider using test fixtures (`TEST_F`) to handle setup and teardown cleanly.
</Tip>

---

## 5. Next Steps & Related Content

- Explore [Writing Your First Unit Test](/getting-started/configuration-and-first-test/writing-your-first-unit-test) to deepen your understanding of test writing syntax.
- Learn about [Project Configuration](/getting-started/configuration-and-first-test/project-configuration) to manage build integration.
- Check the [Verifying Your Setup](/getting-started/configuration-and-first-test/verifying-your-setup) guide to ensure your environment is correct.
- For advanced testing techniques, visit the [Using Assertions Effectively](/guides/testing-techniques/advanced-assertions) page.
- If you want to create mocks and do interaction-based testing, see [Introduction to Mocking and GoogleMock](/guides/mocking-with-googlemock/introduction-to-mocking).

---

## Additional Resources

- GoogleTest Official Repository: [https://github.com/google/googletest](https://github.com/google/googletest)
- GoogleMock Explained in Depth: [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)

---

By following these clear steps and examples, you will start your journey with GoogleTest empowered to verify the correctness of your C++ code effectively.

---