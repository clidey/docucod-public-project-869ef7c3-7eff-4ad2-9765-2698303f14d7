---
title: "Writing Your First Test"
description: "Tutorial showing how to write and run your very first GoogleTest unit test, covering the basics of test syntax, main entry points, and interpreting output. Empowers users to validate their code with confidence from the start."
---

# Writing Your First Test

Welcome to your first step in writing and running unit tests with GoogleTest. This tutorial guides you through creating, compiling, and executing a simple test case, providing the foundation you need to confidently verify your C++ code.

---

## What This Guide Covers

This guide shows you how to:

- Write a basic test using the `TEST()` macro
- Understand the roles of test suites and test names
- Use simple assertions to verify behavior
- Run tests with the GoogleTest framework
- Interpret test output to quickly gauge success or failure

By the end, you'll be able to build and run your first test that exercises a sample function and outputs clear test results.

---

## Prerequisites

Before you begin, ensure you have completed the following:

- Installed and configured GoogleTest (see [Installation and Setup](/guides/getting-started/install-and-setup))
- A working C++17 development environment with a compiler supported by GoogleTest
- Familiarity with compiling and running C++ programs

If you haven't yet set up GoogleTest, visit the installation guide to smoothly prepare your environment.

---

## Expected Outcome

After following this tutorial, you will have:

- Created a minimal test program validating a simple function
- Compiled the test into an executable
- Successfully run the test harness and examined the test results

This foundation enables you to build increasingly complex tests to maintain your code quality.

---

## Estimated Time

Allow 10-20 minutes to write, compile, and run your first test.

---

# Step-by-Step Guide

<Steps>
<Step title="Create a Simple Function to Test">
Begin by defining a C++ function that your test will verify. For example, a basic factorial function:

```cpp
int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}
```

This function will be the subject of the unit tests you write next.
</Step>

<Step title="Write a Test Using TEST() Macro">
In your test source file (e.g., `factorial_test.cc`), include the GoogleTest header and write one or more tests using the `TEST()` macro.

```cpp
#include <gtest/gtest.h>

// Test that factorial of 0 is 1
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

// Test that factorial of positive numbers is computed correctly
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

- The first argument (`FactorialTest`) is the test suite name.
- The second argument is the test name.

Each test is an independent function that uses assertions to check correctness.
</Step>

<Step title="Implement main() to Run Tests">
Add the main entry point to initialize and run all tests:

```cpp
int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

**Tip:** You can skip writing your own `main()` by linking your test with `gtest_main` which provides it.
</Step>

<Step title="Build Your Test Program">
Compile your test source with the GoogleTest library. Example using g++ and CMake:

```bash
# Using g++ directly:
g++ -std=c++17 factorial_test.cc -lgtest -lpthread -o factorial_test

# Using CMake, ensure you link against GoogleTest targets as described in Installation guide.
```

Ensure your build system compiles and links correctly to generate the test executable.
</Step>

<Step title="Run Your Tests and Interpret Output">
Execute your built test executable:

```bash
./factorial_test
```

Sample output on success:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)

[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

If tests fail, GoogleTest provides clear failure messages including:
- Which assertion failed
- Expected vs actual values
- Source file and line number

Use this information to quickly identify bugs.
</Step>
</Steps>

---

## Understanding Key Concepts

- **Test Suites and Tests:** Tests grouped logically by the first `TEST()` parameter to organize your tests.
- **Assertions:** Use `EXPECT_*` macros to verify conditions. Failures do not abort tests, so multiple failures can be reported.
- **Test Independence:** Each test runs independently with no shared fixture (this will be covered in more advanced guides).
- **Test Execution Flow:** GoogleTest automatically discovers and executes all tests on running your test binary.

---

## Troubleshooting Common Issues

<AccordionGroup title="Common Problems Running Your First Test">
<Accordion title="1. Tests Not Running or Zero Tests Reported">
- Verify all tests are linked correctly.
- Make sure you called `InitGoogleTest` and `RUN_ALL_TESTS()` in `main`.
- Check your build system for missing GoogleTest libraries.
</Accordion>
<Accordion title="2. Compiler Errors from GoogleTest Headers">
- Confirm C++17 or higher is enabled.
- Ensure GoogleTest headers are correctly included with proper include paths.
- Verify compiler compatibility supported by GoogleTest.
</Accordion>
<Accordion title="3. Tests Always Pass or Fail Unexpectedly">
- Double-check your assertion conditions.
- Inspect the logic in the code under test.
- Try running tests with `--gtest_verbose=info` for detailed output.
</Accordion>
<Accordion title="4. Linking Errors for gtest Symbols">
- Confirm you linked to the `gtest` or `gtest_main` libraries.
- In CMake, use `find_package(GTest)` and link target properly.
</Accordion>
</AccordionGroup>

---

## Best Practices for First Tests

- Keep your tests **small** and focus on verifying one behavior at a time.
- Use descriptive **test suite** and **test names** to make test logs easy to understand.
- Prefer `EXPECT_*` over `ASSERT_*` unless failure is critical to stop.
- Use the built-in GoogleTest runners and command-line flags to run and filter tests.
- Review failed tests carefully to pinpoint and fix errors quickly.

---

## Next Steps

After you have mastered writing and running your first test, explore the following for more advanced capabilities:

- [Writing Effective Assertions](/guides/core-workflows/writing-assertions) to improve test expressiveness
- [Using Test Fixtures](/guides/core-workflows/using-fixtures) for shared setup and teardown
- [Organizing and Running Tests](/guides/getting-started/organizing-tests) for managing test groups
- [Using GoogleMock for Mocking Dependencies](gmock_for_dummies.md) to isolate units under test
- [Debugging Test Failures and Test Output Customization](/guides/integration-and-best-practices/debugging-and-output)

Combine these skills to build a robust, maintainable test suite that accelerates your development lifecycle with confidence.

---

## Additional Resources

- [GoogleTest Primer](docs/primer.md) — detailed introduction for beginners
- [Installation and Setup Guide](/guides/getting-started/install-and-setup) — ensure your environment is ready
- [Your First Test: Quickstart Sample](/getting-started/quickstart-and-troubleshooting/quickstart-example) — a minimal hands-on example
- [Troubleshooting Common Issues](/getting-started/quickstart-and-troubleshooting/troubleshooting-validation) — helpful problem resolutions
- [GoogleMock for Dummies](docs/gmock_for_dummies.md) — to advance mocking skills

---

## Summary

Beginning your journey with GoogleTest starts by building simple, clearly named tests using the `TEST()` macro. Compiling and running these tests through the GoogleTest framework lets you verify your code behavior with instant feedback and ease.

Start by creating a test program, running `RUN_ALL_TESTS()`, and reading concise test output. This first success paves the way to writing maintainable, scalable test suites that improve code quality and developer productivity.

Dive deeper into assertion styles, fixtures, test organization, and mocking next to unlock the full power of GoogleTest.

---

Stay confident and proactive as you verify your code with GoogleTest, one passing test at a time!
