---
title: "Writing and Running Your First Test"
description: "A hands-on walkthrough creating your initial test case using GoogleTest. Covers test discovery, basic assertions, and running tests from the command line or IDE. Suitable for those new to the xUnit paradigm."
---

# Writing and Running Your First Test

A practical guide to help you create and execute your very first test case using GoogleTest. This tutorial covers the process of writing a basic test, understanding its structure, running it from the command line or an IDE, and interpreting the test results. It is designed for users new to the xUnit testing model and GoogleTest framework.

---

## Workflow Overview

- **Task Description:** Create, compile, and run a simple test case using GoogleTest, to establish a foundation for automated unit testing in C++.
- **Prerequisites:**
  - A working C++ development environment (compiler and build tools).
  - GoogleTest library installed and available for linking.
  - Basic familiarity with C++ programming.

- **Expected Outcome:**
  - A compiled test executable that runs a test case.
  - Understanding of GoogleTest's `TEST` macro and test lifecycle.
  - Ability to run tests and interpret output, including pass/fail indications.

- **Time Estimate:** 10-20 minutes
- **Difficulty Level:** Beginner

---

## Step-by-Step Instructions

### 1. Prepare Your Environment

Ensure you have the GoogleTest framework built and ready to link with your project. If you haven't installed or built it yet, consult the installation guide specific to your platform.

### 2. Write Your First Test

Create a new C++ source file named `first_test.cc` (or any descriptive name).

Use the following example as a starting point:

```cpp
#include <gtest/gtest.h>

// Define a simple test case named ExampleTest with the test name SimpleCheck.
TEST(ExampleTest, SimpleCheck) {
  // Use an assertion to verify a condition.
  EXPECT_EQ(1 + 1, 2);  // Succeeds if 1 + 1 equals 2.
}
```

**Explanation:**
- The `TEST` macro defines a test function named `SimpleCheck` in the test suite `ExampleTest`.
- `EXPECT_EQ` checks for equality between the two values and reports a failure if they do not match.

### 3. Compile Your Test

Use your build system or compile commands to compile the test file with GoogleTest linked. Example with `g++`:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include -pthread \
    first_test.cc /path/to/libgtest.a /path/to/libgtest_main.a -o first_test
```

Replace `/path/to/googletest/include` and library paths with your installation locations.

**Note:** Linking with `libgtest_main.a` provides a main() function that runs all tests.

### 4. Run the Test Executable

Execute the compiled test binary:

```bash
./first_test
```

You should see output similar to:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.SimpleCheck
[       OK ] ExampleTest.SimpleCheck (0 ms)
[----------] 1 test from ExampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This means your test passed successfully.

### 5. Analyze Test Results

- If the test passes, assertions succeeded and the output displays `[  PASSED  ]`.
- If a test fails, GoogleTest will show detailed messages, including:
  - The source file and line number of the failure.
  - The expected vs actual values.
  - A failure message.

### 6. Next Steps

- Expand your tests by writing more `TEST` cases.
- Learn about test fixtures to share common test setup.
- Explore assertions beyond `EXPECT_EQ` for more thorough testing.
- Consult the GoogleTest Primer for comprehensive learning.

---

## Best Practices and Tips

- **Name tests carefully:** Use descriptive, concise names avoiding underscores (`_`) to prevent internal naming conflicts.
- **Assertions:** Use `EXPECT_*` for non-fatal checks; prefer `ASSERT_*` when failure should stop the test early.
- **Test Isolation:** Each `TEST` defines an independent test function; GoogleTest runs them separately to ensure independence.
- **Return Value:** Always return `RUN_ALL_TESTS()` result from `main` or use `libgtest_main.a` to avoid false positive success.
- **Suppress Warnings:** To silence uninteresting call warnings with mocks (when applicable), use the right mock types (`NiceMock`).

---

## Troubleshooting

<Tip>
If your test executable doesn't link:
- Verify that GoogleTest libraries and headers are correctly included and linked.
- Ensure your compiler uses C++17 or later.
</Tip>

<Tip>
If tests donâ€™t run or produce no output:
- Check that you have a `main` function either by linking with `gtest_main` or providing your own.
- Make sure `testing::InitGoogleTest(&argc, argv);` is called before `RUN_ALL_TESTS()`.
</Tip>

<Warning>
Avoid ignoring the return value of `RUN_ALL_TESTS()`. It correctly indicates if tests passed or failed. Ignoring it may mask test failures.
</Warning>

---

## Example Summary

```cpp
#include <gtest/gtest.h>

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(1, 1);  // Simple assertion example.
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run this to verify your setup.

---

## Further Resources

- [GoogleTest Primer](../primer.md): In-depth introduction to writing tests.
- [Assertions Reference](../reference/assertions.md): Details on all assertion macros.
- [Running Tests & Test Output](../advanced.md#running-tests): How to run and filter tests.
- [Writing Fixtures](../primer.md#same-data-multiple-tests): Sharing setup code between tests.

---

Start small, write meaningful tests, and gradually build your suite to ensure code quality and reliability.