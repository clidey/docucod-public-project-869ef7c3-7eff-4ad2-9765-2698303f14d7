---
title: "GoogleTest Primer: Your First Unit Tests"
description: "A beginner-friendly guide introducing key concepts: test cases, test fixtures, assertions, and running test suites. Walks through the workflow of writing and executing first tests using GoogleTest."
---

# GoogleTest Primer: Your First Unit Tests

## Introduction

Welcome to GoogleTest Primer, your beginner-friendly guide to writing and running your first unit tests using GoogleTest. This guide walks you through essential concepts—test cases, test fixtures, assertions—and shows you the step-by-step workflow to create and execute tests effectively.

Whether you are new to testing or just new to GoogleTest, this primer will set you up to start verifying your code with confidence.

---

## 1. Understanding the Basics

### What This Guide Helps You Accomplish

This guide empowers you to:
- Write simple, clear unit tests using GoogleTest macros.
- Use test fixtures to share common setup among multiple tests.
- Apply assertions to verify expected behavior.
- Run your tests and interpret results.

### Prerequisites

Before you start:
- Ensure GoogleTest is installed and configured in your development environment. Refer to the [Installation Guide](../getting-started/setup-and-installation/installation-guide).
- Have a C++ project with at least one class or function to test.
- Basic understanding of C++ syntax and function declarations.

### Expected Outcome

By the end of this guide, you will have written several unit tests that run successfully, demonstrating core GoogleTest capabilities.

### Time Estimate

15–30 minutes for writing and running your first test suite.

### Difficulty Level

Beginner

---

## 2. Writing Your First Test Case

Tests in GoogleTest are defined with the `TEST` macro. Each test has two identifiers:
- **Test Suite Name**: groups related tests logically.
- **Test Name**: identifies the specific test.

### Simple Test Example

```cpp
#include <gtest/gtest.h>

// Function to test
int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n - 1);
}

// Test case
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

### How It Works
- `TEST(FactorialTest, HandlesPositiveInput)` declares a test function.
- `EXPECT_EQ` assertions verify expected results.
- Tests in the same suite share the suite name (`FactorialTest`).

### Running the Tests

In your test `main()`, initialize and run all tests:

```cpp
int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run the test executable. The framework auto-discovers and executes all tests.

---

## 3. Using Test Fixtures: Sharing Setup Across Tests

When you have multiple tests needing the same setup, define a *test fixture* by subclassing `testing::Test`.

### Fixture Definition Example

```cpp
class QueueTest : public ::testing::Test {
 protected:
  void SetUp() override {
    // Set up fresh queue before each test
    q_.Enqueue(1);
    q_.Enqueue(2);
  }

  Queue<int> q_;
};
```

### Writing Tests Using Fixtures

Replace `TEST` with `TEST_F` and specify the fixture class name:

```cpp
TEST_F(QueueTest, IsInitiallyNonEmpty) {
  EXPECT_EQ(q_.size(), 2);
}

TEST_F(QueueTest, DequeueReturnsCorrectValues) {
  int* item = q_.Dequeue();
  ASSERT_NE(item, nullptr);
  EXPECT_EQ(*item, 1);
  delete item;
}
```

### Fixture Workflow

- A new fixture instance is created for each test.
- `SetUp()` runs before each test method.
- `TearDown()` can be overridden similarly to clean up.

---

## 4. Assertions: Verifying Your Code

Assertions are the heart of tests. GoogleTest provides macros to check conditions.

### Common Assertions

| Macro         | Purpose                             |
| ------------- | --------------------------------- |
| `EXPECT_EQ(a, b)` | Check if `a == b`                  |
| `EXPECT_NE(a, b)` | Check if `a != b`                  |
| `EXPECT_TRUE(cond)` | Check if condition `cond` is true |
| `EXPECT_FALSE(cond)` | Check if condition `cond` is false|
| `ASSERT_*`       | Like `EXPECT_*` but aborts the test when failure occurs |

### Assertion Example

```cpp
EXPECT_EQ(Factorial(3), 6);
ASSERT_NE(ptr, nullptr) << "Pointer should not be null";
EXPECT_TRUE(value > 0);
```

Use assertions to clearly document the intended expected behavior.

---

## 5. Running and Exploring Your Tests

### Running Tests

After building your test program, run it from the command line. It will execute all registered tests.

You can use flags to run specific tests:

```sh
./my_tests --gtest_filter=FactorialTest.*
```

To run a single test:

```sh
./my_tests --gtest_filter=FactorialTest.HandlesZeroInput
```

### Interpreting Output

The framework reports:
- Number of tests run
- Which tests passed or failed
- Failure messages with source file and line number

Example failure output:

```
[ RUN      ] FactorialTest.HandlesZeroInput
my_test.cc:12: Failure
Expected equality of these values:
  Factorial(0)
    Which is: 0
  1
[  FAILED  ] FactorialTest.HandlesZeroInput (0 ms)
```

This helps you quickly locate issues.

---

## 6. Best Practices & Tips

- **Keep tests small and focused.** Each test should verify one behavior.
- **Name tests descriptively.** Use clear suite and test names reflecting intent.
- **Use fixtures when multiple tests share setup.** Avoid duplicating setup code.
- **Prefer `EXPECT_*` to allow multiple assertions per test, but use `ASSERT_*` when continuing after failure is unsafe.**
- **Run tests frequently during development** to catch regressions early.
- **For complex verifications, consider matchers and parameterized tests.** Refer to the [Matchers Reference](../api-reference/gtest-core-api/assertions-reference).

<div>
If you hit compilation or linking issues, verify your GoogleTest setup and include paths. See the [Installation Guide](../getting-started/setup-and-installation/installation-guide) for troubleshooting.
</div>

---

## 7. Troubleshooting Common Issues

| Problem                         | Solution                           |
| -------------------------------| ---------------------------------|
| Tests don't run or executable missing | Ensure test files include `<gtest/gtest.h>` and that you link with gtest or gtest_main |
| Compilation errors with `TEST` or `TEST_F` | Make sure the GoogleTest headers are correctly included and namespaces used |
| Assertion failures | Read error messages carefully; verify expected vs actual values; isolate failures with focused tests |
| Assertion macro does not compile | Check syntax, especially parentheses and macro arguments |

---

## 8. Next Steps & Related Content

- **Explore writing your first mock class and expectations with [Mocking Basics with GoogleMock](../guides/real-world-workflows/mocking-basics).**
- **Learn to run tests with advanced options in [Running Tests](../getting-started/first-test-and-validation/running-tests).**
- **Understand core testing concepts in [Core Concepts & Terminology](../overview/intro-core-concepts/core-concepts-terminology).**
- **Dive into writing richer assertions in [Mastering Assertions and Matchers](../guides/real-world-workflows/assertion-best-practices).**

---

## References

- [GoogleTest Primer (this guide)](primer.md)
- [Writing Your First Test](../getting-started/first-test-and-validation/writing-your-first-test)
- [Installation Guide](../getting-started/setup-and-installation/installation-guide)
- [Assertions Reference](../api-reference/gtest-core-api/assertions-reference)
- [Mocking Basics](../guides/real-world-workflows/mocking-basics)

---

Start your journey with small, practical tests and build from there. GoogleTest empowers you to write maintainable, reliable tests that improve your code quality.

Happy Testing!