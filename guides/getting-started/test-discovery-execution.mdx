---
title: "Test Discovery and Execution Workflow"
description: "Learn how GoogleTest automatically discovers and executes tests, including naming conventions, running specific tests and test suites, command-line options, and interpreting test output. This guide enables users to efficiently manage and run their growing test suites."
---

# Test Discovery and Execution Workflow

## Overview

This guide provides a clear, actionable walkthrough on how GoogleTest automatically discovers tests in your codebase, executes them, and reports results. You will learn the fundamental naming conventions for test suites and test cases, how to run all or specific tests, useful common command-line options, and how to interpret the output. By following this guide, you'll efficiently manage and run your growing test suites with confidence.

---

## Prerequisites

- GoogleTest must be installed and properly configured in your project.
- Your tests should be compiled into an executable linked with GoogleTest (usually with `gtest_main` or a custom `main()` function).
- Familiarity with basic test writing in GoogleTest (see the [Writing Your First Test](../getting-started/first-steps-usage/writing-running-first-test) guide).

---

## Expected Outcome

By completing this workflow, you will be able to:

- Understand and follow GoogleTest test naming conventions for discovery.
- Run all or selected tests from the command line efficiently.
- Use command-line flags to customize test execution.
- Interpret the detailed test output with clarity.
- Troubleshoot common issues in test discovery and execution.

---

## Time Estimate

About 10â€“15 minutes for a basic grasp and execution, more as you explore advanced filtering and output options.

---

## Difficulty Level

Beginner to Intermediate

---

## 1. Understanding Test Discovery in GoogleTest

GoogleTest performs automatic discovery of tests in your test executable. This means that you don't need to explicitly list your tests to run them.

### How It Works

- Tests are registered when compiled with GoogleTest macros like `TEST()` and `TEST_F()`.
- Each test belongs to a **test suite** (previously called test case).
- GoogleTest discovers all tests when your test program starts.

### Naming Conventions

- Test Suite Names and Test Names must be valid C++ identifiers (alphanumeric and underscores, no spaces or special characters).
- They should be descriptive to clarify the functionality tested.
- Avoid underscores in test names if possible for readability and tooling compatibility.

### Example

```cpp
TEST(MathUtils, FactorialOfZero) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST_F(DatabaseTest, ConnectsSuccessfully) {
  EXPECT_TRUE(db.Connect());
}
```

**What Happens**: `FactorialOfZero` test in the `MathUtils` suite and `ConnectsSuccessfully` in `DatabaseTest` suite are automatically discovered.

---

## 2. Running Tests

### Running All Tests

Simply run your test executable with no arguments:

```shell
./my_tests
```

This runs all discovered tests and summarizes the results.

### Running Specific Tests

Use the `--gtest_filter` flag to select which tests to run.

**General Syntax:**

```
--gtest_filter=<pattern>
```

- You can provide wildcard patterns using `*`
- Patterns have the format `<TestSuite>.<TestName>`
- Use colons `:` to separate multiple patterns

**Examples:**

- Run all tests in `MathUtils`:
  ```shell
  ./my_tests --gtest_filter=MathUtils.*
  ```

- Run only the `ConnectsSuccessfully` test in `DatabaseTest`:
  ```shell
  ./my_tests --gtest_filter=DatabaseTest.ConnectsSuccessfully
  ```

- Run all tests except those starting with `Slow`:
  ```shell
  ./my_tests --gtest_filter=-*.Slow*
  ```

---

## 3. Useful Command-Line Options

| Option                       | Purpose                                                   |
|------------------------------|-----------------------------------------------------------|
| `--gtest_list_tests`         | Lists all tests without executing them                     |
| `--gtest_filter=`            | Runs only tests matching the pattern                       |
| `--gtest_repeat=N`           | Runs all tests N times (useful for catching flaky tests)  |
| `--gtest_shuffle`            | Randomizes test order                                     |
| `--gtest_output=xml[:path]` | Outputs test result in XML format, optionally at `path`    |
| `--gtest_break_on_failure`   | Breaks into debugger on first failed assertion             |
| `--gtest_catch_exceptions=0` | Disables exception catching by GoogleTest                  |

### Examples

- List all tests:
  ```shell
  ./my_tests --gtest_list_tests
  ```

- Repeat tests 5 times:
  ```shell
  ./my_tests --gtest_repeat=5
  ```

- Save XML result for CI integration:
  ```shell
  ./my_tests --gtest_output=xml:results.xml
  ```

---

## 4. Interpreting Test Output

Running tests prints progress and results to the console with details about each test suite and test.

### Typical Output Example

```shell
[==========] Running 5 tests from 2 test suites.
[----------] Global test environment set-up.
[----------] 3 tests from MathUtils
[ RUN      ] MathUtils.FactorialReturnsOneForZero
[       OK ] MathUtils.FactorialReturnsOneForZero (0 ms)
[ RUN      ] MathUtils.FactorialIsPositive
[  FAILED  ] MathUtils.FactorialIsPositive (1 ms)
[ RUN      ] MathUtils.FactorialOfNegative
[       OK ] MathUtils.FactorialOfNegative (0 ms)
[----------] 3 tests from MathUtils (1 ms total)

[----------] 2 tests from DatabaseTest
[ RUN      ] DatabaseTest.ConnectsSuccessfully
[       OK ] DatabaseTest.ConnectsSuccessfully (10 ms)
[ RUN      ] DatabaseTest.FailsToConnectWithBadCredentials
[       OK ] DatabaseTest.FailsToConnectWithBadCredentials (2 ms)
[----------] 2 tests from DatabaseTest (12 ms total)

[==========] 5 tests from 2 test suites ran. (13 ms total)
[  PASSED  ] 4 tests.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] MathUtils.FactorialIsPositive

 1 FAILED TEST
```

### Key Points

- Tests are run suite by suite
- `[ RUN ]` marks a test is about to run
- `[ OK ]` marks a successful test
- `[ FAILED ]` marks a failed test with a summary
- Final summary gives the total run count, passed and failed

### If a Test Fails

- GoogleTest prints the failure location in your source code
- Assertion and error messages explaining failures
- Use this info to debug the test failure

---

## 5. Best Practices & Tips

- **Name Tests Descriptively:** Use meaningful test suite and test names so that failures are easy to diagnose.
- **Use Wildcards in Filters:** Leverage `*` to simplify running related test groups.
- **Combine Filters:** Separate multiple filters with `:` to run multiple sets easily.
- **Repeat Tests:** Use `--gtest_repeat` to identify flaky tests.
- **Run Tests in Random Order:** Use `--gtest_shuffle` to detect order dependencies.
- **Output XML for CI:** Use `--gtest_output=xml` to generate results consumable by CI systems.
- **Catch Exceptions:** By default, GoogleTest catches exceptions but adjust with `--gtest_catch_exceptions` as needed.

---

## 6. Troubleshooting Common Issues

<AccordionGroup title="Test Discovery and Execution Troubleshooting">
<Accordion title="No Tests Run - What Could Be Wrong?">
If your test executable runs but reports `0 tests run`, check:
- Have you defined tests using the correct macros like `TEST` or `TEST_F`?
- Is your test executable linked against the GoogleTest library?
- Did your test executable include the correct headers (`<gtest/gtest.h>`)?
- Are test suite and test names valid C++ identifiers?
- Did the `main` function properly call `testing::InitGoogleTest(&argc, argv);` before `RUN_ALL_TESTS()`?
</Accordion>
<Accordion title="Filtering Runs All or No Tests">
- Ensure your `--gtest_filter` argument is correct and matches existing tests.
- `--gtest_filter=` accepts wildcard `*`. For example, `--gtest_filter=MySuite.*`.
- Patterns are case-sensitive.
- Use negative filters with `-` prefix to exclude specific tests.
</Accordion>
<Accordion title="Interpreting Failure Output">
- GoogleTest prints the source file path and line number where a test failed.
- Check the assertion message for insight.
- Use the test name to find related test code easily.
- Run with `--gtest_break_on_failure` to enter debugger on failure.
</Accordion>
</AccordionGroup>

---

## 7. Next Steps & Related Content

- After mastering test discovery and execution, explore writing your first test in the [Writing Your First Test](../getting-started/first-steps-usage/writing-running-first-test) guide.
- Improve test organization using Test Fixtures in the [GoogleTest Primer](../docs/primer.md).
- Learn about mocking and effective test doubles in the [gMock for Dummies](../docs/gmock_for_dummies.md) and the [Mocking Reference](../reference/mocking.md).
- Troubleshoot common issues in the [Troubleshooting Setup Issues](../getting-started/first-steps-usage/troubleshooting-setup) guide.

---

## Summary

GoogleTest's automatic test discovery and flexible execution controls enable scalable testing workflows. Mastering the command-line options, especially test filtering and output customization, allows developers to efficiently run targeted tests and integrate testing into CI pipelines.

For advanced usage, consider exploring sequence and ordering control, and integration with other tools and build systems.

---