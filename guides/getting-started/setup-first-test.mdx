---
title: "Setting Up and Running Your First Test"
description: "Learn how to install GoogleTest, configure your build environment, and write, build, and execute your first test case. This guide covers step-by-step instructions to initialize your development setup and helps you validate your first success with GoogleTest. You'll come away knowing how to verify code behavior using basic assertions."
---

# Setting Up and Running Your First Test

Welcome to your first step in verifying C++ code behavior with GoogleTest. This guide walks you through installing GoogleTest, configuring your build environment, writing your first simple test case, building your test executable, and running it to confirm everything works as expected. By following these steps, you will gain confidence in using GoogleTest's basic features and lay the foundation for more advanced testing.

---

## 1. Workflow Overview

### What This Guide Helps You Accomplish
You will learn how to:

- Install and set up GoogleTest in your development environment
- Write a basic test using GoogleTest's `TEST()` macro
- Build your test executable with your build system (using CMake recommended)
- Run your first test and interpret the results

### Prerequisites

- A C++ development environment with a compiler (GCC/Clang/MSVC)
- Basic familiarity with compiling and running C++ programs
- (Optional) CMake build system for easy GoogleTest integration

### Expected Outcome

- A working GoogleTest installation
- A compiled test executable with your first simple test
- Confirmation that your test ran successfully

### Time Estimate

Expect to spend 15-30 minutes completing this workflow.

### Difficulty Level

Beginner-friendly with no prior experience with GoogleTest required.

---

## 2. Step-by-Step Instructions

<Steps>
<Step title="Step 1: Install GoogleTest">
GoogleTest is typically included as a submodule in your project or fetched using your build system. The preferred way is to clone GoogleTest and build it as a standalone or incorporate it into your build.

**Standalone Build with CMake:**

```bash
# Clone specific stable release
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
mkdir build
cd build
cmake ..
make
sudo make install  # Optional: installs headers/libs system-wide
```

This process builds GoogleTest and GoogleMock libraries ready for linking.

**Tip:** Ensure your compiler supports C++17 as required by GoogleTest.

</Step>
<Step title="Step 2: Create Your First Test Source File">
Create a C++ source file, e.g., `first_test.cpp`, containing a basic GoogleTest test case:

```cpp
#include <gtest/gtest.h>

// Simple function to test
int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}

// Define a test suite and a test within it
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This code defines two test cases checking the correctness of a Factorial function using `EXPECT_EQ` assertions.

</Step>
<Step title="Step 3: Build Your Test Executable">
Use your build system to compile and link your test program with GoogleTest libraries.

**Example with CMake:**

Create a `CMakeLists.txt` file:

```cmake
cmake_minimum_required(VERSION 3.14)
project(FirstTest)

# Enable testing
enable_testing()

# Find GoogleTest package (assuming installed system-wide or as submodule)
find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})

add_executable(first_test first_test.cpp)

# Link GoogleTest libraries
target_link_libraries(first_test ${GTEST_LIBRARIES} pthread)

# Register the test
add_test(NAME FirstTest COMMAND first_test)
```

Then build and run:

```bash
mkdir build && cd build
cmake ..
make
./first_test
```

**Note:** On Windows or other platforms, adapt commands accordingly and ensure GoogleTest is correctly linked.

</Step>
<Step title="Step 4: Run Your Tests and Review Output">
When executing `./first_test`, GoogleTest runs all registered tests and reports results in the console:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

Your tests passed successfully.

If any test fails, GoogleTest will print detailed diagnostic messages including the source line of failure.

</Step>
</Steps>

---

## 3. Examples & Code Samples

Here is a simple example test file that you can copy and adapt:

```cpp
#include <gtest/gtest.h>

int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This shows basic assertions and test structure using GoogleTest macros `TEST()`, `EXPECT_EQ()`, and the required calls to initialize and run tests.

---

## 4. Troubleshooting & Tips

### Common Issues

- **`gtest/gtest.h` Not Found:**
  Ensure GoogleTest headers are installed or accessible in your include path.

- **Linker Errors:**
  Confirm you link with `gtest` and `pthread` (on Unix-like systems).

- **Compiler Errors About C++ Version:**
  GoogleTest requires C++17. Configure your compiler accordingly (e.g., `-std=c++17`).

- **Tests Do Not Run or Are Skipped:**
  Check your `main()` calls `RUN_ALL_TESTS()` after `InitGoogleTest()`.

### Best Practices

- Always **check the return value** of `RUN_ALL_TESTS()` and return it from `main()`. This is crucial for CI integration.

- Use `EXPECT_*` assertions when you want tests to continue after failure to gather more errors.

- Use `ASSERT_*` assertions to abort when continuing would cause undefined behavior.

### Performance Considerations

- Keep tests small and independent to allow fast, parallelizable test runs.

- Use test fixtures and shared setup only when needed.

---

## 5. Next Steps & Related Content

### What's Next?

- Learn how to write **test fixtures** using `TEST_F()` for sharing setup among tests.

- Explore **assertion macros** in depth to handle various data types and conditions.

- Investigate using GoogleMock for **mocking dependencies** in your tests.

### Related Guides & Documentation

- [GoogleTest Primer](primer.md) — Comprehensive introduction to test writing.
- [Writing and Structuring Basic Tests](writing-basic-tests.md) — Best practices for organizing tests.
- [Assertions and Fundamental Test Patterns](assertions-guide.md) — Detailed assertion usage.
- [Installing and Configuring GoogleTest](getting-started/setup-basics/installation.md) — Setup details.

### Resources

- GoogleTest GitHub repository: https://github.com/google/googletest
- GoogleTest Official Documents: https://google.github.io/googletest/

---

<Tip>
Following this guide ensures a solid first experience with GoogleTest that builds the foundation for reliable and maintainable C++ testing. Running your first tests successfully is a critical milestone towards robust software quality.
</Tip>

<Check>
Ensure your development environment supports C++17 or later.
</Check>

<Check>
Confirm linking against `gtest` and pthread (where applicable) to avoid runtime errors.
</Check>
