---
title: "Writing Your First Test"
description: "Follow a practical walkthrough for creating your first test case using GoogleTest, from initial assertions to running the test suite. Designed for immediate hands-on results, this guide demystifies the framework's syntax and primary workflow."
---

# Writing Your First Test with GoogleTest

## Introduction
Welcome to your first hands-on journey with GoogleTest, the leading C++ testing framework. This guide walks you through creating a simple test case from writing assertions to compiling and running your tests. Designed for immediate practical results, you'll understand GoogleTest's basic syntax and workflow, empowering you to build robust and maintainable tests.

---

## Workflow Overview

### What You'll Accomplish
By following this guide, you will write, build, and run your first test case using GoogleTest. You'll become familiar with the syntax for basic assertions, test naming conventions, and interpreting test results.

### Prerequisites
- A C++ development environment with a compiler that supports C++11 or later.
- GoogleTest and GoogleMock installed or integrated into your project. For installation instructions, see the [Setting Up and Installing GoogleTest guide](/guides/getting-started/setup-installation).
- Basic familiarity with compiling and running C++ programs.

### Expected Outcome
- Successfully writing a GoogleTest test that evaluates the behavior of a simple function.
- Understanding how to run GoogleTest tests using `RUN_ALL_TESTS()`.
- Reading and interpreting test output to verify test success or failure.

### Time Estimate
Approximately 10 to 15 minutes.

### Difficulty
Beginner

---

## Step-by-Step Instructions

### 1. Write a Simple Function to Test
Before creating a test case, you need a function to test. For example, let's write a simple factorial function:

```cpp
int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n - 1);
}
```

This function calculates the factorial of a non-negative integer recursively.

### 2. Create Your First GoogleTest Test Case
In a new `.cc` source file, include GoogleTest headers and write your test:

```cpp
#include <gtest/gtest.h>

// Tests that Factorial() computes correct results for zero and positive inputs.
TEST(FactorialTest, ComputesCorrectValues) {
  EXPECT_EQ(Factorial(0), 1);  // Factorial of 0 is 1
  EXPECT_EQ(Factorial(1), 1);  // Factorial of 1 is 1
  EXPECT_EQ(Factorial(2), 2);  // Factorial of 2 is 2
  EXPECT_EQ(Factorial(3), 6);  // Factorial of 3 is 6
  EXPECT_EQ(Factorial(8), 40320);  // Factorial of 8 is 40320
}
```

- The `TEST` macro defines a test with two parameters: the test suite name `FactorialTest` and the test name `ComputesCorrectValues`.
- `EXPECT_EQ` asserts that the first argument equals the second. Failures are reported non-fatally, allowing the test to continue.

### 3. Write Your Main Function to Run Tests
GoogleTest provides a default main function in its `gtest_main` library, so you usually don't need to write one. However, if you want custom behavior or do not link with `gtest_main`, add:

```cpp
int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);  // Initializes GoogleTest
  return RUN_ALL_TESTS();  // Runs all tests and returns the result
}
```

### 4. Compile Your Test
Compile the test source files and link against GoogleTest and GoogleMock. For example, using `g++` and CMake, commands may look like:

```bash
# Using CMake
mkdir build && cd build
cmake ..
make
# Or using g++ directly

g++ -std=c++11 -isystem /path/to/googletest/include -pthread \
    test_file.cc /path/to/libgtest.a /path/to/libgmock.a \
    -o test_program
```

Refer to [Configuring GoogleTest in Your Project](/getting-started/prerequisites-installation/configuration-setup) for detailed build integration.

### 5. Run Your Test Program
Execute the compiled test binary in your terminal or IDE:

```bash
./test_program
```

The output will display the test results:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from FactorialTest
[ RUN      ] FactorialTest.ComputesCorrectValues
[       OK ] FactorialTest.ComputesCorrectValues (0 ms)
[----------] 1 test from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

A passing test outputs `[  PASSED  ]` along with summaries. If an assertion fails, details including file and line number help you identify the failure.

---

## Best Practices & Tips

- **Name Your Tests Clearly:** Test suite and test names should reflect what is being tested and the expected behavior, respectively.
- **Use `EXPECT_*` for Continued Tests:** Prefer `EXPECT_*` assertions so tests run all checks even if some fail.
- **Use `ASSERT_*` When Needed:** Use `ASSERT_*` if failure should prevent subsequent test steps (e.g., if dereferencing pointers).
- **Organize Tests into Suites:** Group logically related tests under a common test suite.
- **Keep Tests Small and Focused:** Each test should verify one behavior or aspect.
- **Use Test Fixtures (`TEST_F`)** when sharing common setup or data among tests.

---

## Troubleshooting

### Tests Don't Run or Output Is Empty
- Ensure you call `RUN_ALL_TESTS()` in `main`.
- Confirm tests are linked into your executable.

### Compilation Errors
- Verify GoogleTest include paths and library linking.
- Match compiler versions with GoogleTest's supported standards.

### Assertion Failures
- Review failure messages for mismatched expected vs. actual values.
- Use verbose flags to get detailed stack traces if needed.

### GoogleTest Not Found
- Follow installation and configuration steps at [Setting Up and Installing GoogleTest](/guides/getting-started/setup-installation).

---

## Next Steps

Once you're comfortable running your first test, consider:

- Writing parameterized tests for more comprehensive coverage.
- Using test fixtures to share setup code.
- Exploring advanced assertions and matchers in GoogleTest (see [Assertion Macros](/api-reference/core-testing-apis/assertion-macros)).
- Integrating mocks with GoogleMock for testing interaction patterns (see [Using Mocks: Patterns and Best Practices](/guides/mocking-and-advanced-techniques/using-mocks)).

---

## Additional Resources

- [GoogleTest Primer](docs/primer.md): Comprehensive introduction and examples.
- [Writing & Running Your First Test](getting-started/first-steps-usage/writing-running-first-test.mdx): Official quickstart.
- [Mocking Reference](docs/reference/mocking.md): Learn how to create and configure mocks.
- [Test Discovery and Execution Workflow](/guides/getting-started/test-discovery-execution): Understand how tests are found and run.

---

Happy Testing with GoogleTest!

---
