---
title: "Writing Your First Unit Test"
description: "A hands-on walkthrough of creating your first test case using GoogleTest. You'll cover structuring tests, using basic assertions, and interpreting results. Perfect for immediately validating your code’s correctness."
---

# Writing Your First Unit Test

A hands-on walkthrough of creating your first test case using GoogleTest. You'll cover structuring tests, using basic assertions, and interpreting results. Perfect for immediately validating your code’s correctness.

---

## 1. What You Will Accomplish

This guide walks you through the essential steps to write, compile, and run your first unit test using GoogleTest. You will:

- Define a test case with the `TEST` macro.
- Use basic assertion macros like `EXPECT_EQ`.
- Compile your test code correctly linked to GoogleTest.
- Run your test executable and interpret the output.

By following these steps, you'll be able to create tests that verify your code correctness effectively.

## 2. Prerequisites

Before you start:

- You have GoogleTest installed and properly integrated into your build system.
- Your development environment is set up with a C++17-compliant compiler.
- Basic knowledge of C++ syntax and compilation.

Refer to the [Installation Guide](https://google.github.io/googletest/googletest-install.html) and [Setup & Integration](../guides/getting-started/setup-integration.md) if need to install or integrate GoogleTest.

## 3. Understanding GoogleTest Test Cases

GoogleTest organizes tests into test cases and test suites. Each test case groups related tests.

- The `TEST` macro defines a test with two parameters: a test case name and a test name.
- Inside the test body, assertions verify that code behaves as expected.

Example overview:

```cpp
TEST(TestCaseName, TestName) {
  // Your test code here
  EXPECT_EQ(actual_value, expected_value);
}
```

## 4. Step-by-Step Guide to Writing Your First Test

<Steps>
<Step title="Create a Test Source File">
Create a new C++ source file for your test, e.g., `my_first_test.cpp`.
</Step>

<Step title="Include GoogleTest Header">
At the top of your file, include the main GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

This includes all necessary declarations for writing tests.
</Step>

<Step title="Write a Simple Test Case">
Write your first test using the `TEST` macro. For instance, test a simple sum:

```cpp
TEST(ExampleTest, SimpleAddition) {
  int result = 2 + 2;
  EXPECT_EQ(result, 4) << "2 + 2 should equal 4";
}
```

This test checks that `2 + 2` equals 4.
</Step>

<Step title="Compile the Test Program">
Compile the test source code linking against the GoogleTest library.

If using `g++`, an example command:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include -pthread \
    my_first_test.cpp /path/to/libgtest.a /path/to/libgtest_main.a \
    -o my_first_test
```

Adjust `/path/to/` according to your system's GoogleTest installation.

If you use CMake, add GoogleTest as a target dependency and use `target_link_libraries()`.
</Step>

<Step title="Run the Test Binary">
Execute your compiled test program:

```bash
./my_first_test
```

You should see output like:

```
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.SimpleAddition
[       OK ] ExampleTest.SimpleAddition (0 ms)
[----------] 1 test from ExampleTest ran. (1 ms total)
[==========] 1 test from 1 test case ran. (1 ms total)
[  PASSED  ] 1 test.
```

This confirms your test passed.

</Step>

<Step title="Interpret Test Failures">
To see a failing test, intentionally cause the assertion to fail:

```cpp
TEST(ExampleTest, IntentionalFailure) {
  EXPECT_EQ(2 + 2, 5) << "This test will fail.";
}
```

Run the test binary to see detailed failure messages and line information, helping locate issues quickly.
</Step>
</Steps>

## 5. Tips and Best Practices

- **Keep tests focused and clear:** Each `TEST` should verify one specific behavior.
- **Use descriptive names:** The test case and test names form the test's identity.
- **Always include assertions:** Without assertions, tests can't validate functionality.
- **Leverage `EXPECT_*` and `ASSERT_*` properly:** Use `EXPECT_*` when continuing after failure is safe, `ASSERT_*` to abort.
- **Utilize test fixtures for setup:** Later, when tests share setup or teardown procedures.

## 6. Troubleshooting Common Issues

<AccordionGroup title="Common Problems When Writing and Running Your First Test">
<Accordion title="Test Not Discovering or Running">
Make sure your test source file compiles and links correctly with GoogleTest libraries. Check that `InitGoogleTest` or `InitGoogleMock` is called if handling initialization manually.
</Accordion>
<Accordion title="Linker Errors for GoogleTest Symbols">
Verify you linked against `libgtest` and optionally `libgtest_main` (for main function).
Ensure include paths and library paths match your GoogleTest installation.
</Accordion>
<Accordion title="Test Output is Empty or No Tests Run">
Run with `--gtest_list_tests` to see which tests GoogleTest recognizes.
Check that the test names conform to expected patterns.
</Accordion>
</AccordionGroup>

## 7. Next Steps

- Explore [Writing Your First Test](../getting-started/first-run-validation/writing-first-test.md) for more detailed initial test writing.
- Learn about [Running Tests](../getting-started/first-run-validation/running-tests.md) to understand advanced execution and output options.
- Dive into [Using Mocks](../guides/mocking-and-advanced-techniques/creating-and-using-mocks.md) when you want to mock dependencies.
- Consult [Test Organization Best Practices](../guides/core-testing-workflows/test-organization-best-practices.md) to structure larger test suites efficiently.

---

## Appendix: Minimal Complete Example

```cpp
#include <gtest/gtest.h>

// Simple test to check arithmetic.
TEST(SimpleMathTest, Addition) {
  int sum = 1 + 1;
  EXPECT_EQ(sum, 2);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run as shown in previous sections to verify your setup and understanding.

---