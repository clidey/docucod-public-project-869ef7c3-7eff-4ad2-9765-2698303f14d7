---
title: "Quickstart: Setting Up GoogleTest"
description: "A beginner-friendly walk-through on how to add GoogleTest to your C++ project, using both Bazel and CMake. Learn how to configure your environment and verify your setup by running a sample test suite."
---

# Quickstart: Setting Up GoogleTest

## Overview

Welcome to the Quickstart guide for setting up GoogleTest! This guide provides a straightforward, beginner-friendly walk-through for integrating GoogleTest into your C++ project. Whether you are using Bazel or CMake as your build system, you will learn how to configure your environment and verify your setup by compiling and running a sample test suite.

This quickstart is designed to get you productive as soon as possible by focusing only on essential, actionable setup steps and introducing key concepts along the way.

---

## Prerequisites

Before proceeding, ensure that you have:

- A working C++ build environment compatible with C++17 or above.
- Either Bazel or CMake installed and configured on your system.
- Access to download or clone the GoogleTest repository (if integrating from source).
- Familiarity with basic C++ project structure and compilation processes.

For complete system and platform requirements, see the [Prerequisites & System Requirements](/getting-started/preparation-installation/prerequisites-system-requirements) guide.

---

## Expected Outcome

By following this guide, you will:

- Add GoogleTest to your project using your preferred build system (Bazel or CMake).
- Compile and link a minimal test executable with GoogleTest.
- Write and run a sample test case to verify that your setup is correct.

You will establish a solid foundation for writing and running unit tests using GoogleTest.

---

## Time Estimate

This quickstart should take about 10 to 20 minutes, depending on your familiarity with C++ build tools.

---

## Step-by-Step Setup Instructions

### 1. Obtain GoogleTest Source Code

If you haven't already, clone the GoogleTest repository:

```bash
git clone https://github.com/google/googletest.git
```

Alternatively, you can download a release archive from the GitHub repository.

### 2. Integrating GoogleTest Using Bazel

If your project uses Bazel, adding GoogleTest is straightforward.

#### a. Add a GoogleTest dependency in your `WORKSPACE` file:

Add the GoogleTest GitHub repository as an external dependency:

```bazel
http_archive(
    name = "com_google_googletest",
    urls = ["https://github.com/google/googletest/archive/release-1.12.1.tar.gz"],
    strip_prefix = "googletest-release-1.12.1",
)
```

(Adjust the URL and version as needed.)

#### b. Reference GoogleTest targets in your `BUILD` files:

In your test target, depend on `@com_google_googletest//:gtest` or `@com_google_googletest//:gtest_main`. For example:

```bazel
cc_test(
    name = "my_test",
    srcs = ["my_test.cc"],
    deps = ["@com_google_googletest//:gtest_main"],
)
```

This setup provides you with GoogleTest binaries and headers automatically.

### 3. Integrating GoogleTest Using CMake

If you use CMake, follow these actionable steps to add GoogleTest:

#### a. Add GoogleTest as a subdirectory (recommended for projects included from source):

Assuming you have cloned GoogleTest into your project's external or third-party folder:

```cmake
add_subdirectory(external/googletest)
```

#### b. Link your test executable with GoogleTest libraries:

```cmake
add_executable(my_test my_test.cc)
target_link_libraries(my_test gtest_main)
```

#### c. Enable testing and add test:

```cmake
include(GoogleTest)
gtest_discover_tests(my_test)
```

#### Alternative: Using `find_package` (if installed on system):

```cmake
find_package(GTest REQUIRED)
add_executable(my_test my_test.cc)
target_link_libraries(my_test GTest::gtest_main)
include(GoogleTest)
gtest_discover_tests(my_test)
```

### 4. Write a Sample Test Case

Create a minimal test file `my_test.cc` (or any name you prefer):

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, BasicAssertion) {
  EXPECT_EQ(1 + 1, 2);
}
```

This test verifies that basic assertion syntax works.

### 5. Build Your Test Executable

- **Bazel:** Run `bazel build //path/to:my_test` where `my_test` is your target.
- **CMake:** Configure with CMake and build with your platformâ€™s build tool.

### 6. Run the Test

Execute the test binary.

- With Bazel:

```bash
bazel test //path/to:my_test
```

- With CMake (command line):

```bash
./my_test
```

Expected output should indicate the test passed, for example:

```text
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicAssertion
[       OK ] SampleTest.BasicAssertion (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

---

## Best Practices & Tips

- Always place `EXPECT_CALL` before exercising code that calls your mocks.
- Use `ON_CALL` to specify default mock behaviors without strict expectations.
- Prefer `NiceMock` wrappers during development to suppress uninteresting call warnings.
- Keep your mock methods in public sections even when mocking protected or private methods in the base class.
- For complex interfaces, consider designing custom interfaces to mock rather than mocking concrete classes directly.

Refer to the [Mocking Basics guide](/guides/mocking-and-advanced-techniques/mocking-basics) for more comprehensive patterns.

---

## Troubleshooting

- **Build fails due to missing GoogleTest headers:** Check that your include paths and dependencies are correctly set.
- **Tests are not discovered or run:** Ensure your CMakeLists or Bazel BUILD files correctly define executable/test targets.
- **Warning about uninteresting mock function calls:** Use `NiceMock` or define explicit `EXPECT_CALL` or `ON_CALL` for the called methods.
- **Link errors for GoogleTest symbols:** Ensure linking against both `gtest` and `gtest_main` or equivalent targets.

For detailed help, consult [Troubleshooting Setup Issues](/getting-started/first-steps-usage/troubleshooting-setup).

---

## Next Steps

- After setting up and running your first test, explore writing more complex cases using assertions and parameterized tests in [Writing Your First Test](/getting-started/first-steps-usage/writing-your-first-test).
- Deepen your knowledge of mocks with [Mocking Basics](/guides/mocking-and-advanced-techniques/mocking-basics) and the [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html).
- Learn to run tests effectively from command line with [Running Tests Guide](/getting-started/first-steps-usage/running-tests).

---

## Additional Resources

- [GoogleTest Primer](/overview/introduction-getting-started/product-overview) - foundational concepts
- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) - beginner mocking
- [gMock Cheat Sheet](https://google.github.io/googletest/gmock_cheat_sheet.html) - quick reference
- [GoogleTest GitHub repository](https://github.com/google/googletest) - official source and issues

---

Thank you for choosing GoogleTest. Your journey to robust, maintainable C++ testing begins here!
