---
title: "Writing and Running Your First Test"
description: "Step through the process of authoring your initial test case using GoogleTest, compiling the test, and running it to view results. This guide introduces key concepts such as the TEST macro, assertions, and basic test structures."
---

# Writing and Running Your First Test

Step through the process of authoring your initial test case using GoogleTest, compiling the test, and running it to view results. This guide introduces key concepts such as the `TEST` macro, assertions, and basic test structures.

---

## 1. Workflow Overview

### Task Description
This guide takes you from writing your first simple test case in C++ using the GoogleTest framework, through compiling it with your build system, to running the test binary and interpreting the results.

### Prerequisites
- GoogleTest must be properly installed or included in your project.
- A working C++ compiler supporting at least C++17.
- Basic familiarity with C++ programming.
- A build system prepared to compile and link GoogleTest (e.g., CMake, Bazel).

### Expected Outcome
By following this guide, you will have:
- Written a minimal test case using the `TEST` macro.
- Compiled the test into an executable.
- Executed the test binary and observed the test results.

### Time Estimate
Approximately 20-30 minutes.

### Difficulty Level
Beginner

---

## 2. Step-by-Step Instructions

### Step 1: Include the GoogleTest Header
Create a C++ source file and include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

This header includes all core GoogleTest APIs, including macros like `TEST` and assertions.

### Step 2: Write Your First Test Case
Define a test using the `TEST` macro. The macro takes two parameters: a **test suite name** and a **test name**. Inside the test body, you write assertions to verify conditions.

```cpp
TEST(SampleTest, BasicAssertions) {
  // Expect equality
  EXPECT_EQ(7 * 6, 42);

  // Check boolean condition
  EXPECT_TRUE(1 < 2);
}
```

**Explanation:**
- `SampleTest` is the test suite, grouping related tests.
- `BasicAssertions` is the name of this specific test.
- `EXPECT_EQ` checks if the two values are equal.
- `EXPECT_TRUE` verifies the condition is true.

### Step 3: Compile the Test Program
Using your preferred build system (e.g., a simple g++ command or CMake), compile this source into an executable that links GoogleTest libraries.

For example, with `g++` (assuming GoogleTest installed and pkg-config available):

```bash
g++ -std=c++17 -pthread my_test.cc -lgtest_main -lgtest -o my_test
```

Or with CMake, define your test executable and link against GoogleTest accordingly.

### Step 4: Run the Test Executable
Execute the compiled binary:

```bash
./my_test
```

You should see output similar to:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicAssertions
[       OK ] SampleTest.BasicAssertions (0 ms)
[----------] 1 test from SampleTest ran. (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This confirms your test passed successfully.

### Step 5: Interpret Test Outcomes
- If your assertions hold true, GoogleTest reports tests as **PASSED**.
- If an assertion fails, GoogleTest immediately prints the failure details, including the expected and actual values and the file and line number.

Example failure message:

```
my_test.cc:10: Failure
Expected equality of these values:
  7 * 6
    Which is: 41
  42
```

This helps quickly locate and diagnose errors.

### Step 6: Expand Your Tests
Once comfortable, define more tests within new or existing test suites using the `TEST` or `TEST_F` macros for fixtures.

---

## 3. Examples & Code Samples

### Minimal Test Example
```cpp
#include <gtest/gtest.h>

TEST(SimpleMathTest, Addition) {
  EXPECT_EQ(2 + 2, 4);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```
This example defines one test and runs it using GoogleTest’s main function.

### Running From Command Line
```bash
./simple_math_test --gtest_filter=SimpleMathTest.*
```
Runs all tests under `SimpleMathTest` suite.

### Test Assertions
GoogleTest provides rich assertions:
- Equality: `EXPECT_EQ(val1, val2)`
- Boolean: `EXPECT_TRUE(cond)`, `EXPECT_FALSE(cond)`
- String: `EXPECT_STREQ(str1, str2)`
- Floating-point approximate equality: `EXPECT_NEAR(val1, val2, abs_error)`

Use assertions liberally to document test expectations clearly.

---

## 4. Troubleshooting & Tips

### Common Issues
- **Linker errors:** Ensure you link the test executable with `-lgtest` and `-lpthread`.
- **Header not found:** Confirm the include paths point to GoogleTest’s headers.
- **No tests run:** Verify you call `RUN_ALL_TESTS()` in `main()` after `InitGoogleTest`.

### Best Practices
- Keep tests small and focused on one logical verification.
- Name test suites and tests clearly to describe their purpose.
- Use `EXPECT_` macros for non-fatal assertions so all test code runs.
- Use `ASSERT_` macros when subsequent test code depends on the assertion.

### Performance Considerations
- Keep each test case fast; avoid dependencies on slow external resources.
- Use mocks (GoogleMock) to isolate code under test.

### Alternative Approaches
- When testing complex classes, extend tests by using fixtures via `TEST_F`.
- Explore parameterized tests once comfortable with basic tests.

---

## 5. Next Steps & Related Content

- Learn about [Test Fixtures with TEST_F](guides/getting-started/writing-your-first-test.md#test-fixtures) to set up common contexts.
- Explore the [Mocking Basics](guides/core-workflows/mocking-basics.md) guide to start using mocks for isolation.
- Read the [Test Discovery Workflow](guides/getting-started/test-discovery-workflow.md) to understand organizing and running tests.
- Check the [GoogleTest Primer](primer.md) for fundamentals beyond first test.

---

<Note>
Remember: Always write tests before your production code to adopt Test-Driven Development practices effectively.
</Note>

---