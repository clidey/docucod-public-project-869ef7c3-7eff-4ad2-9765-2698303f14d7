---
title: "Writing Your First Test"
description: "Step-by-step tutorial for creating your first C++ unit test with GoogleTest. Introduces key terminology, discusses assertions, and demonstrates compiling and running a basic test binary."
---

# Writing Your First Test with GoogleTest

Welcome to your first step in using GoogleTest to write reliable and maintainable C++ unit tests. This guide walks you through creating a simple test, understanding core concepts, compiling your code, running the test binary, and interpreting the output.

---

## 1. What This Guide Will Accomplish

- **Task Description:** Write and run a basic C++ unit test using GoogleTest.
- **Prerequisites:**
  - You have installed GoogleTest correctly and can include its headers.
  - Your build environment supports C++17 or higher.
  - You have a C++ compiler and basic familiarity with command-line build tools.
- **Expected Outcome:** You will compile and run a test binary that runs one passing test successfully.
- **Time Estimate:** 10-15 minutes
- **Difficulty Level:** Beginner

---

## 2. Key Terminology to Know

Before you write your first test, let's clarify a few central concepts:

- **Test Case:** A collection of related tests that examine a single feature or unit.
- **Test:** A function containing code that verifies a specific behavior.
- **Assertion:** A statement that checks a condition; if it fails, the test fails.
- **Test Fixture:** A class that groups tests with shared setup and teardown code.

These foundations help structure your tests and give meaning to successes and failures.

---

## 3. Writing a Minimal Test

Create a C++ source file, for example `sample_test.cc`, and add the following code:

```cpp
#include <gtest/gtest.h>

// Defines a test case named "SampleTest" and a test named "BasicAssertion".
TEST(SampleTest, BasicAssertion) {
  // ASSERT_TRUE will fail the test if the condition is false.
  ASSERT_TRUE(1 == 1);
}
```

### Explanation:

- `#include <gtest/gtest.h>` includes the GoogleTest framework.
- `TEST(TestCaseName, TestName)` defines a test.
- `ASSERT_TRUE(condition)` checks the condition and fails the test if false.

Use assertions such as `ASSERT_EQ`, `EXPECT_TRUE`, etc., to check your code’s behaviors similarly.

---

## 4. Compiling the Test

You need to compile your test source code and link it with GoogleTest libraries.

### Example Compilation Command with g++ and pkg-config

Assuming GoogleTest is installed and accessible:

```bash
g++ -std=c++17 sample_test.cc -lgtest_main -lgtest -pthread -o sample_test
```

- `-std=c++17` enables the required modern C++ standard.
- `-lgtest_main` links GoogleTest’s main function.
- `-lgtest` links the GoogleTest core library.
- `-pthread` enables threading support.

**Note:** Adjust library paths if GoogleTest is installed in a non-standard location.

If you are using CMake or Bazel, refer to the installation and build guides for configuration details.

---

## 5. Running the Test Binary

Execute the compiled test binary from your terminal:

```bash
./sample_test
```

### Expected Output

```plaintext
Running main() from .../gtest_main.cc
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.BasicAssertion
[       OK ] SampleTest.BasicAssertion (0 ms)
[----------] 1 test from SampleTest (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (1 ms total)
[  PASSED  ] 1 test.
```

This output shows your test ran successfully.

---

## 6. Understanding Assertion Failures

If your assertion fails, GoogleTest immediately reports it with details:

```plaintext
sample_test.cc:6: Failure
Expected: (1 == 2)
  Actual: false
[  FAILED  ] SampleTest.BasicAssertion (0 ms)
```

- The message shows which assertion failed and the source location.
- Test execution stops at the failing `ASSERT_*`. For non-fatal expectations (`EXPECT_*`), the test continues but marks failure.

Use various assertions to fit your testing needs. See the [Assertions Reference](https://google.github.io/googletest/reference/assertions.html) for a full list.

---

## 7. Next Steps

Once comfortable with this simple test, proceed to:

- [Writing Expectations with GoogleMock](https://google.github.io/googletest/gmock_for_dummies.html) to create mocks and specify method behaviors.
- Explore [Test Discovery and Execution](https://google.github.io/googletest/primer.html#running-tests) for automated testing workflows.
- Learn about [Parameterized and Typed Tests](https://google.github.io/googletest/advanced.html#value-parameterized-tests) for more flexible scenarios.

---

## 8. Troubleshooting Tips

- **Linker errors:** Ensure you link to both `gtest` and `gtest_main` or supply your own `main()`.
- **Include errors:** Verify GoogleTest include paths are correctly set.
- **Multithreading errors:** Use the `-pthread` flag on Linux/Unix.
- **Outdated compiler:** Confirm your compiler supports C++17.

If issues persist, consult the [Troubleshooting & Common Setup Issues](https://google.github.io/googletest/faq.html#getting-started-issues) and [Installation Guide](https://google.github.io/googletest/installation.html).

---

## 9. Summary

Writing your first test with GoogleTest involves defining a test function using the `TEST` macro, compiling and linking against GoogleTest libraries, and running your generated test executable. GoogleTest provides detailed assertion macros and helpful output to verify your code behavior efficiently.

---

## Additional Resources

- [GoogleTest Primer](https://google.github.io/googletest/primer.html)
- [GoogleMock README](https://github.com/google/googletest/blob/main/googlemock/README.md)
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html)
- [GoogleTest Assertions](https://google.github.io/googletest/reference/assertions.html)

---

**Happy Testing!**
