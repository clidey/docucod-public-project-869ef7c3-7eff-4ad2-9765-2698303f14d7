---
title: "Writing Your First Test"
description: "Learn how to write, build, and run a simple test case with GoogleTest. This tutorial introduces the core syntax, basic assertions, and test execution workflow to help you validate your first unit of C++ code quickly."
---

# Writing Your First Test

Learn how to write, build, and run a simple test case with GoogleTest. This tutorial introduces the core syntax, basic assertions, and test execution workflow to help you validate your first unit of C++ code quickly.

---

## 1. Introduction: What is a GoogleTest?

GoogleTest is a native C++ testing framework that makes writing and running tests straightforward and productive. It is designed to help you write *independent*, *repeatable*, and *well-organized* tests.

This guide will walk you through creating your first test program, focusing on the essential syntax and workflow to ensure a smooth start.

### Why Write Tests?

Tests allow you to automatically verify your code’s correctness, detect regressions early, and improve code quality with confidence. GoogleTest makes writing tests in C++ both expressive and easy.

### Overview of What You'll Learn

- Defining test cases
- Writing assertions
- Running your tests
- Understanding test output

---

## 2. Prerequisites

Before you begin, ensure you have:

- A C++17 (or newer) compliant compiler (GCC, Clang, MSVC)
- GoogleTest installed and properly configured in your build system
- Basic knowledge of C++ syntax

See the [System Requirements and Supported Platforms](https://google.github.io/googletest/getting-started/prerequisites-installation/system-requirements) and [Installation & Integration Options](https://google.github.io/googletest/getting-started/prerequisites-installation/install-integration-options) documents if you need help setting these up.

---

## 3. Writing Your First Test

### 3.1 Defining a Test

To define a test in GoogleTest, use the `TEST` macro, which creates a test function. It takes two arguments:

- Test suite name (used to group related tests)
- Test name

```cpp
#include <gtest/gtest.h>

// A simple test suite named FactorialTest with one test called HandlesZeroInput
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}
```

*Tip:* Keep test suite names general and test names specific to what they check.


### 3.2 Basic Assertions

GoogleTest provides assertion macros to check conditions in your tests. The most commonly used are:

- `EXPECT_EQ(val1, val2)`: Verifies val1 == val2.
- `EXPECT_NE(val1, val2)`: Verifies val1 != val2.
- `EXPECT_TRUE(cond)`: Verifies cond is true.
- `EXPECT_FALSE(cond)`: Verifies cond is false.
- `ASSERT_*`: Similar to `EXPECT_*` but stops the current test immediately if failed.

Example:

```cpp
TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

### 3.3 Running Your Tests

After writing your tests:

1. Compile your test executable including GoogleTest.
2. Run the executable. GoogleTest will print test results for all registered tests.

Basic output example:

```
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (1 ms)
[----------] 2 tests from FactorialTest (1 ms total)
[  PASSED  ] 2 tests.
```

GoogleTest automatically detects all tests defined by `TEST` and runs them. No manual registration required.

### 3.4 Understanding Test Failures

If a test assertion fails, GoogleTest provides:

- Source file and line number of failure
- Which assertion failed and the expected vs actual values

Example failure message:

```
path/to/test.cc:15: Failure
Expected equality of these values:
  Factorial(0)
    Which is: 0
  1
```

Failures do not stop the entire test run. Other tests will continue executing.

---

## 4. Using Test Fixtures for Repeated Setup

When you want to reuse the same objects or setup code across multiple tests, use a test fixture class:

```cpp
class QueueTest : public testing::Test {
 protected:
  QueueTest() {
    q1_.Enqueue(1);
    q2_.Enqueue(2);
    q2_.Enqueue(3);
  }

  Queue<int> q0_;
  Queue<int> q1_;
  Queue<int> q2_;
};

TEST_F(QueueTest, IsEmptyInitially) {
  EXPECT_EQ(q0_.size(), 0);
}

TEST_F(QueueTest, DequeueWorks) {
  int* n = q0_.Dequeue();
  EXPECT_EQ(n, nullptr);

  n = q1_.Dequeue();
  ASSERT_NE(n, nullptr);
  EXPECT_EQ(*n, 1);
  EXPECT_EQ(q1_.size(), 0);
  delete n;

  n = q2_.Dequeue();
  ASSERT_NE(n, nullptr);
  EXPECT_EQ(*n, 2);
  EXPECT_EQ(q2_.size(), 1);
  delete n;
}
```

- Use `TEST_F` instead of `TEST` to indicate you are using a fixture.
- GoogleTest creates a fresh fixture object for each test.

---

## 5. Next Steps

- Explore more [GoogleTest Assertions](https://google.github.io/googletest/reference/assertions.html).
- Learn about [writing your first mock](https://google.github.io/googletest/gmock_for_dummies.html).
- Integrate tests into your build system using [Integration Options](https://google.github.io/googletest/getting-started/integration-options).

---

## Appendix: Full Minimal Example

```cpp
#include <gtest/gtest.h>

// Function to test
int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}

// Test cases
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This executable will run the two tests and print out the results.

---

<Tip>
Remember that `InitGoogleTest()` parses command line flags intended for the test framework — always call it before `RUN_ALL_TESTS()`. Never ignore the return value of `RUN_ALL_TESTS()` as it indicates whether tests passed.
</Tip>

<Note>
Proper naming conventions and grouping of tests help maintainable and readable test suites. Use descriptive names reflecting the test intent.
</Note>