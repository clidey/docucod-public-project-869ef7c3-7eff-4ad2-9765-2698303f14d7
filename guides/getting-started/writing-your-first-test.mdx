---
title: "Writing Your First Test"
description: "Guides users through authoring, compiling, and running their first test case using the GoogleTest framework. Illustrates core test macros, test discovery, and how to interpret test output, empowering users to validate basic code behavior immediately."
---

# Writing Your First Test

## Introduction

Welcome to the essential first step on your journey with GoogleTest. This guide empowers you to write, compile, and run your first test case effectively, providing you with immediate confidence that your code behaves as expected.

GoogleTest helps you quickly validate your C++ code by enabling you to write simple tests with clear assertions. Through this guide, you’ll learn the core macros used to define tests, how to structure them, and how to interpret the results. 

By the end, you will have a working test executable that runs your test suite and reports success or failure clearly and concisely.

---

## Prerequisites

Before you begin, make sure you have:

- Built and linked GoogleTest and GoogleMock libraries correctly in your project.
- Included the relevant headers (`gtest/gtest.h`) in your source file.
- A C++17-compliant compiler configured for your environment.
- A preferred build system (e.g., CMake, Bazel, or Make) set up with the necessary flags to compile and link GoogleTest.

If you haven't completed this, please refer to the [Setup & Installation guides](../../getting-started/setup-prerequisites-installation/configuration-and-initial-setup) first.

---

## Creating Your First Test

GoogleTest uses macros to define tests, which consist of test suites (collections of related tests) and test cases (individual tests). This structure encourages well-organized, maintainable test code.

### Step 1: Include GoogleTest Header

Add the GoogleTest header to your test source file.

```cpp
#include <gtest/gtest.h>
```

This inclusion gives you access to all testing macros and functionalities.

### Step 2: Define a Test Case

Use the `TEST` macro to define a simple test case. The syntax is:

```cpp
TEST(TestSuiteName, TestName) {
  ... // test code and assertions
}
```

- `TestSuiteName`: Groups related tests. Use a descriptive name reflecting the feature or class you’re testing.
- `TestName`: Describes what this particular test verifies.

### Example: Testing a Factorial Function

Suppose you have a function:

```cpp
int Factorial(int n);
```

Define tests for this function as follows:

```cpp
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

Notice that each `TEST` defines a distinct behavior to validate. Here, the test suite is `FactorialTest` and we have two test cases inside it.

### Step 3: Build Your Test Executable

Compile your test code along with GoogleTest and GoogleMock libraries. For example, using g++:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include -L/path/to/googletest/lib your_test.cc -lgtest -lgmock -pthread -o your_test
```

Make sure to replace `/path/to/googletest` with your actual installation path.

### Step 4: Run Your Tests

Execute your test binary:

```bash
./your_test
```

You will see output similar to:

```
Running main() from gmock_main.cc
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

### Understanding the Output

- `RUN`: Indicates which test is currently running.
- `OK`: Indicates the test passed.
- Summary at the end shows the total number of tests and how many passed or failed.

---

## Assertions

Inside your tests, you assert expectations about code behavior. GoogleTest provides two types:

- `ASSERT_*`: Fatal failures that abort the current test case immediately upon failure.
- `EXPECT_*`: Non-fatal failures that allow the test to continue and report all failures.

Example assertions:

```cpp
EXPECT_EQ(actual, expected);      // Checks equality
ASSERT_TRUE(condition);           // Checks a boolean condition
EXPECT_NE(value1, value2);        // Checks inequality
```

Use `EXPECT_*` when you want to continue testing even if something fails, and `ASSERT_*` when continuation doesn’t make sense (e.g., invalid pointers).

---

## Writing Tests with Fixtures (Optional Next Step)

If you want to share setup and teardown code among multiple tests, consider using test fixtures. This will be covered in detail in the [Test Fixtures guide](/api-reference/core-testing-api/test-fixtures-api).

---

## Troubleshooting

### Common Issues

- **Tests don’t run or show zero tests**: Check you linked against `gtest_main` or provided your own `main()`.
- **Compilation errors**: Verify your include paths and C++17 standard flag.
- **Tests fail unexpectedly**: Read output carefully; GoogleTest indicates what assertion failed and where.

### Tips

- Run tests with `--gtest_list_tests` to list all available tests.
- Use `--gtest_filter` to run specific tests.
- If debugging, run with `--gtest_break_on_failure` to pause on failures.

---

## Summary

You've now learned how to:

- Write simple test cases using the `TEST` macro.
- Use basic assertions to validate behavior.
- Compile and run your test executables.
- Interpret GoogleTest output.

Congratulations! You are ready to write and run your first tests that validate your code correctness.

Next, consider exploring more complex testing scenarios using [test fixtures](../api-reference/core-testing-api/test-fixtures-api) or dive into mocking dependencies with GoogleMock using the [gMock Cookbook](../docs/gmock_cook_book.md).

---

## References & Further Reading

- [GoogleTest Primer](../docs/primer.md) for foundational concepts.
- [GoogleMock for Dummies](../docs/gmock_for_dummies.md) to begin mocking.
- [Using Assertions Reference](../api-reference/core-testing-api/assertions-api) for detailed assertion macros.
- [Writing Custom Test Fixtures](../api-reference/core-testing-api/test-fixtures-api).
- [Guide: Mocking Patterns and Best Practices](/guides/testing-patterns/mocking-best-practices).

---

## Example: Full Minimal Test File

```cpp
#include <gtest/gtest.h>

int Factorial(int n) {
  return n <= 1 ? 1 : n * Factorial(n - 1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}

int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run this file as described in Step 3 and Step 4.
