---
title: "Writing and Running Your First Test"
description: "A step-by-step tutorial on creating, compiling, and running your very first test case with GoogleTest. Learn to identify testable units, write basic assertions, and interpret test output."
---

# Writing and Running Your First Test with GoogleTest

## Introduction

This guide walks you through the process of creating, compiling, and running your very first test case with GoogleTest. You will learn how to identify testable units in your code, write basic assertions to verify behavior, and interpret test results effectively.

Whether you’re new to automated testing or coming from another framework, this step-by-step tutorial will help you get started with GoogleTest quickly and confidently.

---

## 1. Workflow Overview

### Task Description
Learn to write a simple test using GoogleTest, compile it into a test executable, run the tests, and interpret the output. This tutorial covers everything necessary to start validating your C++ code with automated unit tests.

### Prerequisites
- A working C++ development environment (compiler supporting C++11 or higher).
- GoogleTest downloaded and set up for compilation in your project (consult the Quickstart Installation guide if not).
- Basic understanding of C++ syntax.

### Expected Outcome
- A compiled test program containing at least one test case.
- The ability to run the test executable and see GoogleTest output results.
- Confidence in writing assertions and verifying the behavior of your code.

### Time Estimate
About 15–30 minutes depending on environment setup.

### Difficulty Level
Beginner

---

## 2. Step-by-Step Instructions

<Steps>
<Step title="Create a Test Source File">
Create a new C++ source file, for example `my_first_test.cc`. This file will contain your test code.
</Step>

<Step title="Include GoogleTest Headers">
At the top of your file, include GoogleTest headers to get access to the testing macros and assertions:

```cpp
#include <gtest/gtest.h>
```
</Step>

<Step title="Write Your First Test Case">
Use the `TEST` macro to define a test.

```cpp
// This defines a test suite 'FactorialTest' and a test 'HandlesZeroInput'.
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);  // Asserts Factorial(0) should be 1.
}
```

Tips:
- The first argument is the test suite name grouping related tests.
- The second argument is the test name.
- Use `EXPECT_*` macros to verify expected conditions without stopping the test.

Refer to [Assertions Reference](reference/assertions.md) for available assertions.
</Step>

<Step title="Implement the Code Under Test">
Make sure the function or method you intend to test, e.g., `Factorial`, is implemented and accessible from your test source.

Example implementation:

```cpp
int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}
```
</Step>

<Step title="Compile the Test Program">
Compile your test source with GoogleTest linked. If using CMake, follow the installation and build steps from the [Quickstart Installation Guide](guides/getting-started/quickstart-installation).

Example compilation command:

```bash
g++ my_first_test.cc -lgtest -lgtest_main -pthread -o my_first_test
```

Check for compile errors and fix as needed.
</Step>

<Step title="Run the Test Executable">
Run the executable generated:

```bash
./my_first_test
```

Expected output will indicate tests run and whether they succeeded or failed.
</Step>

<Step title="Interpret Test Output">
If the test passes, GoogleTest prints:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[----------] 1 test from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

If the test fails, GoogleTest will print the failed assertion, file, line, and a descriptive message.

Use this feedback to debug your code or test.
</Step>
</Steps>

---

## 3. Code Example: Testing a Factorial Function

```cpp
#include <gtest/gtest.h>

int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run this to verify that your testing setup works.

---

## 4. Best Practices and Tips

- Use descriptive names for test suites and test cases to clarify the intent.
- Group related tests in one test suite for maintainability.
- Use `EXPECT_*` for non-fatal assertions to continue running tests.
- Use `ASSERT_*` when failures should stop the current test immediately.
- Write one logical assertion per test for clearer diagnostics.
- Run tests frequently during development to catch regressions early.
- Use the GoogleTest `--gtest_filter` flag to selectively run tests.

---

## 5. Troubleshooting Common Issues

<AccordionGroup title="Common Pitfalls and Solutions">
<Accordion title="Compilation Fails Due to Missing GoogleTest Headers or Libraries">
Ensure GoogleTest is installed and your compiler's include and library paths are set correctly. Consult [Quickstart Installation Guide](guides/getting-started/quickstart-installation) for detailed setup.
</Accordion>
<Accordion title="Test Fails Unexpectedly with Assertion Errors">
Check that your function under test and the test logic are correct. Use the verbose output of GoogleTest (`--gtest_verbose=info`) for more detailed diagnostics.
</Accordion>
<Accordion title="Tests Run But No Output or All Tests Skipped">
Verify that you have defined at least one `TEST` or `TEST_F` macro and that your `main` function calls `RUN_ALL_TESTS()`.
</Accordion>
<Accordion title="Linker Errors Related to GoogleTest Symbols">
Link against both `gtest` and `gtest_main` (or provide your own main). For example: `-lgtest -lgtest_main -pthread`.
</Accordion>
</AccordionGroup>

---

## 6. Next Steps & Related Content

- Once comfortable with basic tests, explore test fixtures with `TEST_F` for reusing setup code.
- Learn to use assertions in depth from [Assertions Reference](reference/assertions.md).
- Write and run more complex tests with [Writing and Structuring Tests Guide](guides/writing-and-structuring-tests/assertions-and-matchers).
- Incorporate mocks by reading [Mocking for Dummies](gmock_for_dummies.md) and [GoogleMock Cookbook](gmock_cook_book.md).
- Integrate testing into your build systems; see [Integration with Build Systems & Other Tools](overview/integration-feature-overview/integration-build-systems).

---

## References

- [GoogleTest Primer](docs/primer.md)
- [Quickstart Installation Guide](guides/getting-started/quickstart-installation)
- [Assertions Reference](reference/assertions.md)
- [Mocking for Dummies](gmock_for_dummies.md)
- [Mocking Cookbook](gmock_cook_book.md)
- [Writing and Structuring Tests](guides/writing-and-structuring-tests/assertions-and-matchers)
- [Test Discovery & Execution Lifecycle](concepts/architecture-core-models/test-lifecycle)

Use the official [GoogleTest GitHub repository](https://github.com/google/googletest) for source and issues.

---

<Check>
By following this guide, you will successfully create and run your first tests with GoogleTest, establishing a foundational skill for robust C++ development.
</Check>
