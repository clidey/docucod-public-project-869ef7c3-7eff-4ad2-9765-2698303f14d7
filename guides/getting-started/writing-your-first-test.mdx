---
title: "Writing Your First Test"
description: "Jump into unit testing in C++ by creating your first test case with GoogleTest. This guide introduces basic test structures, assertions, and test execution to validate simple functions and catch regression issues."
---

# Writing Your First Test

Welcome to your first step in writing unit tests in C++ using GoogleTest. This guide walks you pragmatically through creating your first test case, understanding its structure, making assertions, and running it to verify simple functionality and prevent regressions.

---

## 1. What You'll Achieve

**Objective:** Write and execute your very first GoogleTest unit test for a simple C++ function.

**Prerequisites:**
- GoogleTest installed and correctly integrated into your C++ project.
- Basic familiarity with C++ syntax and functions.
- A C++ function or module you want to verify.

**Outcome:**
- Understand the anatomy of a GoogleTest test case.
- Implement basic assertions to check function behavior.
- Run tests and interpret results.

**Difficulty:** Beginner

**Estimated Time:** 10-15 minutes

---

## 2. Step-by-Step Guide to Your First Test

### Step 1: Prepare Your Test File
Create a new C++ source file dedicated to tests, such as `example_test.cpp`.

Include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```

Include or forward declare the header of the code you want to test.

### Step 2: Identify a Function to Test
Use a simple function to begin. For example:

```cpp
int Add(int a, int b) {
  return a + b;
}
```

If your function is in another file, include its header instead.

### Step 3: Write a Test Case Using `TEST` Macro
The basic unit of testing in GoogleTest is the `TEST` macro which defines a test in a named test suite.

Syntax:

```cpp
TEST(TestSuiteName, TestName) {
  ... // Test code including assertions
}
```

Example — testing the `Add` function:

```cpp
TEST(AdditionTest, SimpleAdd) {
  EXPECT_EQ(Add(1, 1), 2);         // Test that Add(1,1) returns 2
  EXPECT_EQ(Add(-1, 1), 0);        // Check behavior with negatives
  EXPECT_EQ(Add(0, 0), 0);         // Check zero cases
}
```

**Explanation:**
- `AdditionTest` groups tests related to addition.
- `SimpleAdd` is the specific test name.
- `EXPECT_EQ` asserts two values are equal; failure reports but continues test.

### Step 4: Compile the Test
Use your build system to compile the test file, linking with GoogleTest libraries.

If you use `CMake`, this means linking with `gtest` and `gtest_main`.

### Step 5: Run the Tests
Execute the resulting test binary. GoogleTest automatically discovers and runs all defined tests.

```sh
./example_test
```

Expected output:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from AdditionTest
[ RUN      ] AdditionTest.SimpleAdd
[       OK ] AdditionTest.SimpleAdd (0 ms)
[----------] 1 test from AdditionTest (0 ms total)

[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

### Step 6: Interpreting Results
- `PASSED` means all assertions succeeded.
- Failures print detailed diagnostics with source line and assertion messages.

---

## 3. Key Concepts Illustrated

### Test Suites and Test Names
The `TEST` macro’s two arguments create a fully qualified test name. Organize tests logically so related feature tests are grouped.

### Assertions
- `EXPECT_*` assertions continue test execution on failure.
- `ASSERT_*` assertions abort the current test on failure.

Starting with `EXPECT_EQ`, `EXPECT_TRUE`, and `EXPECT_FALSE` is recommended for simple checks.

### Test Independence
Each test runs isolated, ensuring failures or side effects don’t leak between tests.

---

## 4. A Complete Minimal Example

```cpp
#include <gtest/gtest.h>

// Function to test
int Add(int a, int b) {
    return a + b;
}

// Test Case
TEST(AdditionTest, SimpleAdd) {
    EXPECT_EQ(Add(1, 1), 2);
    EXPECT_EQ(Add(-1, 1), 0);
    EXPECT_EQ(Add(0, 0), 0);
}

int main(int argc, char **argv) {
    testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();
}
```

Compile, link GoogleTest and run this binary to confirm your first test.

---

## 5. Practical Tips for Success

- Keep tests small and focused. Test one logical condition per test.
- Name tests descriptively. `AdditionTest, HandlesNegativeInputs` conveys intent clearly.
- Use `EXPECT_` unless an assertion failure should halt further testing in the current test.
- Group tests into meaningful suites to organize tests and share fixture code (learn `TEST_F` later).
- Run tests frequently to catch regressions early.
- Use `gtest` command-line options to filter, repeat, or shuffle tests (e.g., `--gtest_filter`).

---

## 6. Common Pitfalls & Troubleshooting

### Test Not Being Discovered
Ensure your test binary links with `gtest_main` or you provide the `main()` that calls `RUN_ALL_TESTS()`.

### Compilation Errors with `TEST` or Assertions
Verify your include paths and that `#include <gtest/gtest.h>` is present.

### Tests Always Passing or Failing Unexpectedly
Make sure assertions use the correct operators and check expected vs actual order correctly.

### GoogleTest Not Linked Properly
Link against `gtest` and `gtest_main` or equivalent static/shared libs.

### Test Name Conflicts
Test suite and test names must be unique within the same executable.

---

## 7. Next Steps

- Explore [GoogleTest Primer](https://google.github.io/googletest/primer.md) for deeper coverage of assertions and organizing tests.
- Learn about **test fixtures** to manage shared setup and teardown with `TEST_F`.
- See [Using Assertions and Matchers](../guides/core-testing-workflows/using-assertions-and-matchers.md) to extend your test validations.
- Once comfortable, advance to mocking with GoogleMock and writing detailed interaction tests.

---

## Additional Resources
- [GoogleTest Primer (primer.md)](https://google.github.io/googletest/primer.md)
- [Writing and Running Your First Test](../getting-started/setup-usage-validation/writing-first-test.md)
- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [GoogleTest GitHub Repository](https://github.com/google/googletest)

---

Embarking on writing your first test is the gateway to confident, maintainable, and regression-proof C++ codebases. GoogleTest simplifies this journey with a clear, expressive API.

Happy testing!