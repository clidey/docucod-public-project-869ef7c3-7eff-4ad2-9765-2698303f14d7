---
title: "Writing Your First Test"
description: "A hands-on guide to creating your first test case with GoogleTest, explaining the structure of test suites, simple assertions, and how to run your tests."
---

# Writing Your First Test

Welcome to your hands-on guide for creating your first test case using GoogleTest. This page will lead you through understanding the structure of test suites, how to write simple assertions, and how to execute your newly created tests effectively.

---

## 1. What This Guide Will Help You Achieve

You will learn how to:

- Define your first test case using the GoogleTest framework.
- Understand the organization of tests into suites.
- Use basic assertions to verify expected behavior.
- Run your tests and interpret the results.

### Prerequisites

Before you start, make sure:

- GoogleTest is properly installed and integrated into your build environment.
- Your development environment supports at least C++17 (see [Prerequisites & Requirements](../getting_started/intro_and_setup/prerequisites_requirements)).
- You have a sample project or source file prepared to add tests.

### Expected Outcome

By the end of this guide, you will have a basic test written, compiled, and running successfully within the GoogleTest framework.

### Time Estimate

15–30 minutes depending on your familiarity with C++ and test frameworks.

### Difficulty Level

Beginner

---

## 2. Understanding the Basic Structure of a GoogleTest Test

In GoogleTest, tests are organized into _test suites_ (previously called _test cases_). Each test suite contains multiple _test cases_, written with the `TEST` macro.

### Anatomy of a Simple Test

```cpp
#include <gtest/gtest.h>

// Define a test case named "MyFirstTest" inside the test suite "SampleTest".
TEST(SampleTest, MyFirstTest) {
  int expected = 7;
  int actual = 3 + 4;

  // Assert that expected equals actual
  EXPECT_EQ(expected, actual);
}
```

**Key points:**

- `TEST(TestSuiteName, TestName)`: Macro that defines a test.
- Inside the test body, assertions check conditions. Here, `EXPECT_EQ` verifies that two values are equal.
- Assertions help verify the correctness and indicate success or failure.

### Common Assertions

- `EXPECT_EQ(val1, val2)`: Expect val1 equals val2.
- `EXPECT_TRUE(condition)`: Expect condition is true.
- `EXPECT_FALSE(condition)`: Expect condition is false.
- `ASSERT_EQ(val1, val2)`: Same as `EXPECT_EQ` but stops the test immediately on failure.

Use `EXPECT_*` if you want the test to continue after a failure; use `ASSERT_*` if not.

---

## 3. Step-by-Step: Writing and Running Your First Test

<Steps>
<Step title="Step 1: Create a Test File">
Create a new C++ source file (e.g., `my_first_test.cc`) in your project’s test directory.
</Step>
<Step title="Step 2: Include GoogleTest Header">
Add the include:

```cpp
#include <gtest/gtest.h>
```

This imports the testing macros and functions you need.
</Step>
<Step title="Step 3: Define a Simple Test">
Define a test in this file using the `TEST` macro. For example:

```cpp
TEST(SampleTest, AddsNumbersCorrectly) {
  EXPECT_EQ(5 + 3, 8);
}
```

This test will pass if 5 + 3 equals 8.
</Step>
<Step title="Step 4: Configure Build to Include Your Test">
Make sure your build system includes your test file and links against GoogleTest libraries.

If using CMake, your `CMakeLists.txt` should include:

```cmake
add_executable(my_first_test my_first_test.cc)
target_link_libraries(my_first_test gtest gtest_main)
```

Then build your test executable.
</Step>
<Step title="Step 5: Run the Test Executable">
Run your test binary from the command line:

```bash
./my_first_test
```

GoogleTest will discover your test, run it, and print the results.

Expected output snippet:

```text
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.AddsNumbersCorrectly
[       OK ] SampleTest.AddsNumbersCorrectly (0 ms)
[----------] 1 test from SampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```
</Step>
</Steps>

### Verification

You have successfully written, compiled, and run your first test if:

- The test binary runs without errors.
- The test case output includes `[  PASSED  ]`.

---

## 4. Practical Tips and Best Practices

- **Name tests descriptively.** Use clear, concise names for test suites and tests reflecting what they verify.
- **Keep tests small and focused.** Each test should verify one behavior or scenario.
- **Use test fixtures when you have setup/teardown code.** See the [Test Fixtures guide](../guides/getting-started/exploring-mock-objects) to extend your tests.
- **Use assertions that best match your intent** (e.g., `EXPECT_TRUE` vs `ASSERT_TRUE`).
- **Avoid over-specifying arguments or conditions** to prevent brittle tests.

<Warning>
Do not call `EXPECT_CALL()` or set expectations after invoking the methods on a mock object. Expectations must be set before exercising the code.
</Warning>

---

## 5. Troubleshooting Common Issues

<AccordionGroup title="Common Problems Running Your First Test">
<Accordion title="Test executable does not run or is not found">
Make sure you:

- Built your test target.
- Have the test binary in the path you are calling it.
- Linked against GoogleTest libraries.

Check build system configuration if issues persist.
</Accordion>
<Accordion title="Test runs but no tests are discovered">
Make sure you:

- Use the GoogleTest macros properly.
- Include `<gtest/gtest.h>`.
- Use the `TEST()` macro to define tests.

Also, verify your test file is part of the build.
</Accordion>
<Accordion title="Assertion failures or unexpected test failures">
Review error messages; if the logic in your test is incorrect, assertions will fail.

Remember:

- `EXPECT_` assertions continue the test on failure.
- `ASSERT_` assertions abort the test on failure.

Running with `--gtest_verbose=info` can provide more details.
</Accordion>
</AccordionGroup>

---

## 6. What’s Next?

After mastering your first basic test:

- Explore how to **write parameterized and typed tests** to reduce duplication. ([Parameterized and Typed Tests](../guides/real-world-workflows/parameterized-and-typed-tests))
- Start using **test fixtures** to manage shared setup and teardown.
- Learn about **mocking dependencies** with GoogleMock to enable interaction-based testing.
- Consult the [Basic Configuration](../getting_started/initial_usage_and_validation/configuration) guide to optimize your test environment.

---

### Additional Resources

- [What is GoogleTest?](../overview/product-introduction/what-is-googletest)
- [Why Use GoogleTest?](../overview/product-introduction/value-proposition)
- [GoogleTest Architecture Overview](../overview/architecture-core-concepts/architecture-diagram)
- [gMock for Dummies](../docs/gmock_for_dummies.md) – if you want to explore mocking concepts

---

## Summary

With these steps, you have laid the foundation for effective unit testing in C++. Writing your first test unlocks the full power of GoogleTest’s rich assertion set and seamless integration into your build and development workflow.

Keep testing, and remember: tests help you ship better, faster software.

---

##### Sample Full Minimal Test Code

```cpp
#include <gtest/gtest.h>

TEST(SimpleMathTests, Addition) {
  EXPECT_EQ(2 + 2, 4);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This code builds and runs a minimal test executable.

---

<Check>
Ensure to run your tests with the flag `--gtest_color=yes` to get colored output in supported terminals, enhancing readability.
</Check>