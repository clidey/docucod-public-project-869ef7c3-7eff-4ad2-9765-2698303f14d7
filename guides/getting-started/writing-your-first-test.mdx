---
title: "Writing Your First Test"
description: "Walks users through creating a basic test case using GoogleTest, defining assertions, and running the tests. Illustrates best practices for organizing test files and interpreting test results."
---

# Writing Your First Test

This guide walks you through creating a basic test case using GoogleTest, defining assertions, and running the tests. It illustrates best practices for organizing test files and interpreting test results to help you quickly start writing effective tests.

---

## 1. What You Will Accomplish

- Write your first simple test case using GoogleTest macros
- Use basic assertions to validate code behavior
- Compile and run your tests, observing success and failure outputs
- Organize your test files for clarity and maintainability
- Understand how to interpret test results and debug failures

---

## 2. Prerequisites

Before you begin this guide, ensure the following:

- GoogleTest and GoogleMock are installed and configured (See [Setup and Installation](../setup-and-installation))
- Your build system includes the necessary compiler flags and links against GoogleTest libraries
- You have a working knowledge of basic C++ syntax

---

## 3. Expected Outcome

By the end of this guide, you will have:

- Created a test source file containing one or more basic test cases
- Used GoogleTest macros such as `TEST` and `ASSERT_*`/`EXPECT_*`
- Compiled and executed tests, understanding the output format
- Gained confidence in writing tests to check your code

---

## 4. Estimated Time

This workflow is beginner-friendly and should take approximately 15-30 minutes.

---

## 5. Step-by-Step Instructions

### Step 1: Create a Test Source File

- Create a new `.cc` or `.cpp` test file in your project directory, for example `sample_test.cc`.

### Step 2: Include GoogleTest Header

Add this line at the top of your test file:

```cpp
#include <gtest/gtest.h>
```

This includes all the necessary GoogleTest declarations.

### Step 3: Write Your First Test Case

Use the `TEST` macro to define a named test case following this syntax:

```cpp
TEST(TestSuiteName, TestName) {
  // Your test logic and assertions here
}
```

For example:

```cpp
TEST(SimpleMathTest, AdditionWorks) {
  int result = 2 + 2;
  EXPECT_EQ(result, 4);  // Test assertion
}
```

Here:

- `SimpleMathTest` is the test suite name grouping related tests
- `AdditionWorks` is the specific test
- `EXPECT_EQ` asserts that the values are equal — failure here will report but continue

### Step 4: Add More Assertions

Basics include:

- `EXPECT_EQ(val1, val2)` / `ASSERT_EQ(val1, val2)` — equality checks
- `EXPECT_TRUE(condition)` / `ASSERT_TRUE(condition)` — Boolean checks

`ASSERT_*` will abort the current test on failure; `EXPECT_*` will continue.

You can add multiple assertions inside the test to check different conditions.

Example:

```cpp
TEST(SimpleMathTest, MultiplicationWorks) {
  EXPECT_EQ(3 * 5, 15);
  ASSERT_TRUE((2 * 2) == 4);
}
```

### Step 5: Compile Your Test

Make sure your build system compiles the test file and links with GoogleTest libraries.

For example, a basic compile command using `g++` could look like:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include \
    -pthread sample_test.cc /path/to/libgtest.a /path/to/libgtest_main.a \
    -o sample_test
```

Refer to your project’s build integration guide ([Configuration & Verification](../setup-and-installation/configuration-verification)) for detailed instructions.

### Step 6: Run Your Test Executable

Run the compiled binary:

```bash
./sample_test
```

You should see output similar to:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from SimpleMathTest
[ RUN      ] SimpleMathTest.AdditionWorks
[       OK ] SimpleMathTest.AdditionWorks (0 ms)
[ RUN      ] SimpleMathTest.MultiplicationWorks
[       OK ] SimpleMathTest.MultiplicationWorks (0 ms)
[----------] 2 tests from SimpleMathTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

This means your tests passed successfully.

### Step 7: Interpret Failures

If an assertion fails, GoogleTest will print a detailed message including:

- File and line number
- Expected and actual values
- Failed test name

Example failure output:

```
sample_test.cc:10: Failure
Expected equality of these values:
  result
    Which is: 5
  4
[  FAILED  ] SimpleMathTest.AdditionWorks
```

You can then fix your code or test accordingly.

### Step 8: Organize Multiple Tests

For larger projects, organize tests into suites by functionality. Use descriptive names for test suites and tests for clarity.

Example:

```cpp
TEST(StringUtilsTest, HandlesEmptyStrings) { ... }
TEST(StringUtilsTest, HandlesNonEmptyStrings) { ... }
```

### Step 9: Use Test Fixtures (Next Step)

When tests share setup or teardown logic, move that into test fixtures (`TEST_F`). This will be covered in subsequent guides.

---

## 6. Practical Tips & Best Practices

- **Choose meaningful test names** describing what they verify.

- **Keep tests small and focused** - one thing per test.

- Use `EXPECT_*` when you want tests to continue after a failure, `ASSERT_*` when continuing is unsafe.

- **Add comments sparingly** - tests should be self-explanatory by names and assertions.

- Group related tests into suites to improve readability.

- Run tests regularly during development to catch regressions early.

- Use the `--gtest_filter` option to run specific tests when needed.

- Use verbose output flags when debugging failing tests.

---

## 7. Common Pitfalls

- Forgetting to link against GoogleTest libraries will cause compilation/link errors.

- Using non-virtual destructors in classes under test can cause subtle bugs; GoogleTest can’t detect this but mock tests (gMock) require virtual destructors.

- Mixing `EXPECT_*` and `ASSERT_*` improperly can cause misleading test behaviors.

- Building tests with an invalid build environment will cause runtime failures.

- Omitting `TEST` or test macros around test functions - GoogleTest relies on them for test discovery.

---

## 8. Sample Basic Test File

```cpp
#include <gtest/gtest.h>

// Tests that addition works as expected.
TEST(SimpleMathTest, AdditionWorks) {
  int result = 2 + 2;
  EXPECT_EQ(result, 4);
}

// Tests multiplication correctness.
TEST(SimpleMathTest, MultiplicationWorks) {
  EXPECT_EQ(3 * 5, 15);
  ASSERT_TRUE((2 * 2) == 4);
}
```

Try compiling and running this example as a starting point.

---

## 9. Troubleshooting

### Issue: Test executable does not compile or link

**Cause:** Missing include paths or libraries.

**Solution:** Confirm include directories and libraries `libgtest.a`, `libgtest_main.a` are correctly specified in your build system.

### Issue: No tests run or test executable exits without running tests

**Cause:** Tests may not be defined correctly.

**Solution:** Verify you use `TEST()` macros properly. The test suite and test names cannot be empty.

### Issue: Tests compile but show failures when run

**Cause:** Assertions failed.

**Solution:** Check your code logic and test expectations. Add logging or use `--gtest_verbose=info`.

### Issue: GoogleTest output too verbose or too silent

**Solution:** Adjust verbosity with `--gtest_verbose` and `--gtest_filter`.

### Issue: Linking errors involving gtest_main

**Solution:** Link with `gtest_main` if you want GoogleTest to provide the main() entry point.

---

## 10. Next Steps

Once comfortable writing and running your first basic tests, proceed to:

- [Running & Validating Tests](../first-test-experience/running-and-validating-tests) to learn how to interpret results and run tests effectively
- [Writing Parameterized and Typed Tests](../../core-workflows/parameterized-tests) for testing multiple data inputs
- Explore [Mocking APIs](../../mocking-apis/mock-classes-methods) for writing mocks and expectations
- Learn advanced testing patterns with fixtures and test lifecycle management

---

## Additional Resources

- Official GoogleTest primer: https://github.com/google/googletest/blob/main/docs/primer.md
- GoogleMock documentation for advanced test doubles
- Community forums and examples on GitHub

---

# Summary Diagram: Basic Test Workflow

```mermaid
flowchart TD
  Start([Start Writing Test]) --> CreateFile[Create Test Source File]
  CreateFile --> IncludeGoogleTest[Include <gtest/gtest.h>]
  IncludeGoogleTest --> WriteTest[Test Using TEST() Macro]
  WriteTest --> Compile[Compile Test Program]
  Compile --> Run[Run Test Executable]
  Run --> Pass{Tests Passed?}
  Pass -->|Yes| Success[Celebrate Success]
  Pass -->|No| Debug[Interpret Failures and Fix Tests]
  Debug --> WriteTest
```

---

<Check>
Remember: Always write tests before or alongside your code. Start simple and build confidence incrementally.
</Check>

---

<Info>
For detailed information on assertions, test fixtures, parameterized tests, and mocking, see the related documentation sections linked above.
</Info>

---

<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "docs/getting-started/first-test-experience/writing-your-first-test.md", "range": "1-100"}]} />