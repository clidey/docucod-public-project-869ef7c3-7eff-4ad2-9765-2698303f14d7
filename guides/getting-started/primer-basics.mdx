---
title: "GoogleTest Primer: Authoring Your First Test"
description: "Walks users through the essential process of writing and running their very first unit test case using GoogleTest, introducing assertions and test structure with clear, runnable examples."
---

# GoogleTest Primer: Authoring Your First Test

Welcome to the essential guide that walks you through writing and running your very first unit test case using GoogleTest. This document will help you understand basic test structure, assertions, and how to execute tests successfully with clear, runnable examples.

---

## What You Will Accomplish

By following this guide, you will:

- Create your first test case using GoogleTest syntax.
- Understand test fixtures and test naming conventions.
- Use assertions to verify the correctness of your code.
- Run tests and interpret the results.

---

## Prerequisites

- Have GoogleTest installed and properly set up in your development environment. See [System Requirements](https://google.github.io/googletest/getting-started/prerequisites-installation/system-requirements) for details.
- Basic knowledge of C++ programming.
- Your project should be set up to include GoogleTest headers and linked against the GoogleTest libraries.

---

## Time Estimate

Completing this guide and successfully running your first test should take approximately 10-15 minutes.

---

## Getting Started: Writing a Simple Test

The key to writing tests in GoogleTest is to use the `TEST` macro to define test cases. Each test case consists of a test suite and a test name.

### Step 1: Include the GoogleTest Header

Start by including the main GoogleTest header in your test source file:

```cpp
#include <gtest/gtest.h>
```

### Step 2: Write Your First Test Case

Use the `TEST` macro with two parameters: the test suite name and the test name. Test names should be descriptive to explain the behavior being tested.

```cpp
TEST(ExampleTest, SimpleAddition) {
  // Test if 2 + 2 equals 4.
  EXPECT_EQ(2 + 2, 4);
}
```

- `ExampleTest` groups related tests.
- `SimpleAddition` indicates what this specific test verifies.
- `EXPECT_EQ` is an assertion that checks equality of two values.

### Step 3: Compile Your Test Program

Make sure to link against GoogleTest and include necessary flags. Example using `g++`:

```bash
g++ -std=c++17 -isystem /path/to/googletest/include \
    -pthread your_test.cc /path/to/libgtest.a /path/to/libgtest_main.a -o your_test
```

Replace `/path/to` with the actual paths on your system.

### Step 4: Run Your Tests

Execute the generated binary:

```bash
./your_test
```

You should see output similar to:

```shell
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTest
[ RUN      ] ExampleTest.SimpleAddition
[       OK ] ExampleTest.SimpleAddition (0 ms)
[----------] 1 test from ExampleTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

---

## Writing More Assertions

GoogleTest offers a variety of assertion macros:

- `EXPECT_EQ(val1, val2)` - tests equality.
- `EXPECT_NE(val1, val2)` - tests inequality.
- `EXPECT_TRUE(condition)` - tests if condition is true.
- `EXPECT_FALSE(condition)` - tests if condition is false.
- `ASSERT_EQ(val1, val2)` - like EXPECT_EQ, but aborts test on failure.

Example:

```cpp
TEST(MathTest, InequalityTest) {
  EXPECT_NE(5, 6);
  EXPECT_TRUE(3 < 5);
  ASSERT_FALSE(false);
}
```

Use `ASSERT_` when further test execution depends on the assertion passing; otherwise use `EXPECT_` to allow test continuity.

---

## Using Test Fixtures

For tests that require common setup and teardown, use test fixtures by defining a class derived from `testing::Test`.

### Step 1: Define the Fixture Class

```cpp
class CalculatorTest : public testing::Test {
 protected:
  void SetUp() override {
    // Code here will run before every test.
  }

  void TearDown() override {
    // Code here will run after every test.
  }
  
  // Objects needed by all tests in this suite.
  int shared_value = 0;
};
```

### Step 2: Write Tests Using the Fixture

Use `TEST_F` macro instead of `TEST`. This links the test to the fixture.

```cpp
TEST_F(CalculatorTest, UsesSharedValue) {
  shared_value = 5;
  EXPECT_EQ(shared_value, 5);
}
```

---

## Running Tests with Filters

GoogleTest supports running specific tests by name:

```bash
./your_test --gtest_filter=ExampleTest.SimpleAddition
```

Use wildcards (`*`) to match multiple tests.

---

## Tips and Best Practices

- **Clear test names:** Use descriptive test and test suite names to clarify intent.
- **One assertion per test:** Keep your tests focused, testing one concept per case.
- **Use `ASSERT_` carefully:** When failure should stop the rest of the test.
- **Leverage test fixtures:** For reusing setup and avoiding duplication.
- **Run tests frequently:** Integrate tests into your workflow early.

---

## Troubleshooting Common Issues

- **Test not detected:** Make sure the test executable links to `gtest_main` or defines `main`.
- **Linker errors:** Verify GoogleTest libraries and include paths.
- **Tests silently passing/failing:** Check that test cases and suites are spelled correctly.
- **Compiler errors in test code:** Confirm usage of C++17 or later and proper headers.

For further troubleshooting, see [Troubleshooting Common Issues](https://google.github.io/googletest/getting-started/troubleshooting-help/common-issues).

---

## Next Steps

Once comfortable with authoring and running tests, explore:

- Writing parameterized tests ([Parameterized and Typed Tests](https://google.github.io/googletest/guides/core-testing-workflows/parameterized-tests)).
- Using test fixtures for more complex setups ([Test Fixtures and Test Organization](https://google.github.io/googletest/guides/core-testing-workflows/test-fixtures-best-practices)).
- Introducing mocking in your tests to simulate dependencies ([Mocking Primer](https://google.github.io/googletest/guides/getting-started/mocking-primer)).

---

## Reference Links

- [GoogleTest Primer - Mocking Tutorial](https://google.github.io/googletest/gmock_for_dummies.html)
- [GoogleTest Assertions Reference](https://google.github.io/googletest/reference/assertions.html)
- [GoogleTest API Overview](https://google.github.io/googletest/reference/api_overview.html)
- [GoogleTest User's Guide](https://google.github.io/googletest/docs/index.html)

---