---
title: "Creating Your First Test"
description: "Learn how to write, build, and run your very first unit test using GoogleTest. This guide covers boilerplate setup, choosing assertion macros, and interpreting test output, ensuring that newcomers can validate basic behavior with minimal friction."
---

# Creating Your First Test

Welcome to GoogleTest! This guide walks you through creating your very first unit test using the framework. You will learn how to write a simple test case, build it, run it, and interpret the output. By following this guide, you will validate your setup and gain confidence to write more complex tests with GoogleTest.

---

## Workflow Overview

### What This Guide Helps You Accomplish

This guide helps you write your first GoogleTest unit test from scratch. It covers:
- Setting up the minimal boilerplate for a test
- Using fundamental GoogleTest macros (`TEST`, `EXPECT_EQ`, etc.)
- Running the test executable
- Interpreting typical test output

You'll master the basics so you can validate your GoogleTest installation and get started adding tests to your C++ project.

### Prerequisites

Before you begin, ensure you have:
- Installed GoogleTest per the [Installing GoogleTest](https://github.com/google/googletest/blob/main/README.md#getting-started) documentation
- Properly configured your build system (e.g., CMake or Bazel) to include and link GoogleTest ([Configuration Setup](https://github.com/google/googletest/blob/main/docs/getting-started/setup-overview/configuration-setup.mdx))
- A C++ project environment ready for compiling and running unit tests

### Expected Outcome

By completing this workflow, you will have:
- Written a simple test case that checks the correctness of a function or behavior
- Built and executed the test executable
- Seen successful and failing assertion outputs
- Learned how to extend tests with GoogleTest macros

### Estimated Time

Plan around 10-20 minutes depending on your familiarity with C++ testing frameworks.

### Difficulty Level

Beginner — This guide assumes basic knowledge of C++ but no prior experience with GoogleTest.

---

## Step-by-Step Instructions

### Step 1: Understand the Test Case Structure

GoogleTest organizes tests into *test suites*, each containing one or more *tests*. Each test is essentially a function that exercises some code and uses assertions to verify correctness.

- Use the `TEST(TestSuiteName, TestName)` macro to define a simple test.
- Test suite and test names must be valid C++ identifiers **without underscores** (underscores are reserved and can cause naming collisions).

Example syntax:
```cpp
TEST(MathTest, Addition) {
  EXPECT_EQ(2 + 2, 4);
}
```

### Step 2: Write Your First Test

Create a C++ source file, e.g., `first_test.cc`. Add the following code:

```cpp
#include <gtest/gtest.h>

// A simple test suite named MathTest with one test called Addition
TEST(MathTest, Addition) {
  // Verify that 2 + 2 equals 4
  EXPECT_EQ(2 + 2, 4);
}
```

- The `EXPECT_EQ(expected, actual)` macro generates a non-fatal failure if values differ.
- You can use various other assertions; see the [Assertions Reference](https://github.com/google/googletest/blob/main/docs/reference/assertions.md) for details.

### Step 3: Add main() Function or Link with gtest_main

GoogleTest provides a default test runner main in the `gtest_main` library, so if you link against it, you don’t need to write your own `main()`.

To write your own main (for customization or learning), use this boilerplate:

```cpp
int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- `InitGoogleTest` initializes GoogleTest and processes command-line flags.
- `RUN_ALL_TESTS` runs all registered tests and returns 0 upon success.

### Step 4: Build Your Test Executable

Depending on your build system, compile and link your test code with GoogleTest libraries:

- For CMake, link to `gtest` and (optionally) `gtest_main`.

Example command line (if compiling manually):
```bash
g++ -std=c++17 first_test.cc -lgtest -lpthread -o first_test
```

- Ensure you link with `pthread` when on POSIX systems.
- If you used your own main, link only `gtest`, otherwise also `gtest_main`.

### Step 5: Run Your Test

Execute the test binary:
```bash
./first_test
```

Typical output for a passing test:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from MathTest
[ RUN      ] MathTest.Addition
[       OK ] MathTest.Addition (0 ms)
[----------] 1 test from MathTest ran. (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

If the assertion fails (e.g., if you test `EXPECT_EQ(2+2, 5)`), the output will show:

```
[ RUN      ] MathTest.Addition
first_test.cc:5: Failure
Expected equality of these values:
  2 + 2
    Which is: 4
  5
[  FAILED  ] MathTest.Addition (0 ms)
```

### Step 6: Extend Your First Tests

- Use `ASSERT_*` macros if failure should abort the test immediately; e.g., `ASSERT_EQ`.
- Use other assertions like `EXPECT_TRUE`, `EXPECT_NE`, or `EXPECT_THROW` as needed.
- For complex tests requiring setup and teardown, use test fixtures with `TEST_F` (covered in later guides).

### Step 7: Clean Up and Organize

- Group related tests into suites by using the same `TestSuiteName`.
- Avoid underscores in suite or test names to prevent naming collisions.
- Name your tests clearly to communicate intent.

---

## Practical Tips & Best Practices

- Always return the result of `RUN_ALL_TESTS()` from your `main()` to correctly propagate test failures.
- Use `EXPECT_` macros for nonfatal checks so multiple failures can be reported together.
- Use `ASSERT_` macros when a failure should stop further execution in the test.
- Avoid underscores in test suite and test names to evade hidden GoogleTest restrictions and future issues. (See [FAQ on underscores](https://github.com/google/googletest/blob/main/docs/faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore))
- Use `SCOPED_TRACE` to add helpful context when debugging failures in helper functions.

---

## Example: Simple Factorial Test

```cpp
#include <gtest/gtest.h>

int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n-1);
}

TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(5), 120);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run as described in earlier steps.

---

## Troubleshooting & Common Issues

- **Tests Not Running or Not Found:** Confirm you called `InitGoogleTest()` before `RUN_ALL_TESTS()`.
- **Compiler Errors on TEST_F:** Make sure you have a default constructor in your fixture class.
- **Underscore Usage Errors:** Avoid underscores in test or suite names; follow naming rules.
- **Ignoring RUN_ALL_TESTS() Return Value:** This causes compiler errors; always return its result from `main()`.
- **Linker Errors:** Ensure GoogleTest libraries and dependencies like pthread are linked correctly.

If you encounter other issues, consult the [FAQ](https://github.com/google/googletest/blob/main/docs/faq.md) and [Troubleshooting Guide](https://github.com/google/googletest/blob/main/docs/getting-started/troubleshooting-and-validation/common-issues.mdx).

---

## Next Steps & Related Guides

Once you have mastered writing and running simple tests, consider exploring:

- [Mastering Assertions](https://github.com/google/googletest/blob/main/guides/getting-started-testing/assertion-mastery.mdx) to learn more about assertion macros and writing robust checks.
- [Test Discovery and Execution](https://github.com/google/googletest/blob/main/guides/getting-started-testing/test-discovery-execution.mdx) for controlling test runs and filters.
- [Using Test Fixtures](https://github.com/google/googletest/blob/main/docs/primer.md#test-fixtures) to organize tests with common setup and teardown.
- [Parameterized and Typed Tests](https://github.com/google/googletest/blob/main/guides/advanced-testing-patterns/parameterized-and-typed-tests.mdx) to run tests over multiple input variations efficiently.

---

## References

- Official GoogleTest GitHub repository: [https://github.com/google/googletest](https://github.com/google/googletest)
- GoogleTest Primer: [docs/primer.md](https://github.com/google/googletest/blob/main/docs/primer.md)
- Assertions Reference: [docs/reference/assertions.md](https://github.com/google/googletest/blob/main/docs/reference/assertions.md)
- FAQ: [docs/faq.md](https://github.com/google/googletest/blob/main/docs/faq.md)
- Installation guides: [docs/getting-started/setup-overview/installation.mdx](https://github.com/google/googletest/blob/main/docs/getting-started/setup-overview/installation.mdx)

---

Start small, iterate, and soon you'll be writing comprehensive test suites that improve your C++ project's reliability and maintainability with GoogleTest!