---
title: "Parameterized and Type-Parameterized Tests"
description: "Practical guide to writing tests that run over multiple values or types. Includes use cases for value-parameterized and type-parameterized tests and explains how to leverage them to maximize test coverage and reduce duplication."
---

# Parameterized and Type-Parameterized Tests

## Workflow Overview

### Task Description
This guide helps you write tests in GoogleTest that automatically run over multiple input values or types. It covers both value-parameterized and type-parameterized tests, showing how to use them to increase test coverage efficiently and reduce duplication.

### Prerequisites
- Basic familiarity with GoogleTest, including writing simple tests with the `TEST` macro.
- Access to the GoogleTest framework includes (`#include <gtest/gtest.h>`).
- Understanding of C++ templates will be helpful, especially for type-parameterized tests.

### Expected Outcome
By completing this guide, you will be able to:
- Define and implement value-parameterized test fixtures that run tests over various data inputs.
- Instantiate tests with different parameter sets using built-in generators.
- Define typed test suites that run the same tests over multiple types.
- Create type-parameterized test patterns and instantiate them flexibly.
- Customize test parameter names for clarity in test reports.

### Time Estimate
Around 20-30 minutes to understand concepts and implement sample tests.

### Difficulty Level
Intermediate

---

## Step-by-Step Instructions

### 1. Writing Value-Parameterized Tests
Value-parameterized tests allow running the same test logic with different parameter values.

#### a. Define a Test Fixture Class
Your fixture class should derive from `testing::TestWithParam<T>`, where `T` is the parameter type.

```cpp
class FooTest : public testing::TestWithParam<int> {
  // Optional: members and setup
};
```

#### b. Write Parameterized Tests with `TEST_P`
Use `TEST_P` macro to write tests that receive a parameter via `GetParam()`.

```cpp
TEST_P(FooTest, HandlesPositive) {
  int val = GetParam();
  EXPECT_GT(val, 0);
}
```

#### c. Instantiate Tests with Parameter Sets
Use `INSTANTIATE_TEST_SUITE_P` to create instances with specific parameter values.

```cpp
INSTANTIATE_TEST_SUITE_P(
    PositiveValues, FooTest, testing::Values(1, 2, 3));
```

Parameters may come from:
- `Values(v1, v2, ...)`
- `ValuesIn(container_or_array)`
- `Range(start, end, step)`
- `Bool()` for boolean tests
- `Combine(...)` to create Cartesian products of parameters

#### d. Access Test Names and Filtering
Each instantiated test is named as `<InstantiationName>/<TestSuiteName>.<TestName>/<index>`. You can filter specific tests using `--gtest_filter`.

---

### 2. Defining Typed Tests
Typed tests repeat the same set of tests for multiple types.

#### a. Define a Fixture Class Template
Write a fixture class template parameterized on a type `T`.

```cpp
template <typename T>
class NumericTest : public testing::Test {
 public:
  T value_ = T();
};
```

#### b. Specify the List of Types
Create a type list using `testing::Types<...>`.

```cpp
using MyTypes = testing::Types<int, double, char>;
```

#### c. Register the Type List with the Fixture
Use `TYPED_TEST_SUITE`:

```cpp
TYPED_TEST_SUITE(NumericTest, MyTypes);
```

#### d. Write Typed Tests with `TYPED_TEST`
Use the macro `TYPED_TEST` to write tests. Access the type parameter with `TypeParam`.

```cpp
TYPED_TEST(NumericTest, IsDefaultZero) {
  TypeParam val = this->value_;
  EXPECT_EQ(val, TypeParam());
}
```

---

### 3. Creating Type-Parameterized Tests
Type-parameterized tests enable defining test patterns that can be instantiated multiple times with different type lists.

#### a. Define a Fixture Class Template
Like typed tests, create a fixture template.

```cpp
template <typename T>
class FooTest : public testing::Test {
  void DoSomething();
};
```

#### b. Declare a Type-Parameterized Test Suite
Use `TYPED_TEST_SUITE_P(FooTest);` to declare the suite.

#### c. Write Type-Parameterized Tests
Use `TYPED_TEST_P` to define tests referencing `TypeParam`.

```cpp
TYPED_TEST_P(FooTest, DoesBlah) {
  TypeParam n = 0;
  this->DoSomething();
}
```

Define as many tests as needed.

#### d. Register Your Tests
Use `REGISTER_TYPED_TEST_SUITE_P` to register the names of your tests.

```cpp
REGISTER_TYPED_TEST_SUITE_P(FooTest, DoesBlah);
```

#### e. Instantiate With Type Lists
Finally, instantiate the suite with type lists or single types.

```cpp
using MyTypes = testing::Types<char, int>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, FooTest, MyTypes);
```

You can instantiate the same pattern multiple times with different type lists.

---

### 4. Customizing Parameter Names
To improve readability in test results, especially for complex parameter types, provide a custom naming function in `INSTANTIATE_TEST_SUITE_P`.

```cpp
INSTANTIATE_TEST_SUITE_P(
    MyGroup, FooTest, testing::Values("a", "b"),
    [](const testing::TestParamInfo<FooTest::ParamType>& info) {
      return "Name" + std::to_string(info.index);
    });
```

For typed and type-parameterized tests, you can also specify a `NameGenerator` class when declaring suites.

---

## Examples

### Example: Value-Parameterized Test of Even Number Checker

```cpp
class EvenTest : public testing::TestWithParam<int> {};

TEST_P(EvenTest, IsEven) {
  int val = GetParam();
  EXPECT_EQ(val % 2, 0) << val << " is not even";
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, EvenTest, testing::Values(2, 4, 6, 8));
```

### Example: Typed Test for Container Types

```cpp
template <typename T>
class ContainerTest : public testing::Test {
 public:
  T container_;
};

using MyContainers = testing::Types<std::vector<int>, std::list<int>>;
TYPED_TEST_SUITE(ContainerTest, MyContainers);

TYPED_TEST(ContainerTest, IsInitiallyEmpty) {
  EXPECT_TRUE(this->container_.empty());
}
```

### Example: Type-Parameterized Test with Registration and Instantiation

```cpp
template <typename T>
class MathTest : public testing::Test {};

TYPED_TEST_SUITE_P(MathTest);

TYPED_TEST_P(MathTest, ZeroIsNeutral) {
  TypeParam zero = static_cast<TypeParam>(0);
  EXPECT_EQ(zero + zero, zero);
}

REGISTER_TYPED_TEST_SUITE_P(MathTest, ZeroIsNeutral);

using TestTypes = testing::Types<int, float>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInst, MathTest, TestTypes);
```

---

## Troubleshooting & Tips

### Common Issues

- **Test Suite Does Not Run:** Check you have instantiated your tests properly with `INSTANTIATE_TEST_SUITE_P` or `INSTANTIATE_TYPED_TEST_SUITE_P`. Uninstantiated parameterized tests cause failures.

- **Cannot Access Parameter:** Inside `TEST_P` or `TYPED_TEST`, use `GetParam()` or `TypeParam` respectively. Forgetting these is a common mistake.

- **Test Name Collisions:** Avoid underscores in test suite and test names. Underscores are reserved for special GoogleTest use.

- **Compilation Errors:** Ensure your fixture classes have default constructors and comply with GoogleTest expectations.

- **Dangling Reference in Parameter Generator:** Be careful when using lambdas with `ConvertGenerator` and string views, to avoid references to local variables that outlive their scope.

### Best Practices

- Use `TEST_P` for testing with multiple runtime-generated data values.
- Use typed tests when the same behavior should hold across a fixed set of types.
- Use type-parameterized tests when defining reusable test patterns for arbitrary type lists.
- Provide descriptive names for parameter values for easier identification in test results.
- When combining multiple parameters, use `Combine()` to create a Cartesian product of test inputs.

### Performance Considerations
- Instantiating very large parameter sets can increase test runtime; limit parameter sets to meaningful values.
- Use `GTEST_SKIP()` to conditionally skip certain test parameters if needed.

---

## Next Steps & Related Content

- Explore [Assertions and Test Validation](../core-testing-workflows/assertions-best-practices) to deepen your assertion skills.
- Learn about [Using Death Tests for Robustness](../core-testing-workflows/death-tests) to test failure modes.
- Check out [Setting Up and Integrating GoogleTest](../getting-started/setup-integration) for build and integration guidance.

---

## References

- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests)
- [Typed Tests](../advanced.md#typed-tests)
- [Type-Parameterized Tests](../advanced.md#type-parameterized-tests)
- [INSTANTIATE_TEST_SUITE_P reference](../reference/testing.md#INSTANTIATE_TEST_SUITE_P)
- [TYPED_TEST, TYPED_TEST_SUITE reference](../reference/testing.md#TYPED_TEST)
- [TYPED_TEST_P, REGISTER_TYPED_TEST_SUITE_P references](../reference/testing.md#TYPED_TEST_P)

---

For concrete examples and more details, see Google's [googletest-param-test-test.cc](https://github.com/google/googletest/blob/main/googletest/test/googletest-param-test-test.cc) and [gtest-typed-test_test.cc](https://github.com/google/googletest/blob/main/googletest/test/gtest-typed-test_test.cc) in the GitHub repository.

---
