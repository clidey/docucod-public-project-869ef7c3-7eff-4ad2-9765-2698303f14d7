---
title: "Writing Your First Test"
description: "A step-by-step tutorial walking you through creating your first unit test using GoogleTest, explaining core terminology, test case structure, and running tests from the command line. Includes a simple real-world example with hands-on code to reinforce concepts."
---

# Writing Your First Test

Welcome to your guided tutorial on writing your first unit test using GoogleTest. This step-by-step approach will help you understand key terminology, the structure of a test case, and how to execute your tests from the command line. We'll use a straightforward real-world example to solidify concepts and get you confidently started.

---

## 1. What You Will Learn

- Understand the basic terms used in GoogleTest unit testing.
- Structure and write a simple test case.
- Run your test from the command line and verify the output.
- Gain practical confidence with hands-on coding.

---

## 2. Prerequisites

Before starting, ensure the following are ready:

- GoogleTest is installed and configured in your development environment.
- A C++ project set up for building and linking with GoogleTest.
- Basic familiarity with C++ programming.
- Access to a terminal or command-line environment for building and running tests.

If you need help with setup, refer to the [Basic Configuration guide](/getting-started/initial-configuration-validation/basic-configuration).

---

## 3. Expected Outcome

By the end of this tutorial, you will have:

- Written a simple test case using GoogleTest.
- Run the test from the command line.
- Seen the output and understood basic test verification.

---

## 4. Estimated Time

Completing this tutorial should take approximately 15â€“30 minutes.

---

## 5. Writing Your First Test: Step-by-Step

### Step 1: Include GoogleTest Header

Begin by including the main GoogleTest header in your test file. This is required to use the testing framework:

```cpp
#include <gtest/gtest.h>
```

This provides access to all core GoogleTest functionalities, including macros for defining tests.

### Step 2: Define a Test Case

Use the `TEST` macro to define a test case. The macro takes two parameters: a test suite name and a test name. Here's a minimal example:

```cpp
TEST(SampleTest, AdditionWorks) {
  EXPECT_EQ(2 + 2, 4);
}
```

- `SampleTest` is the test suite grouping related tests.
- `AdditionWorks` is the individual test name.
- Inside the block, an assertion checks that `2 + 2` equals `4`.

### Step 3: Use Assertions

GoogleTest includes powerful assertion macros to validate conditions. The commonly used ones are:

- `EXPECT_EQ(val1, val2)`: Asserts that `val1 == val2`.
- `EXPECT_NE(val1, val2)`: Asserts `val1 != val2`.
- `EXPECT_TRUE(cond)`: Asserts that condition `cond` is true.
- `EXPECT_FALSE(cond)`: Asserts condition is false.

Within your test, you can use these to verify your code's behavior.

### Step 4: Compile Your Test

Compile your test file linking against the GoogleTest libraries. Example using `g++`:

```bash
g++ -std=c++17 -isystem <gtest_include_path> -pthread your_test.cc -L<gtest_lib_path> -lgtest_main -lgtest -o your_test
```

Replace `<gtest_include_path>` and `<gtest_lib_path>` with the actual paths where GoogleTest is installed.

### Step 5: Run the Test

Execute the compiled test binary:

```bash
./your_test
```

The output will display results indicating passed and failed tests, for example:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from SampleTest
[ RUN      ] SampleTest.AdditionWorks
[       OK ] SampleTest.AdditionWorks (0 ms)
[----------] 1 test from SampleTest (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

### Step 6: Interpret Results

- `PASSED` indicates your test was successful.
- Failures would be reported with details to help you debug.

---

## 6. A Complete Example

Here is a complete C++ test file you can use directly to create and run your first test.

```cpp
#include <gtest/gtest.h>

// A simple test to verify arithmetic
TEST(ArithmeticTest, BasicAddition) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_EQ(2 + 2, 4);
  EXPECT_NE(2 + 2, 5);
}
```

Steps to compile and run:

```bash
g++ -std=c++17 -isystem /usr/local/include -pthread first_test.cc -L/usr/local/lib -lgtest_main -lgtest -o first_test
./first_test
```

Adjust include and library paths as relevant.

---

## 7. Practical Tips & Best Practices

- Always write clear and concise test names.
- Use assertions that best describe your expected outcome.
- Keep your tests independent and focused on a single behavior.
- Use `EXPECT_` macros when you want tests to continue after failure, and use `ASSERT_` macros if subsequent code should not run after a failure.
- Group related tests into the same test suite for better organization.

---

## 8. Troubleshooting Common Issues

### Test Not Running

- Ensure your test binary is linked with `-lgtest_main` or you have your own main.
- Confirm GoogleTest initialization by calling `testing::InitGoogleTest(&argc, argv);` if you write a custom main.

### Header Files Not Found

- Verify include paths to GoogleTest headers are correct.

### Linking Errors

- Ensure linker paths include GoogleTest libraries.

### Test Failures

- Read failure messages carefully. GoogleTest provides detailed output.
- Use `--gtest_break_on_failure` flag to stop on first failure for debugging.

---

## 9. Next Steps

Once you master writing and running your first test, explore these topics:

- Writing parameterized tests.
- Using test fixtures to share setup.
- Integrating GoogleMock for mocking dependencies.
- Advanced assertions and matchers.

Refer to the following documentation for deeper dives:

- [GoogleTest Primer](./primer.md) - for simple tests and basic usage.
- [Using Death Tests](./death-tests.md) - for testing fatal behavior.
- [gMock Cookbook](./gmock_cook_book.md) - for mock object guidance.

---

## 10. Additional Resources

- Official GoogleTest GitHub: https://github.com/google/googletest
- GoogleMock Documentation for mocking: [https://google.github.io/googletest/gmock_for_dummies.html](https://google.github.io/googletest/gmock_for_dummies.html)
- GoogleTest FAQ: [faq.md](./faq.md)

---

## Summary

Writing your first test with GoogleTest unlocks the powerful unit testing framework for C++ with minimal setup. This tutorial equips you with the essentials: including headers, defining tests, compiling, and running them successfully. You gain practical insights to move forward confidently into more complex testing scenarios.

---

# Appendix: Sample Command-Line Run Output

```plaintext
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ArithmeticTest
[ RUN      ] ArithmeticTest.BasicAddition
[       OK ] ArithmeticTest.BasicAddition (0 ms)
[----------] 1 test from ArithmeticTest (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

# End of Guide
