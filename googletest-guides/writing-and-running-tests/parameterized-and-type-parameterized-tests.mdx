---
title: "Parameterized and Type-Parameterized Tests"
description: "Shows how to use value- and type-parameterized tests to efficiently test code over a range of inputs or data types. Includes practical examples for refactoring and maximizing test coverage."
---

# Parameterized and Type-Parameterized Tests

Efficiently extending your test coverage across a range of input values or data types is a key to robust and scalable testing. This guide demonstrates how to leverage GoogleTest's value-parameterized and type-parameterized tests to write reusable test patterns that systematically validate your code against multiple parameters or types with minimal repetition.

---

## Understanding Parameterized Testing

*Parameterized tests* apply the same test logic repeatedly over a set of parameters.

- **Value-Parameterized Tests**: Run a test suite over a set of input values.
- **Type-Parameterized Tests**: Run a test suite over a set of types.

Using these techniques improves maintainability, reduces boilerplate, and ensures broader validation.

---

## 1. Value-Parameterized Tests (Testing Over Multiple Inputs)

### Workflow Overview

- **Goal**: Efficiently test code behavior across various input values without duplicating test logic.
- **Prerequisites**: Familiarity with test fixtures; include `#include <gtest/gtest.h>`.
- **Outcome**: One test suite automates running multiple test instances with different parameters.
- **Time Estimate**: 10-20 minutes to set up and understand.
- **Difficulty Level**: Intermediate.

### Step-by-Step Instructions

1. **Define a Test Fixture Inheriting from `testing::TestWithParam<T>`**
   - Use `T` as the parameter type (can be basic types, classes, tuples, etc.).

```cpp
class MyValueParamTest : public ::testing::TestWithParam<int> {
  // Fixture setup if needed
};
```

2. **Define Parameterized Tests Using `TEST_P` Macro**
   - Access the test parameter via `GetParam()`.

```cpp
TEST_P(MyValueParamTest, IsEven) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0) << "Value " << value << " is not even";
}
```

3. **Instantiate the Test Suite with Parameters Using `INSTANTIATE_TEST_SUITE_P` Macro**
   - Use provided parameter generators (e.g., `Values()`, `Range()`, `ValuesIn()`, `Bool()`, `Combine()`).

```cpp
INSTANTIATE_TEST_SUITE_P(
  EvenNumbers,
  MyValueParamTest,
  ::testing::Values(2, 4, 6, 8),
  ::testing::PrintToStringParamName());  // Optional naming function
```

### Expected Outcome

- GoogleTest creates individual test cases for each parameter value.
- Test report shows each parameterized test instance with a unique suffix and parameter value.

### Practical Tips

- Use `PrintToStringParamName` or write a custom name generator to produce readable test names.
- Complex parameters can be grouped via `std::tuple` and combined with `Combine()` generator.
- Add `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` if you want to avoid instantiation failures when referenced but not instantiated.

### Common Pitfalls

- Forgetting to instantiate tests causes linker-time or runtime failures.
- Using parameters with types that lack proper `operator<<` or `PrintToString()` leads to poor test output.

### Example

```cpp
class AnimalTest : public ::testing::TestWithParam<std::string> {};

TEST_P(AnimalTest, IsNotEmpty) {
  EXPECT_FALSE(GetParam().empty());
}

INSTANTIATE_TEST_SUITE_P(AnimalStrings, AnimalTest, 
                         ::testing::Values("cat", "dog", "bird"),
                         ::testing::PrintToStringParamName());
```

---

## 2. Type-Parameterized Tests (Testing Across Multiple Types)

### Key Concept

Write a test suite templated on a type, letting you define generic tests that the framework runs separately for all specified types.

### Workflow Overview

- **Goal**: Verify your code behaves consistently across several types.
- **Prerequisites**: Knowledge of C++ templates; include `#include <gtest/gtest.h>`.
- **Outcome**: One set of tests parameterized by types run like separate suites.
- **Time Estimate**: 15-30 minutes.
- **Difficulty Level**: Intermediate to Advanced.

### Step-by-Step Instructions

1. **Define a Test Fixture Class Template Parameterized on a Type**
   - Derive it from `testing::Test`.

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
  // Members and setup
};
```

2. **Associate a List of Types with the Test Suite Using `TYPED_TEST_SUITE` Macro**
   - Define a type list using `::testing::Types<...>`.

```cpp
using MyTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

3. **Define Typed Tests Using `TYPED_TEST` Macro**
   - Refer to the current type via the name `TypeParam`.

```cpp
TYPED_TEST(MyTypedTest, ValuesDefaultToZero) {
  TypeParam value{};  // default constructed
  EXPECT_EQ(value, TypeParam{});
}
```

### Expected Outcome

- Typed tests repeat for each specified type, producing separate results and statistics.

### Best Practices

- Use typedefs or `using` for type lists to keep code readable.
- Optionally provide a custom `NameGenerator` class to produce friendly suite suffixes.
- Static members and typedefs in the fixture are accessible as `TestFixture::` members.

### Common Pitfalls

- Forgetting to use the correct `TYPED_TEST_SUITE` and `TYPED_TEST` macros.
- Not providing a proper default constructor for types under test.
- Naming collisions if multiple typed suites use the same test names improperly.

### Example

```cpp
template <typename T>
class ArithmeticTest : public ::testing::Test {
 public:
  T value_ = 1;
};

using MyNumericTypes = ::testing::Types<int, double, long>;
TYPED_TEST_SUITE(ArithmeticTest, MyNumericTypes);

TYPED_TEST(ArithmeticTest, AdditionWorks) {
  TypeParam val = this->value_ + TypeParam(2);
  EXPECT_GT(val, this->value_);
}
```

---

## 3. Type-Parameterized Tests with Deferred Instantiation

Sometimes you want to define test patterns without knowing the exact types upfront. This is handled by *type-parameterized test suites* where test definitions and test instantiations are separated.

### How to Use

1. Use `TYPED_TEST_SUITE_P` to declare the suite.
2. Use `TYPED_TEST_P` to define the tests.
3. Register the tests with `REGISTER_TYPED_TEST_SUITE_P`.
4. Instantiate the test suite with `INSTANTIATE_TYPED_TEST_SUITE_P`.

### Example

```cpp
template <typename T>
class AbstractTest : public ::testing::Test {};

TYPED_TEST_SUITE_P(AbstractTest);

TYPED_TEST_P(AbstractTest, DoesSomething) {
  TypeParam a{};
  EXPECT_TRUE(true);  // Replace with real test
}

REGISTER_TYPED_TEST_SUITE_P(AbstractTest, DoesSomething);

using Implementations = ::testing::Types<int, float>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyImpls, AbstractTest, Implementations);
```

---

## Troubleshooting & Tips

- Always instantiate your parameterized test suites to avoid build or runtime errors.
- For complex parameters or types, implement custom `operator<<` or `PrintToString` to get clear test output.
- Use custom test-naming functors or lambdas for meaningful test names, especially with tuples or user-defined types.
- Value generators execute during `InitGoogleTest()`, so ensure any dynamic values are available at this point.
- Mark test suites with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` to suppress errors when no instantiation is necessary.

---

## Next Steps & Related Content

- **Writing Your First Test:** Understand basic test creation and fixture usage.
- **Core Testing Workflows:** Learn practical patterns for writing and running tests.
- **Assertions and Best Practices:** Deepen your understanding of assertions used in parameterized tests.
- **Mocking and Advanced Patterns:** Explore integration with mock objects for parameterized test scenarios.

---

## Additional References

- [GoogleTest Primer](../../googletest-guides/getting-started/primer) — for fundamental concepts.  
- [Value-Parameterized Tests](../advanced.md#value-parameterized-tests) — advanced scenarios and examples.  
- [Typed Tests](../advanced.md#typed-tests) — detailed discussion on typed testing.
- [Testing Reference (Parameter Macros)](../reference/testing.md#TEST_P) — detailed API guidance.
- [Naming Parameterized Tests](../advanced.md#specifying-names-for-value-parameterized-test-parameters) — tips on naming conventions.

---

Start maximizing test coverage today by converting repetitive tests into concise, maintainable parameterized and type-parameterized tests!
