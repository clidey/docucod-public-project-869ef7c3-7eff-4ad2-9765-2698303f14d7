---
title: "Test Discovery & Running Tests"
description: "Answers common questions about automatically finding and executing tests, handling test order and filtering, and interpreting test results. Designed to demystify how GoogleTest discovers, runs, and reports on your tests."
---

# Test Discovery & Running Tests

This page answers common questions about how GoogleTest automatically finds and runs tests, controls test execution order, applies filtering, and reports test outcomes. It is designed to demystify the process so you can effectively manage your tests and interpret results.

---

## 1. How does GoogleTest discover tests automatically?

GoogleTest automatically discovers tests by registering them at runtime when you use the macros `TEST()`, `TEST_F()`, `TEST_P()`, `TYPED_TEST()`, and others. You do not need to list tests explicitly.

- When your test program runs, these macros register the tests with GoogleTest's internal registry.
- Calling `RUN_ALL_TESTS()` runs all the registered tests in the order of registration.

This automatic registration means you simply write your tests anywhere in your source files and they become available to run without extra boilerplate.

### Example

```cpp
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST_F(MyFixture, DoesSomething) {
  ...
}
```

No manual enumeration of tests is needed.

---

## 2. How to run tests programmatically?

The main entry point in your test executable should look like this:

```cpp
int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);  // Parses flags
  return RUN_ALL_TESTS();                // Runs all tests
}
```

- `InitGoogleTest()` initializes the framework and parses any GoogleTest-specific command-line flags.
- `RUN_ALL_TESTS()` runs all registered tests and returns `0` if all pass, or `1` otherwise.

> **Important:** You must call `InitGoogleTest()` before `RUN_ALL_TESTS()`, and you should **not** ignore the return value of `RUN_ALL_TESTS()`.

---

## 3. How can I run only a subset of tests?

GoogleTest allows you to run subsets of your tests by using *filters* on the test names via the `--gtest_filter` flag.

- The filter matches the *full names* of tests, which are `TestSuiteName.TestName`.
- Wildcards (`*`) and negative patterns (`-`) can be used.

### Usage Examples

- Run only tests starting with `FooTest`:

  ```
  ./my_tests --gtest_filter=FooTest.*
  ```

- Run only a specific test:

  ```
  ./my_tests --gtest_filter=MathTest.Addition
  ```

- Run tests that match a pattern but exclude some tests:

  ```
  ./my_tests --gtest_filter=FooTest.*-FooTest.SkipThis
  ```

---

## 4. Can I control the order in which tests run?

GoogleTest runs tests in the order they are registered, which is typically the order in which their source files are linked.

- By default, test order is generally not guaranteed. To get a deterministic order, run tests in a repeatable environment or control linking order.
- Use `--gtest_shuffle` flag to randomize test order.
- Use `--gtest_repeat=N` to repeat tests multiple times.
- Use `--gtest_random_seed=SEED` to specify the random seed for shuffling.

This flexibility allows you to detect hidden dependencies between tests or confirm test isolation.

---

## 5. How are test suites and test fixtures managed?

- Each test belongs to a *test suite* (formerly called test case), which is the first argument in `TEST()` or the name of the test fixture class in `TEST_F()`.
- Tests within the same suite can share a fixture class for setup/teardown via `SetUp()` and `TearDown()`.

GoogleTest creates a *fresh* fixture instance for each test ensuring test isolation.

---

## 6. How can I skip tests at runtime?

You can skip tests or entire suites dynamically by calling `GTEST_SKIP()` inside a test or test fixture setup.

Example:

```cpp
TEST(FooTest, MaySkip) {
  if (!IsFeatureAvailable()) {
    GTEST_SKIP() << "Skipping because feature not available";
  }
  ...
}
```

Skipped tests will be reported as skipped, not as failures.

---

## 7. How can I add custom properties or metadata to tests?

Use the static method `testing::Test::RecordProperty()` within your tests or fixtures to record key-value properties for a test.

Example:

```cpp
TEST(MyTest, CustomProperty) {
  testing::Test::RecordProperty("priority", "high");
  ...
}
```

These properties appear in XML test reports.

---

## 8. How to interpret test results and metrics?

After `RUN_ALL_TESTS()` completes, GoogleTest provides:

- Summary counts: number of tests run, passed, failed, skipped.
- Per-test results including location and failure messages if tests failed.

Test and test suites provide APIs to query results programmatically using classes like `TestInfo`, `TestSuite`, and `UnitTest`.

Example:

```cpp
const testing::UnitTest* unit_test = testing::UnitTest::GetInstance();
int failed_tests = unit_test->failed_test_count();
```

This can help build custom test reporters or dashboards.

---

## 9. How to define and instantiate parameterized tests?

Parameterized tests run the same test logic with different parameters.

- Use `TEST_P()` to define parameterized tests.
- Instantiate them with `INSTANTIATE_TEST_SUITE_P()` and parameter generators like `Values()`, `Range()`, `Combine()`, etc.

Example:

```cpp
class MyParamTest : public ::testing::TestWithParam<int> {};

TEST_P(MyParamTest, HandlesParam) {
  int param = GetParam();
  ...
}

INSTANTIATE_TEST_SUITE_P(MyInts, MyParamTest, ::testing::Values(1, 2, 3));
```

This feature allows broad test coverage with concise test code.

---

## 10. How can I write typed tests?

Typed tests allow writing test suites that run the same tests on different types.

- Define a fixture class template.
- Use `TYPED_TEST_SUITE()` to list types.
- Use `TYPED_TEST()` to write test bodies.
- Instantiate via the macro expansion.

Example:

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {
 public:
  T value_;
};

using MyTypes = ::testing::Types<int, double, char>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);

TYPED_TEST(MyTypedTest, DoesSomething) {
  // Inside test, TypeParam refers to the current type.
  TypeParam v = this->value_;
  ...
}
```

This is useful for testing generic code.

---

## 11. Can I register tests dynamically at runtime?

Yes, use `testing::RegisterTest()` to register tests programmatically.

This is an advanced use case, useful for generating tests from runtime data or for frameworks embedding GoogleTest.

---

## Troubleshooting Tips

### Test Not Found or Runs No Tests
- Ensure that your code calls `InitGoogleTest()` before `RUN_ALL_TESTS()`.
- Confirm tests are linked into your executable.
- Check test names and filters.

### Test Order Is Unpredictable
- Control the linking order of your test files.
- Use `--gtest_shuffle` to explicitly randomize.

### Skipped Tests
- Use `GTEST_SKIP()` for runtime skipping.
- Verify test fixture setup is not failing silently.

### Parameterized Test Instantiation Errors
- Confirm your `INSTANTIATE_TEST_SUITE_P()` usage matches the test fixture.
- Check parameter types and generator compatibility.

---

## Useful Flags

- `--gtest_filter=FILTER` — Run subset of tests
- `--gtest_repeat=N` — Repeat tests N times
- `--gtest_shuffle` — Randomize test order
- `--gtest_random_seed=SEED` — Specify randomization seed
- `--gtest_break_on_failure` — Break on first failure (for debuggers)

---

## References & Next Steps

- [Test Discovery and Structure](/api-reference/core-testing-apis/test-discovery-and-structure): deeper details of test registration and suite grouping.
- [Writing & Running Your First Test](/guides/getting-started/writing-first-test): practical tutorial from scratch.
- [Assertions Reference](/api-reference/core-testing-apis/assertion-macros): learn to validate code behavior within tests.
- [Parameterized Tests](/advanced.md#value-parameterized-tests): guide to parameterizing tests.

Explore these resources to deepen understanding and mastery of test definition, discovery, and execution.

---

<Info>
This page is part of the Getting Started and Core Testing API Reference section. It complements guides on writing tests, mocking APIs, and assertion macros.
</Info>
