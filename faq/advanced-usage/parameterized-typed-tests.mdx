---
title: "Working with Parameterized and Typed Tests"
description: "Frequently asked questions and troubleshooting help for value-parameterized and type-parameterized tests, including macro usage, instantiation patterns, and resolving related compilation or runtime errors."
---

# FAQ: Working with Parameterized and Typed Tests

Welcome to the comprehensive FAQ for working with value-parameterized and type-parameterized tests in GoogleTest. This guide answers your common questions, clarifies macro usage, illustrates instantiation patterns, and helps you resolve typical compilation and runtime errors related to these powerful testing features.

---

## 1. Understanding Parameterized and Typed Tests

### What are value-parameterized tests?
Value-parameterized tests let you write a single test logic and run it automatically with multiple input values. This avoids duplicating test code for different inputs.

### What are type-parameterized tests?
Type-parameterized tests allow you to reuse the same test logic for multiple C++ types, ensuring your code correctly works across a suite of types without rewriting tests.

### How do these tests fit into the GoogleTest framework?
- **Value-parameterized tests** use `TEST_P` to define tests and `INSTANTIATE_TEST_SUITE_P` to provide sets of input values.
- **Typed tests** use `TYPED_TEST_SUITE` and `TYPED_TEST` to define type lists and tests.
- **Type-parameterized tests** use `TYPED_TEST_SUITE_P`, `TYPED_TEST_P`, `REGISTER_TYPED_TEST_SUITE_P`, and `INSTANTIATE_TYPED_TEST_SUITE_P` to create reusable type test patterns that can be instantiated multiple times.

---

## 2. Macros and Usage Patterns

### How to define a value-parameterized test fixture?
Derive your fixture from `::testing::TestWithParam<T>`, where `T` is the parameter type. Example:
```cpp
class FooTest : public ::testing::TestWithParam<int> {};
```

### How to write value-parameterized tests?
Use `TEST_P(FooTest, TestName)` macros and access parameter with `GetParam()`:
```cpp
TEST_P(FooTest, IsEven) {
  EXPECT_EQ(0, GetParam() % 2);
}
```

### How to instantiate a value-parameterized test?
Use `INSTANTIATE_TEST_SUITE_P` to specify parameter values or generators:
```cpp
INSTANTIATE_TEST_SUITE_P(MyValues, FooTest, testing::Values(2, 4, 6));
```

### What parameter generators can I use?
Common ones include:
- `testing::Values(v1, v2, ...)` for explicit values
- `testing::ValuesIn(container)` for STL containers or arrays
- `testing::Range(start, end [, step])` for ranges excluding the end
- `testing::Bool()` for `false` and `true`
- `testing::Combine()` for Cartesian products

### How to define typed tests?
Define a class template derived from `testing::Test`, specify a type list, then use `TYPED_TEST_SUITE` and `TYPED_TEST`:
```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {};

typedef ::testing::Types<int, char> MyTypes;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);

TYPED_TEST(MyTypedTest, ValueIsZeroInitially) {
  TypeParam value{};
  EXPECT_EQ(0, value);
}
```

### How to define type-parameterized tests?
Type-parameterized tests declare a template fixture with `TYPED_TEST_SUITE_P`, define tests with `TYPED_TEST_P`, register them with `REGISTER_TYPED_TEST_SUITE_P`, and instantiate with `INSTANTIATE_TYPED_TEST_SUITE_P`:
```cpp
template <typename T>
class MyTest : public ::testing::Test {};

TYPED_TEST_SUITE_P(MyTest);

TYPED_TEST_P(MyTest, TestOne) { /* ... */ }

REGISTER_TYPED_TEST_SUITE_P(MyTest, TestOne);

using MyTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInst, MyTest, MyTypes);
```

---

## 3. Common Questions

### Can parameter names contain underscores or spaces?
No. Parameterized test names must be non-empty, unique, and may only contain alphanumeric characters and underscores. Spaces and dashes are disallowed.

### Why do I get "duplicate parameterized test name" errors?
Ensure your parameter name generator produces unique names for every parameter. If using `PrintToStringParamName`, beware it may produce duplicates if the string representation clashes. Consider writing a custom name generator function.

### How do I create custom test name suffixes for parameters?
Provide a function or functor as the last argument to `INSTANTIATE_TEST_SUITE_P` that accepts `TestParamInfo<ParamType>` and returns a formatted string:
```cpp
INSTANTIATE_TEST_SUITE_P(Name, FooTest, Values(...),
  [](const testing::TestParamInfo<FooTest::ParamType>& info) {
    return "MyParam_" + std::to_string(info.index);
  });
```

### What if my parameter type is not directly constructible from generated values?
Use `ConvertGenerator` with a converter lambda or functor to transform generated parameter tuples into your parameter type. This allows full control over parameter construction.

### Can I define the `TEST_P` macros in one translation unit and instantiate in another?
Yes. Define your parameterized tests normally, then instantiate them using `INSTANTIATE_TEST_SUITE_P` elsewhere, allowing library-style abstract tests.

### What happens if I define `TEST_P` tests but forget to instantiate them?
GoogleTest will generate failing tests in the `GoogleTestVerification` suite indicating the suite is uninstantiated. To suppress this, use the macro:
```cpp
GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(FooTest);
```

### How do I handle tests expecting multiple input parameters?
Use `Combine` to create Cartesian products of multiple parameter generators:
```cpp
INSTANTIATE_TEST_SUITE_P(Combined, FooTest, Combine(Values(1,2), Bool()));
```

### How do I test multiple types in a typed or type-parameterized test?
Define a type list using `::testing::Types`, then use `TYPED_TEST_SUITE` or `INSTANTIATE_TYPED_TEST_SUITE_P` to associate your fixture with the list.

### How can I customize type names in typed tests?
Use the optional `NameGenerator` class with a templated `GetName(int)` function for friendly type-based test name suffixes when registering your typed test suite.

---

## 4. Troubleshooting Common Issues

### Compilation errors about tests registered with different fixture types
This often occurs when tests in the same test suite use different fixture classes (or same-named fixtures in different namespaces). Verify all tests with the same suite name use the same fixture class.

### Unexpected failing tests about uninstantiated parameterized test suites
If you declared `TEST_P` but forgot to instantiate with `INSTANTIATE_TEST_SUITE_P`, either add the instantiation or explicitly allow uninstantiated:
```cpp
GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(YourTestSuite);
```

### Parameter names with spaces, dashes, or special characters cause errors
GoogleTest requires parameter names to be alpha-numeric or underscores only. Use custom name generators that sanitize or encode parameter values to valid test names.

### Runtime errors with duplicate parameterized test names
Names must be unique for each test instance. Ensure your custom name generator creates unique strings for all input parameters.

### Tests not running despite instantiations present
Remember that generators passed to `INSTANTIATE_TEST_SUITE_P` are evaluated in `InitGoogleTest()` after `main()` starts. Dynamic generation based on values initialized before `InitGoogleTest()` will work, but not based on values after it.

### Using `ConvertGenerator` causes dangling references or crashes
When using lambdas converting generated types, ensure the lambda parameter types extend the lifetime of referenced objects. For example, prefer `std::string` over `std::string_view` if the underlying string might not outlive the generator.

### Difficulty differentiating multiple instantiations of the same parameterized test suite
Provide distinct unique prefixes as the first argument to `INSTANTIATE_TEST_SUITE_P` to separate test instance groups.

---

## 5. Best Practices & Tips

- **Always provide unique, valid names for parameterized test instances**, especially when your parameter types do not have simple string representations.
- **Use `Combine()` to cover combinations of multiple parameters effectively.**
- Use **`ConvertGenerator`** to adapt generated parameter tuples to your own complex parameter types.
- For **type-parameterized tests**, separate definition and instantiation to keep code modular and reusable.
- Use **`GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`** on test suites deliberately left uninstantiated (e.g., abstract test suites).
- When working in **large test suites**, organize typed and parameterized tests to maximize reusability and maintainability.
- **Avoid mixing `TEST` and `TEST_F` in the same test suite** to prevent fixture conflicts.
- Use **custom test name generators** to produce clear, readable test names that aid debugging and filtering.

---

## 6. Sample Usage Workflows

<Steps>
<Step title="Write your parameterized test fixture">
Create a class that inherits from `::testing::TestWithParam<T>`.
</Step>
<Step title="Write your parameterized test cases">
Use `TEST_P` macros to define tests and retrieve parameters with `GetParam()`.
</Step>
<Step title="Instantiate your test suite">
Call `INSTANTIATE_TEST_SUITE_P` with parameter generator functions such as `Values()` or `Range()`.
</Step>
<Step title="Run your tests">
Use test executables normally; GoogleTest automatically runs all instantiated tests.
</Step>
</Steps>

---

## 7. Additional Resources

- [Value-Parameterized Tests Guide](/guides/parameterization-and-patterns/value-parameterized-tests)
- [Type-Parameterized Tests Guide](/guides/parameterization-and-patterns/type-parameterized-tests)
- [Testing Reference: TEST_P](../reference/testing.md#TEST_P)
- [Testing Reference: Typed and Type-Parameterized Tests](../reference/testing.md#TYPED_TEST)
- [Advanced GoogleTest Topics](docs/advanced.md)
- [Organizing and Scaling Large Test Suites](guides/real-world-mocking/organizing-large-test-suites.mdx)
- [Troubleshooting Common Issues with Parameterized Tests](/getting-started/validation-troubleshooting/common-issues)


---

### FAQ Summary:
This page helps you master GoogleTest’s value-parameterized and typed tests by answering common questions about macro usage, test instantiation, parameter generators, naming conventions, and troubleshooting. It guides you step-by-step from defining tests to fixing compilation/linker errors and runtime test discovery issues, ensuring a smooth user experience when testing with multiple parameters or types.

---

For detailed examples, troubleshooting, and best practices, explore the official GoogleTest guides linked above and consult the Testing Reference macros section to deepen your knowledge.

---

<p align="center"><i>End of FAQ documentation for "Working with Parameterized and Typed Tests"</i></p>
