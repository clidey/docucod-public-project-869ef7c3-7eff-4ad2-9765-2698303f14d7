---
title: "Why aren't my tests being discovered or run?"
description: "Helps users debug situations where tests are not executed or recognized, offering best practices for test case/method naming, macro usage, and correct project structure setup."
---

# Why aren't my tests being discovered or run?

When your tests fail to be discovered or executed by GoogleTest, it often leads to confusion and stalled development. This guide helps you troubleshoot such scenarios by uncovering the most common reasons tests are not run or recognized, and offers best practices on naming, macro usage, and project structure to avoid these pitfalls.

---

## Common Reasons Tests Are Not Discovered or Executed

### 1. Improper Test or Test Suite Naming

GoogleTest relies heavily on naming conventions for test discovery. The test suite and test names given in macros such as `TEST()` and `TEST_F()` must follow specific rules:

- Names **must not contain underscores (`_`)** anywhere. This restriction stems from GoogleTest’s internal naming scheme where underscores are used to generate class names. Using underscores can cause naming collisions or reserved identifiers violations.
- Names **cannot start or end with an underscore**.

**Example Problem:**
```cpp
// Bad: Underscores in test suite and test names
TEST(My_Suite, My_Test) { ... }
```

**Correct Usage:**
```cpp
TEST(MySuite, MyTest) { ... }
```

_For a detailed explanation of naming rules and their rationale, see [Why should test suite names and test names not contain underscore?](../faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore)_


### 2. Mixing `TEST` and `TEST_F` in the Same Test Suite

All tests within the same test suite must use the same fixture class. Mixing plain `TEST()` (which uses the default `::testing::Test` fixture) and `TEST_F()` (which uses a user-defined fixture class) in the same suite will cause runtime failures and prevent tests from running.

**Avoid:**
```cpp
TEST(MySuite, TestOne) { ... }  // Uses default fixture

TEST_F(MySuite, TestTwo) { ... } // Uses custom fixture
```

**Instead:**
```cpp
TEST_F(MyFixture, TestOne) { ... }
TEST_F(MyFixture, TestTwo) { ... }
```

This rule applies even when test fixture classes have the same name in different namespaces; GoogleTest treats them as distinct.

### 3. Lack of Default Constructor in Test Fixtures

GoogleTest creates test fixture objects dynamically and requires a default (no-argument) constructor. If your fixture class lacks one (e.g., due to explicit constructors or `DISALLOW_EVIL_CONSTRUCTORS`), GoogleTest cannot instantiate tests and will fail.

**Ensure:** Your test fixtures have a default constructor accessible:
```cpp
class MyFixture : public ::testing::Test {
 public:
  MyFixture() = default; // explicitly defaulted
  ...
};
```

More on this in [I have a fixture class `FooTest`, but `TEST_F(FooTest, Bar)` gives me error `no matching function for call to FooTest::FooTest()`](../faq.md#I-have-a-fixture-class-FooTest-but-TEST_FFooTest-Bar-gives-me-error-no-matching-function-for-call-to-FooTestFooTest)


### 4. Value-Parameterized or Typed Tests Not Instantiated Properly

Value-parameterized tests (`TEST_P`) and typed tests (`TYPED_TEST`) require explicit instantiation macros to be invoked, such as `INSTANTIATE_TEST_SUITE_P` or `INSTANTIATE_TYPED_TEST_SUITE_P`.

If you define parameterized tests but omit instantiation, GoogleTest will not run any of those tests and emit warnings.

**Typical Error Messages:**
```
Parameterized test suite FooTest is defined via TEST_P, but never instantiated. None of the test cases will run.
```

**Solution:**
- Use `INSTANTIATE_TEST_SUITE_P` with a meaningful parameter generator.
- For typed tests, use `REGISTER_TYPED_TEST_SUITE_P` and then `INSTANTIATE_TYPED_TEST_SUITE_P`.

Example instantiation:
```cpp
INSTANTIATE_TEST_SUITE_P(MyGroup, FooTest, testing::Values(1, 2, 3));
```

See the [Parameterized and Typed Tests](../advanced.md#value-parameterized-tests) guide for syntax and details.

### 5. Disabled Tests and Filters

Tests prefixed with `DISABLED_` or test suites named with `DISABLED_` will not run by default to allow selective disabling.

If your tests are disabled unintentionally or filtered out by test filters, they won’t execute.

**Check:**
- Are your tests or suites disabled with `DISABLED_`?
- Are you running with a `--gtest_filter` or `GTEST_FILTER` that excludes your tests?

To include disabled tests in runs, use the flag:
```
--gtest_also_run_disabled_tests
```


### 6. Case Sensitivity and Typographic Errors

GoogleTest is case-sensitive. Mistyping `SetUp()` as `Setup()` or other lifecycle functions will cause tests not to run as expected.

Example:
```cpp
void Setup() override { ... }  // Wrong
void SetUp() override { ... }  // Correct
```


### 7. Linking and Build Issues

If your test executable does not link with the GoogleTest libraries and test sources correctly, your tests will not be registered and thus never run.

Ensure that:
- You link against `gtest` or `gtest_main` libraries.
- Your test source files are compiled and linked with the test binary.

Consult Installation and Configuration guides for your build system.


---

## Best Practices to Ensure Tests Are Discovered and Run

### Follow Naming Conventions Strictly

- Avoid underscores in test suite and test names.
- Names must be valid C++ identifiers and should not start or end with underscore.

### Consistent Fixture Usage

- Use the same fixture class for all tests in a test suite.
- Avoid mixing `TEST()` and `TEST_F()` within the same test suite.

### Provide Default Constructors for Fixtures

- Ensure your test fixtures can be constructed without arguments.

### Always Instantiate Parameterized and Typed Tests

- Use the appropriate macros for instantiation.
- Double-check that instantiation macro calls are not omitted.

### Carefully Manage Disabled Tests and Filters

- Avoid leaving tests unintentionally disabled.
- Review active filters during test runs.

### Use Lifecycle Hooks Properly

- Spell lifecycle functions such as `SetUp()`, `TearDown()` exactly.

### Link and Build Correctly

- Confirm build scripts link GoogleTest correctly.
- Use community-supported CMake configurations or other supported build tools.

---

## Troubleshooting Checklist

<AccordionGroup title="Troubleshooting Steps for Test Discovery Failures">
<Accordion title="Tests Not Executed - Verify Naming">
- Check if test suites or test names contain underscores `_`. If yes, rename.
- Confirm names do not start/end with underscores.
- Remember that GoogleTest generates class names from suite and test names using `_`.
</Accordion>
<Accordion title="Test Fixture Issues">
- Ensure all tests in one suite use the same fixture class.
- Do not mix `TEST()` and `TEST_F()` macros in the same suite.
- Check that fixture classes have default constructors.
</Accordion>
<Accordion title="Parameterized/Typed Tests Not Running">
- Verify that every value-parameterized test suite (`TEST_P`) has an `INSTANTIATE_TEST_SUITE_P`.
- Verify that every type-parameterized test suite is registered and instantiated.
- If you see warnings about uninstantiated parameterized tests, fix with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` or instantiate properly.
</Accordion>
<Accordion title="Disabled Tests and Filters">
- Are your tests or suites prefixed with `DISABLED_`? If yes, they won't run by default.
- Review `--gtest_filter` to ensure tests are not excluded.
- Use `--gtest_also_run_disabled_tests` to include disabled tests when needed.
</Accordion>
<Accordion title="Common Typos and Syntax Mistakes">
- Check spelling of lifecycle methods: `SetUp()`, `TearDown()`, not `Setup()`, etc.
- Confirm correct use of macros and parameters.
</Accordion>
<Accordion title="Build and Link Verification">
- Ensure GoogleTest libraries (`gtest` or `gtest_main`) are linked.
- Confirm all test source files are part of the build.
- Use recommended CMake build options or equivalent in other build systems.
</Accordion>
</AccordionGroup>

---

## Advanced Tips

### Understand GoogleTest’s Naming Restrictions and Their Impact

GoogleTest automatically generates classes and identifiers based on test suite and test names. For example, `TEST(TestSuiteName, TestName)` expands internally to a class with a name like `TestSuiteName_TestName_Test`. If your suite or test names have underscores, suffixes starting or ending with underscores, or reserved patterns, it may cause compilation errors or name collisions.

### Use Aliases for Death Tests and Derived Fixtures

When mixing death and non-death tests, keep your test suite names consistent with `*DeathTest` suffix for death test suites and use `using` for sharing fixtures. This prevents test ordering and setup issues.

### Check for Runtime Warnings About Fixture Mixing

If the GoogleTest output prints errors about different fixture classes in the same test suite, refactor tests accordingly.

### Use `SCOPED_TRACE` for Better Debugging When Using Helper Functions

If you call shared test helper functions that contain assertions, use `SCOPED_TRACE` to add contextual information.

---

## Summary

Incorrect naming conventions, missing default constructors, mixing macro types within a test suite, failing to instantiate parameterized tests, disabled test prefixes, and build/link issues are the primary reasons your tests might not be discovered or run in GoogleTest.

By adhering strictly to GoogleTest’s expected naming patterns, fixture usage, and build practices, you ensure your tests are reliably detected and executed. Use this guide’s troubleshooting checklist to systematically identify and resolve common issues affecting test discovery.

---

## Related Documentation

- [Why should test suite names and test names not contain underscore?](../faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore)
- [Parameterized and Typed Tests](../advanced.md#value-parameterized-tests)
- [Global Set-Up and Tear-Down & Test Fixtures](../advanced.md#sharing-resources-between-tests-in-the-same-test-suite)
- [Running a Subset of the Tests - Filtering Tests](../advanced.md#running-a-subset-of-the-tests)
- [Common Issues in First Tests](../../getting-started/first-test-experience/common-issues-troubleshooting.md)
- [Test Macros & Fixtures](../../api-reference/core-testing-apis/test-macros.md)

---

## Example: Correct TEST and TEST_F Usage

```cpp
class MyFixture : public ::testing::Test {
 protected:
  void SetUp() override {
    // setup code
  }

  void TearDown() override {
    // cleanup code
  }

  int shared_resource_ = 0;
};

TEST_F(MyFixture, DoesWork) {
  EXPECT_EQ(shared_resource_, 0);
}

// Correct: all tests in MyFixture suite use the same fixture.
```

---

## Example: Proper Parameterized Test Instantiation

```cpp
class MyParamTest : public testing::TestWithParam<int> {};

TEST_P(MyParamTest, TestIsEven) {
  int value = GetParam();
  EXPECT_EQ(value % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenValues, MyParamTest, testing::Values(2, 4, 6));
```

Without the `INSTANTIATE_TEST_SUITE_P`, you will see a warning and no tests will run.

---

## Troubleshooting Output Diagnostics

If you run your tests with the `--gtest_list_tests` flag, you can verify which tests GoogleTest sees:

```
MyFixture.
  DoesWork
MyParamTest/Evens.
  TestIsEven/0
  TestIsEven/1
```

If your test does not appear, double-check naming, registration, and linkage.

---

## Tips for Further Support

If problems persist after verifying naming and instantiation, review the test code for:

- Duplicate test names or suites.
- Conflicting macros or nested `TEST()` calls.
- Unintended namespace collisions.

You can also enable verbose test logging or capture XML output for deeper insights.

Always consult GoogleTest's extensive [FAQ](../faq.md) and [Testing Reference](../reference/testing.md) for additional guidance.
