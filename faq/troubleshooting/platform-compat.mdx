---
title: "Platform and Compiler Compatibility"
description: "Guides users through compatibility challenges, outdated toolchains, and platform-specific concerns. Clarifies which versions and platforms are officially supported, and where to find up-to-date compatibility information."
---

# Platform and Compiler Compatibility FAQ

This page is your go-to resource for understanding and navigating compatibility challenges with GoogleTest and GoogleMock across different compilers, platforms, and toolchains. It clarifies which versions and platforms are officially supported and offers guidance on troubleshooting common compiler and platform-specific issues.

---

## 1. Supported Platforms and Compilers

### What platforms and operating systems does GoogleTest officially support?
GoogleTest officially supports a wide range of platforms, including major desktop and server operating systems such as Linux, Windows, and Mac OS X. It also supports many Unix-like systems such as FreeBSD, OpenBSD, Solaris, AIX, and NetBSD. Note that embedded and less common platforms may have partial or experimental support.

For detailed and up-to-date platform support, refer to the [Supported Platforms](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md) matrix.

### Which C++ compilers and versions are supported?
GoogleTest requires a C++17 compliant compiler to build and run correctly. Supported compilers and minimum versions include:
- GCC 7.0 or later
- Clang 5 or later
- MSVC 2017 Update 3 (MSVC 19.11) or later
- IntelLLVM compatible compilers
- Other major compilers with C++17 support

You must ensure your development environment compiles code with at least C++17 enabled.

### Does GoogleTest work with all compiler configurations (e.g., exceptions, RTTI)?
GoogleTest detects compiler features like exception handling and RTTI at build time through preprocessor macros. It supports configurations with exceptions enabled or disabled, and with RTTI enabled or disabled. However, some features, such as typed tests and certain runtime behaviors, require RTTI and exceptions to be enabled.

You can override automatic detection using compiler flags such as `-DGTEST_HAS_EXCEPTIONS=0` or `-DGTEST_HAS_RTTI=0` if necessary.

---

## 2. Compatibility Challenges and Tips

### What are common compatibility issues I might encounter when building GoogleTest?
- **Mismatch in Runtime Libraries (MSVC)**: Visual Studio projects default to dynamic CRT linking (`/MD`), but GoogleTest defaults to static CRT linking (`/MT`). This mismatch causes linker errors.
- **Pthreads availability inconsistent on some platforms**, especially on MinGW where pthreads are considered unreliable.
- **Unsupported or outdated compiler versions** that do not support C++17 or required language features.

### How do I fix the MSVC runtime library mismatch?
GoogleTest provides a CMake option `gtest_force_shared_crt` which ensures the runtime libraries match in your build environment. To fix runtime mismatches, enable this option when configuring your build with CMake:

```bash
cmake .. -Dgtest_force_shared_crt=ON
```

This ensures GoogleTest links dynamically to the C runtime, matching the default Visual Studio behavior.

### What should I do if my platform lacks pthreads or threads support?
On platforms without pthread support or with problematic thread libraries (like some Windows MinGW configurations), GoogleTest disables threading internally. You can also force disable pthreads support by adding:

```
-DGTEST_HAS_PTHREAD=0
```

to your compiler flags. Without threading, GoogleTest may have limited concurrency or stream capture capabilities.

### How does GoogleTest detect platform features and adjust accordingly?
GoogleTest uses internal macros to detect available features such as threading support, exceptions, RTTI, POSIX regular expressions, and platform-specific APIs. It then enables or disables features automatically to maximize compatibility.

You can control many of these detections manually by defining specific macros during compilation for fine-tuned behavior.

---

## 3. Platform-Specific Concerns

### Are there differences when building GoogleTest on Windows versus Unix-like systems?
Yes. On Windows:
- GoogleTest supports several Windows variants: Desktop, MinGW, Mobile, UWP (Windows RT).
- The default compiler flags differ, usually requiring explicit UTF-8 source encoding and warnings settings.
- Pthreads are replaced by Windows-native threading primitives.
- Stream capturing may have different implementations due to OS constraints.

On Unix-like systems:
- pthreads are the primary threading mechanism.
- POSIX regular expressions are typically available.
- Standard file system APIs are used.

### Can I use GoogleTest with cross-compilation or embedded platforms?
GoogleTest is less commonly used on embedded or highly specialized platforms. While some embedded Linux platforms are supported, others may lack necessary OS features or libraries (e.g., file system, exceptions). You need to verify the availability of required OS and compiler features; in some cases, you may have to customize GoogleTest or disable certain features.

### What about building GoogleTest as a shared library?
You can build GoogleTest as a shared (dynamic) library on supported platforms. When doing so:
- Use `-DGTEST_CREATE_SHARED_LIBRARY=1` when compiling GoogleTest itself.
- Use `-DGTEST_LINKED_AS_SHARED_LIBRARY=1` when compiling your tests to link correctly.

Shared builds are useful when you want to reduce executable size or share GoogleTest binaries across multiple tests.

---

## 4. How to Find and Use Compatibility Information

### Where can I find the latest compatibility matrix and supported versions?
The most authoritative and up-to-date compatibility information is maintained in Google's OSS policies and documentation repositories, including:
- [Google OSS Foundational C++ Support Matrix](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md)
- The GoogleTest GitHub repository README and Platform Support documentation

### How can I check compiler and platform feature detection?
GoogleTest defines macros like `GTEST_HAS_PTHREAD`, `GTEST_HAS_EXCEPTIONS`, `GTEST_HAS_RTTI`, and platform macros such as `GTEST_OS_WINDOWS`, `GTEST_OS_LINUX`, etc. You can check these in your tests or build scripts for debugging environment configurations.

Example snippet:
```cpp
#ifdef GTEST_HAS_PTHREAD
  // Pthreads support enabled
#else
  // Pthreads not supported
#endif

#if defined(GTEST_OS_WINDOWS)
  // Windows-specific code
#endif
```

### How to override detected features or fix compatibility at build time?
Define macros through your compiler flags to customize detection, for example:
- Disable pthread support:
  ```
  -DGTEST_HAS_PTHREAD=0
  ```
- Force exceptions disabled:
  ```
  -DGTEST_HAS_EXCEPTIONS=0
  ```
- Control runtime linkage in MSVC:
  ```
  -Dgtest_force_shared_crt=ON
  ```

These overrides can help resolve build or runtime issues tied to incompatible defaults.

---

## 5. Troubleshooting Common Compatibility Issues

<AccordionGroup title="Common Compatibility Issues Troubleshooting">
<Accordion title="Runtime Library Mismatch on MSVC">
**Problem:** Linker errors showing mismatched runtime libraries (`MTd_StaticDebug` vs `MDd_DynamicDebug`).

**Solution:** Enable the CMake option `gtest_force_shared_crt` to force dynamic CRT linking.

```bash
cmake .. -Dgtest_force_shared_crt=ON
```

This ensures the runtime used by GoogleTest matches your application.
</Accordion>

<Accordion title="Missing Pthread Library or Link Failures on Unix-like Systems">
**Problem:** Build or link errors indicating missing pthread libraries.

**Solution:** Make sure to link with pthread explicitly if needed (usually `-pthread` flag). CMake handles this automatically. You can force pthread detection using:

```
-DGTEST_HAS_PTHREAD=1
```

if automatic detection fails.

</Accordion>

<Accordion title="Compiler Version Too Old">
**Problem:** Build failures due to C++17 features unsupported by the compiler.

**Solution:** Use a compiler version that supports C++17 (GCC 7+, Clang 5+, MSVC 2017 U3+). Verify your compiler's C++ standard setting includes at least `-std=c++17` or equivalent.

</Accordion>

<Accordion title="Exceptions or RTTI Disabled Leading to Feature Limitations">
**Problem:** Tests using typed tests or certain GoogleTest features fail due to RTTI or exceptions disabled.

**Solution:** Enable RTTI and exceptions where possible. If disabling is required, understand some GoogleTest features may not work.

Override with:

```
-DGTEST_HAS_EXCEPTIONS=0
-DGTEST_HAS_RTTI=0
```

</Accordion>
</AccordionGroup>

---

## 6. Best Practices for Platform Compatibility

- Always use a compiler version that fully supports C++17.
- Build GoogleTest and your tests using the same compiler and settings to avoid conflicts.
- Use the provided CMake options to enforce consistent runtime library linkage, especially on Windows.
- For non-supported or experimental platforms, consider selectively disabling features or customizing GoogleTest.
- Regularly consult the project’s platform matrix and readme for updates.

---

## 7. Additional Resources

- [GoogleTest README - Build and Platform Notes](https://github.com/google/googletest/blob/main/README.md)
- [Supported Platforms Matrix](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md)
- [System Requirements and Installation Guide](../getting-started/prerequisites-installation/system-requirements.md)
- [Platform-Specific Integration and Maintenance Guide](../guides/advanced-usage/platforms-and-integration.md)
- [GoogleTest Internal Porting Macros Documentation](../../googletest/include/gtest/internal/gtest-port.h)

<Tip>
If you encounter issues specific to your platform or compiler, examining macros like `GTEST_HAS_PTHREAD`, `GTEST_HAS_EXCEPTIONS`, and platform macros can reveal misdetections. Override cautiously when necessary.
</Tip>


---

For more detailed troubleshooting guidance, see the [Troubleshooting Common Build and Test Issues FAQ](../faq/troubleshooting/common-errors.md).


---

# Summary

This document guides you through understanding GoogleTest’s platform and compiler compatibility, highlighting supported environments, common challenges, and tips to resolve issues. It helps you verify your compiler setup, tweak feature detections, and adopt best practices for seamless builds and tests on your platform.

---

### Example: Checking Platform Support in Your Code
```cpp
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);

#if defined(GTEST_OS_WINDOWS)
  std::cout << "Running on Windows platform." << std::endl;
#endif

#if GTEST_HAS_PTHREAD
  std::cout << "Pthreads support enabled." << std::endl;
#else
  std::cout << "Pthreads support NOT enabled." << std::endl;
#endif

  return RUN_ALL_TESTS();
}
```

This simple test program helps confirm the detected features in your environment.
