---
title: "My tests are not being discovered or executed. What should I check?"
description: "Troubleshooting checklist for diagnosing why tests may be ignored by the runner—covering macro mistakes, test registration issues, build settings, and test filtering options."
---

# FAQ: My tests are not being discovered or executed. What should I check?

This troubleshooting guide helps you diagnose why your GoogleTest tests might be ignored by the test runner. It covers typical user mistakes, test registration issues, build system settings, and filtering-related factors that can cause tests to not be discovered or run.

---

## 1. Test Discovery Basics

GoogleTest automatically discovers all tests defined with the `TEST`, `TEST_F`, `TEST_P` macros, or those registered programmatically before `RUN_ALL_TESTS()` is called. If tests do not appear when running your test program, ensure:

- You have called `testing::InitGoogleTest(&argc, argv);` before `RUN_ALL_TESTS()`.
- Your test definitions are compiled and linked into the test binary.
- You are not accidentally filtering out tests with command-line flags or environment variables.

### Common User Intent Narrative

You’ve written a test but when running your test executable, your expected tests don’t show or run. This can be frustrating. The root causes usually come down to either the tests not being linked into your binary, or the test runner skipping them due to filters or naming issues.


## 2. Checklist: What to Verify When Tests Aren’t Discovered or Executed

### 2.1 Confirm Test Definitions Are Linked

- **Cause:** Sometimes C++ build systems exclude test source files or libraries.
- **What to do:**
  - Verify the test source files containing your `TEST()` or `TEST_F()` macros are included in your build.
  - If you’re building with CMake, ensure the target includes the relevant files or links correctly to GoogleTest.
  - Confirm the build succeeds without linker errors.

<Tip>
If your test class lacks a default constructor, GoogleTest cannot instantiate it. This prevents the test from running and typically results in a compiler or linker error. Define a default constructor for your test fixture if you have custom constructors.
</Tip>

### 2.2 Validate `InitGoogleTest()` is Called

- Your `main()` function must call `testing::InitGoogleTest(&argc, argv);` before `RUN_ALL_TESTS();`
- This initializes command-line flags and testing infrastructure needed for discovery.


Example main function:
```cpp
int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### 2.3 Check for Disabled Tests

- Test names or suites starting with `DISABLED_` are excluded by default.
- To run disabled tests, use the flag `--gtest_also_run_disabled_tests` or set the environment variable `GTEST_ALSO_RUN_DISABLED_TESTS` to a non-zero value.

### 2.4 Check Your Test Naming

- Avoid underscores `_` in test suite and test names, as GoogleTest reserves underscores for special prefixes like `DISABLED_`.
- Misnamed tests may be ignored or cause registration conflicts.

### 2.5 Verify Test Filtering Flags

- The flag `--gtest_filter` or environment variable `GTEST_FILTER` controls which tests are run.
- This filter supports positive and negative patterns (e.g. `MySuite.*-MySuite.DisabledTest`).
- If your test’s full name (`TestSuiteName.TestName`) does not match the filter or matches a negative pattern, the test will be skipped.

<Tip>
Run your test executable with `--gtest_list_tests` to see all tests recognized by GoogleTest. This helps verify which tests are discovered and their exact names.
</Tip>

### 2.6 Build System Configuration

- Ensure you are linking GoogleTest libraries properly.
- If you use `gtest_main`, you don’t need to write your own `main()`; otherwise, provide one.
- Confirm C++17 (or later) standard support is enabled, as GoogleTest requires it.
- If you use Bazel or CMake, follow official integration guides to avoid misconfiguration.


## 3. Advanced Considerations

### 3.1 Parameterized Tests Need Instantiation

- `TEST_P()` defines a parameterized test pattern but does not create actual test cases.
- You must use `INSTANTIATE_TEST_SUITE_P()` to supply parameter values.
- If no instantiations exist, GoogleTest treats this as an error and generates a failing test under `GoogleTestVerification` suite.

### 3.2 Test Filtering Combined with Sharding

- When test sharding is enabled (using `GTEST_TOTAL_SHARDS` and `GTEST_SHARD_INDEX`), only part of the tests run on each shard.
- Double-check that your test parameters and your shard count/index align to include your tests.

### 3.3 Skipped Tests Because of `GTEST_FAIL_IF_NO_TEST_SELECTED`

- If enabled, this flag makes GoogleTest fail if no tests are selected to run after filter application.
- This guards against silent configuration errors but may cause confusion if your filters are too restrictive or shards are empty.


## 4. Practical Troubleshooting Steps

<Steps>
<Step title="Run with --gtest_list_tests">
Invoke your test binary with `--gtest_list_tests` to see which tests GoogleTest detects.
</Step>
<Step title="Run without filters and disabled test skipping">
Run your test binary without `--gtest_filter` and with `--gtest_also_run_disabled_tests` to enumerate all tests.
</Step>
<Step title="Check the build and linkage">
Ensure all test source files are compiled and linked correctly into your test executable.
</Step>
<Step title="Verify your test fixture has a default constructor">
Confirm your test fixture class includes a default constructor.
</Step>
<Step title="Check test naming conventions">
Avoid underscores and reserved prefixes in test suite and test names.
</Step>
<Step title="Check for parameterized test instantiations">
Verify `INSTANTIATE_TEST_SUITE_P` is used for all `TEST_P`.
</Step>
<Step title="Check filters and environment variables">
Examine `--gtest_filter`, `GTEST_FILTER`, and sharding environment variables to ensure they don’t exclude your tests.
</Step>
<Step title="Review build system instructions">
Consult [GoogleTest README](https://github.com/google/googletest/blob/main/googletest/README.md) and build integration guides.
</Step>
</Steps>

## 5. Common Pitfalls and Gotchas

### 5.1 Misspelling `SetUp()` and `TearDown()`

Make sure test fixture methods are spelled with uppercase `U` and `D` exactly.
The framework won’t call incorrectly spelled methods.

### 5.2 Mixing `TEST` and `TEST_F` in the Same Test Suite

All tests in the same suite must use the same fixture type - mixing leads to runtime errors.

### 5.3 Tests Not Running Because of Missing `RUN_ALL_TESTS()`

Always invoke `RUN_ALL_TESTS()` in your `main()`, and return its result.

### 5.4 Parameterized Tests Without Instantiation

`TEST_P()` defines the pattern, but you still need to instantiate tests with `INSTANTIATE_TEST_SUITE_P()`.

### 5.5 Filters Exclude Tests Unexpectedly

Wildcards in filters are powerful. A small mistake can cause tests not to run. Avoid accidental filtering by testing without filters first.


## 6. Example: Using `--gtest_list_tests` for Diagnostics

Run your test binary like:

```bash
./my_test_binary --gtest_list_tests
```

Output:

```
MyTestSuite1.
  TestOne
  TestTwo
MyTestSuite2.
  TestA
  TestB
```

If your expected tests do not appear here, they are not registered correctly.


## 7. When to Contact Support or File an Issue

If, after verifying these checks, your tests still do not register or run, consider:

- Examining your build setup and compiler/linker outputs.
- Searching or posting in GoogleTest community forums.
- Filing an issue on the GoogleTest GitHub repo with details about your environment, test code snippets, and build system.


---

For more information, see the related documentation:

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md)
- [GoogleTest FAQ](https://github.com/google/googletest/blob/main/docs/faq.md)
- [Testing Reference](https://github.com/google/googletest/blob/main/docs/reference/testing.md)
- [Build and Installation Troubleshooting](https://github.com/google/googletest/blob/main/docs/getting-started/troubleshooting/common-problems.md)
- [Parameterized Tests Guide](https://github.com/google/googletest/blob/main/docs/advanced.md#value-parameterized-tests)


---

**Key flags summary for test discovery:**

| Flag | Purpose |
|-------|---------|
| `--gtest_list_tests` | List all available tests without running them |
| `--gtest_filter=...` | Run only tests matching the specified pattern |
| `--gtest_also_run_disabled_tests` | Include tests starting with `DISABLED_` |
| `--gtest_fail_if_no_test_linked` | Make the test binary fail if no tests are linked in |
| `--gtest_fail_if_no_test_selected` | Fail if no tests are actually selected to run after filtering |

---

If using parameterized tests, remember to instantiate them with `INSTANTIATE_TEST_SUITE_P()` or mark them as allowed uninstantiated with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`.



