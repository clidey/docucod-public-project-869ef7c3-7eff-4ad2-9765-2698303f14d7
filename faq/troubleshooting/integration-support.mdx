---
title: "Integration With Other Tools and Platforms"
description: "Covers frequent questions about integrating GoogleTest and GoogleMock with IDEs and CI systems, and adapting the framework for different operating systems or toolchains. Clarifies portability practices and points to resources for cross-platform builds."
---

# Integration With Other Tools and Platforms

This page addresses frequent questions about integrating GoogleTest and GoogleMock with various Integrated Development Environments (IDEs), Continuous Integration (CI) systems, and adapting the framework to different operating systems and toolchains. It clarifies best practices for portability and provides directions on cross-platform build resources.

---

## 1. Using GoogleTest and GoogleMock with IDEs

Developers commonly want to run their test suites directly within popular IDEs such as Visual Studio, CLion, or Eclipse. GoogleTest and GoogleMock are designed to integrate seamlessly with these environments by building your test executables with the appropriate tooling and then running tests either inside IDE test explorers or through custom run configurations.

### How to integrate:

- **Build Setup:**
  - Build your test binaries linking with `gtest_main` or `gmock_main` which provide default `main` functions for running tests.

- **Running Tests:**
  - Use your IDE's test runner support (e.g., Visual Studio Test Explorer with a GoogleTest adapter plugin) to discover and run tests.
  - Alternatively, configure your IDE to launch the compiled test binary with optional command-line flags such as `--gtest_filter` to run selected tests.

- **Debugging:**
  - Run the test executable under your IDE's debugger to step through test code, enabling inspection on failures.

### Best Practices

- When customizing test entry points, GoogleTest provides sample `main()` implementations (see `googletest/src/gtest_main.cc`) to adapt for special platforms.
- For GoogleMock, link with `gmock_main` to initialize both GoogleMock and GoogleTest automatically.

<Tip>
If your IDE does not have native GoogleTest support, you can still manually use the command line to run tests and parse output or write custom scripts to integrate with the IDE's run configuration.
</Tip>

---

## 2. Continuous Integration (CI) Systems

Automating test runs in CI pipelines is essential for catching regressions early. GoogleTest and GoogleMock are built with CI integration in mind.

### Running Tests Automatically

- Compile your test binaries with `gtest_main` or `gmock_main` for convenience.
- Run tests in CI pipelines by executing these binaries directly as part of your build or test step.

### Generating Machine-Readable Reports

- Use GoogleTest’s XML output feature by running tests with the flag `--gtest_output=xml:<path>` to produce reports consumable by popular CI servers such as Jenkins or GitLab.

### Platform Adaptation and Reliability

- Make sure your CI environment matches the platform’s compiler and runtime requirements (GoogleTest requires at least C++17).
- Adjust your build scripts to link pthread libraries if needed (`-DGTEST_HAS_PTHREAD=1`).

### Troubleshooting CI

- Validate test binary execution permissions and environment variables.
- Use `--gtest_filter` to isolate failing tests for quicker diagnosis.
- Refer to the troubleshooting guides for common build and configuration issues.

---

## 3. Adapting GoogleTest for Different Operating Systems and Toolchains

GoogleTest supports a broad range of platforms including Linux, Windows, macOS, and embedded systems.

### Platform-Specific Entry Points

- On most platforms, the test program entry point is a `main(int argc, char** argv)` function.
- For special embedded platforms such as Arduino or QuRT, GoogleTest adapts entry points (see `googletest/src/gtest_main.cc` for sample implementations).

### Macro Control for Platform Tweaks

- Use compile-time macros (e.g., `GTEST_OS_ESP8266`, `GTEST_OS_QURT`, etc.) to enable platform-specific adaptations.

- On Arduino-like platforms, test execution integrates with `setup()` and `loop()` functions instead of `main()`.

### Cross-Platform Builds

- Use CMake as the primary build system to target multiple platforms. CMake scripts included with GoogleTest handle most platform variations transparently.
- When using Bazel or other build systems, consult vendor-specific documentation to ensure proper configuration.

<Tip>
If you encounter platform-specific compilation or runtime errors, check that your environment matches the minimum requirements, and define or undefine relevant macros to guide the build correctly.
</Tip>

---

## 4. Portability Best Practices

GoogleTest and GoogleMock are designed with portability to diverse environments in mind:

- **Isolate platform-dependent code:** Use GoogleTest’s portability macros and internal utilities provided in headers like `gtest-port.h`.
- **Avoid assumptions about entry points:** Use the provided main functions (`gtest_main`, `gmock_main`) where possible.
- **Thread Safety:** Be mindful of the threading capabilities in your platform. GoogleTest supports thread-safe operation where `pthread` is available (adjust with `GTEST_HAS_PTHREAD`).

---

## 5. Resources for Cross-Platform Builds

- CMakeLists.txt in the GoogleTest repository offers cross-platform build configurations.
- `gmock_main.pc.in`, `gmock.pc.in`, `gtest_main.pc.in` are pkg-config templates useful for managing library and include paths uniformly across platforms.

### Example CMake snippet:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/release-1.11.0.zip
)
FetchContent_MakeAvailable(googletest)

add_executable(my_tests test_main.cpp)
target_link_libraries(my_tests gtest_main)
add_test(NAME my_tests COMMAND my_tests)
```

---

## 6. Troubleshooting Common Integration Issues

<AccordionGroup title="Common Integration Questions and Problems">
<Accordion title="Why do my tests fail to run in my IDE?">
- Verify the test binary is correctly linked.
- Ensure the IDE knows the location of test executables and that `main()` is defined or linked via `gtest_main`/`gmock_main`.
- Confirm command-line flags passed for filtering are correct.
</Accordion>
<Accordion title="How can I integrate GoogleTest in CI on Windows vs Linux?">
- On Windows, make sure runtime library settings match GoogleTest’s build (e.g., static vs dynamic CRT).
- On Linux/Mac, ensure pthreads and other dependencies are linked properly.
- Use XML output for standardized reporting across platforms.
</Accordion>
<Accordion title="Can I customize the main function for test programs?">
- Yes, but it is recommended to link against `gtest_main` or `gmock_main` for typical use cases.
- For advanced scenarios, write your own `main()` following the patterns shown in `googletest/src/gtest_main.cc` or `googlemock/src/gmock_main.cc`.
</Accordion>
<Accordion title="How to handle GoogleMock initialization in embedded platforms?">
- Use `testing::InitGoogleMock()` without `argc/argv` on Arduino-like platforms, as shown in `googlemock/src/gmock_main.cc`.
</Accordion>
</AccordionGroup>

---

## 7. Additional References

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) — fundamentals on writing and running tests
- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md) — foundational mocks concepts and macros
- [CI Integration Guide](https://github.com/google/googletest/blob/main/guides/integration-and-best-practices/ci-integration.md) — specific CI usage details
- [Portability & Internal Utilities](https://github.com/google/googletest/blob/main/api-reference/supporting-infra/portability-internals.md) — macros and internal platform support

---

By aligning with these integration practices and leveraging provided main functions and build scripts, you can run GoogleTest and GoogleMock smoothly across IDEs, CI environments, and diverse platforms with reliability and efficiency.
