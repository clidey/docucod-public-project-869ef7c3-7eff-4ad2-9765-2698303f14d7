---
title: "Installation and Setup Troubleshooting"
description: "Answers common questions around installing and configuring GoogleTest and GoogleMock with CMake, Bazel, or other build systems. Includes solutions for dependency issues, linking problems, and platform-specific quirks users frequently encounter during setup."
---

# Installation and Setup Troubleshooting

This FAQ page addresses common questions, issues, and solutions related specifically to installing and configuring **GoogleTest** and **GoogleMock** with build systems such as **CMake**, **Bazel**, and other environments. It focuses on helping users resolve problems they encounter during the setup phase, ensuring a smooth onboarding into the GoogleTest framework.

---

## 1. Frequently Asked Questions

### What are the common prerequisites before installing GoogleTest and GoogleMock?
Before installation, ensure your system meets the minimum requirements:
- A compiler supporting **C++17** or later.
- Supported operating systems: Linux, Windows, or Mac.
- Build tools such as **CMake** (version 3.10+) or **Bazel**.
- Dependencies like threading libraries (`pthread` on Linux/macOS).

Refer to the [System Requirements](/getting-started/setup-prerequisites/system-requirements) and [Prerequisites & Dependencies](/getting-started/setup-prerequisites/prerequisites) pages for detailed guidance.

---

### How do I troubleshoot build errors when installing with CMake or Bazel?
Build errors can stem from:
- Incompatible compiler versions or missing C++17 support.
- Incorrect or missing dependencies.
- Improper build environment setup.
- Misconfigured or missing build flags.

**Steps to troubleshoot:**
1. Verify your compiler supports C++17 using `--version` or compile a simple sample.
2. Confirm all dependencies are installed (check threading, Abseil if used).
3. Review your CMakeLists.txt or Bazel BUILD files for correct settings.
4. Look for errors related to missing headers or libraries.
5. Inspect environment variables like `PATH` or `LD_LIBRARY_PATH`.

For a step-by-step checklist, see the [Troubleshooting Setup Issues](/getting-started/first-run-validation/troubleshooting-setup).

---

### Why do I get linking errors related to GoogleTest or GoogleMock libraries?
Linking errors typically mean:
- The test executable isn’t properly linked with GoogleTest (gtest) or GoogleMock (gmock) libraries.
- Mixing incompatible versions or incorrect library names.
- Not linking the `pthread` library on Linux/macOS.

**Solutions:**
- With CMake, ensure you link against `gtest` and `gmock` targets properly, e.g., `target_link_libraries(your_test gtest gmock pthread)`.
- With Bazel, use appropriate dependencies in BUILD files.
- Confirm the `gtest_main` library is linked if you do not provide your own `main()`.

See the [Installing with CMake](/getting-started/installation-config/installing-cmake) and [Installing with Bazel](/getting-started/installation-config/installing-bazel) guides for example configurations.

---

### I have dependency issues. How do I handle missing or conflicting dependencies?
- Check if you have multiple versions of GoogleTest installed on your system causing conflicts.
- Use a dedicated isolated build environment or container.
- Verify environment variables do not accidentally point to wrong library versions.
- For optional dependencies like Abseil, confirm their availability or disable them if optional.

Refer to the Prerequisites documentation and ensure all dependencies are correctly installed and accessible.

---

### How do I resolve path and environment variable problems that cause failures during setup or test execution?
- Ensure all dependency headers and libraries are included in your build paths.
- Check that runtime linker paths (like `LD_LIBRARY_PATH` or `DYLD_LIBRARY_PATH`) are set properly for dynamic libraries.
- Avoid relative paths that may differ between build and execution environments.
- Use absolute paths or standard environment settings.

For platform-specific tips, consult the [Supported Platforms & Compatibility](/overview/integration-and-ecosystem/supported-platforms-and-compatibility).

---

### What should I do if my test executable does not run or crashes after setup?
- Validate that your build includes the correct `main()` function or link with `gtest_main`.
- Confirm all test files are compiled and linked into the executable.
- Run the test executable with `--gtest_break_on_failure` to debug early failures.
- Use verbose logging flags like `--gtest_verbose=info` during initialization.
- Check for platform-specific quirks such as symbol visibility or threading issues.

Refer to the [Running and Interpreting Your Tests](/guides/gtest-core-guides/running-tests) guide for deeper insights.

---

### What are platform-specific quirks I should be aware of during installation?
- Windows often requires special handling for thread libraries and DLL linkage.
- On Windows, be mindful of calling conventions when mocking methods (use `Calltype(...)`).
- Linux/macOS need correct `pthread` linkage.
- Embedded or unusual platforms (esp8266, esp32, nrf52) require custom init sequences.

The [Supported Platforms & Compatibility](/overview/integration-and-ecosystem/supported-platforms-and-compatibility) page contains platform-specific notes and compatibility macros.

---

### How do I control the verbosity of GoogleMock warnings during setup?
GoogleMock prints warnings for uninteresting or unexpected calls by default (naggy behavior). You can control message verbosity with the flag:
```bash
--gmock_verbose=info|warning|error
```
- `info` provides detailed logging (including all mock calls).
- `warning` (default) shows warnings and errors.
- `error` shows only failures.

You may also use `NiceMock<T>` to suppress uninteresting call warnings on a mock object.

See [gMock Cheat Sheet — Nice, Strict, and Naggy](docs/gmock_cook_book.md#NiceStrictNaggy) for details.

---

## 2. Common Issues & Resolutions

### Installation and Build Errors
- **Cause:** Missing or incompatible compiler, dependencies, or build tools.
- **Fix:** Verify system requirements; update compilers; install missing packages.

### Linking Problems
- **Cause:** Improper linkage of `gtest` and `gmock` libraries.
- **Fix:** Link explicitly with `pthread` on Unix; ensure `gtest_main` or your custom main exists.

### Platform-Specific Errors
- **Cause:** Unsupported or partially supported platforms, threading conflicts.
- **Fix:** Check for platform macros, use alternative initialization strategies.

### Environment Configuration Issues
- **Cause:** Wrong or missing environment variables affecting compile or runtime.
- **Fix:** Set paths explicitly and verify with diagnostic builds.

See detailed troubleshooting examples in [Troubleshooting Setup Issues](/getting-started/first-run-validation/troubleshooting-setup).

---

## 3. Troubleshooting Tips

<AccordionGroup title="Installation and Setup Troubleshooting Tips">
<Accordion title="Step-by-step Diagnostic Checklist">
1. Confirm compiler version supports C++17.
2. Check availability of required dependencies.
3. Verify build system configuration (CMakeLists.txt or BUILD files).
4. Review and fix any syntax errors in mock class definitions or build scripts.
5. Ensure correct linkage of required libraries.
6. Inspect log and error messages carefully for hints.
7. Run tests with `--gmock_verbose=info` for verbose mock behavior.
8. Try a minimal test example to isolate the issue.
</Accordion>
<Accordion title="Best Practices to Avoid Setup Issues">
- Use GoogleTest and GoogleMock releases matching your compiler and platform.
- Prefer linking with precompiled libraries or submodules rather than system-wide installs to avoid conflicts.
- Keep build configurations minimal and gradually add complexity.
- Document environment variables and build steps for your team.
</Accordion>
<Accordion title="Common Pitfalls to Avoid">
- Setting `EXPECT_CALL` after the mock is used — all expectations must be set before use.
- Mocking methods without virtual destructor in the base class.
- Misusing mock strictness wrappers causing unexpected warnings or errors.
</Accordion>
</AccordionGroup>

---

## 4. Additional Resources & Support

- [Official GoogleTest GitHub Repository](https://github.com/google/googletest) for source, issues, and updates.
- [Installing with CMake](/getting-started/installation-config/installing-cmake) and [Installing with Bazel](/getting-started/installation-config/installing-bazel) for installation guidance.
- [Troubleshooting Setup Issues](/getting-started/first-run-validation/troubleshooting-setup) for in-depth help.
- [gMock for Dummies](docs/gmock_for_dummies.md) and [gMock Cookbook](docs/gmock_cook_book.md) for mock creation tutorials.

For more advanced debugging, consult the [Mock Class Definition and Method Mocking](/api-reference/mocking-apis/mock-class-definition) and [Strictness and Uninteresting Calls](/api-reference/mocking-apis/strictness-and-uninteresting-calls) documentation.

---

By maintaining a clear focus on user problems and actionable solutions, this page equips you to alleviate installation and configuration challenges efficiently, accelerating your journey into effective C++ testing with GoogleTest and GoogleMock.

---