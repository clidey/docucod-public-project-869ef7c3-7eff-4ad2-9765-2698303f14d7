---
title: "Compatibility with Different Platforms"
description: "Answers common compatibility questions for running test suites on various operating systems, compilers, and continuous integration environments. Highlights any special considerations for platform-specific features or limitations."
---

# Compatibility with Different Platforms

This page answers common compatibility questions when running GoogleTest suites on various operating systems, compilers, and continuous integration (CI) environments. It highlights special considerations that ensure your test suites run smoothly across platforms, clarifying supported features, environment-specific behaviors, and common challenges.

---

## 1. Supported Operating Systems and Environments

GoogleTest is officially supported on a wide range of platforms following Google's [Foundational C++ Support Policy](https://opensource.google/documentation/policies/cplusplus-support). This includes desktops, servers, and embedded systems running various OSes.

- **Primary OS Support:** Linux, macOS, Windows (including variants like MinGW and Windows Desktop), FreeBSD, Solaris, AIX, Android, iOS, and several BSDs.
- **Embedded or Specialized Platforms:** GoogleTest has limited but present support for embedded platforms such as ESP32, ESP8266, and real-time operating systems like QURT and Xtensa, although some features may be restricted.

For a full list of supported platforms and versions of compilers and build tools, please refer to the official [Supported Platforms table](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md).

<Check>
Ensure your target platform matches the supported list to avoid subtle compatibility issues, especially when working on embedded or less common environments.
</Check>

---

## 2. Compilers and Toolchains Compatibility

GoogleTest requires a C++17-compliant compiler. It supports leading compilers such as:

- **GCC** (7.0 or later recommended)
- **Clang**
- **MSVC** (Visual Studio 2015 and later)
- **Intel LLVM Compiler**
- **Cross-compilers and embedded toolchains**, where applicable

### Compiler-Specific Notes:

- MSVC projects often need to align runtime library settings. GoogleTest by default links statically to the C runtime. To avoid linker errors (e.g., `RuntimeLibrary` mismatch), use the CMake option `gtest_force_shared_crt` to switch GoogleTest to dynamic runtimes.

- GoogleTest's CMake scripts adjust compiler flags for MSVC and Clang to increase warning levels and correctly configure exception handling.

- On GCC, flags like `-Wall -Wshadow -Wundef` are used to maintain strict code quality.

- Some compiler versions or configurations may require explicit flags to enable pthread support or exceptions in GoogleTest.

<Tip>
When using custom build systems, ensure your compiler flags match GoogleTest's expected configuration. For CMake users, these are automatically handled but should be reviewed if linking errors appear.
</Tip>

---

## 3. Threading and Runtime Feature Support

### Thread Safety

GoogleTest is thread-safe if pthreads or compatible synchronization primitives are available on the platform. The availability is controlled by the `GTEST_HAS_PTHREAD` macro.

- On most UNIX-like systems (Linux, macOS, BSD variants), pthread support is enabled by default.
- On Windows, GoogleTest uses native synchronization.
- On platforms where pthread is unavailable or disabled, GoogleTest provides a dummy implementation (no thread safety).

You can force pthread support via compiler defines:

```cpp
-DGTEST_HAS_PTHREAD=1    // force pthread support
-DGTEST_HAS_PTHREAD=0    // disable pthread support
```

### Exception and RTTI Support

GoogleTest detects and adapts to the availability of C++ exceptions and RTTI.

- Exceptions and RTTI must be enabled for full feature support.
- GoogleTest macros like `GTEST_HAS_EXCEPTIONS` and `GTEST_HAS_RTTI` indicate their availability.

If your environment disables exceptions or RTTI, some GoogleTest features (e.g., death tests, certain assertions) might be limited.

<Note>
Verify your compiler's exception and RTTI settings if you encounter compilation or runtime failures related to GoogleTest features.
</Note>

---

## 4. Platform-Specific Features and Limitations

### Death Tests

- Supported on platforms with filesystem access and stream redirection capabilities.
- Not available on many embedded or mobile platforms without proper OS support.

### Stream Redirection

- Enabled on most desktop/server OSes.
- Disabled on Windows Mobile, embedded platforms like ESP8266, and other limited environments.

### Unicode and String Support

- Wide string (`std::wstring`) support varies by platform. On some embedded systems and older OS versions, it is unavailable.

### Dynamic vs Static Libraries

- GoogleTest can be built as static or shared libraries.
- On Windows, shared libraries require defining `GTEST_CREATE_SHARED_LIBRARY=1` when building GoogleTest and `GTEST_LINKED_AS_SHARED_LIBRARY=1` when building tests.

<Tip>
Prefer static linking for simplicity unless your project demands shared libraries.
</Tip>

---

## 5. Continuous Integration and Cloud Environments

GoogleTest is widely compatible with various CI systems, including Jenkins, GitHub Actions, GitLab CI, and others.

### Recommendations for CI/CD:

- Use CMake or Bazel to manage dependencies and keep GoogleTest builds consistent.
- Pay special attention to cross-platform build agent specs to avoid mismatches in compiler versions or system libraries.
- Use the GoogleTest `--gtest_output` flag to generate XML reports consumable by CI tools.

<Check>
Before integrating with CI servers, verify that your build environment matches the recommended compilers and system requirements for GoogleTest.
</Check>

---

## 6. Customizing for Platform Quirks

You can influence GoogleTest's platform-dependent behavior by defining macros during compilation:

- `-DGTEST_HAS_PTHREAD=1` or `0` to toggle pthread support.
- `-DGTEST_CREATE_SHARED_LIBRARY=1` to build shared libs.
- `-DGTEST_LINKED_AS_SHARED_LIBRARY=1` when linking tests to shared GoogleTest libs.
- `-DGTEST_HAS_EXCEPTIONS=1` or `0` to specify exception support if autodetection fails.

For details, see [gtest-port.h](https://github.com/google/googletest/blob/main/googletest/include/gtest/internal/gtest-port.h) for all platform feature macros.

---

## 7. Troubleshooting Common Compatibility Issues

### Linker Errors on Windows with MSVC

- Occur due to CRT runtime mismatches.
- Use `gtest_force_shared_crt` CMake option to align runtime linkage.

### Missing pthread Symbols

- Happens if `GTEST_HAS_PTHREAD` is enabled but linker does not include pthread library.
- Make sure to link against pthread (e.g., `-lpthread` on Linux).

### Unsupported Features on Embedded Platforms

- Stream redirection and death tests unsupported on many embedded targets.
- Disable or avoid these features in tests targeting such platforms.

### Runtime Misbehavior Across Platforms

- Environment differences may cause flaky tests.
- Isolate and test platform-dependent code carefully.

<Warning>
Encountering platform-dependent failures often requires reviewing the test design and GoogleTest macros usage to ensure adherence to supported features.
</Warning>

---

## 8. Additional Resources

- [Supported Platforms & Environments](https://github.com/google/googletest/blob/main/docs/platforms.md)
- [System Requirements](https://example.com/getting-started/prerequisites-installation/system-requirements) (Getting Started)
- [Platform and Toolchain Integrations](https://example.com/concepts/extensibility-integrations/platform-integration)
- [Configuring GoogleTest for Your Project](https://example.com/getting-started/configuration-troubleshooting/configuration-basics)
- [Troubleshooting Common Setup Issues](https://example.com/getting-started/configuration-troubleshooting/common-issues-troubleshooting)
- [Handling Runtime Misbehavior and Edge Cases](https://example.com/faq/core-usage-faq/runtime-misbehavior)


---

For questions beyond platform compatibility, please visit related FAQ sections on installation, setup errors, and test failures.

---