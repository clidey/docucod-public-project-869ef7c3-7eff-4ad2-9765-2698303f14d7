---
title: "Getting Started and Installation Issues"
description: "Answers questions about initial setup, environment compatibility, C++ standard requirements, and common stumbling blocks encountered during installation or the early stages of using GoogleTest/GoogleMock. Directs users to solutions for compiler errors, linking problems, and basic build tool integration."
---

# Getting Started and Installation Issues FAQ

This page addresses common questions and issues faced by users during the initial setup and installation of GoogleTest and GoogleMock. It guides you through verifying environment compatibility, resolving compiler and linker errors, and configuring build tools effectively for a smooth start with the framework.

---

## Common Installation and Setup Questions

### What are the basic prerequisites for using GoogleTest and GoogleMock?

- **Compiler Support:** You must have a C++ compiler that supports C++17 or newer standards to build GoogleTest and GoogleMock.
- **Build Tools:** Tools such as CMake or Bazel are recommended to configure, build, and install the framework.
- **System Support:** GoogleTest is supported on Linux, macOS, Windows, and many other platforms where compatible compilers and build tools exist.

### How do I verify my compiler supports the required C++ standard?

Run your compiler with the flag to check the supported standard, for example:

```bash
clang++ --version
clang++ -std=c++17 -c test.cpp
```

or using `g++`:

```bash
g++ --version
g++ -std=c++17 -c test.cpp
```

If the compilation succeeds without errors related to the C++17 syntax, your compiler is compatible.

### What common build systems can I use to build GoogleTest/GoogleMock?

- **CMake:** Widely used for cross-platform builds. The project includes a `CMakeLists.txt` that supports building GoogleTest and GoogleMock.
- **Bazel:** Supports GoogleTest and GoogleMock with native rules.

Instructions and examples for both are available in the installation guides.

---

## Troubleshooting Common Setup Issues

### Linker error when building tests or binaries using GoogleTest and GoogleMock

**Problem:** Errors like `undefined reference to ...` or missing symbols during linking.

**Solution:**
- Ensure you are linking against the correct GoogleTest and GoogleMock libraries.
- Use `gmock_main` linked in your test program if you want to use the default main function.
- Verify that all necessary source files or compiled libraries are included.
- On Windows, ensure correct runtime libraries (debug vs release) are being linked.

### Missing header errors such as `gmock/gmock.h` not found

**Problem:** Build fails because the compiler cannot locate GoogleMock headers.

**Solution:**
- Make sure the include directories point to the location of GoogleMock headers, often `googlemock/include`.
- If using CMake, confirm target_include_directories are set correctly.
- If you installed GoogleTest/GoogleMock system-wide, ensure your compiler search paths include those directories.

### Compiler warnings about overriding methods with `const` parameters on MSVC

**Problem:** Warnings `C4301` or `C4373` appear when mocking methods with `const` parameters.

**Explanation:** This is a known MSVC compiler bug where top-level `const` on function parameters is ignored for overriding purposes.

**Solution:**
- Remove the top-level `const` qualifier from the method parameter in both the base and mock classes for MSVC builds.
- Ensure the pointer/reference `const` qualifiers remain intact where meaningful.

### How to handle builds on Windows with Unicode and wide-character argv

GoogleMock provides overloads of `InitGoogleMock` to support both `char**` and `wchar_t**` argv arguments for Unicode builds.

Example usage for Unicode applications:

```cpp
int wmain(int argc, wchar_t** argv) {
  testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### I see warnings about uninteresting function calls during tests. How can I manage these?

- These warnings mean that a mock method was called without any explicit `EXPECT_CALL` set.
- This is expected if you have not set expectations for calls you do not care about.
- To suppress these warnings, consider using `NiceMock` wrappers around your mocks.
- Alternatively, use `EXPECT_CALL(...).Times(AnyNumber())` to indicate you expect the method to be called any number of times.

### What if I want to completely avoid warnings on uninteresting calls?

Wrap your mock object as follows:

```cpp
NiceMock<MockClass> nice_mock;
```

Note that this suppresses warnings but does not turn uninteresting calls into errors.

### I get heap check failures in tests when using mocks. What should I check?

- Verify that the base class of the mock has a **virtual destructor**. This ensures the mock's destructor is called properly.
- Without a virtual destructor, deleting through a base pointer can cause resource leaks.

### How do I initialize GoogleMock to parse command-line flags?

Call `InitGoogleMock` with `argc` and `argv` prior to running tests:

```cpp
int main(int argc, char** argv) {
  testing::InitGoogleMock(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This will initialize GoogleTest and parse GoogleMock-specific flags.

### Can I use GoogleTest and GoogleMock on embedded or Arduino platforms?

Yes. GoogleMock provides an `InitGoogleMock()` overload without parameters for embedded contexts without command-line arguments.

Example:

```cpp
testing::InitGoogleMock();
```

### How can I avoid extremely long compile times when building large mock classes?

- Move mock class constructors and destructors out-of-line into `.cc` source files.
- This ensures constructors and destructors are compiled once rather than in every translation unit.

Example:

```cpp
// In mock_foo.h
class MockFoo : public Foo {
 public:
  MockFoo();
  virtual ~MockFoo();
  MOCK_METHOD(int, Method, (), (override));
};

// In mock_foo.cc
MockFoo::MockFoo() {}
MockFoo::~MockFoo() {}
```

### How do I get more detailed logging to troubleshoot test and mock failures?

Run your test binary with the flag:

```bash
--gmock_verbose=info
```

This will print detailed traces of mock function calls, matching expectations, and argument values.

To control verbosity programmatically:

```cpp
::testing::FLAGS_gmock_verbose = "info";
```

---

## Tips and Best Practices

- Call `EXPECT_CALL` before invoking any methods on mock objects to avoid undefined behavior.
- Use `ON_CALL` to set default method behaviors without introducing strict expectations.
- Prepare your build environment to support C++17 for compatibility with GoogleTest and GoogleMock.
- Use `NiceMock` or `StrictMock` to control warning and failure behaviors for uninteresting calls.
- Check for virtual destructors in base interfaces to prevent leaks and heap check errors.

---

## Getting Help and Additional Resources

- For detailed installation steps and platform-specific notes, see the [Installing on Linux, macOS, and Windows](https://github.com/google/googletest/blob/main/getting-started/requirements-installation/installing-on-linux-macos-windows.mdx) guide.
- For compiler and linker troubleshooting, refer to [Troubleshooting Common Setup Issues](https://github.com/google/googletest/blob/main/getting-started/first-test-validation/troubleshooting-common-issues.mdx).
- For community support, visit the [Community & Support Channels](https://github.com/google/googletest/blob/main/getting-started/next-steps-and-resources/community-and-support.mdx).

---

## Summary

This page empowers you to resolve the main obstacles during installing and setting up GoogleTest and GoogleMock. From compiler requirements and common error messages to advanced hints on suppressing warnings and optimizing compilation, you can overcome the frequent pitfalls and get your testing environment ready confidently.

---