---
title: "Getting Started & Configuration Issues"
description: "Resolve questions about initial setup, including integrating GoogleTest and GoogleMock with popular build systems like CMake and Bazel, compiler requirements (such as C++17 compatibility), and ensuring all dependencies are met for a seamless start."
---

# Getting Started & Configuration Issues FAQ

Welcome to the Getting Started & Configuration Issues FAQ. This resource is designed to swiftly address common questions and challenges you may face as you begin integrating GoogleTest and GoogleMock into your C++ projects. We focus specifically on initial setup, build system integration, compiler compatibility, and dependency management to enable a seamless testing experience.

---

## 1. What are the basic compiler requirements to use GoogleTest and GoogleMock?

GoogleTest and GoogleMock require a compiler with support for the C++17 standard or later. This ensures compatibility with modern language features used by the frameworks.

### Tips:
- Verify your compiler version supports C++17.
- Set your build system to enable C++17 (e.g., `-std=c++17` for GCC/Clang).
- Check the [Prerequisites & Supported Platforms](../getting_started/setup_requirements_install/prerequisites_supported_platforms.mdx) page for detailed compiler and platform information.

---

## 2. How can I integrate GoogleTest and GoogleMock with popular build systems like CMake or Bazel?

### CMake Integration
GoogleTest and GoogleMock provide CMake-friendly targets and configurations.

- Use `FetchContent` or add the GoogleTest source as a subdirectory in your CMake build.
- Link your test target against `gtest` and `gmock` libraries.

Example snippet:
```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/refs/tags/release-1.12.1.zip
)
FetchContent_MakeAvailable(googletest)
add_executable(my_tests test_main.cpp)
target_link_libraries(my_tests PRIVATE gtest gmock)
```

### Bazel Integration
- GoogleTest and GoogleMock targets are available in the `@com_google_googletest` workspace.
- Depend on `@com_google_googletest//:gtest` and `@com_google_googletest//:gmock` in your `BUILD` files.

For detailed instructions, refer to the [Installing GoogleTest and GoogleMock](../getting_started/setup_requirements_install/installing_framework.mdx) guide.

---

## 3. What dependencies must be satisfied before building GoogleTest and GoogleMock?

- A C++17-compatible compiler
- CMake version 3.12 or higher for CMake builds
- Standard C++ libraries compatible with C++17

### Tips:
- Ensure your environment's PATH includes compiler and CMake executables.
- Verify the presence of necessary development tools and dependencies.
- Review the [Prerequisites & Supported Platforms](../getting_started/setup_requirements_install/prerequisites_supported_platforms.mdx) for comprehensive environment validation steps.

---

## 4. What are the common errors encountered during installation and configuration?

### Common Errors Include:
- **Compiler errors related to missing C++17 support:** Update your compiler and enable the correct standard flag.
- **Linker errors:** Ensure GoogleTest and GoogleMock libraries are correctly linked to your test binaries.
- **MOCK_METHOD syntax errors:** See the correct usage and guidelines for `MOCK_METHOD` macro to avoid compilation failures.

Detailed resolution tips and troubleshooting steps can be found in [Common Installation Issues](../getting_started/troubleshooting/common_install_issues.mdx).

---

## 5. How do I correctly use the `MOCK_METHOD` macro in mock class definitions?

The `MOCK_METHOD` macro is your primary tool for defining mocked methods in your classes.

### Usage Highlights:
- Define mock methods in the **public** section of your mock class.
- The macro signature is:
```cpp
MOCK_METHOD(ReturnType, MethodName, (Args...), (Qualifiers));
```
- Wrap argument or return types that contain commas in extra parentheses, or use `using` aliases.

Example:
```cpp
class MockFoo {
 public:
  MOCK_METHOD(void, DoSomething, (int value), (override));
  MOCK_METHOD((std::pair<int, int>), GetPair, (), (override));
};
```

For full macro details, qualifiers, and advanced usage, visit the [Mocking Reference](../docs/reference/mocking.md#MOCK_METHOD).

---

## 6. What are the differences between `EXPECT_CALL` and `ON_CALL`?

- **`EXPECT_CALL`**: Sets an expectation _and_ a behavior. It asserts that the method *must* be called matching specified conditions, verifying call counts, argument matchers, and call order.
- **`ON_CALL`**: Specifies a default behavior when a method is called, _without_ creating any expectation about its invocation.

Use `ON_CALL` for default behavior to avoid overconstraining tests, and apply `EXPECT_CALL` only when you need to verify that specific calls occur.

See the detailed explanation in the [gMock Cookbook – Knowing When to Expect](../docs/gmock_cook_book.md#UseOnCall).

---

## 7. How can I suppress warnings about uninteresting calls?

Mock objects generate warnings for uninteresting calls — calls without matching `EXPECT_CALL`. To suppress these:

- **Use `NiceMock`** wrapper around your mock class:
```cpp
NiceMock<MockFoo> mock;
```
- Provide a catch-all expectation to explicitly allow calls:
```cpp
EXPECT_CALL(mock, SomeMethod(_)).Times(AnyNumber());
```

Avoid suppressing these warnings by adding empty `EXPECT_CALL`s without `Times(AnyNumber())` as it may mask real issues.

More on this in the [Mocking Reference – Nice, Naggy, and Strict mocks](../docs/reference/mocking.md#NiceMock).

---

## 8. How can I handle overloaded or templated methods in mocks?

- All overloads must be mocked separately using `MOCK_METHOD`.
- Use `Const()` helper to disambiguate const-overloaded methods.
- For templated methods, mock each explicit instantiation you intend to use.

Example for overloads:
```cpp
class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, DoWork, (), (override));
  MOCK_METHOD(int, DoWork, (int), (override));
};
```

See the [Mocking Reference – Mocking Overloaded Methods](../docs/reference/mocking.md#MockingOverloadedMethods) for best practices.

---

## 9. What if I want to mock methods using move-only types like `std::unique_ptr`?

GoogleMock fully supports move-only types in mock methods. Use `MOCK_METHOD` as usual:

```cpp
MOCK_METHOD(std::unique_ptr<MyClass>, CreateObject, (int arg), (override));
```

When specifying actions, use lambdas or callable objects to return new instances since `Return(std::move(...))` can only be called once.

Example:
```cpp
EXPECT_CALL(mock, CreateObject(_))
  .WillRepeatedly([](int) { return std::make_unique<MyClass>(); });
```

Refer to [gMock Cookbook – Mocking Methods That Use Move-Only Types](../docs/gmock_cook_book.md#MockingMethodsThatUseMoveOnlyTypes) for complete guidance.

---

## 10. How do I verify that all expectations on a mock are met before the mock’s destruction?

By default, GoogleMock verifies expectations when a mock object is destroyed. To verify explicitly earlier, use:

```cpp
::testing::Mock::VerifyAndClearExpectations(&mock_object);
```

Use this if the mock object may persist longer than the test scope or is owned externally.

Note: Do not set new expectations on the mock after calling this function.

More details in the [Mocking Reference – Verifying and Resetting Mocks](../docs/reference/mocking.md#VerifyAndClear).

---

## 11. Where can I get help if I run into issues?

- Consult [Common Installation Issues](../getting_started/troubleshooting/common_install_issues.mdx).
- Participate in the community via GitHub issues and mailing lists.
- Refer to the [Getting Help & Next Steps](../getting_started/troubleshooting/getting_help_next_steps.mdx) page for support resources.

---

## Summary Table
| Topic                               | Reference Link                                                                                   |
|------------------------------------|------------------------------------------------------------------------------------------------|
| Compiler and Platform Requirements | [Prerequisites & Supported Platforms](../getting_started/setup_requirements_install/prerequisites_supported_platforms.mdx) |
| Build System Integration            | [Installing GoogleTest and GoogleMock](../getting_started/setup_requirements_install/installing_framework.mdx)               |
| Mocking Basics                     | [Mocking Reference](../docs/reference/mocking.md)                                              |
| Using `EXPECT_CALL` and `ON_CALL`  | [gMock Cookbook – Knowing When to Expect](../docs/gmock_cook_book.md#UseOnCall)                  |
| Handling Uninteresting Calls        | [Mocking Reference – Nice, Naggy, and Strict mocks](../docs/reference/mocking.md#NiceMock)      |
| Move-only Types                    | [gMock Cookbook – Mocking Methods That Use Move-Only Types](../docs/gmock_cook_book.md#MockingMethodsThatUseMoveOnlyTypes) |
| Explicit Verification               | [Mocking Reference – Verify and Clear](../docs/reference/mocking.md#VerifyAndClear)             |
| Troubleshooting & Help              | [Common Installation Issues](../getting_started/troubleshooting/common_install_issues.mdx), [Help & Next Steps](../getting_started/troubleshooting/getting_help_next_steps.mdx) |

---

For an efficient start with GoogleTest and GoogleMock, ensure your environment meets the prerequisites, integrate properly with your build system, and adopt sound mocking practices by leveraging the above references. This will empower you to write robust, maintainable tests quickly.