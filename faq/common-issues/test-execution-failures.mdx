---
title: "Test Execution Not Working"
description: "Troubleshooting strategies for when tests are not running, being discovered, or producing unexpected results. This page addresses issues such as test registration, linking errors, and problems with the test runner environment."
---

# Test Execution Not Working

GoogleTest automatically discovers and executes tests based on your test definitions and configuration. When tests do not run, are not discovered, or produce unexpected results, it can disrupt your testing workflow. This guide provides pragmatic strategies to diagnose and resolve common issues related specifically to test execution failures.

---

## 1. Diagnosing Test Registration Issues

### Symptoms
- No tests run, and output indicates zero tests discovered.
- Tests you defined do not appear in the test list or output.
- Test names show incorrectly or tests show as disabled unexpectedly.

### What You Need to Know
GoogleTest discovers tests at runtime by registering them through macros like `TEST()`, `TEST_F()`, and dynamically via `RegisterTest()`. Registration failures or mismatches in fixture usage can prevent tests from being runnable.

### How to Troubleshoot
1. **Confirm Test Definitions Are Linked**
   - Ensure your test translation units are included in the build and linked into the test binary. Unlinked test files cause zero tests discovered.
2. **Check for Consistent Use of Test Fixtures**
   - Do not mix `TEST()` and `TEST_F()` within the same test suite. GoogleTest enforces that all tests within a test suite use the same fixture.
   - If mixed, GoogleTest will emit an error but may silently skip tests.
3. **Run with `--gtest_list_tests`**
   - Running your test binary with `--gtest_list_tests` lists all discovered tests without running them. If this is empty or missing your tests, tests are not properly registered.
4. **Pay Attention to DISABLED_ Prefixes**
   - Tests or test suites with names starting with `DISABLED_` are skipped by default. You can enable them with the flag `--gtest_also_run_disabled_tests`.
5. **Review Usage of Parameterized Tests**
   - For `TEST_P` test suites, ensure you have corresponding `INSTANTIATE_TEST_SUITE_P` statements. Otherwise, tests wonâ€™t be instantiated or run.

<Tip>
If you encounter warnings or errors about mixing `TEST()` with `TEST_F()` in the same suite, separate your tests into distinct test suites to avoid conflicts.
</Tip>

---

## 2. Resolving Linking and Build Errors Affecting Test Execution

### Symptoms
- Linker errors related to static members in the test fixture
- Undefined references to GoogleTest symbols
- Compiler errors involving macros like `TEST` or `TEST_F`

### How to Troubleshoot
1. **Confirm Build Setup Meets Requirements**
   - GoogleTest requires C++17 support and appropriate threading support.
   - Make sure to link with the correct GoogleTest libraries (e.g., `gtest` and `pthread` on Linux).
2. **Avoid Multiple Definitions of Static Constant Members**
   - If tests use static const members (e.g., as part of fixtures), define them exactly once in a source file to avoid ODR violations.
3. **Macro Usage**
   - Use the GoogleTest macros exactly as specified, do not redefine or undefine them.
4. **Link Against All Required Dependencies**
   - Missing dependencies will cause tests not to register or link properly.

<Warning>
Ignoring link errors by disabling tests or commenting out code can mask bigger issues.
Always resolve link errors as they prevent tests from being discovered and executed.
</Warning>

---

## 3. Understanding Test Runner Environment and Flags

The test runner controls which tests are executed, filtered, and reported.

### Common Issues
- Incorrect or unexpected test selection due to filtering or sharding
- Tests silently skipped due to filters or environment variables

### How to Edit and Verify
1. **Filters and Disabled Tests**
   - Verify the `--gtest_filter` flag or environment variable to ensure your tests are included.
   - Confirm if disabled tests should run with `--gtest_also_run_disabled_tests`.
2. **Fail If No Tests Run Flags**
   - `--gtest_fail_if_no_test_linked` and `--gtest_fail_if_no_test_selected` help catch misconfigured test runs.
3. **Test Sharding**
   - When using `GTEST_TOTAL_SHARDS` and `GTEST_SHARD_INDEX`, verify these environment variables are set correctly.
   - Mismatched or misconfigured sharding leads to no tests running on some shards.
4. **Repeat and Shuffle Flags**
   - Repeating tests with `--gtest_repeat` and shuffling order with `--gtest_shuffle` may affect test visibility and order.

<Check>
Run your tests with `--gtest_list_tests` and no filters to confirm complete test discovery.
</Check>

---

## 4. Handling Unexpected Test Results

### Symptoms
- Tests run but produce unexpected failures or skips
- Fatal failures in test fixture constructors or SetUp causing silent skips
- Tests silently skipped due to `GTEST_SKIP()` calls

### Best Practices
- Use `ASSERT_*` macros inside tests and `SetUp()` to prevent running tests with invalid setup
- Avoid fatal assertions or failures inside constructors
- Use `GTEST_SKIP()` judiciously for conditional test skipping with explanatory messages

### How to Debug
- Enable verbose output such as `--gtest_brief=0` to see info for non-failing tests
- Inspect test and test suite setup code for masking conditions
- Use event listeners to log detailed test lifecycle events if needed (see Advanced Guide)

---

## 5. Step-by-Step Validation and Recovery

1. **Compile and Link Test Binary**
2. **Run with `--gtest_list_tests` to Verify Test Discovery**
3. **Run Without Filter to Execute All Tests**
4. **Use Flags to Show Disabled Tests or Increase Verbosity**
5. **Check for Runtime Failures, Setup Failures, and Skips**
6. **Review Log Messages and Test Output for Tracebacks**
7. **Adjust Test Registration or Macro Usage as Needed**

---

## Additional Resources

- [GoogleTest Primer: Test Discovery and Execution](getting-started/first-test-setup/test-discovery-execution.md)
- [Assertions Reference](reference/assertions.md)
- [Advanced GoogleTest Topics](guides/advanced.md#running-test-programs-advanced-options)
- [Parameterization and Typed Tests](guides/parameterization-and-patterns/value-parameterized-tests.md)
- [Test Suite Structure & Execution Flow](concepts/architecture-core-models/test-suite-and-execution-flow.md)

---

## Quick Checklist

- Are your test files linked in the test executable?
- Are your tests defined using the correct macros and fixtures?
- Do you see your tests with `--gtest_list_tests`?
- Are filters or sharding environment variables set?
- Are any tests disabled unintentionally?
- Are your test suites consistent in fixture usage?
- Are you skipping tests intentionally or unexpectedly?
- Do you have any setup or teardown code failing silently?

---

If these strategies do not resolve your issue, consider reaching out on the GoogleTest GitHub Issues page or community forums with detailed logs and test summaries.

---