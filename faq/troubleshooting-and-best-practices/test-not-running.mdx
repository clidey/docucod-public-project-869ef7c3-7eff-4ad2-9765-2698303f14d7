---
title: "Why are my tests not being discovered or run?"
description: "Details the typical causes for tests not appearing or executing, such as naming conventions, registration errors, and build misconfigurations. Provides step-by-step debugging instructions and links to deeper documentation."
---

# Why Are My Tests Not Being Discovered or Run?

This FAQ page addresses the most common reasons why your GoogleTest or GoogleMock tests might not appear in the test runner output or fail to execute altogether. It helps you identify typical misconfigurations related to test naming, registration, build setup, and runtime filtering. Clear step-by-step debugging instructions and links to deeper documentation are provided to help you resolve test discovery and execution issues quickly.

---

## 1. Common Reasons for Tests Not Being Discovered or Run

### a. Test Naming Conventions
GoogleTest expects test suites and test names to follow specific naming rules:

- Test suite and test case names (the first and second arguments to `TEST()` or `TEST_F()`) must be valid C++ identifiers.
- Avoid underscores (`_`) in these names to prevent unexpected behavior in some test runners.
- If these conventions are violated, tests might not be recognized.

**Example:**
```cpp
// Correct way
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

// Incorrect (may not run properly)
TEST(Factorial_Test, HandlesZero_Input) {
  EXPECT_EQ(Factorial(0), 1);
}
```

For full details, see the [Writing Your First Test](https://github.com/google/googletest/blob/main/docs/guides/getting-started/writing-your-first-test.md) guide.

---

### b. Missing or Incorrect Test Registration

- Tests are registered with GoogleTest automatically via macros like `TEST()`, `TEST_F()`, `TEST_P()`, etc.
- If you use your own main program without calling `testing::InitGoogleTest()` or `testing::InitGoogleMock()`, tests will not be registered properly.
- Ensure your `main()` function calls `InitGoogleTest` or `InitGoogleMock` before `RUN_ALL_TESTS()`.

**Example:**
```cpp
int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);  // Required for test registration
  return RUN_ALL_TESTS();
}
```

If you link against `gtest_main` or `gmock_main`, a suitable main function is provided for you.

---

### c. Build System Misconfiguration
Tests may not run if your project’s build does not correctly incorporate GoogleTest or GoogleMock:

- Source or header files containing tests may not be compiled or linked properly.
- Targets may not be set up to build test modules.
- Compiler flags and test macro definitions could be missing.

Make sure you have correctly followed the build configuration steps appropriate to your environment (e.g., CMake, Bazel), as described in the [Configuring Your Build](https://github.com/google/googletest/blob/main/docs/getting-started/preparation-installation/build-configuration.md) guide.

---

### d. Test Filtering and Command-Line Flags
GoogleTest supports filtering which tests to run via command line flags:

- Using `--gtest_filter=` can exclude your tests unintentionally.
- Check your test runner config or scripts for filtering logic.
- Certain environment variables or IDE settings may also affect test discovery.

For example, to run all tests:

```shell
./my_test_executable --gtest_filter=*
```

Incorrect filter like:

```shell
./my_test_executable --gtest_filter=NonexistentTest*
```

will cause no tests to run.

Refer to [Running Tests: Command Line & Output](https://github.com/google/googletest/blob/main/docs/getting-started/first-steps-usage/running-tests.md) for more on controlling test execution.

---

## 2. Step-by-Step Debugging Workflow

1. **Check Test Names and Macros**
   - Verify you're using the correct `TEST`, `TEST_F`, or other test macros.
   - Verify test names follow C++ identifier rules without underscores where discouraged.

2. **Ensure Proper Test Registration**
   - Confirm `InitGoogleTest` or `InitGoogleMock` is called before `RUN_ALL_TESTS()` in your `main()`.
   - If using `gtest_main` or `gmock_main` libraries, verify they are linked.

3. **Review Build Configuration**
   - Confirm that your test source files are compiled and linked into your test executable.
   - Verify CMake or Bazel targets include GoogleTest/GoogleMock correctly.
   - Check that compiler flags such as `-DGTEST_HAS_PTHREAD=1` and other requirements are set.

4. **Run Tests Without Filtering**
   - Run your test binary without filters (`--gtest_filter=*`) to see if tests run.
   - Check test output for any warnings or errors that may hint at the issue.

5. **Increase Verbosity for Diagnostic Output**
   - Use `--gtest_list_tests` to list discovered tests and verify they appear.
   - Run with `--gmock_verbose=info` to see detailed mock call and expectation diagnostics.

6. **Check for Linker or Runtime Errors**
   - Missing virtual destructors can cause silent test skipping.
   - Linker errors often manifest as missing test registration.

7. **Consult Logs and Output Messages**
   - Look for messages about skipped or unregistered tests.
   - Verify no exceptions or segmentation faults abort test discovery phase.

---

## 3. Best Practices to Prevent Test Discovery and Execution Issues

- Always place test macro invocations in `.cc` files included in test build targets.
- Follow the official [Naming Conventions](https://github.com/google/googletest/blob/main/docs/guides/getting-started/writing-your-first-test.md#naming-conventions) for test suites and test names.
- Prefer using provided `gtest_main` or `gmock_main` libraries unless you have a special need.
- Keep build scripts clean and validated, ideally by building and running the sample tests.
- Avoid overlapping or conflicting filters when running tests.

---

## 4. Related Documentation and Further Help

- [Writing Your First Test](https://github.com/google/googletest/blob/main/docs/guides/getting-started/writing-your-first-test.md) — Introductory instructions for defining tests.
- [Running Tests: Command Line & Output](https://github.com/google/googletest/blob/main/docs/getting-started/first-steps-usage/running-tests.md) — How to execute and filter tests.
- [Configuring Your Build](https://github.com/google/googletest/blob/main/docs/getting-started/preparation-installation/build-configuration.md) — Integrating GoogleTest into various build systems.
- [Troubleshooting Setup Issues](https://github.com/google/googletest/blob/main/docs/getting-started/first-steps-usage/troubleshooting-setup.md) — Common startup problems.
- [Legacy gMock FAQ](https://google.github.io/googletest/gmock_faq.html) — Answers to common mocking questions.

---

## 5. Troubleshooting Tips for Specific Scenarios

<AccordionGroup title="Troubleshooting Checklist">
<Accordion title="No Tests Are Found When Running the Test Binary">
- Verify your test source files are compiled and linked.
- Check that `InitGoogleTest()` or `InitGoogleMock()` is called in your `main()`.
- Confirm test macros are correctly used (`TEST`, `TEST_F`, etc).
- Run the executable with `--gtest_list_tests` to list detected tests. If empty, tests are not registered.
</Accordion>
<Accordion title="Tests Appear But Don't Run or Are Skipped">
- Check if command line filters are excluding tests.
- Look for runtime errors or exceptions in setup.
- Increase verbosity with `--gtest_filter=*` and `--gmock_verbose=info` to observe execution details.
</Accordion>
<Accordion title="Using Custom Test Executors or Runners">
- Ensure the custom runner calls the test framework initialization `InitGoogleTest` properly.
- Confirm that test registration occurs before running tests.
</Accordion>
<Accordion title="Unexpected Build or Linker Errors Related to Tests">
- Confirm usage of consistent compiler flags and settings as required by GoogleTest.
- Make sure virtual destructors exist on mocked base classes to prevent undefined behaviors.
- Review build configuration documentation for your environment.
</Accordion>
</AccordionGroup>

---

## 6. Summary

When your tests are not discovered or not run, the root cause is often related to incorrect test naming, missing or improper test registration, build misconfiguration, or unintended test filtering. Following the step-wise debugging approach outlined here will help you isolate and resolve most issues efficiently.

Employ best practices around test definition, linking, and execution to avoid these problems proactively.

<Check>
Remember, successful test discovery requires valid naming, proper registration during `InitGoogleTest`, and correct build integration.
</Check>

---

For detailed mastery, consult [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/reference/primer.md) and [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html).


---

<br/>
<p align="center"><i>End of FAQ: Why Are My Tests Not Being Discovered or Run?</i></p>
