---
title: "Common Getting Started Issues"
description: "Answers frequently asked questions about initial setup, configuration, and usage obstacles when integrating GoogleTest and GoogleMock into a new or existing project. Includes tips for correct header usage, linking, and first test runs."
---

# Common Getting Started Issues FAQ

This FAQ addresses frequent questions and obstacles users encounter during the initial setup, configuration, and first test runs with GoogleTest and GoogleMock. It provides clear solutions for correct header inclusion, linker issues, environment setup, test execution, and basic troubleshooting.

---

## Table of Contents
1. [General Setup Questions](#general-setup-questions)
2. [Header Inclusion & Linking Issues](#header-inclusion--linking-issues)
3. [Running Your First Test](#running-your-first-test)
4. [Building and Integration Troubleshooting](#building-and-integration-troubleshooting)
5. [Test Execution Problems](#test-execution-problems)
6. [Common Configuration Pitfalls](#common-configuration-pitfalls)
7. [Helpful Tips and Best Practices](#helpful-tips-and-best-practices)
8. [Getting Additional Help](#getting-additional-help)

---

## General Setup Questions

### What are the essential steps to start using GoogleTest in my project?

Start by installing GoogleTest via CMake or Bazel. Include the header `<gtest/gtest.h>` in your test files. Initialize the framework in your `main()` function by calling `testing::InitGoogleTest(&argc, argv);` before running `RUN_ALL_TESTS()`.

<Tip>
Always verify your compiler and OS meet the minimum requirements before installation. Refer to the [Prerequisites & System Requirements](/getting-started/setup-prerequisites-installation/prerequisites-system-requirements) guide.
</Tip>

### Can I write tests without a test fixture?

Yes. Use the `TEST(TestSuiteName, TestName)` macro for simple tests without shared setup. Use `TEST_F(TestFixtureName, TestName)` if you need to share objects or setup between tests.


## Header Inclusion & Linking Issues

### Why do I get "undefined reference" errors for GoogleTest symbols?

This generally means your test binary is not linked against the GoogleTest library.

Ensure you link your test executable against the correct GoogleTest library (e.g., `-lgtest` and `-lpthread`). When using CMake, use `target_link_libraries(your_test gtest gtest_main)`.

<Tip>
If you use `gtest_main`, you donâ€™t need to write your own `main()` function.
</Tip>

### What should I include in my test files?

Include `<gtest/gtest.h>` for all tests. If you use GoogleMock features, also include `<gmock/gmock.h>`.

Do not include internal headers or implementation details.

### Why does my test fail to compile due to missing default constructor?

GoogleTest creates a fresh test fixture object for each test, so your test fixture class must have a default (no-argument) constructor.

Manually add a default constructor if your class defines any other constructors.

### Why do some tests fail with linker errors on static constexpr members?

Declaration of static constexpr members inside the class also defines them. For other static const members, define them in the `.cc` file.


## Running Your First Test

### How do I write and run a very simple GoogleTest test?

Create a file with the following content:

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, BasicAssertions) {
  EXPECT_EQ(1, 1);
  EXPECT_TRUE(true);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile it linking against `gtest` and `pthread`, then run the resulting executable.

### Why aren't my tests running?

Verify you have defined tests correctly with `TEST` or `TEST_F`. Also, ensure `RUN_ALL_TESTS()` executes in `main()` after `InitGoogleTest`.

Check that test names and suite names do not contain underscores (`_`), as this can cause silent failures or linkage problems. See [Why test and suite names should avoid underscores](../faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore).

### How do I run only a subset of my tests?

Use the `--gtest_filter` flag:

```bash
./my_test --gtest_filter=MySuite.MyTest
```

Supports wildcards (`*`, `?`) and exclusion patterns (`-`).


## Building and Integration Troubleshooting

### How do I integrate GoogleTest with CMake?

Use `find_package(GTest REQUIRED)` or add GoogleTest as a subdirectory. Link your test targets with `GTest::gtest` and `GTest::gtest_main`. Ensure your build system is correctly configured to compile and link with all dependencies.

Refer to the [Installation & Integration](/getting-started/setup-prerequisites-installation/installation-integration) guide for detailed instructions.

### What if I am using Bazel?

Follow the examples in [Integration Points Guide](/overview/inside-googletest/integration-points). Bazel users should ensure tests are specified correctly in BUILD files.


## Test Execution Problems

### Why does `RUN_ALL_TESTS()` return non-zero status?

This indicates at least one test failed or a test lifecycle error occurred. Review test output for failure messages.

### How to interpret failures in global test environments?

Global environments (subclasses of `testing::Environment`) run setup/teardown before and after all tests. Failures here can cause tests not to run. See [Global Set-Up and Tear-Down](../advanced.md#global-set-up-and-tear-down) for proper usage.

### What if my test crashes?

If a test crashes, GoogleTest marks it as failed. Use death tests (`EXPECT_DEATH`) to verify expected crashes.

### Why does a death test lose state changes?

Death tests run in a subprocess to isolate crashes, so memory changes inside the death test are not visible to the parent process. Any state changes should be verified in the parent process after the death test.

### How do I skip tests if conditions are not met?

Use `GTEST_SKIP()` inside the test or fixture `SetUp()` to skip tests dynamically with optional messages.


## Common Configuration Pitfalls

### Why is my `SetUp()` or `TearDown()` not called?

- Verify the method is spelled exactly `SetUp()` and `TearDown()` with correct capitalization.
- For test fixtures, `SetUpTestSuite()` and `TearDownTestSuite()` must be `static`.

### Can I use assertions in constructors or destructors?

No. Due to C++ language limitations, fatal assertions (`ASSERT_*`) cannot be used in constructors or destructors. Instead, use `SetUp()` and `TearDown()`. For non-fatal assertions, you may use `EXPECT_*`.

### Why are my value-parameterized tests failing to run?

You must instantiate parameterized tests with `INSTANTIATE_TEST_SUITE_P`. Otherwise, GoogleTest will report failures. Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` to suppress this if appropriate.

---

## Helpful Tips and Best Practices

- Use meaningful test and suite names without underscores.
- Prefer test fixtures (`TEST_F`) when tests share setup code.
- Use `SCOPED_TRACE` to add context to assertions in subroutines for better diagnostics.
- Always return the value of `RUN_ALL_TESTS()` from your `main()` - ignoring it can mask failures.
- Use `EXPECT_NO_FATAL_FAILURE` to check subroutine calls do not fail fatally.


## Getting Additional Help

- Consult the [Getting Started Guides](../guides/getting-started/setup-quickstart) for stepwise tutorials.
- Review the [Troubleshooting Common Issues](/getting-started/first-test-troubleshooting/troubleshooting-common-issues) page for deeper problem-solution workflows.
- Explore the [GoogleTest Primer](../docs/primer.md) and [Assertions Reference](../docs/reference/assertions.md) for foundational knowledge.
- Join community forums or the GoogleTest discussions at GitHub.

<Tip>
Be sure to run tests with verbose output using `--gtest_brief=0` to see more diagnostic info on test results.
</Tip>

---

For further details and advanced scenarios, see the linked documentation sections and the broader [GoogleTest User's Guide](../docs/index.md).
