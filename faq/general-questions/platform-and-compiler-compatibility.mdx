---
title: "Platform and Compiler Compatibility"
description: "Answers to questions about supported platforms, required C++ standards, and adapting GoogleTest/GoogleMock across diverse environments. Includes troubleshooting for portability issues and leveraging official compatibility resources."
---

# Platform and Compiler Compatibility FAQ

This FAQ addresses common questions about the platforms and compilers supported by GoogleTest and GoogleMock, the required C++ standards, and how to adapt these frameworks to various development environments. It also provides troubleshooting advice for portability issues and directs users to official compatibility resources.

---

## 1. What platforms does GoogleTest support?
GoogleTest supports a broad range of platforms, including:

- Windows (Desktop, MinGW, Mobile, Phone, WinRT)
- macOS and iOS
- Linux and Linux-based Android
- BSD variants (FreeBSD, NetBSD, OpenBSD, DragonFlyBSD)
- Other Unix-like systems (Solaris, AIX, HP-UX, GNU/Hurd)
- Embedded platforms like ESP8266, ESP32, XTENSA, and others

Support stability is highest for Windows, Linux, macOS, and Cygwin. For less common platforms, functionality may be experimental or limited.

## 2. What are the minimum compiler and language requirements for building GoogleTest?
GoogleTest requires a C++17-compliant compiler. It explicitly checks the C++ version and will fail compilation if a compiler with less than C++17 support is used.

Supported compilers include:

- GCC 7 and above (with C++17 support)
- Clang 5 and above
- MSVC 2017 (version 19.11) and above

It is recommended to specify `-std=c++17` or the equivalent flag in your build environment to ensure compatibility.

## 3. How does GoogleTest adapt to platform-specific characteristics?
GoogleTest detects the platform automatically through predefined macros and sets internal macros accordingly (e.g., `GTEST_OS_WINDOWS`, `GTEST_OS_LINUX`, `GTEST_OS_MAC`). This allows it to:

- Use platform-specific synchronization primitives (e.g., pthreads on POSIX, Windows Critical Sections).
- Use appropriate filesystem and OS abstractions.
- Adapt regular expression usage based on platform support (RE2, POSIX regex, or built-in simple regex).

## 4. What are the important environment macros I should be aware of?
Some key macros defined by GoogleTest internally (but useful for understanding portability) include:

- **GTEST_HAS_PTHREAD**: Indicates if pthreads are available and used.
- **GTEST_HAS_RTTI**: Indicates if Run-Time Type Information (RTTI) is enabled.
- **GTEST_HAS_EXCEPTIONS**: Indicates if exceptions are enabled.
- **GTEST_HAS_STD_WSTRING**: Indicates support for `std::wstring`.
- **GTEST_HAS_FILE_SYSTEM**: Indicates if filesystem features are available.
- **GTEST_HAS_DEATH_TEST**: Indicates support for death tests.

Users normally do not need to define these themselves unless overriding defaults.

## 5. Can I build GoogleTest and GoogleMock as shared libraries (DLLs) on Windows?
Yes. To build GoogleTest as a shared library:

- Define `-DGTEST_CREATE_SHARED_LIBRARY=1` in compiler flags for GoogleTest compilation.
- Define `-DGTEST_LINKED_AS_SHARED_LIBRARY=1` when compiling tests that use GoogleTest DLL.

For GoogleMock, the equivalent flags involve `GMOCK_CREATE_SHARED_LIBRARY` and linking accordingly.

This ensures proper symbol export/import with MSVC and resolves runtime library mismatches.

## 6. How does GoogleTest handle threading and synchronization across platforms?
GoogleTest uses native platform APIs for threading:

- On POSIX platforms (Linux, macOS, BSD), it uses pthreads.
- On Windows, it uses Critical Sections and related facilities.

If threading support is not available or disabled (`GTEST_HAS_PTHREAD=0`), GoogleTest falls back on no-op mutex implementations, disabling multithreading safety.

Thread-local storage is implemented using platform-specific mechanisms to ensure correct per-thread behavior.

## 7. What common portability issues might arise, and how can I troubleshoot them?

<Tip>
Always verify the compiler version and language standard settings to ensure C++17 support.
</Tip>

### Common Problems

- **Undefined macros or build errors related to threading**: Typically caused by missing pthread development headers or wrong flags.
- **Linker errors on Windows**: Can result from mixing static and dynamic CRT runtimes or missing export definitions.
- **Problems running death tests**: These require filesystem support and might be disabled on embedded or limited platforms.

### Solutions

- Use the appropriate build system flags and verify platform detection macros are set.
- Refer to System Requirements and Installation guides to confirm environment setup.
- Consider overriding platform-specific macros only if necessary.

## 8. Are exceptions and RTTI mandatory in GoogleTest?

- By default, GoogleTest detects whether exceptions (`GTEST_HAS_EXCEPTIONS`) and RTTI (`GTEST_HAS_RTTI`) are enabled.
- While GoogleTest does not use exceptions internally, some features may require them.
- RTTI support enables features like typed tests and dynamic casting.

If your environment disables exceptions or RTTI, GoogleTest tries to work accordingly, but some features may be limited.

## 9. How do I check which features are enabled or supported on my platform?

You can check macros like:

- `GTEST_HAS_DEATH_TEST`
- `GTEST_IS_THREADSAFE`
- `GTEST_HAS_TYPED_TEST`

These macros, defined as 1 or 0, indicate availability of specific features.

## 10. Where can I find official documentation on supported platforms and compiler details?

Refer to the following resources:

- GoogleTest repository: [include/gtest/internal/gtest-port.h](https://github.com/google/googletest/blob/main/googletest/include/gtest/internal/gtest-port.h) (core portability macros and detection)
- [Supported Platforms Documentation](https://github.com/google/googletest/blob/main/docs/platforms.md)
- System Requirements & Prerequisites guide in the documentation

## Additional Tips

- **Customizing Portability**: You may define macros like `GTEST_HAS_PTHREAD` or `GTEST_HAS_EXCEPTIONS` in your build to override auto detection.
- **Keep Dependencies Updated**: Ensure your toolchain and dependencies like Abseil or RE2 are compatible for full feature use.

---

### Example: Platform-Dependent Compilation Check

```cpp
#if !defined(GTEST_INTERNAL_CPLUSPLUS_LANG) || GTEST_INTERNAL_CPLUSPLUS_LANG < 201703L
#error "C++ versions less than C++17 are not supported."
#endif

#ifdef GTEST_OS_WINDOWS
  // Windows-specific code
#elif defined(GTEST_OS_LINUX)
  // Linux-specific code
#else
  // Fallback or error
#endif
```

This pattern underpins GoogleTest's cross-platform adaptation.

---

### Summary

This document answers key questions about the platforms and compilers GoogleTest supports, what environment settings affect compatibility, and how to troubleshoot common portability issues. It highlights the minimum C++ standard requirement (C++17), threading support, death test requirements, and shared library usage on Windows.

Additional references and more detailed guidance can be found in related System Requirements, Installation, and Portability guides.

---

## Related Documentation

- [System Requirements & Prerequisites](../../getting-started/prerequisites-installation/system-requirements)
- [Configuration and Integration Tips](../../getting-started/prerequisites-installation/configuration-overview)
- [Portability Configuration & Abstractions](../../api-reference/platform-configuration-compatibility/portability-configuration)
- [Portability and Platform-Specific Tips](../../guides/integration-and-best-practices/portability-and-platform-tips)

For mock-specific compatibility, check [gMock README](../../googlemock/README.md).

---

## Troubleshooting Reference

- Check compiler version meets C++17 requirements
- Ensure threading support is enabled if multi-threading tests are used
- Use appropriate compiler and linker flags for shared/static builds
- Validate environment variables and build system macro overrides

For persistent issues, consult the community forums or report issues on the official GitHub repository.

---

If you encounter specific errors or incompatibilities, always consult the authoritative header `gtest-port.h` in the source for the most current definitions of platform macros and feature flags.

---

# End of FAQ
