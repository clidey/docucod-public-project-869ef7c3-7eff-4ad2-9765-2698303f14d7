---
title: "What are the requirements to use GoogleTest?"
description: "Covers minimum language standards (such as C++17), compatible platforms, and supported compiler versions. Provides tips for initial environment setup to ensure your development environment aligns with GoogleTest's requirements."
---

# What are the requirements to use GoogleTest?

This documentation explains the minimum requirements to successfully use and build GoogleTest, covering the C++ language standards, supported platforms, compiler compatibility, and initial setup tips to align your development environment with GoogleTest’s needs.

---

## 1. Programming Language Standard

### C++17 Minimum Requirement

GoogleTest requires your compiler and project to support at least the C++17 standard. This ensures compatibility with modern language features that GoogleTest depends on.

- When using CMake, set your project to use C++17 explicitly:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

- If your build system doesn't support specifying `CMAKE_CXX_STANDARD`, add the appropriate compiler flags manually (e.g., `-std=c++17` for GCC/Clang).

> Ensuring C++17 support is critical. Attempts to build GoogleTest with older standards will fail or cause undefined behaviors.

## 2. Supported Platforms and Operating Systems

GoogleTest is cross-platform and supports:

- Linux (popular distributions)
- Windows (including Windows Mobile variants)
- macOS

Special embedded platforms such as ESP8266, ESP32, and NRf52 with Arduino support are also specifically supported via customized entry points.

## 3. Compiler Compatibility

GoogleTest supports all major modern C++ compilers with C++17 support, including but not limited to:

- **GNU GCC** (typically version 7.0 or newer for full compatibility)
- **Clang**
- **MSVC** (Microsoft Visual Studio 2017 and later)
- **IntelLLVM**
- **SunPro**
- **VisualAge/XL**
- **HP aCC**

### Compiler Flags & Tweaks

GoogleTest’s build scripts apply strict warning and exception settings for maximum code quality, such as:

- Enforcing higher warning levels (e.g., `/W4` on MSVC instead of `/W3`)
- Handling runtimes correctly (static vs shared CRT on MSVC)
- Disabling certain exception and RTTI warnings conditionally

When building manually or in custom environments, ensure:

- Correct runtime library linkage matches between your tests and GoogleTest to avoid linker errors (e.g., on MSVC, match static or dynamic CRT runtimes).
- Exception support is enabled if required. GoogleTest can be compiled with exceptions disabled but with some limitations.

## 4. Threading and Synchronization

GoogleTest is thread-safe **only** on platforms that support the pthreads library.

- Most Unix-like systems provide pthreads.
- On Windows, the pthreads compatibility is limited.

If your environment doesn’t have pthread support or GoogleTest fails to detect it, you can force the setting by defining macros:

``` 
-DGTEST_HAS_PTHREAD=1  // Enables pthread support
-DGTEST_HAS_PTHREAD=0  // Disables pthread support
```

Use the CMake find_package(Threads) or your environment specific method for pthread linking.

## 5. Build System Compatibility

GoogleTest provides official support and builds for CMake-based projects but can be manually integrated with other build systems.

- **CMake 3.13 or newer** is recommended to fully support GoogleTest’s build.
- GoogleMock is included and built by default; to disable, pass `-DBUILD_GMOCK=OFF`.

### Recommended Build Workflow with CMake

```bash
git clone https://github.com/google/googletest.git
cd googletest
mkdir build && cd build
cmake ..
make
sudo make install
```

This builds and installs GoogleTest and GoogleMock with correct compiler flags and platform-specific tweaks automatically.

## 6. Language and Macro Conflicts

GoogleTest defines many macros for assertions and test declarations (e.g., `TEST()`, `ASSERT_EQ()`). If your project or other libraries define conflicting macros with the same names, you may:

- Use the `-DGTEST_DONT_DEFINE_<MACRO>=1` flag to rename GoogleTest macros and avoid conflicts.

Example:

```bash
-DGTEST_DONT_DEFINE_TEST=1
```

Requires using the prefixed macro names like `GTEST_TEST()` instead.

## 7. Entry Point and Test Execution

Most users do **not** need to write their own `main()` function to run tests.

- Link your tests against `gtest_main` or `gmock_main` to get a suitable `main()`.
- If you write a custom `main()`, ensure you call `testing::InitGoogleTest(&argc, argv)` before `RUN_ALL_TESTS()`, and return its result.

Example main function:

```cpp
int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

On certain embedded platforms (ESP32, ESP8266), initialization is done in `setup()` and tests are run in `loop()` instead.

## 8. Tips for Environment Setup

- Ensure your compiler supports and defaults to C++17 or explicitly set it.
- Confirm your build environment matches the runtime settings of GoogleTest to avoid linking issues.
- Use the provided CMake scripts and options for smooth setup.
- For cross-platform builds, prefer CMake integration over manual compilation.

<Tip>
Align your project's C++ standard and compiler flags with GoogleTest requirements to save countless build headaches.
</Tip>

<Warning>
Failing to link the correct runtime libraries on Windows often causes weird linking errors or runtime crashes.
</Warning>

<Note>
If using GoogleMock, `InitGoogleMock()` initializes both GoogleMock and GoogleTest.
</Note>

## 9. Common Pitfalls

- Attempting to build GoogleTest with a compiler that doesn’t fully support C++17.
- Linker errors due to mismatched MSVC runtime settings (static vs dynamic).
- Missing pthread libraries on Unix-like systems causing thread safety features to be unavailable.
- Naming conflicts due to macro definitions overlapping with other frameworks.

Always refer to the official [GoogleTest CMake build instructions](https://github.com/google/googletest/tree/main/googletest) for detailed platform and compiler-specific instructions.

---

## References and Related Documentation

- [Installation Guide (Linux, macOS, Windows)](/getting-started/setup-requirements-installation/installation-multiplatform) – Step-by-step build and install instructions
- [GoogleTest Primer](/overview/introduction-core-value/what-is-googletest) – Understand core concepts and how to write your first tests
- [Framework Initialization and Main Entry Points](/api-reference/advanced-configuration-integration/framework-initialization) – How to initialize and run tests correctly
- [Supported Platforms Documentation](/overview/architecture-concepts/integration-and-platforms) – Detailed information on platform compatibility

---

By following these requirements, you will create a development environment that fully supports GoogleTest’s features and ensures smooth building, running, and scaling of your C++ tests.


---

## Example CMake snippet enforcing C++17 for GoogleTest in your project

```cmake
cmake_minimum_required(VERSION 3.13)
project(MyProject)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Optionally, control GoogleTest pthread detection if needed
# add_definitions(-DGTEST_HAS_PTHREAD=1)

# Add GoogleTest as a subdirectory or use FetchContent
add_subdirectory(googletest)

add_executable(test_myproject test_myproject.cpp)
target_link_libraries(test_myproject gtest_main)
add_test(NAME MyTest COMMAND test_myproject)
```


---

## Troubleshooting Quick Tips

- **Build errors referencing missing C++17 features?**
  - Check that your compiler version supports C++17 and your project enables it.

- **Linker errors on Windows complaining about runtime mismatch?**
  - Verify MSVC runtime flags between your project and GoogleTest (consider `gtest_force_shared_crt` flag).

- **Tests not running or no output on embedded targets?**
  - Ensure proper setup and loop functions are implemented as per platform specifics (ESP platforms).

- **Thread safety issues or crashes in multi-threaded tests?**
  - Confirm pthread support and define `DGTEST_HAS_PTHREAD` accordingly.


---

This page ensures you prepare your development environment to smoothly use GoogleTest, leveraging its full power and flexibility.

---