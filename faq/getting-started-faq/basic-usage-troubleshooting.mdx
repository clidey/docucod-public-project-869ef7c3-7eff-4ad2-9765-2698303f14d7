---
title: "Basic Usage & Troubleshooting"
description: "Provides solutions to the most typical issues encountered when writing or running basic tests, such as test discovery failures, assertion errors, or trouble building test targets."
---

# Basic Usage & Troubleshooting FAQ

This page provides targeted solutions and practical advice for common issues encountered when writing or running basic tests with GoogleTest and GoogleMock. From test discovery problems to assertion errors and build difficulties, this FAQ guides you with clear instructions and troubleshooting tips to keep your testing workflow smooth and efficient.

---

## Frequently Asked Questions (FAQs)

### Test Discovery & Execution

**Q: Why does GoogleTest say 'No tests were found'?**

- Ensure your test functions are properly defined using the `TEST()` or `TEST_F()` macros.
- Verify that your test binary is built and linked correctly including GoogleTest and GoogleMock libraries.
- Confirm that the test cases and suites follow the naming convention and are not accidentally excluded using flags.
- Check if tests are disabled by prefixing test names with `DISABLED_`.

**Q: How do I run only a subset of tests?**

- Use the `--gtest_filter=` command-line flag followed by the pattern to match specific test cases or suites.

### Assertion Failures & Test Output

**Q: What do common assertion failures mean and how can I fix them?**

- Examine test failure messages carefully; GoogleTest prints expected vs actual values.
- Use rich assertion macros such as `EXPECT_EQ`, `ASSERT_TRUE`, and `EXPECT_THROW` to express your test intentions clearly.
- Check your matcher expressions in GoogleMock to ensure they correspond to the expected argument values.

**Q: Why does my mock object show warnings about uninteresting calls?**

- Uninteresting calls occur when a mock method without an explicit `EXPECT_CALL` is invoked.
- By default, GoogleMock issues a warning, but does not fail the test.
- To suppress warnings, use `NiceMock<MockClass>` which ignores uninteresting calls.
- Use `StrictMock<MockClass>` to treat uninteresting calls as errors.

### Building & Linking Issues

**Q: How do I fix linker errors related to GoogleTest or GoogleMock?**

- Confirm GoogleTest and GoogleMock libraries are linked in your build system.
- Avoid defining your own `main()` function if you link against `gtest_main` or `gmock_main`.
- Use the provided `gmock_main.cc` to avoid multiple definitions.
- Check that your compiler and linker flags are consistent and match with GoogleTest requirements.

**Q: Why am I getting multiple definition errors for `main()`?**

- Likely causes are multiple definitions of `main()` between your code and GoogleTest's `gtest_main` or Google's `gmock_main`.
- Remove your own `main()` if using the provided main functions or compile without `gtest_main`/`gmock_main` and provide your own.

### Running & Output Behavior

**Q: How can I understand detailed output from test runs?**

- Use the `--gtest_print_time=1` flag to see timing information.
- Use `--gmock_verbose=info` for detailed mock call traces with stack information.
- Reduce verbosity with `--gmock_verbose=warning` or `error` as needed.

**Q: What does "Expected call not made" mean?**

- You specified an `EXPECT_CALL` on a mock method, but the method was never called or called fewer times than expected.
- Check that your test exercise the mock in a way that calls all expected methods.

### Common Mistakes

**Q: Is it okay to set expectations after calling mock methods?**

- No. Expectations must be set before the calls occur; setting `EXPECT_CALL` after the code under test accesses the mock leads to undefined behavior.

**Q: Why do some of my expectations fail even though the calls happen?**

- Possible reasons include argument mismatch in matchers or call order violations if sequences or `.After()` clauses are used.
- Use `--gmock_verbose=info` to trace which expectations match calls.

---

## Common Issues & Gotchas

### Installation & Setup

- **Header Not Found**: Confirm that include paths for GoogleTest and GoogleMock headers are set correctly.
- **Missing Libraries**: Link against `gtest`, `gtest_main`, `gmock`, and `gmock_main` as appropriate.
- **Compiler Support**: Ensure your compiler supports C++17 as required.

### Test Target Build

- Use CMake or your build system to correctly link test binaries.
- When integrating with Bazel or other systems, follow guidance in integration documentation.

### Runtime Problems

- **Empty Test Suites**: Confirm test macros are used properly and tests are not disabled.
- **Framework Initialization**: Always invoke `testing::InitGoogleMock(&argc, argv);` or `InitGoogleTest()` before running tests.

### Mocking Gotchas

- Mock methods must be declared `public` in a mock class, even if the overridden methods are protected or private.
- Use `MOCK_METHOD` macros correctly with function signatures and qualifiers (`const`, `override`, etc).
- For overloaded methods, disambiguate calls with explicit `using` or matcher typing.

---

## Error Messages & Debugging

- Use GoogleTest error outputs to identify failures precisely.
- GoogleMock error messages include detailed arguments mismatches, call counts, and call order information.
- Increase verbosity with `--gmock_verbose=info` to see expectation evaluation traces.
- Common errors:
  - **Uninteresting call warning**: method call not expected; consider using `NiceMock`.
  - **Unexpected call error**: call arguments or order don't match any expectation.
  - **Excessive call**: method called more times than expected.

---

## Troubleshooting Procedures

<Steps>
<Step title="Check Test Discovery">
Ensure that TEST and TEST_F macros are properly used and included.
</Step>
<Step title="Build Check">
Confirm your project links with GoogleTest and GoogleMock libraries correctly.
</Step>
<Step title="Mock Expectations">
Verify that all `EXPECT_CALL`s match the method signature and are set before exercising code.
</Step>
<Step title="Run with Verbose Flags">
Use `--gmock_verbose=info` to trace calls and locate failure points.
</Step>
<Step title="Suppress or Adjust Uninteresting Call Behavior">
Use `NiceMock<MockClass>` to suppress warnings; switch to `StrictMock` if you want stricter verification.
</Step>
</Steps>

---

## Performance & Optimization Tips

- Minimize test workload by writing focused, small-scoped test cases.
- Use sequences only when necessary; overuse leads to brittle tests.
- Leverage `NiceMock` to reduce verbose warnings on calls that aren't critical.
- Profile test suites to identify slow tests.

---

## Best Practices for Mocking

- Always set your `EXPECT_CALL` and `ON_CALL` before engaging the mock.
- Specify argument matchers only as strictly as necessary.
- Use `RetiresOnSaturation()` for expectations that shouldn't remain sticky after use.
- Prefer `NiceMock` for general testing and `StrictMock` only when strict call enforcement is required.

---

## Getting Help & Support

- Refer to the [GoogleTest FAQ Index](https://github.com/google/googletest/blob/main/docs/faq.md) for more troubleshooting.
- Engage with the community on GitHub Issues and Stack Overflow.
- Review related documentation sections linked below for comprehensive understanding.

---

## Related Documentation

- [Installation Guide](https://google.github.io/googletest/installation.html)
- [Writing Your First Test](https://google.github.io/googletest/getting-started.html)
- [Running Tests](https://google.github.io/googletest/running-tests.html)
- [Using Mocks with gMock](https://google.github.io/googletest/gmock_for_dummies.html)
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html)
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)

---

Produced in the context of the [Basic Usage & Troubleshooting FAQ](/faq/getting-started-faq/basic-usage-troubleshooting).
