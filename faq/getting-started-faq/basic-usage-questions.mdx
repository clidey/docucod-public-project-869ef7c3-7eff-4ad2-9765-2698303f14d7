---
title: "Basic Usage Questions"
description: "Answers for frequently asked questions about writing and running tests, understanding assertions, and leveraging key testing features. This resource helps beginners become productive quickly."
---

# Basic Usage Questions

This FAQ addresses common questions about writing and running tests, understanding assertions, and leveraging key GoogleTest features to help beginners quickly become productive.

---

## Writing and Running Tests

### How do I write my first test with GoogleTest?
Simply include the GoogleTest header and use the `TEST` macro to define a test case with a test name. Inside, use assertions to validate expected behavior.

```cpp
#include <gtest/gtest.h>

TEST(MyTestSuite, MyTest) {
  EXPECT_EQ(1 + 1, 2);
}
```
Running your test executable will automatically run all tests.

_For deeper guidance, see [Your First Test](https://github.com/google/googletest/blob/main/docs/guides/getting-started/first-test.md)._

### When should I use `TEST` vs. `TEST_F`?
Use `TEST` for simple tests without shared setup. Use `TEST_F` when you have custom test fixtures that contain common setup or teardown logic.

### How do I run specific tests?
You can filter tests by name using the `--gtest_filter` command line flag. For example:

```bash
test_binary --gtest_filter=MyTestSuite.MyTest
```

### How do I build and run my tests?
GoogleTest supports building with CMake and Bazel. Link your test executable with `gtest_main` or define your own main calling `RUN_ALL_TESTS()`.

### Can I run tests in parallel?
Yes, using test sharding or parallel execution via your build tool or test runner helps speed up large test suites.

---

## Understanding Assertions

### What is the difference between `EXPECT_` and `ASSERT_`?
`EXPECT_` assertions record failures but let tests continue. `ASSERT_` assertions abort the current test if they fail.

### How do I assert floating point equality?
Use `EXPECT_FLOAT_EQ` or `EXPECT_DOUBLE_EQ` for approximate equality considering floating point precision.

### Can I write custom assertion messages?
Yes, append a message using stream syntax:

```cpp
EXPECT_EQ(a, b) << "Values differ!";
```

### How do I use `EXPECT_THAT` and matchers?
`EXPECT_THAT` lets you test complex conditions using GoogleMock matchers, e.g., checking container contents, string patterns, or value ranges.

---

## Mocking and Expectations

### How do I define a mock class?
Derive from your interface and use the `MOCK_METHOD` macro inside the `public` section:

```cpp
class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, Bar, (int x), (override));
};
```

### How do I set expectations on mocks?
Use `EXPECT_CALL(mock_object, Method(matchers))` before exercising your code:

```cpp
EXPECT_CALL(mock_foo, Bar(5))
    .Times(1)
    .WillOnce(Return(10));
```

### What if I do not care about some arguments?
Use the wildcard matcher `_` to match any value of an argument.

### How do I handle call order?
Use `InSequence` objects or `.InSequence()` clauses to specify expected call sequences.

### What if a mock method should never be called?
Specify `.Times(0)` on the expectation.

### How can I control default behaviors of mocks?
Use `ON_CALL` to specify default actions when no explicit expectation is set.

### What is the difference between `NiceMock`, `NaggyMock`, and `StrictMock`?
- `NiceMock`: suppresses warnings on uninteresting calls.
- `NaggyMock` (default): warns on uninteresting calls.
- `StrictMock`: treats uninteresting calls as failures.

Use these to control warning verbosity and test strictness.

---

## Tips and Best Practices

- Always set expectations before exercising the mocks to avoid undefined behaviors.
- Use `RetiresOnSaturation()` to retire an expectation once its call count reaches the upper bound.
- Control verbosity with `--gmock_verbose=info|warning|error` to tune debug message output.
- Use sequences and `.After()` clauses to precisely control partial orderings of calls.
- Match arguments only as precisely as necessary to avoid brittle tests.
- Use `WillOnce()` and `WillRepeatedly()` to specify mock method behaviors for calls.

---

## Common Problems and Solutions

### Why do I get "Uninteresting mock function call" warnings?
This indicates a mock method was called without an expectation. Consider adding a default action with `ON_CALL` or use `NiceMock`.

### My expectations are not satisfied. How to debug?
Run tests with `--gmock_verbose=info` to trace mock calls and see which expectations are matched.

### How to mock overloaded methods?
Use the full method signature and qualifiers in `MOCK_METHOD`. For ambiguous overloads, use `Const()` to disambiguate const/non-const versions.

### Why does GoogleMock search expectations in reverse order?
It allows setting general expectations first and more specific ones later, ensuring newer expectations override older ones.

### How to test destructors?
Add a mock method (e.g., `Die()`) called in the destructor and expect calls on it to verify destruction order.

---

## Further Resources

- [gMock for Dummies](https://github.com/google/googletest/blob/main/docs/gmock_for_dummies.md) — Beginner-friendly introduction
- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md) — Detailed API and concepts
- [gMock Cookbook](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md) — Recipes and advanced patterns
- [Expectations and Call Control](https://github.com/google/googletest/blob/main/docs/api-reference/gmock-mocking-apis/expectations-and-control.md)
- [Matchers and Actions](https://github.com/google/googletest/blob/main/docs/api-reference/gmock-mocking-apis/matchers-and-actions.md)

---

For complete setup and usage instructions, see [Your First Test](https://github.com/google/googletest/blob/main/docs/guides/getting-started/first-test.md) and [Building and Running Tests](https://github.com/google/googletest/blob/main/docs/guides/getting-started/build-run.md).


