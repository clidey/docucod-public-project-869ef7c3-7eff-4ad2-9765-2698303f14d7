---
title: "General Usage and Setup"
description: "Clear answers to common questions about installing, configuring, and integrating GoogleTest and GoogleMock. Covers supported platforms, C++ version requirements, initial build issues, and key steps to get up and running quickly."
---

# General Usage and Setup FAQ

This page provides clear and actionable answers to common questions about installing, configuring, and integrating GoogleTest and GoogleMock. It covers supported platforms, C++ version requirements, steps for initial builds, and essential tips to get started quickly.

---

## Frequently Asked Questions

### Installation and Build

#### What platforms does GoogleTest support?
GoogleTest supports major operating systems, including Linux, Windows, and macOS, in compliance with Google's Foundational C++ Support Policy. It works across various compilers that support C++17 or newer.

#### Which C++ standard is required to build GoogleTest?
A C++17 (or newer) compatible compiler is required to build GoogleTest. This ensures compatibility with language features used internally.

#### How do I build GoogleTest and GoogleMock?
GoogleTest provides a CMake-based build system. You can clone the repository and use CMake to generate native build files suitable to your platform:

```bash
# Clone repository
git clone https://github.com/google/googletest.git -b v1.17.0
dcd googletest
mkdir build && cd build
# Generate build files
cmake ..
# Build the libraries
make
```

By default, GoogleMock is included. To build only GoogleTest, add `-DBUILD_GMOCK=OFF` to the CMake command.

#### Can I integrate GoogleTest into my existing CMake project?
Yes. You can either link against installed GoogleTest libraries or include the source directly using `add_subdirectory()` or FetchContent. FetchContent allows downloading and incorporating GoogleTest at configure time:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
FetchContent_MakeAvailable(googletest)

add_executable(example example.cpp)
target_link_libraries(example gtest_main)
add_test(NAME example_test COMMAND example)
```

See the "Initial Configuration" section for tips on properly linking and setting compiler flags.

#### What should I do if I encounter a linker error regarding missing symbols or undefined references?
Ensure that your test fixture classes have default constructors if using `TEST_F`. Also, verify correct linking against GoogleTest libraries and that you return the result of `RUN_ALL_TESTS()` in `main()`.


### Configuration and Setup

#### How do I configure GoogleTest for my build system?
For CMake projects, add include paths to GoogleTest headers and link against the GoogleTest and GoogleMock libraries. Make sure to specify C++17 as the required standard:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

For Bazel or other build tools, see specific guides for adding include paths and dependencies.

#### How do I verify that GoogleTest is set up correctly?
Write a simple test as shown in the [GoogleTest Primer](primer.md) or the [samples directory](https://github.com/google/googletest/blob/main/googletest/samples), build it, and run the test binary. The test should run and report results without errors.

#### What is the recommended way to build and run tests in my project?
Link your test executables against the `gtest_main` library to avoid writing your own `main()` function initially. This library provides a default `main()` that initializes GoogleTest.

If you need custom setup, write your own `main()` that calls `testing::InitGoogleTest()` before `RUN_ALL_TESTS()`, returning its result.


### Integration with GoogleMock

#### Is GoogleMock included with GoogleTest?
Yes. GoogleMock (gMock) is included as part of the GoogleTest repository and its build process by default.

#### How do I enable GoogleMock in my build?
When building GoogleTest with CMake, do not disable GoogleMock (`BUILD_GMOCK` option must be ON or default). This ensures that gMock sources and headers are properly compiled and linked.

#### Where can I find examples of using GoogleMock?
Refer to the [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) as well as the sample tests included in the repository. These show basic and advanced mock usage patterns that help you integrate mocks in your tests.


### Common Setup Questions

#### Why does GoogleTest require tests and test suites not to contain underscores (`_`) in their names?
GoogleTest reserves underscores (`_`) for special internal use. Using underscores in test suite or test names can cause conflicts and compilation issues. It's best to avoid underscores to keep your test code compatible and robust.

#### What if I need to disable a failing test temporarily?
You can prefix the test or test suite name with `DISABLED_`. This prevents the test from running but keeps it compiled, allowing you to fix later without deleting the code.

#### How do I specify which tests to run?
Use the `--gtest_filter` flag or `GTEST_FILTER` environment variable to select subsets of tests to execute. Patterns support wildcards (e.g., `FooTest.*` runs all tests in the `FooTest` suite).


### Initial Build Issues

#### What if my build fails due to C++ standard issues?
Verify your compiler supports C++17. Set CMake variables like `CMAKE_CXX_STANDARD` to `17` with `CMAKE_CXX_STANDARD_REQUIRED` enabled.

#### Why am I getting errors about missing pthread symbols?
Link your tests with pthread when on POSIX systems. If your build system does not handle this automatically, add `-pthread` to both compiler and linker flags.


### Quick Setup Checklist

- Ensure a compiler with C++17 support.
- Install or clone GoogleTest source.
- Use CMake or your build tool to generate build files.
- Include GoogleTest headers and link against its libraries.
- For GoogleMock, do not disable `BUILD_GMOCK` in CMake.
- Build your tests, then run test executables.
- Use `testing::InitGoogleTest` in `main` before calling `RUN_ALL_TESTS()`.


### Troubleshooting Tips

- **Linker errors**: Check for missing libraries and default constructors in fixtures.
- **Test discovery problems**: Ensure tests are registered using `TEST`/`TEST_F` macros correctly.
- **Runtime errors**: Use GoogleTest's verbose mode and sample tests to isolate issues.
- **Running disabled tests**: Use the `--gtest_also_run_disabled_tests` flag.


### Helpful References

- [GoogleTest Primer](primer.md): Introduction and first steps.
- [Installing GoogleTest](getting-started/setup-overview/installation.md): Step-by-step installation guidance.
- [GoogleMock README](googlemock/README.md): Overview of mocking framework.
- [Samples Directory](https://github.com/google/googletest/blob/main/googletest/samples): Real examples of tests.
- [General Usage and Setup FAQ](#): This page.


---

If you encounter issues or want to explore deeper, consult the related documentation pages, including advanced topics, troubleshooting guides, and mocking best practices.


---

*For more advanced integration and troubleshooting, explore companion pages such as Supported Platforms, Common Setup Issues & Solutions, and Mock Object Basics.*
