---
title: "Which core features should I use first?"
description: "Describes essential features such as assertions, parameterized and typed tests, mock object creation, and basic test execution. Points users toward documentation for advanced assertions and death tests."
---

# Which Core Features Should I Use First?

GoogleTest is a powerful C++ testing framework designed to help you write reliable, maintainable, and expressive tests for your codebase. As you start your journey with GoogleTest, it’s important to focus on the core features that enable you to write effective tests quickly and confidently.

This guide introduces the essential features you should use first to harness GoogleTest's full value, guiding you from writing simple assertions to more advanced test patterns like parameterized and typed tests. Along the way, you’ll gain practical tips, example workflows, and pointers to advanced documentation.

---

## 1. Writing Simple Tests with Assertions

### Why Start Here?
Starting simple lets you validate your code in a straightforward, clear manner. GoogleTest provides rich assertion macros that test conditions and report detailed failures, enabling you to identify issues quickly.

### How to Write a Simple Test

Use the `TEST()` macro to define individual test functions within test suites:

```cpp
TEST(MyFeatureTest, BasicBehavior) {
  int result = ComputeSomething(5);
  EXPECT_EQ(result, 10) << "ComputeSomething should double the input";
}
```

- The first argument, `MyFeatureTest`, is the test suite name grouping related tests.
- The second argument, `BasicBehavior`, specifies this test's name.
- Assertions like `EXPECT_EQ` verify conditions; failures report helpful messages but don’t stop subsequent assertions.

### Best Practices
- Use non-fatal `EXPECT_*` assertions except when a failure must abort the test (use `ASSERT_*`).
- Stream custom failure messages after assertions to give context when a test fails.

---

## 2. Sharing Test Setup with Fixtures

### What Are Fixtures?
Fixtures allow multiple tests to share the same configuration and resources without repetition, improving maintainability.

### Defining and Using Fixtures

Declare a fixture class derived from `testing::Test`:

```cpp
class DatabaseTest : public ::testing::Test {
 protected:
  void SetUp() override {
    db.Connect();
  }

  void TearDown() override {
    db.Disconnect();
  }

  Database db;
};

TEST_F(DatabaseTest, InsertTest) {
  EXPECT_TRUE(db.Insert("entry"));
}

TEST_F(DatabaseTest, DeleteTest) {
  EXPECT_TRUE(db.Delete("entry"));
}
```

- Use `TEST_F()` macro to associate tests with the fixture.
- Each test runs with a fresh fixture instance, ensuring independence.

### Best Practices
- Use `SetUp()` and `TearDown()` to prepare and clean up resources.
- Avoid sharing state that can cause tests to interfere with each other.

---

## 3. Value-Parameterized Tests

### Why Parameterize?
When a single test logic needs to run multiple times with different inputs, value-parameterized tests save time and reduce code duplication.

### How to Write Them

1. Define a fixture class derived from both `testing::Test` and `testing::WithParamInterface<T>`, or inherit from `testing::TestWithParam<T>`.
2. Use the `TEST_P()` macro to write the test pattern.
3. Instantiate tests with `INSTANTIATE_TEST_SUITE_P()` providing the data sets.

Example:

```cpp
class MathTest : public testing::TestWithParam<int> {};

TEST_P(MathTest, IsEven) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenValues, MathTest, testing::Values(2, 4, 6, 8));
```

### Best Practices
- Use built-in parameter generators (`Values`, `Range`, `Combine`, etc.) for convenience.
- Consider custom naming strategies for easier test identification.

---

## 4. Typed and Type-Parameterized Tests

### The Use Case
When the same behavior must be tested across many data types (e.g., containers, numeric types), typed tests enable code reuse without manual duplication.

### How to Use Them

- **Typed Tests:** Write a fixture class template parameterized by a type, define the type list, and use `TYPED_TEST_SUITE` and `TYPED_TEST`.

- **Type-Parameterized Tests:** Define the test pattern with `TYPED_TEST_SUITE_P` and `TYPED_TEST_P`, register it with `REGISTER_TYPED_TEST_SUITE_P`, then instantiate with `INSTANTIATE_TYPED_TEST_SUITE_P`.

Example typed test:

```cpp
template <typename T>
class StackTest : public testing::Test {
 public:
  T value_;
};

using MyTypes = testing::Types<int, double>;
TYPED_TEST_SUITE(StackTest, MyTypes);

TYPED_TEST(StackTest, InitializesToZero) {
  EXPECT_EQ(this->value_, 0);
}
```

### Best Practices
- Use typed tests for known compile-time type lists.
- Use type-parameterized tests for reusable abstract test patterns.

---

## 5. Using Mock Objects (GoogleMock) - Basic Introduction

Though part of a separate component, GoogleMock integrates with GoogleTest to create mock classes that verify interactions. For starters:

- Use `MOCK_METHOD` macros to define mock methods inside mock classes.
- Use `EXPECT_CALL` to specify expected calls and behaviors.

Example:

```cpp
class MockDatabase {
 public:
  MOCK_METHOD(bool, Insert, (const std::string&), ());
};

TEST(MyDatabaseTest, InsertCalled) {
  MockDatabase mock_db;
  EXPECT_CALL(mock_db, Insert(testing::_)).Times(1);
  // Exercise code that invokes Insert on mock_db
}
```

Refer to the [Mocking Basics guide](https://google.github.io/googletest/gmock_for_dummies.html) for more on mocks.

---

## 6. Basic Test Execution

### Initialization
Before running tests, initialize GoogleTest flags and environment with:

```cpp
int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- `InitGoogleTest()` processes command-line flags.
- `RUN_ALL_TESTS()` runs all registered tests, returning 0 if successful.

### Running Tests
- Tests are auto-discovered and run sequentially.
- Use filters (`--gtest_filter=TestSuite.TestName`) to run subsets.
- Flags like `--gtest_repeat`, `--gtest_shuffle` control test order and repetition.

### Output
- Console output highlights test progress and failures.
- Optional XML/JSON reports can be generated using `--gtest_output=xml:path`.

---

## Additional Practical Tips

- **Skipping Tests:** Use `GTEST_SKIP()` in test bodies or `SetUp()` to skip tests dynamically.
- **Assertions in Helpers:** Beware that `ASSERT_*` macros abort only the current function. Use `HasFatalFailure()` or `ASSERT_NO_FATAL_FAILURE()` to propagate failure status.
- **Naming Conventions:** Avoid underscores in test and test suite names for compatibility with GoogleTest filters.
- **Property Logging:** Use `RecordProperty()` during tests to log additional XML report data.

---

## Troubleshooting Common Issues

- If tests are not running, verify `InitGoogleTest()` and `RUN_ALL_TESTS()` calls.
- If linking errors occur, confirm linking against `gtest` and optionally `gtest_main`.
- If parameterized tests don’t run, ensure `INSTANTIATE_TEST_SUITE_P()` is called for each `TEST_P` suite.

For detailed troubleshooting, see [Troubleshooting Common Setup Issues](../getting-started/troubleshooting-help/common-errors.md).

---

## Next Steps and Further Learning

Once you're comfortable with the above features, explore:
- Advanced assertions and custom predicates ([Assertions Reference](../api-reference/core-apis/assertions.md))
- Matchers and expressive expectations ([Matchers Reference](../api-reference/core-apis/matchers.md))
- Advanced parameterized and typed tests ([Parameterized and Typed Tests](../api-reference/advanced-features/parameterized-tests.md))
- Mocking strategies and patterns ([Mocking Basics](https://google.github.io/googletest/gmock_for_dummies.html))
- Events and test environment customization ([Environment and Listener APIs](../api-reference/advanced-features/environment-listeners.md))

Explore the [GoogleTest Primer](../docs/primer.md) for a complete beginner-friendly walkthrough.

---

## Helpful Links

- [GoogleTest Primer](https://google.github.io/googletest/primer.html) - Start here
- [GoogleTest User's Guide](../docs/index.md) - Comprehensive documentation hub
- [Writing & Running Your First Test](../getting-started/configuration-first-run/first-test.md) - Quick tutorial
- [Mocking Basics Guide](https://google.github.io/googletest/gmock_for_dummies.html)
- [Value and Type-Parameterized Tests Guide](../guides/core-testing-workflows/parameterized-tests.md)

---

This foundation will accelerate your adoption of GoogleTest, enabling rapid, reliable testing for your C++ projects with clear outcomes and minimal friction.