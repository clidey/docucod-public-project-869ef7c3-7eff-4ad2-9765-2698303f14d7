---
title: "What are GoogleTest and GoogleMock?"
description: "An overview of GoogleTest and GoogleMock, highlighting their purpose, core features, and how they fit into modern C++ development. Summarizes benefits for both beginners and experienced developers."
---

# What are GoogleTest and GoogleMock?

An overview of GoogleTest and GoogleMock, highlighting their purpose, core features, and how they fit into modern C++ development. This page summarizes the distinct roles these libraries play and the benefits they bring to both beginners and experienced developers.

---

## Introduction

When developing C++ software, ensuring code correctness and design quality often hinges on automated testing and effective mocking. GoogleTest and GoogleMock together create a powerful framework ecosystem that addresses these needs seamlessly.

- **GoogleTest**, often called `gtest`, is a comprehensive C++ testing framework providing rich macros and utilities to write, organize, and execute unit tests.
- **GoogleMock**, or `gmock`, is an extension designed to facilitate the creation of mock objects in C++, enabling detailed specification and verification of object interactions.

Both come bundled under the GoogleTest project and integrate smoothly, enabling developers to write robust, maintainable, and expressive tests.


## What is GoogleTest?

GoogleTest is Google's open-source C++ testing framework that:

- Adopts the xUnit architecture, which users may recognize from other languages.
- Offers a wide range of assertion macros to verify code behavior clearly and concisely.
- Supports writing tests as functions (`TEST`) or as fixtures (`TEST_F`) to enable reusable setup/teardown.
- Facilitates parameterized tests for running the same test with multiple inputs.
- Provides clear and informative test outputs, including custom failure messages.

**Use Case**: Developers use GoogleTest to verify the correctness of individual functions and classes by writing unit tests that assert expected values, states, or exceptions.


## What is GoogleMock?

GoogleMock extends GoogleTest by providing tools for **mocking** — the process of creating mock objects that simulate the behavior of complex, real objects or dependencies.

Key features of GoogleMock include:

- An intuitive and readable Domain-Specific Language (DSL) using macros to define mock classes and methods.
- Automatic generation of mock method implementations through macros like `MOCK_METHOD`.
- Rich argument matching via built-in and custom _matchers_ to specify which calls and parameters are expected.
- Detailed control over mock method invocation counts (`Times`), call order (`InSequence`, `After`), and behavior (`WillOnce`, `WillRepeatedly`).
- Verification of expectation fulfillment automatically at mock object destruction.
- Support for mocking virtual methods, including overloaded and templated methods.
- Wrappers like `NiceMock`, `NaggyMock`, and `StrictMock` that control warning and failure behavior for unexpected or uninteresting calls.

**Use Case**: When testing a component that interacts with external systems, dependencies, or collaborators, GoogleMock allows you to isolate the component's behavior by mocking those dependencies, specifying expected interactions, and validating the precise usage.


## Why Use GoogleTest and GoogleMock Together?

Testing complex C++ applications demands both **verification of outputs** and **control over interactions**. GoogleTest handles the former with its assertion suite and test lifecycle, while GoogleMock specializes in the latter through sophisticated mocking capabilities.

Together, they empower developers to:

- Write explicit, intention-revealing unit and interaction tests.
- Mock dependencies to reduce test fragility and execution time.
- Experiment with designs early by prototyping interfaces and behaviors.
- Detect and diagnose behavioral contract violations during test runs.


## Core Features Overview

### GoogleTest

- Simple test declaration macros: `TEST` and `TEST_F`.
- Rich assertions including boolean checks, value comparisons, string, floating-point, exception testing, and death tests.
- Support for predicate and matcher-based assertions for expressive code validation.
- Parameterized and typed tests to reduce repetitive code.
- Detailed failure diagnostics with custom messages.

### GoogleMock

- `MOCK_METHOD` macro for concise mock class definition.
- `EXPECT_CALL` macro to specify expected method invocations precisely.
- Argument matchers to flexibly specify expected call parameters.
- Support for sequences and partial ordering to control call expectations.
- Management of uninteresting calls via mock wrapper classes.
- Default action specification via `ON_CALL` for controlling substitute method behavior.
- Support for move-only types, reference qualifiers, calling conventions, and overloaded virtual methods.


## Who Should Use These Frameworks?

- **Beginners in C++ testing** will find GoogleTest straightforward to start with, thanks to its simple macros and assertion model.
- **Developers needing interaction-based testing** will benefit from GoogleMock to test collaborations between objects.
- Teams adopting **Test-Driven Development (TDD)** and **Continuous Integration** will leverage these tools to write effective automated tests that catch regressions early.


## Basic User Workflow Example

```cpp
#include <gtest/gtest.h>
#include <gmock/gmock.h>

using ::testing::Return;

// An interface to be mocked
class Turtle {
 public:
  virtual ~Turtle() = default;
  virtual void PenDown() = 0;
  virtual int GetX() const = 0;
};

// A mock class
class MockTurtle : public Turtle {
 public:
  MOCK_METHOD(void, PenDown, (), (override));
  MOCK_METHOD(int, GetX, (), (const, override));
};

// Code under test
void DrawSquare(Turtle* turtle) {
  turtle->PenDown();
  // ...some drawing...
}

TEST(DrawTest, SquareCallsPenDown) {
  MockTurtle turtle;
  EXPECT_CALL(turtle, PenDown()).Times(1);

  DrawSquare(&turtle);
}
```

This simple example uses GoogleMock to verify that `PenDown()` is called exactly once during `DrawSquare`.


## Additional Practical Tips

- **Define mock classes where you own the interface** to keep mocks in sync with the real interface.
- Use `ON_CALL` to set default mock method behavior without requiring call count restrictions.
- Use `NiceMock` to suppress uninteresting call warnings when you don’t care about some mock methods.
- Use `StrictMock` when you want to treat uninteresting calls as errors.
- Always specify expectations *before* the code under test executes to enable early detection of failures.
- Use sequences (`InSequence`) or `After` clauses to constrain the order of expected calls where order matters.
- Use matchers like `_` (wildcard) to avoid brittle and over-specific argument expectations.


## Common Benefits Summarized

- **Test Reliability:** By mocking dependencies, tests become faster and less flaky.
- **Clear Specification:** Expectations act as a precise specification of interactions.
- **Early Bug Detection:** Failures occur immediately when deviations happen in behavior.
- **Design Flexibility:** Facilitate prototyping and refactoring by isolating interfaces.


## Related Documentation

- [Getting Started with GoogleTest & GoogleMock](../guides/getting-started/setup-installation.md)
- [Mocking Reference](../api-reference/mocking/mock-objects.md)
- [Matchers Reference](../api-reference/advanced-testing/matchers.md)
- [Assertions Reference](../api-reference/core-apis/assertions.md)
- [gMock Cookbook](../docs/gmock_cook_book.md)


## Next Steps

- Explore how to *install and integrate* GoogleTest and GoogleMock in your C++ project.
- Learn how to *author your first test* and *mock* using concrete examples.
- Understand *assertions and matchers* for effective outcome validation.
- Delve into *advanced mocking patterns* and *best practices* to scale testing in large projects.


---

<Tip>
This overview page provides the essential understanding you need to start using GoogleTest and GoogleMock effectively. For practical application, continue to the Getting Started and Guides sections.
</Tip>