---
title: "What are the prerequisites and supported platforms?"
description: "Outlines the necessary compiler versions, C++ standards support, and platforms where GoogleTest and GoogleMock operate. Covers common compatibility issues and how to resolve them for a successful start."
---

# What are the prerequisites and supported platforms?

This page outlines the necessary compiler versions, C++ standards compliance, supported operating systems, and environment requirements for successfully building and using **GoogleTest** and **GoogleMock**. Understanding the prerequisites ensures a smooth setup and integration experience.

---

## System Requirements Overview

To build and run GoogleTest effectively, you need an environment that supports an up-to-date C++ compiler and proper platform dependencies.

### C++ Standard Requirement
- GoogleTest requires **C++17** or newer.
- Ensure your compiler and project configuration specify C++17 support explicitly.
- For CMake-based builds, use:
  ```cmake
  set(CMAKE_CXX_STANDARD 17)
  set(CMAKE_CXX_STANDARD_REQUIRED ON)
  ```
- If your project is C-only, specify C++17 flags for GoogleTest compilation.

### Supported Compilers
- Modern versions of MSVC (Visual Studio 2015 and later)
- GCC 7.0 or newer
- Clang 3.9 or newer
- IntelLLVM compilers compatible with C++17

### Minimum Compiler Versions for GoogleMock
- MSVC 2015 (14.0) or later is required

<Tip>
Always verify your compiler version and flags support C++17 before building GoogleTest. Older compilers or missing standards support will cause build failures.
</Tip>

## Supported Platforms

GoogleTest and GoogleMock work across a wide range of platforms, including:

| Platform           | Notes                                                                 |
|--------------------|-----------------------------------------------------------------------|
| Linux              | Fully supported, including most distributions                         |
| Windows            | Fully supported, including Windows Desktop and MinGW                  |
| macOS              | Fully supported                                                       |
| BSD variants       | FreeBSD, OpenBSD, NetBSD, DragonFlyBSD supported                      |
| Embedded Systems   | Select embedded OSes like ESP32, ESP8266, QNX supported with caveats |

The platform detection macros (`GTEST_OS_*`) allow GoogleTest to adjust behavior based on your environment, enabling features or disabling unsupported functionality automatically.

### Platform Macros Examples:
- `GTEST_OS_LINUX`
- `GTEST_OS_WINDOWS`
- `GTEST_OS_MAC`

<Note>
GoogleTest auto-detects the platform macros; users generally do not need to override them unless working in unusual or unsupported environments.
</Note>

## Thread Safety & Multithreading

- GoogleTest is **thread-safe** on systems supporting the pthread library.
- On platforms without pthreads, thread safety guarantees may not hold.
- Use the macro `GTEST_IS_THREADSAFE` (defined to 1 or 0) to determine support.

<Tip>
If your system's pthread detection fails, manually override via compiler flags:
```bash
-DGTEST_HAS_PTHREAD=1  # To force pthread support
-DGTEST_HAS_PTHREAD=0  # To disable pthread support
```

Make sure to link with pthread library on Unix-like systems (e.g., add `-lpthread`).
</Tip>

## Build System Integration

GoogleTest provides a CMake build system that simplifies cross-platform builds.

### Standalone Build with CMake

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
mkdir build
cd build
cmake ..                # To build both GoogleTest and GoogleMock
# Or cmake .. -DBUILD_GMOCK=OFF  # To build only GoogleTest
make                    # Or use your platform-specific build tool
sudo make install       # (Optional) to install system-wide
```

- On Windows, CMake generates Visual Studio solution/project files.
- On macOS, Xcode project files are generated.

### Integration Into Existing CMake Projects

- The easiest way is to use `find_package(GTest CONFIG REQUIRED)` if GoogleTest is installed.
- Alternatively, add GoogleTest source as a subdirectory with `add_subdirectory()` and link against targets like `GTest::gtest` or `GTest::gmock`.
- Use [CMake's `FetchContent`](https://cmake.org/cmake/help/latest/module/FetchContent.html) to download GoogleTest during your build configure phase:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE) # On Windows only
FetchContent_MakeAvailable(googletest)
```

### Visual Studio Runtime Library Compatibility:

- Visual Studio projects usually link C runtimes dynamically.
- GoogleTest defaults to static runtime linkage, which can cause linker mismatches.
- Use the CMake option `gtest_force_shared_crt` to adjust GoogleTest to link dynamically and match your project runtime setting.

## Common Compatibility Issues & Resolutions

- **Compiler version too old:** Upgrade your compiler to support C++17.
- **Missing pthread library on Unix-like systems:** Add appropriate compile and link flags (e.g., `-pthread`).
- **Runtime library mismatch on Windows:** Use `gtest_force_shared_crt` option in CMake.
- **Macro naming conflicts:** If GoogleTest macros conflict with other libraries, rename them using compiler flags like `-DGTEST_DONT_DEFINE_TEST=1` and use fully qualified macro names (`GTEST_TEST` instead of `TEST`).

<Warning>
Ignoring these prerequisites will prevent successful build or correct behavior of GoogleTest and GoogleMock.
</Warning>

## Platform-Specific Notes

- On **Windows**, GoogleTest detects different partitions (desktop, phone, RT) and adapts accordingly.
- On **Android**, support is available but limited by Android's API level.
- On **embedded systems** (e.g., ESP32, ESP8266), usage is possible but may require defining or disabling features manually.

## Practical Steps to Verify Environment Compatibility

<Steps>
  <Step title="Check Compiler and Version">
    Confirm your compiler supports C++17 and is up-to-date.
  </Step>
  <Step title="Review Build Flags">
    Ensure your build system sets C++17 and any platform-specific flags.
  </Step>
  <Step title="Build GoogleTest Standalone">
    Try building GoogleTest standalone with CMake.
  </Step>
  <Step title="Run a Sample Test">
    Write and run a minimal test to confirm runtime support.
  </Step>
  <Step title="Validate Threading">
    Verify `GTEST_IS_THREADSAFE` macro is set.
  </Step>
</Steps>

---

## Additional Resources

- [Foundational C++ Support Policy](https://opensource.google/documentation/policies/cplusplus-support)
- [Foundational C++ Support Matrix](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md)
- [GoogleTest CMake build instructions](https://github.com/google/googletest/blob/main/README.md#build-with-cmake)
- [GoogleTest Platform Macros and Env Settings](https://github.com/google/googletest/blob/main/googletest/include/gtest/internal/gtest-port-arch.h)

---

## Summary

Understanding and verifying your development environmentâ€™s prerequisites and supported platforms enable you to integrate and use GoogleTest and GoogleMock effectively. Using the official build systems like CMake ensures compatibility and smooth building. Always verify compiler C++17 support, check for pthread threading support, and handle platform-specific quirks to avoid common pitfalls.

For further guidance, consult related documentation on installation, configuration, and troubleshooting for a streamlined startup experience.

---

### Example Minimal Test Main 

```cpp
#include <gtest/gtest.h>

TEST(SimpleTest, TrueIsTrue) {
  EXPECT_TRUE(true);
}

int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This confirms that your environment supports building and running GoogleTest.

---

### Troubleshooting

If build errors or runtime issues occur, verify:
- Compiler error messages indicating missing C++17 features.
- Linking errors requiring pthread (add `-lpthread`).
- Runtime library mismatch on Windows (resolve with `gtest_force_shared_crt`).
- Macro conflicts (choose to rename macros).

Consult the [Troubleshooting Common Setup Issues](https://github.com/google/googletest/blob/main/docs/faq/getting-started-faq/requirements-compatibility.md) page for detailed resolutions.

---

### Summary
This page ensures you are equipped with the critical prerequisites and environment knowledge needed for GoogleTest and GoogleMock. Carefully following these ensures a successful build and usage experience.
