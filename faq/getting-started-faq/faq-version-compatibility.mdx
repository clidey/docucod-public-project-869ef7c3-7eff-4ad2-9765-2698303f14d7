---
title: "Which platforms, compilers, and C++ standards are supported?"
description: "Understand which operating systems, compilers, and C++ versions are compatible with this release of GoogleTest and GoogleMock. This page includes links to policy documentation and helps users avoid common pitfalls related to unsupported environments."
---

# Which platforms, compilers, and C++ standards are supported?

Understand which operating systems, compilers, and C++ versions are compatible with this release of GoogleTest and GoogleMock. This page includes links to policy documentation and helps users avoid common pitfalls related to unsupported environments.

---

## Supported Platforms Overview

GoogleTest and GoogleMock adhere to Google's [Foundational C++ Support Policy](https://opensource.google/documentation/policies/cplusplus-support). Support is focused on maintaining compatibility with currently maintained versions of major platforms and compilers that meet the policy criteria.

For a detailed and up-to-date list of supported platforms, compilers, and build tools, consult the [Foundational C++ Support Matrix](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md).

## Operating Systems Supported

GoogleTest is compatible with the following operating systems out of the box:

- **Linux** (including popular distributions and Android targets)
- **Windows** (Windows Desktop, including support for MSVC compilers)
- **macOS** (including iOS targets)
- Several Unix-like systems with POSIX support such as FreeBSD, OpenBSD, NetBSD, Solaris, and AIX.

Note that support for more niche or embedded platforms might be limited or require manual configuration.

## Supported Compilers

To successfully build and run GoogleTest and GoogleMock, compilers must support C++17 or newer standards. Officially supported compilers include:

- **GCC** (GNU Compiler Collection) version 7.0 and later
- **Clang/LLVM** version 5.0 and later
- **MSVC** (Microsoft Visual C++) Visual Studio 2017 Update 3 (version 19.11) and later
- **Intel LLVM** compilers compliant with C++17

Other compilers such as SunPro, IBM XL, and HP aCC may work, but are less tested and may require additional tweaks.

## C++ Standard Version Requirements

GoogleTest requires a minimum of **C++17** support to build and function correctly. 

### Ensuring C++17 in Your Build

- When using CMake, specify the C++ standard in your project with:
  
  ```cmake
  set(CMAKE_CXX_STANDARD 17)
  set(CMAKE_CXX_STANDARD_REQUIRED ON)
  ```

- If CMake is not used, ensure your compiler flags include the appropriate C++17 directive (such as `-std=c++17` for GCC and Clang or `/std:c++17` for MSVC).

## Platform-Specific Notes and Pitfalls

### Multi-threading Support

GoogleTest is thread-safe if the platform supports pthreads or the Windows threading API. 

- On POSIX systems, pthread support is detected automatically but can be forced with compiler defines:

  ```
  -DGTEST_HAS_PTHREAD=1  // Force enable pthread support
  -DGTEST_HAS_PTHREAD=0  // Force disable pthread support
  ```

- If you see linker errors related to pthread symbols, make sure to link the pthread library (`-lpthread`) or configure your build system accordingly. The GoogleTest CMake build handles this automatically.

### Shared Library (DLL) Support on Windows

Building GoogleTest and GoogleMock as shared libraries is supported but requires specific compiler flags:

- To build GoogleTest as a shared library (DLL):

  ```
  -DGTEST_CREATE_SHARED_LIBRARY=1
  ```

- To compile tests against the shared GoogleTest library, add:

  ```
  -DGTEST_LINKED_AS_SHARED_LIBRARY=1
  ```

This setup helps maintain compatibility with dynamic runtime linking and avoids conflicts.

### Visual Studio Runtime Compatibility

By default, GoogleTest links against the static runtime, which sometimes conflicts with projects linking to the dynamic runtime.

- To align runtime settings, use the CMake option:

  ```
  -Dgtest_force_shared_crt=ON
  ```

This option forces GoogleTest to link the runtime dynamically, matching common Visual Studio project settings and preventing linker errors like:

```
gtest.lib(gtest-all.obj) : error LNK2038: mismatch detected for 'RuntimeLibrary'
```

### Macro Name Conflicts

GoogleTest's macros like `TEST` and `ASSERT_EQ` don't obey namespaces and can clash with other libraries.

- To avoid this, define macros to rename GoogleTest's macros on your compiler command line, for example:

  ```
  -DGTEST_DONT_DEFINE_TEST=1
  ```

- This will rename `TEST` to `GTEST_TEST`, so your code must use `GTEST_TEST` instead of `TEST`.

- Supported macros include assertions like `ASSERT_EQ`, `EXPECT_TRUE`, `TEST`, `TEST_F`, etc.

## Build System Compatibility

GoogleTest and GoogleMock ships with community-supported CMake scripts compatible with a wide range of platforms and build environments:

- Minimum CMake version required is 3.13 or newer for core builds; at least 3.14 to use the recommended `FetchContent_MakeAvailable()` approach for automatic downloading.

- When embedded inside your project's CMake configuration using `add_subdirectory()`, GoogleTest integrates smoothly using the same compiler and linker settings.

- Use the [`gtest` and `gmock` libraries provided by the scripts](https://github.com/google/googletest/tree/main/googletest) for linking your tests.

## Summary Table

| Category                    | Supported Options                                    |
|-----------------------------|----------------------------------------------------|
| Minimum C++ Standard        | C++17                                              |
| Operating Systems           | Linux, Windows Desktop, macOS, Android, Unix-like |
| Compilers                   | GCC ≥7, Clang ≥5, MSVC 2017 Update 3+, Intel LLVM  |
| Threading                   | pthreads on POSIX, Windows threads, optional macro |
| Build system                | CMake 3.13+, community support                      |
| Shared library support      | Supported with compiler flags                        |

## Practical Tips

- **Verify your environment first**: Use the [Prerequisites & System Requirements](../getting-started/setup-and-installation/prerequisites-system-requirements) page to ensure your platform and tools meet minimum requirements.

- **Use CMake FetchContent**: For seamless GoogleTest integration, use the CMake `FetchContent` method to embed GoogleTest in your builds, ensuring consistent compiler flags.

- **Watch for compiler flag mismatches**: Ensure your project and GoogleTest use compatible runtime libraries and exception handling flags to avoid linker errors.

- **Define pthread macro as needed**: If you face threading issues or build errors related to pthread, explicitly define `-DGTEST_HAS_PTHREAD=1` to enable support.

- **Check macro conflicts early**: If other libraries conflict with GoogleTest macros, rename them via the `GTEST_DONT_DEFINE_XXX` compiler defines.

## Troubleshooting Common Environment Issues

### Build errors due to compiler incompatibility

- Ensure your compiler version supports C++17.
- Update compiler or toolchain as needed.
- Specify the C++ standard explicitly in your build system.

### Linker errors related to runtime library

- On Windows/MSVC, ensure runtime linkage consistency (static vs. dynamic).
- Use `gtest_force_shared_crt` option if needed.

### Missing pthread symbols

- On Linux and Unix-like, link with `-lpthread` if not using GoogleTest's CMake scripts.
- Use `-DGTEST_HAS_PTHREAD=1` if detection is incorrect.

### Macro conflicts

- Define `-DGTEST_DONT_DEFINE_TEST=1` or equivalent to rename conflicting macros.

## Additional Resources

- [GoogleTest Prerequisites & System Requirements](../getting-started/setup-and-installation/prerequisites-system-requirements)
- [GoogleTest & GoogleMock CMake Integration](../getting-started/setup-and-installation/installing-with-cmake-bazel)
- [Foundational C++ Support Policy](https://opensource.google/documentation/policies/cplusplus-support)
- [Foundational C++ Support Matrix (GitHub)](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md)

---

# Frequently Asked Questions

<AccordionGroup title="Platform, Compiler, and C++ Standard FAQ">
<Accordion title="Which operating systems are supported by GoogleTest?">
GoogleTest supports mainstream platforms including Linux, Windows Desktop, macOS, Android, and many Unix-like operating systems such as FreeBSD and Solaris. Embedded and niche platforms may work but with limited support.
</Accordion>
<Accordion title="What minimum compiler version is needed for GoogleTest?">
A compiler that supports at least the C++17 standard is required. officially supported versions include GCC 7.0+, Clang 5.0+, Microsoft Visual Studio 2017 Update 3+, and Intel LLVM compilers.
</Accordion>
<Accordion title="Is C++17 mandatory for building GoogleTest?">
Yes, GoogleTest requires C++17 features to build and operate correctly. Your build setup must specify C++17 in compiler flags or project settings.
</Accordion>
<Accordion title="Can I use GoogleTest on older platforms or compilers?">
Older compilers and platforms might not be supported reliably. If you need to work with earlier standards, consider updating your environment for full feature compatibility and stability.
</Accordion>
<Accordion title="How do I ensure GoogleTest links correctly with Visual Studio runtimes?">
Use the CMake option `-Dgtest_force_shared_crt=ON` to align GoogleTest's runtime linkage with your project, preventing common linker errors due to mismatched runtimes.
</Accordion>
<Accordion title="How does GoogleTest handle threading support?">
GoogleTest is thread-safe on platforms with pthread support or Windows threading. If autodetection fails, use `-DGTEST_HAS_PTHREAD=1` to enable pthreads manually.
</Accordion>
<Accordion title="What compiler flags control building GoogleTest as a shared library?">
Define `-DGTEST_CREATE_SHARED_LIBRARY=1` when building GoogleTest itself as a shared library, and `-DGTEST_LINKED_AS_SHARED_LIBRARY=1` in your test builds that link against it.
</Accordion>
<Accordion title="Are there any tips for avoiding conflicts in macro names?">
If GoogleTest macros conflict with other libraries, define `-DGTEST_DONT_DEFINE_XXX=1` flags to rename conflicting macros (e.g., TEST to GTEST_TEST).
</Accordion>
</AccordionGroup>

---

For more details, refer to the [Setup & Installation Guides](../getting-started/setup-and-installation) and the core [Platform and Build Configuration API Reference](../../api-reference/extending-configuration/platform-and-build-configuration).


---

##### Source
<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "googletest/README.md", "range": "1-123"},{"path": "googletest/CMakeLists.txt", "range": "1-200"},{"path": "googletest/include/gtest/internal/gtest-port.h", "range": "1-400"},{"path": "googlemock/CMakeLists.txt", "range": "1-150"}]} />