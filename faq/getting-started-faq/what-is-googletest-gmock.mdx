---
title: "What are GoogleTest and GoogleMock?"
description: "An overview explaining what GoogleTest and GoogleMock are, how they're related, and the primary value they bring to C++ developers. It covers the key testing features, differentiates between the test and mock components, and details typical use cases."
---

# What are GoogleTest and GoogleMock?

An overview explaining what GoogleTest and GoogleMock are, how they're related, and the primary value they bring to C++ developers. This documentation focuses specifically on introducing these frameworks and shedding light on their capabilities for writing effective tests in C++.

---

## 1. Introduction to GoogleTest and GoogleMock

GoogleTest and GoogleMock are foundational C++ frameworks designed to help developers write more reliable, maintainable, and efficient tests. Together, they facilitate thorough testing of C++ code by providing powerful tools for assertion checking, test organization, and behavior verification through mocks.

- **GoogleTest** is a full-fledged C++ testing framework that supports writing and running tests, grouping tests into suites, and validating code correctness through expressive assertions.

- **GoogleMock** is an extension to GoogleTest that empowers developers to create mock objects and define precise behaviors and expectations for code dependencies, enabling interaction-based testing.

This combination allows developers to write both *state verification* tests using GoogleTest and *behavior verification* tests using GoogleMock.

---

## 2. Core Features of GoogleTest

GoogleTest offers the building blocks required for effective C++ testing:

- **Test Organization**: Define **tests** grouped into **test suites** to logically organize test cases reflecting your code architecture.

- **Assertions**: Over 20 assertion macros (e.g., `EXPECT_EQ`, `ASSERT_TRUE`) to verify code behavior. Supports fatal and non-fatal failures.

- **Test Fixtures**: Share setup and teardown code across tests using fixtures (`TEST_F`), promoting clean and readable tests.

- **Parameterized Tests**: Write tests that run over a range of inputs without duplication.

- **Test Discovery & Execution**: Automatically discover all tests in your binary and execute them with detailed reporting.

- **Cross-Platform Compatibility**: Runs seamlessly on Linux, Windows, and macOS with C++17 support.

- **Main Entry Points**: Provides a test driver main function you can link against or override for customized test initialization.

### Example: Writing a Simple GoogleTest

```cpp
#include <gtest/gtest.h>

// A simple function to test.
int Factorial(int n) {
  return (n <= 1) ? 1 : n * Factorial(n - 1);
}

// Define a test suite named FactorialTest.
TEST(FactorialTest, HandlesPositiveInputs) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(5), 120);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

---

## 3. Core Features of GoogleMock

GoogleMock builds on GoogleTest's foundation by offering *mocking* capabilities essential for interaction testing:

- **Mock Classes**: Define mock implementations of interfaces or classes using `MOCK_METHOD` macros.

- **Setting Expectations**: Specify precise call count, argument matching, call order, and sequence constraints via `EXPECT_CALL`.

- **Default Behaviors**: Define default mock method actions using `ON_CALL`.

- **Strictness Modes**: Control mock object behavior on unexpected calls using `NiceMock`, `NaggyMock`, and `StrictMock` wrappers.

- **Matchers**: Rich set of argument matchers to flexibly capture call scenarios.

- **Actions**: Define what mock methods do upon invocation, including returning values, invoking callbacks, or other side effects.

- **Partial Mocking & Delegation**: Support calling real implementations from mocks when desired.

### Example: Defining and Using a Mock with GoogleMock

```cpp
#include <gmock/gmock.h>
#include <gtest/gtest.h>

class Foo {
 public:
  virtual ~Foo() {}
  virtual int GetSize() const = 0;
  virtual std::string Describe(const std::string& name) = 0;
};

class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, GetSize, (), (const, override));
  MOCK_METHOD(std::string, Describe, (const std::string&), (override));
};

TEST(MockFooTest, TestDescribe) {
  MockFoo mock;
  EXPECT_CALL(mock, Describe("test"))
      .WillOnce(testing::Return("described test"));

  std::string description = mock.Describe("test");
  EXPECT_EQ(description, "described test");
}
```

---

## 4. How GoogleTest and GoogleMock Relate

GoogleMock depends on GoogleTest and uses GoogleTest's assertion and test running mechanisms. Typically, a single test binary will include both frameworks to provide a seamless testing and mocking experience:

- Initialization: Call `testing::InitGoogleMock(&argc, argv)` to initialize both frameworks and parse relevant command line flags.

- Test Runner: Use `RUN_ALL_TESTS()` to execute *all* tests (including those using mocks).

- Reporting: GoogleTest provides detailed assertion and test result reporting for both plain tests and those that use mocks.

---

## 5. Typical Use Cases

GoogleTest and GoogleMock help you achieve the following goals in C++ software development:

- **Unit Testing**: Verify the logic of individual classes and functions.

- **Mocking Collaborators**: Isolate code under test by replacing dependent objects/interfaces with mocks.

- **Behavior Verification**: Ensure that objects interact as expected, including call ordering and frequencies.

- **Test-Driven Development (TDD)**: Facilitate development workflows where tests guide implementation.

- **Regression Testing**: Detect unintended behavior changes in ongoing development.


---

## 6. Getting Started

For new users:

- Start by writing simple tests with GoogleTest using `TEST` and assertions.

- Learn about test fixtures to share setup.

- When dependencies or collaborators exist, create mock classes with GoogleMock's `MOCK_METHOD`.

- Set expectations on mock methods using `EXPECT_CALL`.

- Run all tests using `RUN_ALL_TESTS()`, processing the return value as an exit code.

- Explore further features such as parameterized tests, matchers, and actions.


---

## 7. Further Resources

Explore related documentation to deepen your understanding and mastery:

- [GoogleTest Primer](../docs/primer.md): Getting started guide for simple tests.

- [Mocking for Dummies](../docs/gmock_for_dummies.md): Beginner-friendly intro to mocking.

- [Mocking Reference](../docs/reference/mocking.md): Comprehensive description of mocking APIs.

- [gMock Cookbook](../docs/gmock_cook_book.md): Practical mocking recipes.

- [GoogleTest Advanced](../docs/advanced.md): Explore advanced topics and best practices.


---

## 8. Summary

GoogleTest and GoogleMock together form a comprehensive framework for writing C++ tests that verify correctness both in terms of state and behavior. They enable developers to create reliable software with clear, maintainable test code. The frameworks emphasize developer productivity with expressive APIs, flexible configurations, and robust reporting.


---

## 9. FAQ Highlights

<AccordionGroup title="Frequently Asked Questions">
<Accordion title="What is GoogleTest?"><p>GoogleTest is a C++ testing framework that supports writing and running tests grouped in suites, with rich assertions and hardware-agnostic support.</p></Accordion>
<Accordion title="What is GoogleMock?"><p>GoogleMock extends GoogleTest with the ability to create mock objects and specify expectations on their usage, enabling interaction testing.</p></Accordion>
<Accordion title="How do I initialize GoogleMock and GoogleTest together?">Use <code>testing::InitGoogleMock(&argc, argv)</code> which initializes both frameworks and processes flags.</Accordion>
<Accordion title="Can I use GoogleMock without GoogleTest?">No, GoogleMock depends on GoogleTest and requires it for running tests and assertions.</Accordion>
<Accordion title="What is a mock object's strictness mode?">Strictness modes control response to unexpected or uninteresting calls: NiceMock suppresses warnings, NaggyMock warns, and StrictMock treats them as errors.</Accordion>
<Accordion title="How do I run my tests?">Call <code>RUN_ALL_TESTS()</code> after initialization; it runs all registered tests, including those involving mocks.</Accordion>
</AccordionGroup>

---

## 10. References

- [GoogleTest Primer](../docs/primer.md)
- [Mocking Reference](../docs/reference/mocking.md)
- [gMock Cheat Sheet](../docs/gmock_cheat_sheet.md)
- [gMock Cookbook](../docs/gmock_cook_book.md)
- [GoogleTest API: Test Execution](../api-reference/core-testing-apis/test-execution-control.mdx)


---

<Note>
This page provides a foundational overview of GoogleTest and GoogleMock and aims to position these frameworks in the testing workflow for C++ developers. For in-depth usage, see the referenced guides and API documentation.
</Note>