---
title: "What command-line options are available for test execution?"
description: "An overview of the most useful command-line flags, such as filtering tests, controlling output formats, setting repeat counts, and integration with continuous integration environments."
---

# Command-Line Options for Test Execution

GoogleTest offers a rich set of command-line flags that empower you to control precisely how your tests are selected, executed, reported, and integrated into your workflows. This page guides you through the most useful flags, demonstrating how to filter tests, configure output formats, repeat executions, and fine-tune behaviors to suit your testing and continuous integration needs.

---

## 1. Filtering and Selecting Tests

Filtering lets you run a focused subset of tests without modifying your test code.

### --gtest_filter

- **Purpose:** Runs only tests matching the specified positive patterns and excludes those matching negative patterns.
- **Format:**

  ```
  --gtest_filter=POSITIVE_PATTERNS[-NEGATIVE_PATTERNS]
  ```

- **Patterns:**
  - Multiple patterns are separated by colon (`:`).
  - Use `?` to match any single character.
  - Use `*` to match any substring.

- **Example:**

  ```bash
  ./my_tests --gtest_filter=Math*.IsPrime:String*.Contains-*.Disabled
  ```

- **Behavior:** Only tests whose names match `Math*` or `String*.Contains` will run, excluding any tests with `Disabled` in their name.


### --gtest_also_run_disabled_tests

- Run all tests, including those marked as disabled (usually prefixed with `DISABLED_`).

- Enables the testing of tests that are normally excluded.

### Common Usage Tip

Use filtering combined with disabled tests flags to quickly debug or iterate on a smaller test set without full test suite execution.

---

## 2. Repetition and Order Control

GoogleTest supports rerunning tests multiple times with options to randomize test sequences.

### --gtest_repeat

- **Purpose:** Repeats test execution the specified number of times.
- **Value:** Integer. Negative values mean repeat indefinitely.

- **Example:**
  ```bash
  ./my_tests --gtest_repeat=5
  ```

- Useful for uncovering flaky or timing-dependent failures.

### --gtest_shuffle

- Randomizes the order in which tests are run, helping identify inter-test dependencies.

### --gtest_random_seed

- Sets the random seed used for shuffling.
- Use the same seed to reproduce a particular random ordering.

- **Example:**
  ```bash
  ./my_tests --gtest_random_seed=1234
  ```

### --gtest_recreate_environments_when_repeating

- Forces re-setup and teardown of global test environments for each repeated test run.
- Useful when environment state might affect test outcomes across repetitions.

---

## 3. Output Control & Reporting

Test results can be presented or exported in various formats to assist different workflows.

### --gtest_output

- Controls the output format and destination for test results.

- **Formats Supported:**
  - `xml` - XML report
  - `json` - JSON report

- **Syntax:**
  ```
  --gtest_output=FORMAT[:PATH]
  ```

- **Examples:**
  ```bash
  ./my_tests --gtest_output=xml:reports/
  ./my_tests --gtest_output=json:results/test_results.json
  ```

- If a directory path is given, output files are automatically named within that directory.

### --gtest_list_tests

- Lists all available tests without running any.
- Helps exploration and scripting.

### --gtest_brief

- When enabled, only test failures are printed instead of full test results.

### --gtest_print_time

- Enables or disables printing elapsed time for each test.

### --gtest_color

- Controls colored output for better readability.
- Values: `yes`, `no`, or `auto` (default).

---

## 4. Debugging & Failure Behavior

Flags to influence how failures and exceptions are handled.

### --gtest_break_on_failure

- Enters a debugger breakpoint on assertion failures.

### --gtest_throw_on_failure

- Instead of just reporting failures, throws exceptions for integration with external test frameworks.

### --gtest_catch_exceptions

- Controls whether to catch exceptions thrown by tests and treat them as test failures.

---

## 5. Sharding Support (Distributed Test Execution)

GoogleTest supports splitting your test workload across multiple processes or machines.

### Environment Variables

- `GTEST_TOTAL_SHARDS`: The total number of shards.
- `GTEST_SHARD_INDEX`: Index of the current shard (0-based).

### Sharding Behavior

- Tests are distributed by an internal hash mod shard count.
- Tests not using the shard index are skipped in that process.

### Example Usage

```bash
GTEST_TOTAL_SHARDS=4 GTEST_SHARD_INDEX=2 ./my_tests
```

- Often configured in CI to split large test suites and run them in parallel.

---

## 6. Help & Usage Information

### --help and Unrecognized Flags

- Typing `--help` or invalid GoogleTest flags triggers the display of detailed usage instructions.

- Helps newcomers and aids discovery of all available flags.

---

## 7. Example: Custom Test Execution with Flags

```bash
./my_tests \
  --gtest_filter=QueueTest.* -QueueTest.DequeueFails \
  --gtest_also_run_disabled_tests \
  --gtest_repeat=3 \
  --gtest_shuffle \
  --gtest_output=xml:reports/ \
  --gtest_color=yes
```

This runs all `QueueTest` tests except `DequeueFails`, includes disabled tests, repeats thrice, randomizes test order, generates XML reports, and enforces colored output.

---

## 8. Summary Table of Key Flags

| Flag Name                            | Purpose                                   | Example Value           |
|------------------------------------|-------------------------------------------|------------------------|
| `--gtest_filter`                   | Select specific tests                     | `Math*`                |
| `--gtest_also_run_disabled_tests` | Include disabled tests                    | (no value)             |
| `--gtest_repeat`                   | Repeat test execution                     | `5` or `-1`            |
| `--gtest_shuffle`                  | Shuffle test execution order              | (no value)             |
| `--gtest_random_seed`              | Set seed for shuffle                      | `123`                  |
| `--gtest_output`                  | Output test results to file               | `xml:dir/` or `json:file`
| `--gtest_list_tests`               | List tests without running                | (no value)             |
| `--gtest_brief`                   | Brief output (failures only)               | (no value)             |
| `--gtest_print_time`              | Show elapsed time for each test          | `0` or `1`             |
| `--gtest_color`                   | Enable or disable colored output           | `yes`, `no`, `auto`    |
| `--gtest_break_on_failure`        | Debug break on failure                    | (no value)             |
| `--gtest_throw_on_failure`        | Throw exceptions on failure               | (no value)             |

---

## 9. Additional Tips & Best Practices

- Always call `testing::InitGoogleTest(&argc, argv)` early in your `main()` to correctly initialize flags.
- Use test filtering and sharding to speed up large test suites.
- Combine output options to integrate with CI systems, generating XML or JSON reports.
- Use repeat and shuffle to detect flaky tests.
- When debugging, the break-on-failure flag helps to halt the execution at the cause.

---

## 10. Related Documentation

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) — Learn the basics of writing and running tests.
- [Test Discovery and Execution Patterns](https://github.com/google/googletest/blob/main/guides/getting_started/test_discovery_execution.md) — Understand test lifecycle and filtering.
- [Continuous Integration Integration Patterns](https://github.com/google/googletest/blob/main/concepts/extensibility-and-scalability/integration-and-automation.mdx) — Best methods for CI integration.
- [Test Macros and Assertions API](https://github.com/google/googletest/blob/main/api-reference/core-testing-interfaces/test-macros-assertions.md) — Know the core test and assertion macros.

---

## 11. Support & Feedback

If you encounter issues or have questions about flags or behavior:

- Visit the [GoogleTest GitHub Issues](https://github.com/google/googletest/issues).
- Consult the [GoogleTest FAQ](https://github.com/google/googletest/blob/main/faq/getting-started-faq/faq-command-line-options.md).
- Engage with community forums or mailing lists referenced in the main repository.


---

This comprehensive guide ensures you have the tools to execute and customize GoogleTest runs in complex projects and environments with predictable and reliable outcomes.