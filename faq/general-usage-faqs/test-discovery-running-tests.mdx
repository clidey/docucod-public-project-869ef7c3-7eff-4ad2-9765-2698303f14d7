---
title: "Test Discovery & Running Tests"
description: "Clarifies how GoogleTest discovers tests, how to run individual or grouped tests, and interprets test execution results. Addresses questions on filtering tests, running in specific orders, and handling disabled or special tests, including typical command-line errors."
---

# Test Discovery & Running Tests

GoogleTest automates test discovery and execution, enabling you to run individual or groups of tests with precise control over which tests are included or excluded. This page explains how GoogleTest finds tests, how to run them selectively, how to interpret the results, and how to handle common scenarios such as disabling tests or running tests in specific orders.

---

## 1. How GoogleTest Discovers Tests

When you define tests using macros like `TEST()`, `TEST_F()`, `TEST_P()`, or `TYPED_TEST()`, GoogleTest automatically registers them in the global test registry. It organizes the tests into *test suites* and *test cases* internally:

- **Test Suite**: A group of related tests (formerly called Test Case).
- **Test**: An individual test within a test suite.

You do not need to register tests manually. GoogleTest tracks all tests at runtime, enabling filtering, listing, and selective execution.

Tests defined with parameterization or typing are expanded at runtime into multiple individual tests, each with a unique name reflecting the parameter or type.


## 2. Running Tests: Basic and Selective

### Running All Tests

To run all available tests, simply use the executable (test binary) without filters after initializing GoogleTest in your `main` function:

```cpp
int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This runs every test in all linked test suites.

---

### Running a Subset of Tests Using Filters

GoogleTest provides the `--gtest_filter` flag (also environment variable `GTEST_FILTER`) to select tests by name. The filter is a colon-separated list of *positive* glob patterns optionally followed by a `-` and colon-separated *negative* patterns.

The full test name format is: `TestSuiteName.TestName`.

- Use `*` to match any number of characters.
- Use `?` to match a single character.

**Examples:**

- `--gtest_filter=FooTest.*` runs all tests in `FooTest`. 
- `--gtest_filter=*Null*:*Constructor*` runs all tests with `Null` or `Constructor` in their full name.
- `--gtest_filter=FooTest.*-FooTest.Bar` runs all tests in `FooTest` except test `Bar`.

Filters can be combined for complex selection.

---

### Temporarily Disabling Tests

You can disable individual tests by prefixing the test or test suite name with `DISABLED_`. These tests are compiled but not run by default.

```cpp
TEST(FooTest, DISABLED_BrokenTest) {
  ...
}
```

To include disabled tests in runs, use the flag `--gtest_also_run_disabled_tests`.

---

### Running Disabled Tests with a Filter

You can combine filters with the disabled tests flag:

```shell
./my_tests --gtest_filter=FooTest.DISABLED_* --gtest_also_run_disabled_tests
```

This runs only disabled tests in the `FooTest` suite.

---

### Running Tests in a Specific Order

By default, test execution order is the order registered in the executable. GoogleTest supports:

- **Shuffling:** Use `--gtest_shuffle` to randomize test order.
- **Repeating:** Use `--gtest_repeat=N` to run all selected tests multiple times.

This helps find fragile tests that depend on execution order.


## 3. Interpreting Test Execution Results

After a test run, GoogleTest provides detailed output:

- Test pass/fail status per test.
- Execution time.
- Summary of all run tests, failed tests, and disabled tests.

You can also generate machine-readable reports:

- **XML reports:** Use `--gtest_output=xml[:path]` for JUnit-style XML output.
- **JSON reports:** Use `--gtest_output=json[:path]` for a JSON report.

Example console output snippet:
```
[ RUN      ] FooTest.Bar
[       OK ] FooTest.Bar (0 ms)
[  FAILED  ] FooTest.Baz (1 ms)
```

Use these reports in CI and other automated tooling.


## 4. Filtering Tests: Examples & Patterns

### Syntax Notes

- Filters use *glob* patterns, not regular expressions.
- Patterns are case-sensitive.
- Negative filters exclude tests matching those patterns.

### Example Filters

| Filter String                      | Description                                         |
| -------------------------------- | ------------------------------------------------- |
| `*`                              | Run all tests                                     |
| `FooSuite.*`                     | Run all tests in test suite FooSuite               |
| `*-FooSuite.Bar`                 | Run all tests except FooSuite.Bar                   |
| `FooSuite.*:BarSuite.*-*.Flaky` | Run FooSuite and BarSuite except tests named Flaky |


## 5. Running Individual Tests

To run a single test by name (exact match), use the filter with test suite and test name:

```shell
./my_tests --gtest_filter=MySuite.RunsQuickly
```

This runs only the test named `RunsQuickly` in `MySuite`.


## 6. Handling Disabled and Special Tests

### Disabled Tests

Disabled tests are useful for temporarily excluding tests without removing code. They are excluded unless `--gtest_also_run_disabled_tests` is specified.

### Also Running Disabled Tests

```shell
./my_tests --gtest_also_run_disabled_tests
```

Combine with `--gtest_filter` to be selective.

### Disabled Test Reporting

Disabled tests count towards total tests but normally don't cause failures.


## 7. Common Command-Line Errors and How to Fix Them

| Error Message                            | Cause                                         | Resolution                             |
| ---------------------------------------|-----------------------------------------------|--------------------------------------|
| Unknown flag: --gtest_filter           | Typo or flag misspelling                       | Use correct flag names                 |
| No tests found matching filter          | Filter does not match any test                 | Check filter syntax and test names    |
| Cannot parse flag --gtest_filter=abc:  | Misformatted filter string                     | Ensure correct filter pattern format  |
| Flag conflicts (e.g., duplicated flags) | Duplicate or conflicting flags used          | Avoid redundant flags, specify once   |


## 8. Additional Flags Affecting Test Runs

- `--gtest_repeat=N`: Repeat the selected tests N times (or forever if -1).
- `--gtest_fail_fast`: Stop on first failure.
- `--gtest_shuffle`: Randomize test execution order.
- `--gtest_random_seed=SEED`: Fix random seed for reproducible runs.


## 9. Summary of User Flow for Running Tests

<Steps>
<Step title="Initialize GoogleTest Flags">
Call `testing::InitGoogleTest(&argc, argv);` in your main.
</Step>
<Step title="Run All or Filtered Tests">
Use `RUN_ALL_TESTS()`; optionally control selection via `--gtest_filter`.
</Step>
<Step title="Observe Output and Reports">
Review console output or use XML/JSON reports with `--gtest_output`.
</Step>
<Step title="Use Additional Flags as Needed">
Control repeats, disables, shuffling, and fail-fast behavior.
</Step>
</Steps>


## 10. Troubleshooting Tips

<Tip>
If tests do not run as expected:
- Verify that `InitGoogleTest()` is called before `RUN_ALL_TESTS()`.
- Check that your filter patterns correctly match your test names.
- Use the `--gtest_list_tests` flag to list all tests and confirm names.
- Use `--gtest_also_run_disabled_tests` to include disabled tests.
- Review error messages carefully for flag syntax issues.
</Tip>

<Warning>
Misplaced or misspelled flags can cause tests not to run or unexpected behavior. Always confirm the exact spelling and format.
</Warning>

<Note>
GoogleTest test names should avoid underscores (`_`) in test suite and test names for best filtering consistency.
</Note>

---

## 11. Related Documentation

- [GoogleTest Primer](primer.md) — Basics on writing and running tests
- [Advanced GoogleTest Topics](advanced.md) — Detailed test execution flags, death tests, and filtering
- [Writing and Organizing Tests (API Reference)](reference/testing.md#writint-tests) — Test macros and filtering
- [Assertions and Matchers (API Reference)](api-reference/core-testing-apis/assertions.md) — Using assertions
- [Running Test Programs: Advanced Options (Advanced Guide)](advanced.md#running-test-programs-advanced-options) — Detailed flag explanations
- [GoogleTest FAQ](faq/general-usage-faqs/test-discovery-running-tests) — Common troubleshooting

---

## 12. Example: Running Selectively with Filters

```shell
# Run all tests in the FooTest suite
./mytest_binary --gtest_filter=FooTest.*

# Run only the Bar and Baz tests
./mytest_binary --gtest_filter=*.Bar:*.Baz

# Run all except Flaky tests
./mytest_binary --gtest_filter=-*.Flaky

# Run disabled tests matching Foo
./mytest_binary --gtest_filter=Foo* --gtest_also_run_disabled_tests
```

---

## 13. Listing Available Tests

Use the `--gtest_list_tests` flag to print all discovered tests to the console, without running them. This helps confirm test names and suits for filtering.

```shell
./mytest_binary --gtest_list_tests
```

Example output:

```none
FooTest.
  TestOne
  TestTwo
BarTest.
  Baz
  Quux
```

This output shows all test suites and their respective tests.


---

## 14. Understanding Test Execution Results Programmatically

GoogleTest exposes classes like `UnitTest`, `TestSuite`, `TestInfo`, and `TestResult` to access results programmatically via API.

For example:

- Access current test info with `UnitTest::GetInstance()->current_test_info()`.
- Query test result with `TestInfo::result()`.
- Check per-test part results such as passed, failed, skipped.

This is useful when extending GoogleTest or integrating with custom tooling.

---

## 15. How to Run Tests in Specific Scenarios

### Running Tests with Environment Setup

Register global environments inheriting from `testing::Environment` before `RUN_ALL_TESTS()` to set up and tear down shared resources.

### Repeating Tests

Use `--gtest_repeat=N` flag for flaky test diagnosis.

### Sharding Tests

Divide tests into shards and run subsets in parallel using environment variables `GTEST_TOTAL_SHARDS` and `GTEST_SHARD_INDEX`.

### Catching Assertion Failure Early

Use listeners or `HasFatalFailure()` in the current test to abort early.

---

## Conclusion

GoogleTest provides a comprehensive and flexible system for discovering, selecting, and running tests with helpful output and filtering capabilities. Mastering test discovery and execution commands empowers efficient development and continuous verification of C++ codebases.


---

<AccordionGroup title="FAQ - Common Questions about Test Discovery & Running Tests">
<Accordion title="How does GoogleTest discover tests?">
GoogleTest automatically registers all tests defined using its macros when your test binary is linked and run. No manual registration is needed; all tests are listed at runtime.
</Accordion>
<Accordion title="How can I run specific tests only?">
Use the `--gtest_filter` command line flag with test suite and test name patterns to include or exclude tests.
</Accordion>
<Accordion title="How do I run disabled tests?">
Add the flag `--gtest_also_run_disabled_tests` when running the test binary. Combine with filters to select specific disabled tests.
</Accordion>
<Accordion title="Can I run tests multiple times?">
Yes, use the `--gtest_repeat=N` flag to run all selected tests N times, or `-1` to repeat indefinitely.
</Accordion>
<Accordion title="How do I list all available tests without running?">
Add the flag `--gtest_list_tests` to your test binary invocation. This prints tests and exits.
</Accordion>
</AccordionGroup>

<AccordionGroup title="Common Issues & Troubleshooting">
<Accordion title="No tests found matching filter">Verify your `--gtest_filter` pattern matches existing test names exactly or use `--gtest_list_tests` to confirm test names.
</Accordion>
<Accordion title="Tests do not run when disabled">To run disabled tests, add `--gtest_also_run_disabled_tests`.
</Accordion>
<Accordion title="Test output is cluttered by multiple listeners">Remove default listeners if adding custom ones to avoid mixed output.
</Accordion>
</AccordionGroup>

---

## References

- [GoogleTest Primer](primer.md)
- [Advanced GoogleTest Topics](advanced.md)
- [Test Fixtures and Parameterization](guides/advanced-testing-patterns/test-fixtures-parameterization.md)
- [GoogleTest API Reference: Testing](reference/testing.md)

<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "googletest/include/gtest/gtest.h", "range": "1-960"}]} />
<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "docs/advanced.md", "range": "1-849"}]} />
<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "docs/primer.md", "range": "1-293"}]} />
<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "docs/reference/testing.md", "range": "1-1082"}]} />
