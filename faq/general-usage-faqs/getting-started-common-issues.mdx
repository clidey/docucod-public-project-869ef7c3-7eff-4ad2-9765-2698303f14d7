---
title: "Getting Started & Common Issues"
description: "Practical guidance for overcoming the most frequently encountered hurdles during installation, setup, and first tests. Topics include compiler requirements, linking errors, missing headers, and first-time configuration. Provides actionable steps for a smooth initial experience."
---

# Getting Started & Common Issues

Practical guidance for overcoming the most frequently encountered hurdles during installation, setup, and first tests. This FAQ focuses specifically on smoothly getting your GoogleTest environment ready, addressing compiler requirements, common link errors, missing headers, and correct first-time configuration. By following these actionable steps, you will avoid common pitfalls and have a solid foundation to write and run your first tests.

---

## 1. Common Questions

### What compiler support does GoogleTest require?
GoogleTest requires a C++17-capable compiler. Please verify your compiler supports C++17 features before attempting to build or integrate GoogleTest. For environment preparation instructions, see the [Preparing Your Environment](../../getting_started/setup_requirements/environment_preparation) guide.

### Why am I getting errors about missing headers like `<gmock/gmock.h>` or `<gtest/gtest.h>`?
This usually means GoogleTest or GoogleMock source or include files are not correctly referenced in your build system. Make sure you have added the required include directories and source files appropriately. For manual integration, see [Source Inclusion & Manual Integration](../../getting_started/installation_integration/source_integration).

### How do I resolve linker errors related to GoogleTest or GoogleMock symbols?
Ensure that you:

- Link against the correct GoogleTest and GoogleMock libraries (static/shared or compiled source).
- Link with `gtest_main` or `gmock_main` libraries if you do not provide your own `main()` function.
- Build your mock classes' constructors and destructors properly if defined out-of-line.

See the [Building and Running Tests](../../getting_started/first_test_run_validation/build_run_test) page.

### What if GoogleMock warnings say "Uninteresting function call encountered"?
This warning means a mock method was called without a matching `EXPECT_CALL`. If you intended to allow this method call, suppress the warning by:

- Using `NiceMock<YourMockClass>` which suppresses these warnings globally for that mock.
- Adding an `EXPECT_CALL` with `.Times(AnyNumber())` for that method if you expect arbitrary calls.

Using `ON_CALL` alone to set default actions does not suppress these warnings.

### When will GoogleMock verify expectations?
GoogleMock automatically verifies all set expectations when a mock object is destroyed. Ensure that your mocks are properly destroyed (not leaked) to get reliable verification and failure reporting.

Use `Mock::VerifyAndClearExpectations(&mock_obj)` if you need to verify explicitly before destruction.

---

## 2. First-Time Setup Issues

### Compiler Does Not Support C++17 or Higher

Your compiler must support at least C++17. To verify:

1. Run `g++ --version` or `clang++ --version` to check your compiler version.
2. Confirm support for the `-std=c++17` flag.
3. Configure your build system or compile flags accordingly.

If unsupported, update your compiler or use a different toolchain.

### Missing or Incorrect Include Paths

Ensure your build system includes the paths for both GoogleTest and GoogleMock headers:

- Typically, `googletest/include/` and `googlemock/include/` must be added to your compiler's include paths.
- If manually integrating, ensure source files from `googletest/src/` and `googlemock/src/` are included in your build.

Failing to do so causes header not found errors.

### Linking against GoogleTest Libraries

- Link against `gtest` and `gmock` libraries.
- If you rely on the default main() implementation, link against `gtest_main` and/or `gmock_main`.
- When building from sources, confirm the compilation and linking commands match your environment.

### Using CMake or Bazel?
Follow the official guides for your build tool:

- [Installing with CMake](../../getting_started/installation_integration/install_cmake)
- [Installing with Bazel](../../getting_started/installation_integration/install_bazel)

These guides cover platform-specific recommendations and dependency resolution.

---

## 3. Common Build and Linking Errors

### Undefined Reference to GoogleTest or GoogleMock Symbols

- Cause: GoogleTest or GoogleMock library is not linked.
- Resolution:
  - Add `-lgtest -lgmock` or corresponding libraries in your linker options.
  - For static linking to work properly, ensure `-pthread` is also set.

### Multiple Definitions of Main Symbol

- Cause: Linking both your own `main()` and the one provided by `gtest_main` or `gmock_main`.
- Resolution:
  - Use either your own `main()` or link with `gtest_main`/`gmock_main`, but not both.

### Compilation Errors Around MOCK_METHOD

- Cause: Incorrect macro usage in mock class.
- Resolution:
  - Follow syntax strictly; wrap argument or return types that include commas in parentheses.
  - Place all `MOCK_METHOD` macros in the public section of mock classes.
  - If mocking const methods, add `(const, override)` as the last parameter.

### Slow or Failing Compilation on Large Mock Classes

- Cause: Compiler struggles due to code bloat.
- Resolution:
  - Move mock class constructor and destructor definitions to `.cc` files.
  - Compile mock classes separately and link.

See [gMock Cookbook - Making the Compilation Faster](docs/gmock_cook_book.md#making-the-compilation-faster).

---

## 4. First Test and Configuration Verification

### How to Write and Run Your First Test

Your first test file should include:

```cpp
#include <gtest/gtest.h>

TEST(ExampleTest, SimpleAssertion) {
  EXPECT_EQ(1, 1);
}
```

Compile it linking against GoogleTest libraries and run.

For detailed walk-through, see [Writing Your First Test](../../getting_started/first_test_run_validation/write_first_test).

### Common Pitfalls in First Test Runs

- Forgetting to initialize GoogleTest with `testing::InitGoogleTest(&argc, argv);` in your main.
- Not calling `RUN_ALL_TESTS();` in your main function.
- Omitting linkage to required libraries.

### Using GoogleMock in Tests

- Include `<gmock/gmock.h>` for mocking support.
- Create mock classes with `MOCK_METHOD` macros.
- Use `EXPECT_CALL` to setup method call expectations.

See [gMock Cookbook](docs/gmock_cook_book.md) for detailed mocking recipes.

---

## 5. Troubleshooting Tips

- **Enable verbose logging** with the flag `--gmock_verbose=info` to view detailed call matching information.

- **Suppress uninteresting call warnings** using `NiceMock` or explicit `EXPECT_CALL(...).Times(AnyNumber())`.

- **Verify mock destruction** to ensure expectations are checked.

- Use `Mock::AllowLeak()` cautiously when you deliberately want to keep mocks alive beyond test scope.

- Always set expectations before exercising the mock objects. Do not set expectations after the mock has been used to avoid undefined behavior.

- For multi-threaded tests, keep all mock setup and verification in the same thread, and let calls come from other threads as needed.

---

## 6. Additional Resources

- [gMock Cookbook](docs/gmock_cook_book.md) - Recipes and best practices for writing mocks.
- [Legacy gMock FAQ](docs/gmock_faq.md) - Answers to more rare or technical use cases.
- [GoogleTest Primer](docs/primer.md) - Foundation for writing tests with GoogleTest.
- [Writing and Organizing Tests](api-reference/core-testing-apis/writing-tests.md) - Reference on test structuring.
- [Setting Up Your Testing Environment](guides/getting-started/setup-environment.md) - Step-by-step setup guide.

---

## 7. Quick Start Checklist

- Verify your compiler supports C++17.
- Include GoogleTest and GoogleMock headers and source or link libraries properly.
- Use the `MOCK_METHOD` macro in public sections of your mock classes.
- Set up expectations with `EXPECT_CALL` before running code.
- Use `RUN_ALL_TESTS()` as the main entry point after initializing GoogleTest.
- Use verbose flags to debug call expectations and suppress spurious warnings with `NiceMock` where appropriate.

---

Follow this guidance closely for a smooth first experience with GoogleTest and GoogleMock.


<Check>
For comprehensive setup, consult the Getting Started guides and ensure environment readiness before writing tests.
</Check>

<Note>
Remember that GoogleMock warnings and failures are your allies in understanding test behavior. Address them proactively.
</Note>

---

**End of Getting Started & Common Issues FAQ**
