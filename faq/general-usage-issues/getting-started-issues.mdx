---
title: "Getting Started Problems"
description: "Covers problems encountered during initial setup, including build errors and missing dependencies. Answers frequent questions on installation, compatibility, and integrating with different build systems, helping users get running quickly."
---

# Getting Started Problems

This page addresses common problems and questions encountered during the initial setup of GoogleTest and GoogleMock. It focuses on issues related to build errors, dependencies, installation compatibility, and integration with different build systems. Our goal is to help you quickly identify and resolve the hurdles that may prevent you from getting your tests up and running.

---

## Frequently Asked Questions

### Why am I encountering build errors during installation?
Build errors during setup often stem from missing dependencies, incompatible compiler versions, or incorrect build system configurations. Ensure:
- Your environment meets the [system requirements](https://github.com/google/googletest/blob/main/getting-started/setup-prerequisites-installation/system-requirements-supported-platforms.md).
- You have a C++17 compliant compiler as GoogleTest requires C++17 features.
- Threading and filesystem support are enabled in your environment.

If using CMake or Bazel, verify you followed the integration steps as described in the [integration guide](https://github.com/google/googletest/blob/main/overview/integration-and-getting-started/integration-with-build-systems-and-tools.md).

### How do I resolve missing dependencies?
GoogleTest and GoogleMock rely mainly on standard C++ libraries and the build system you choose (CMake or Bazel). Missing dependencies can usually be fixed by:
- Installing or updating your compiler toolchain to meet minimum version requirements.
- Ensuring that CMake or Bazel is installed correctly and is accessible in your PATH.
- Verifying that your environment supports threading and filesystem features.

For detailed platform-specific instructions, refer to the [System Requirements and Supported Platforms](https://github.com/google/googletest/blob/main/getting-started/setup-prerequisites-installation/system-requirements-supported-platforms.md).

### Can GoogleTest and GoogleMock integrate with my current build system?
GoogleTest supports popular build systems including CMake and Bazel.

- For **CMake**, you can use GoogleTest as an external project or link directly. Follow the guide at [Installation Using CMake](https://github.com/google/googletest/blob/main/getting-started/setup-prerequisites-installation/install-cmake.md).

- For **Bazel**, GoogleTest is available as a workspace dependency; see [Installation Using Bazel](https://github.com/google/googletest/blob/main/getting-started/setup-prerequisites-installation/install-bazel.md).

Make sure to include `gmock` alongside `gtest` if you require mocking features.

### What common build system pitfalls should I avoid?
- **Incorrect target linkage**: Ensure your test targets link against `gtest_main` or provide your own main.
- **Mixing compiler versions**: All parts of the build (your code, GoogleTest, and GoogleMock) must be compiled with compatible compilers.
- **Incomplete thread support**: Threading support is essential; make sure your standard library and compiler support C++17 threading.

### How do I handle compiler warnings related to mocking?
Some MSVC users may encounter warnings related to constness or parameters. For example, warnings C4301 or C4373 caused by const parameters are due to compiler bugs and can be resolved by removing unnecessary `const` qualifiers on parameters, as GoogleMock treats them equivalently.

### Why do some methods invoke the real implementation instead of the mock?
This typically happens if the method is not declared `virtual`. GoogleMock only mocks virtual methods unless special high-performance injection techniques are used. Verify that all methods you intend to mock are virtual.

### Uninteresting function call warnings appear in my test output. What do they mean?
These warnings indicate mock methods were called without any `EXPECT_CALL` set, meaning the calls were not explicitly expected.

- They are **not errors** but can signal missing expectations.
- To suppress these warnings, wrap your mock object with `NiceMock`.
- Alternatively, add a general catch-all expectation, e.g., `EXPECT_CALL(mock, Method(_)).Times(AnyNumber());`

### How can I control the verbosity of GoogleMock messages during testing?
Use the runtime flag `--gmock_verbose=LEVEL` where LEVEL can be:
- `info`: Prints detailed information and stack traces for mock calls.
- `warning` (default): Warnings and errors are printed.
- `error`: Only errors are reported.

You can also set verbosity programmatically:
```cpp
::testing::FLAGS_gmock_verbose = "error";
```

Use higher verbosity during test development and debugging. For clean test runs, `warning` or `error` are typical.

### How do I allow or disallow unexpected calls to mocks?
- To **disallow** calls to a method, use `.Times(0)` on an `EXPECT_CALL`.
- To **allow** unexpected calls silently, use a `NiceMock` wrapper or add an explicit catch-all expectation.

### What do `NiceMock`, `NaggyMock`, and `StrictMock` mean?
They control the strictness of the mock in handling calls without expectations:
- `NiceMock<T>`: Suppresses warnings on uninteresting calls.
- `NaggyMock<T>`: Prints warnings but allows uninteresting calls (default behavior).
- `StrictMock<T>`: Treats uninteresting calls as failures.

Choose based on how strictly you want your tests to enforce expectations.

### How can I debug why my expectations are not being satisfied?
Run your tests with `--gmock_verbose=info` to get detailed traces of calls and expectation matches. Reviewing the trace helps you spot mismatches in arguments or call counts.

### What should I do if I encounter leaked mock object warnings?
Enable the flag `--gmock_catch_leaked_mocks=true` to have GoogleMock detect leaked mocks. Make sure mocks are deleted or wrapped properly so that their destructors run and expectations get verified.

---

## Common Gotchas During Setup

- **Not calling `InitGoogleMock` before running tests**: Always initialize GoogleMock with `testing::InitGoogleMock(&argc, argv);` in your `main` function.
- **Setting expectations after the mock is used**: Always add `EXPECT_CALL` before invoking mock methods.
- **Mocking non-virtual methods**: GoogleMock does not mock non-virtual methods by default.
- **Destructor issues**: Ensure base classes have virtual destructors to prevent memory leaks when mocking.
- **Multiple conflicting expectations**: Recent expectations override older ones; order your expectations accordingly.

---

## Troubleshooting Steps

### Step 1: Verify Environment Compatibility
- Confirm your compiler supports C++17.
- Check your platform and OS meets the requirements in the system requirements doc.
- Ensure your build system (CMake/Bazel) is correctly installed.

### Step 2: Check Build Configuration
- Verify `gmock` and `gtest` targets are included and linked in your test target.
- Use verbose build logs to spot missing files or improper flags.

### Step 3: Validate Mock Definitions
- Confirm all methods you mock are declared `virtual`.
- Avoid mocking concrete classes directly; prefer interfaces.

### Step 4: Test Simple Mock Instance
- Write a minimal test creating a mock object, setting a simple expectation, and calling the mock method.
- Run with `--gmock_verbose=info` to debug unexpected behaviors.

### Step 5: Use Strictness Wrappers Appropriately
- Use `NiceMock` during exploratory testing to avoid noise.
- Use `StrictMock` when you want to catch unexpected calls.

### Step 6: Consult Logs and Test Output
- Interpret warnings, error messages, and stack traces.
- Use the FAQ's explanation to address specific complaints.

### Step 7: Reach Out for Support
If issues persist, consult community forums or the official GitHub repository issues page.

---

## Practical Tips to Get Running Quickly

- Start with a simple mock test using `NiceMock` to isolate build and linkage issues before adding complex expectations.
- Use the provided examples and cheat sheets for correct macro usage.
- Incrementally add expectations and mock specializations, running tests frequently to catch issues early.
- Avoid mixing multiple mocking frameworks or incompatible versions.
- Leverage continuous integration environments aligned with supported platforms.

---

## Related Topics

- [System Requirements & Supported Platforms](https://github.com/google/googletest/blob/main/getting-started/setup-prerequisites-installation/system-requirements-supported-platforms.md)
- [Installation Using CMake](https://github.com/google/googletest/blob/main/getting-started/setup-prerequisites-installation/install-cmake.md)
- [Installation Using Bazel](https://github.com/google/googletest/blob/main/getting-started/setup-prerequisites-installation/install-bazel.md)
- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/api-reference/mocking-apis/mock-methods.md)
- [gMock Cheat Sheet](https://github.com/google/googletest/blob/main/docs/gmock_cheat_sheet.md)

---

For detailed walkthroughs on writing your first test, setting expectations, and creating mock classes, consult the [gMock for Dummies](https://github.com/google/googletest/blob/main/docs/gmock_for_dummies.md) and [Mocking Workflow](https://github.com/google/googletest/blob/main/guides/mocking-best-practices/mocking-workflow.md).

Remember, successful setup is the foundation of effective testing. Follow the troubleshooting guidance here to start harnessing the full power of GoogleTest and GoogleMock.
