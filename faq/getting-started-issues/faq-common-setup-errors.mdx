---
title: "Common Setup and Build Errors"
description: "Learn to resolve the most frequent issues encountered when installing or building GoogleTest and GoogleMock. This page provides solutions for linking problems, required compiler versions, missing headers, and essential configuration steps, helping new users quickly overcome roadblocks."
---

# Common Setup and Build Errors

Learn to resolve the most frequent issues encountered when installing or building GoogleTest and GoogleMock. This page provides solutions for linking problems, required compiler versions, missing headers, and essential configuration steps, helping new users quickly overcome roadblocks.

---

## Frequently Asked Questions

### 1. Why am I getting linking errors with GoogleTest or GoogleMock?

Linking errors usually happen when your build system does not correctly link against the GoogleTest (gtest) and GoogleMock (gmock) libraries.

**How to resolve:**

- Ensure you have built the GoogleTest and GoogleMock libraries successfully before linking.
- Link both `libgtest.a` and `libgmock.a` (or their shared equivalents) explicitly.
- If you use CMake, make sure to use `target_link_libraries` correctly to include these libraries.
- Verify that the library search path is set so the linker can find GoogleTest/GoogleMock binaries.

> For example, a typical compile and link command might look like:
>
> ```bash
> g++ -isystem /path/to/googletest/include -pthread -c my_test.cc
> g++ -pthread my_test.o /path/to/libgtest.a /path/to/libgmock.a -o my_test
> ```

### 2. Which compiler versions are supported by GoogleTest?

GoogleTest supports modern C++ compilers that can compile C++11 code or newer.

**Supported compilers include:**

- GCC (generally versions 4.8 and above)
- Clang
- Microsoft Visual Studio 2015 and later

**Tip:** Make sure your compiler is set to use at least C++11 mode (e.g., `-std=c++11` or higher).

### 3. What do I do if I get errors about missing headers like `gtest/gtest.h`?

This typically means that the compiler cannot find the GoogleTest include path.

**How to resolve:**

- Specify the include directory for GoogleTest headers when compiling your tests (e.g., `-I/path/to/googletest/include`).
- If using CMake, use `target_include_directories` or the `GoogleTest::gtest` target which automatically sets this.

### 4. How do I ensure GoogleTest and GoogleMock are correctly configured after installation?

Run the sample tests provided with GoogleTest to verify the installation.

**Typical workflow:**

1. Clone or download GoogleTest repository.
2. Build GoogleTest and GoogleMock using CMake or your preferred build system.
3. Build and run the example or your own tests linked against these libraries.

If sample tests fail, review compiler settings, include paths, linkage, and dependencies.

---

## Common Issues & Gotchas

### Build and Installation

- **Library Not Found:** Make sure you have run `cmake` and built GoogleTest.
- **Incorrect Link Order:** Order matters when linking; list GoogleTest and GoogleMock libraries after your test objects.
- **Multi-threading Flags:** GoogleTest requires threading support; compile and link with `-pthread` on POSIX platforms.

### Compiler Flags

- Always compile with a compatible C++ standard (C++11 or higher).
- On MSVC, ensure that runtime libraries between your build and GoogleTest are compatible.

### Using GoogleMock

- GoogleMock depends on GoogleTest; link against both.
- Include `gmock/gmock.h` in your test source files when using GoogleMock features.

### Macro Conflicts

- Some platforms or third-party code may define macros named `ASSERT_*` or `EXPECT_*`. Make sure these don't conflict.

---

## Troubleshooting Procedures

If you encounter issues:

1. Verify your compiler and linker flags for include paths and library paths.
2. Confirm that GoogleTest/GoogleMock libraries were successfully compiled.
3. Check the runtime environment for correct versions of dependencies like pthread.
4. Enable verbose compiler and linker output to diagnose missing symbols or includes.
5. Consult the sample tests included in GoogleTest for correct compilation steps.

---

## Tips and Best Practices

- Use CMake integration if possible; GoogleTest provides CMake targets that handle includes and linking automatically.
- Keep the GoogleTest version up to date to benefit from fixes and improvements.
- When writing test code, include `gtest/gtest.h` and, optionally, `gmock/gmock.h`.
- For custom setups, always specify include directories and link libraries explicitly.
- Pay attention to ordering of includes and link flags to avoid common build issues.

---

## Examples

**Using CMake:**

```cmake
find_package(GTest REQUIRED)

add_executable(my_tests my_tests.cc)
target_link_libraries(my_tests GTest::gtest GTest::gtest_main pthread)
```

**Manual compile and link:**

```bash
g++ -std=c++11 -isystem /path/to/googletest/include -pthread -c my_tests.cpp

g++ -pthread my_tests.o /path/to/libgtest.a /path/to/libgtest_main.a -o my_tests

./my_tests
```

---

## Getting Help & Support

- Visit the [GoogleTest GitHub repository](https://github.com/google/googletest) for issues and discussion.
- Review the Troubleshooting and FAQ sections in the official documentation.
- Engage with the community forums or mailing lists as listed in the GoogleTest README.

---

For comprehensive guidance on writing tests and more advanced topics, see the [Testing Reference](../reference/testing.md) and [Assertions Reference](../reference/assertions.md).
