---
title: "Installation & Setup FAQ"
description: "Answers to the most common setup and installation questions, including supported platforms, required dependencies (such as C++17), and project configuration basics. Helps users establish a working environment efficiently."
---

# Installation & Setup FAQ

This FAQ page addresses the most common questions and concerns users have when installing and setting up GoogleTest and GoogleMock. It covers supported platforms, essential dependencies, project configuration basics, and tips to establish a working development environment efficiently.

---

## 1. Supported Platforms and Environments

### What platforms does GoogleTest officially support?
GoogleTest supports major operating systems including Linux, Windows, and Mac OS X. It also runs on many Unix-like platforms. For embedded systems or other environments, compatibility depends on support for the required C++17 features.

### What C++ standard is required to build GoogleTest?
GoogleTest requires a C++17 compatible compiler. Make sure your development environment supports C++17 standard features to avoid build issues.

### Which compilers are supported?
GoogleTest works with common compilers such as gcc, clang, and Microsoft Visual C++. Ensure you use a recent compiler version that fully supports C++17.

### Are there any special threading or regex dependencies?
GoogleTest uses the pthread library on POSIX systems to provide thread safety. If your environment lacks pthreads, you can disable it via macro flags but at the cost of thread safety. Regex dependencies are handled internally but may require linking against appropriate libraries on some platforms.

---

## 2. Installation and Build Setup

### How do I build GoogleTest using CMake?

1. Clone the GoogleTest repository:

```bash
  git clone https://github.com/google/googletest.git -b v1.17.0
  cd googletest
``` 

2. Create a build directory and generate the build files:

```bash
  mkdir build
  cd build
  cmake ..  # Generates build files including GoogleMock by default
```

3. To build only GoogleTest (without GoogleMock), use:

```bash
  cmake .. -DBUILD_GMOCK=OFF
```

4. Build the project:

```bash
  make
```

5. Optionally install it (requires admin privileges):

```bash
  sudo make install
```

### How do I integrate GoogleTest into my existing CMake project?

You can either link to an installed GoogleTest library or include its source using CMake's `add_subdirectory()`:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)  # For Windows
FetchContent_MakeAvailable(googletest)

add_executable(my_tests test.cpp)
target_link_libraries(my_tests gtest_main)
add_test(NAME MyTests COMMAND my_tests)
```

Make sure your CMake version is 3.14 or higher to use `FetchContent_MakeAvailable`.

### What should I do if I encounter linking errors on Windows related to runtimes?

Use the `gtest_force_shared_crt` CMake option when including GoogleTest to align linkage of C runtime libraries dynamically, matching Visual Studio defaults:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

---

## 3. Common Configuration Questions

### How do I ensure my tests build with C++17 enabled?

Add the following lines to your `CMakeLists.txt`:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

If your project mixes C and C++, you may need additional flags set for C++ compilation.

### Can I control GoogleTest macros to avoid conflicts with other libraries?

Yes, to prevent clashes of macros like `TEST` or `ASSERT_EQ`, define the corresponding macros as:

```bash
-DGTEST_DONT_DEFINE_TEST=1
```

This will rename `TEST` to `GTEST_TEST` and similarly for other macros.

### How do I build GoogleTest as a shared library?

Add the compilation flag:

```bash
-DGTEST_CREATE_SHARED_LIBRARY=1
```

to the compiler, and ensure you link your tests against the shared library by defining:

```bash
-DGTEST_LINKED_AS_SHARED_LIBRARY=1
```

in your test build flags.

---

## 4. Running and Validating Your Setup

### How can I confirm my GoogleTest installation works?

Write and run a simple test like this:

```cpp
#include <gtest/gtest.h>

TEST(SanityCheck, TestTrue) {
  EXPECT_TRUE(true);
}

int main(int argc, char **argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile and run it. If the test passes and no errors occur, your setup is working.

### What command-line flags control GoogleTest behavior?

Pass flags to your test binary such as:

- `--gtest_filter=TestSuite.*` to run specific tests.
- `--gtest_output=xml:report.xml` to generate XML reports.

For GoogleMock-specific flags, use `--gmock_verbose=info/warning/error` to adjust message verbosity.

---

## 5. Troubleshooting Common Installation Issues

<AccordionGroup title="Installation & Setup Common Issues">
<Accordion title="Missing C++17 Support">
If your compiler doesn't support C++17, GoogleTest will fail to build. Upgrade your compiler or ensure you have the correct compiler flags set.
</Accordion>
<Accordion title="Linker Errors on Windows">
Ensure the C runtime linkage matches between your project and GoogleTest by setting `gtest_force_shared_crt` in CMake.
</Accordion>
<Accordion title="Threading Errors or Missing Pthread">
GoogleTest requires pthreads for thread safety on POSIX systems. Install pthread development packages or disable pthread support by defining `-DGTEST_HAS_PTHREAD=0`.
</Accordion>
<Accordion title="Macro Conflicts with Other Libraries">
Use macro renaming flags such as `-DGTEST_DONT_DEFINE_TEST=1` to prevent conflicts.
</Accordion>
<Accordion title="Build System Integration Failures">
Refer to your build systemâ€™s documentation to properly include and link GoogleTest source or libraries. Using CMake's `add_subdirectory()` or `FetchContent` is the most straightforward approach.
</Accordion>
</AccordionGroup>

---

## 6. Best Practices for Setup

- **Keep your GoogleTest version updated** to benefit from bug fixes and new features.
- **Use CMake integration when possible** to minimize manual build errors.
- **Set environment variables and compiler flags consistently** across your team.
- **Enable verbose output during initial setup** with `--gmock_verbose=info` to help catch issues early.

---

## 7. Additional Resources

- [GoogleTest Supported Platforms and Dependencies](https://google.github.io/googletest/overview/integration-adoption/supported-platforms.html)
- [GoogleTest Quickstart Guide](https://google.github.io/googletest/overview/integration-adoption/quickstart.html)
- [GoogleMock Reference Documentation](https://google.github.io/googletest/reference/mocking.html)
- [Troubleshooting Setup & Installation Guide](https://google.github.io/googletest/getting-started/environment-setup/troubleshooting-setup.html)

These resources complement this FAQ and provide step-by-step tutorials and troubleshooting tips to accelerate your GoogleTest adoption.

---

If you encounter specific errors or have questions not covered here, consult the [Getting Help & Support Channels](https://google.github.io/googletest/faq/community-support/support-channels.html) page or visit community forums for real-time assistance.

---

*By following this FAQ and leveraging the related documentation, you will establish a robust and maintainable testing environment with GoogleTest and GoogleMock.*
