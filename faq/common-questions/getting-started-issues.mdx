---
title: "Getting Started & Setup Issues"
description: "Addresses typical setup, installation, and compatibility questions, including minimum C++ version requirements, supported platforms, and initial project configuration hurdles. Users learn how to resolve environment and integration errors at the outset."
---

# Getting Started & Setup Issues

This page addresses common questions and challenges that users face during the initial setup, installation, and configuration of GoogleTest and GoogleMock. It includes guidance on compiler and platform requirements, compatibility issues, dependency conflicts, and troubleshooting tips to help users smoothly integrate GoogleTest into their development environment.

---

## 1. What are the minimum compiler and C++ version requirements to build GoogleTest?

GoogleTest requires an environment that supports **C++17** to build and run successfully. This requirement ensures compatibility with modern language features used internally.

**How to ensure your build supports C++17:**

- If you use **CMake**, specify in your `CMakeLists.txt`:

  ```cmake
  set(CMAKE_CXX_STANDARD 17)
  set(CMAKE_CXX_STANDARD_REQUIRED ON)
  ```

- For projects without CMake, add appropriate flags, e.g., `-std=c++17` for GCC/Clang, or equivalent for MSVC.

Failure to meet this requirement will lead to build errors. Consult your compiler's documentation for enabling C++17 support.

---

## 2. Which platforms and compilers are supported by GoogleTest?

GoogleTest is designed to be highly portable and supports:

- **Operating systems:** Linux, Windows (including Windows Mobile), Mac OS X, and various embedded platforms (e.g., ESP8266, ESP32).
- **Compilers:** GCC, Clang, MSVC, and others that support at least C++17.

Platform-specific configurations and build files are provided by GoogleTest (e.g., CMakeLists.txt supports cross-platform builds).

---

## 3. How do I properly integrate GoogleTest with my build system?

### Using CMake

GoogleTest provides a **CMake build script** that can be used to compile it as a standalone project or integrated into your existing CMake project.

- To build standalone:

  ```bash
  git clone https://github.com/google/googletest.git -b v1.17.0
  cd googletest
  mkdir build
  cd build
  cmake ..             # includes GoogleMock by default
  # or to build only GoogleTest
  cmake .. -DBUILD_GMOCK=OFF
  make
  sudo make install
  ```

- To incorporate GoogleTest source into your project, use `add_subdirectory()` or `FetchContent` in CMake, e.g.: 

  ```cmake
  include(FetchContent)
  FetchContent_Declare(
    googletest
    URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
  )
  set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)  # for Windows
  FetchContent_MakeAvailable(googletest)

  add_executable(example example.cpp)
  target_link_libraries(example gtest_main)
  add_test(NAME example_test COMMAND example)
  ```

### Visual Studio and Xcode

- On Windows with Visual Studio, CMake generates `gtest.sln` and `.vcproj` files.
- On Mac OS X, a `.xcodeproj` file is generated.

Open these files with your IDE to build GoogleTest.

---

## 4. What common setup and build errors should I watch for?

### 4.1 Runtime Library Mismatch on Windows

If you're building GoogleTest with Visual Studio, a runtime mismatch between your project and GoogleTest libraries can cause errors like:

```text
error LNK2038: mismatch detected for 'RuntimeLibrary'
```

**Solution:** Use the CMake flag `gtest_force_shared_crt` to align GoogleTest's C runtime linkage to your project’s setting:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

This ensures runtime compatibility.

### 4.2 Missing pthread Library On *nix (Linux, Mac)

GoogleTest depends on `pthread` on POSIX systems for thread-safe tests.

- Use the CMake build script, which automatically handles linking `pthread`.
- With a custom build system, link `-lpthread` explicitly.
- If detection of pthread fails, you can force support by adding compiler flags:

  ```bash
  -DGTEST_HAS_PTHREAD=1
  ```

Failing this, tests involving threads may fail to compile or link.

### 4.3 Multiple Definitions Errors

These errors often occur due to:

- Including files from GoogleTest improperly.
- Linking against both static and dynamic GoogleTest libraries in the same binary.

**Avoid:**

- Double inclusion of GoogleTest source files.
- Mixing versions of GoogleTest built with different compiler settings.

### 4.4 Linker Cannot Find GoogleTest Symbols

- Verify your linker paths.
- Ensure GoogleTest is properly installed or built and linked.
- Add `-lgtest` and `-lgtest_main` as needed.

---

## 5. How do I choose between using standalone GoogleTest and integrating it in my project?

- **Standalone Build** is simplest when you use GoogleTest alone.
- **Integration via add_subdirectory() or FetchContent** is preferred when your project is CMake-based and you want consistent compiler/linker flags and easier maintenance.

Advantages of integration include:

- Shared compiler/linker settings (debug/release consistency).
- Automatic dependency management.
- Easier updates and continuous integration.

---

## 6. How do I reconcile GoogleTest with different C++ standard requirements in my project?

If your project doesn't fully support C++17 or only partially supports it, you might face build errors. GoogleTest strictly requires C++17 or later.

**Recommendations:**

- Consider compiling GoogleTest separately with C++17.
- Use a C++17-capable compiler or upgrade your toolchain.
- If integrating GoogleTest source, ensure the top-level build enables C++17.

---

## 7. What should I know about GoogleMock during setup?

GoogleMock comes bundled with GoogleTest and is included by default when building with CMake.

- You can disable it with `-DBUILD_GMOCK=OFF` if you only want GoogleTest.
- GoogleMock requires the same build environment and C++ standard as GoogleTest.
- Careful synchronization with GoogleTest's runtime libraries avoids conflicts and build issues.

---

## 8. Troubleshooting Environment and Integration Issues

### 8.1 Common Troubleshooting Steps

1. **Confirm compiler version and C++ standard support.** Use `g++ --version` or equivalent.
2. **Check your build flags** to ensure C++17 is enabled.
3. **Clean cached builds and artifacts** before rebuilding.
4. **Use provided CMake scripts** wherever possible rather than manual makefiles.
5. **Verify linking order and library paths.**
6. **On Windows**, confirm runtime libraries are consistent between your project and GoogleTest.

### 8.2 Helpful Diagnostic Practices

- Build GoogleTest in isolation first to confirm your environment works.
- Run `make VERBOSE=1` or equivalent to see full compiler and linker commands.
- Enable verbose test output with GoogleTest flags if tests build and run but fail mysteriously.

---

## 9. Additional Configuration Tips

- Make sure to invoke `testing::InitGoogleTest(&argc, argv);` in your `main()` before running tests.
- If writing your own `main()`, return the result of `RUN_ALL_TESTS()` to get proper status.
- Alternatively, link with GoogleTest’s `gtest_main` library, which provides a suitable default `main()`.
- For GoogleMock-based projects, use `testing::InitGoogleMock()` instead.

---

## 10. Links to Additional Resources

- [System Requirements & Supported Platforms](https://github.com/google/googletest/blob/main/docs/getting-started/prerequisites-and-installation/system-requirements.md)
- [Installation Methods (CMake, Bazel, Manual)](https://github.com/google/googletest/blob/main/docs/getting-started/prerequisites-and-installation/installation-methods.md)
- [Troubleshooting Installation & Build Problems](https://github.com/google/googletest/blob/main/docs/getting-started/support-and-troubleshooting/troubleshooting-setup.md)
- [GoogleMock README](https://github.com/google/googletest/blob/main/googlemock/README.md)

---

<Tip>
Before starting, ensure your environment supports C++17 and you use the official CMake scripts to avoid build issues. When troubleshooting, consult verbose build logs and verify runtime linkage consistency.
</Tip>

<Note>
Windows users must pay special attention to matching the C runtime libraries between their project and GoogleTest, using `gtest_force_shared_crt` as needed.
</Note>

<Warning>
Do not mix GoogleTest built with different compiler or standard settings with your project, as this causes undefined behavior or build errors.
</Warning>

---

## Example: Minimal CMakeLists.txt to Build Tests with GoogleTest

```cmake
cmake_minimum_required(VERSION 3.14)
project(MyTests CXX)

include(FetchContent)

FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)  # For Windows runtime compatibility
FetchContent_MakeAvailable(googletest)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

add_executable(my_test test.cpp)
target_link_libraries(my_test PRIVATE gtest_main)
add_test(NAME my_test COMMAND my_test)
```

This builds your `test.cpp` with GoogleTest linked and ready to run.

---

## Summary
This page guides users through typical setup and integration issues for GoogleTest, helping ensure compatibility and successful installation. It covers environment requirements, build integration with CMake and other tools, resolves common errors, and provides practical tips for initializing and running tests.


---

# Navigation
For further reading and related topics, see:

- [System Requirements & Supported Platforms](getting-started/prerequisites-and-installation/system-requirements.md)
- [Installation Methods](getting-started/prerequisites-and-installation/installation-methods.md)
- [Troubleshooting Setup Issues](getting-started/support-and-troubleshooting/troubleshooting-setup.md)
- [GoogleMock Framework Overview](googlemock/README.md)
- [Configuring Your Project for GoogleTest](getting-started/configuration-and-first-run/project-setup.md)


---

<Info>
Proper environment setup and project configuration ensures that you can harness the full power of GoogleTest and GoogleMock for your C++ testing needs.
</Info>
