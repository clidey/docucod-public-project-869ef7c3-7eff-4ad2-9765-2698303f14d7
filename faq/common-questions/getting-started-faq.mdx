---
title: "Getting Started: Frequently Asked Questions"
description: "Answers to the most common questions about installing, configuring, and compiling GoogleTest and GoogleMock. Covers supported platforms, C++ standard requirements, and quickstart clarifications to help you begin testing with confidence."
---

# Getting Started: Frequently Asked Questions

This FAQ section addresses common questions new users have about installing, configuring, and compiling GoogleTest and GoogleMock. It will help you overcome initial hurdles and clarify essential requirements so you can begin testing with confidence.

---

## 1. What platforms are supported by GoogleTest and GoogleMock?

GoogleTest and GoogleMock support major desktop and server operating systems including Linux, macOS, and Windows. They also support many popular compilers such as GCC, Clang, and MSVC. Embedded platforms that have basic C++11 support can also be targeted with some configuration.

For detailed platform-specific instructions, refer to the [Installation: Platform-Specific Instructions](https://google.github.io/googletest/getting-started/overview-setup/installation-platforms) guide.

---

## 2. What are the prerequisite compiler and language standards requirements?

GoogleTest and GoogleMock require a C++ compiler that supports C++11 or newer. This includes support for features like smart pointers, lambdas, and `constexpr`.

To avoid build errors:

- Ensure your compiler version supports C++11 or above.
- Configure your build system to use the standard flag (e.g., `-std=c++11` for GCC and Clang, `/std:c++14` or newer for MSVC).

See the [Basic Configuration & Project Setup](https://google.github.io/googletest/getting-started/overview-setup/basic-configuration) for compiler flags and setup details.

---

## 3. How do I write and use mock classes with GoogleMock?

GoogleMock allows you to define mock classes through the `MOCK_METHOD` macro inside a class derived from an interface or base class. This macro creates mock implementations of virtual methods so you can specify expected calls and behaviors.

A simple workflow is:

1. Define your mock class with `MOCK_METHOD` in the public section.
2. Create mock object instances in tests.
3. Set expectations on mock methods using `EXPECT_CALL`.
4. Invoke your code under test passing mocks.
5. GoogleMock verifies expectations automatically when mocks are destroyed.

A full tutorial on writing mocks is in [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) and the [Mocking Reference](https://google.github.io/googletest/reference/mocking.html).

---

## 4. What is the difference between `EXPECT_CALL` and `ON_CALL`?

- `EXPECT_CALL` sets both **an expectation** and **a behavior** on a mock method. It means you expect the mock method to be called with specified arguments, possibly controlling how many times and in what order.

- `ON_CALL` sets only **default behavior** for calls that match the argument matchers but does *not* set an expectation that such calls must happen.

Use `ON_CALL` for common default behaviors shared across tests and `EXPECT_CALL` to specify what calls you want to verify in each test.

---

## 5. Why am I getting warnings like "Uninteresting mock function call"?

This warning happens when a mock method is called but has no matching `EXPECT_CALL` set. It indicates that the test does not intend to verify calls to this method, but it was called anyway.

To suppress this:

- Use `NiceMock<YourMockClass>` which disables these warnings.
- Or, add a catch-all `EXPECT_CALL` such as `EXPECT_CALL(mock, Method(_)).Times(AnyNumber())` to explicitly allow calls.

Avoid blindly suppressing them without understanding, as they may reveal missing expectations.

---

## 6. How do I specify how many times a mock method is expected to be called?

Use the `.Times()` clause with `EXPECT_CALL` to specify call count constraints, called cardinalities:

| Cardinality         | Description                             |
|---------------------|---------------------------------------|
| `AnyNumber()`       | The method can be called any number.  |
| `AtLeast(n)`        | Method expected at least *n* times.   |
| `AtMost(n)`         | Method expected at most *n* times.    |
| `Between(m, n)`     | Called between *m* and *n* times.     |
| `Exactly(n)` or `n` | Exactly *n* calls expected.            |

If omitted, GoogleMock infers cardinality from the number of `.WillOnce()` or `.WillRepeatedly()` clauses.

---

## 7. How can I specify the expected order of mock function calls?

By default, mock function calls can occur in any order. To enforce call order:

- Use the `InSequence` helper class to put multiple expectations into a strict sequence.
- Use `.InSequence()` clause on `EXPECT_CALL` with one or more `Sequence` objects to define partial orders.
- Use the `.After()` clause on expectations to require calls to occur after other specified expectations.

These tools let you express strict or partial ordering constraints on calls.

---

## 8. What should I do if I want to verify that a function is NEVER called?

Explicitly forbid calls by setting `Times(0)`:

```cpp
EXPECT_CALL(mock, Method(_)).Times(0);
```

This tells GoogleMock to fail the test immediately if `Method` is invoked with any arguments.

---

## 9. How can I deal with overloaded mock methods?

If the method you mock is overloaded, GoogleMock generates distinct mock methods for each overload. To clearly specify which overload you expect, you can:

- Use the fully qualified signature in `MOCK_METHOD`, including `const` and qualifiers.
- Use the `Const()` helper to disambiguate a const overload in `EXPECT_CALL`.

Example:

```cpp
EXPECT_CALL(Const(mock), Overloaded(5));  // Calls const overload
EXPECT_CALL(mock, Overloaded(5));         // Calls non-const overload
```

Refer to the [Mocking Reference](https://google.github.io/googletest/reference/mocking.html#MockingOverloadedMethods) for more detail.

---

## 10. How do I inspect detailed mock call traces for debugging failed tests?

Use the runtime flag `--gmock_verbose=info` to enable verbose output that logs all `EXPECT_CALL` and mock function calls,
including stack traces and match results. This helps pinpoint mismatches and order problems.

You can combine it with `--gtest_stack_trace_depth=0` to reduce stack trace verbosity if desired.

---

## 11. How can I force verification of all expectations before mock destruction?

Call `Mock::VerifyAndClearExpectations(&mock_object)` explicitly when needed to verify expectations and clear them before the mock is destroyed.

This is helpful when mocks are allocated dynamically and owned by production code that might fail to delete them, preventing automatic verification.

---

## 12. Are there any settings to control warnings on uninteresting or unexpected calls?

Yes, use the `--gmock_verbose=LEVEL` flag, where `LEVEL` can be:

- `info`: Most verbose; logs all calls, warnings, failures, and stack traces.
- `warning`: Default; logs warnings and failures without stack traces on uninteresting calls.
- `error`: Logs only errors; warning messages are suppressed.

Example usage:

```sh
test_binary --gmock_verbose=error
```

You can also set verbosity programmatically using:

```cpp
::testing::FLAGS_gmock_verbose = "error";
```

---

## Tips and Best Practices

- Always set expectations (`EXPECT_CALL`) before exercising your mocks to ensure consistent behavior.
- Prefer `ON_CALL` to define default mock behaviors to reduce test brittleness.
- Use `NiceMock` when you want to suppress uninteresting call warnings.
- Use `StrictMock` to treat uninteresting calls as test failures.
- Use test fixtures or mock constructors to set common expectations shared across tests.

---

## Related Documentation

- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html) — comprehensive macro and API details.
- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) — beginner tutorial.
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) — practical recipes and patterns.
- [Basic Configuration & Project Setup](https://google.github.io/googletest/getting-started/overview-setup/basic-configuration) — compiler and build setup.
- [Installation: Platform-Specific Instructions](https://google.github.io/googletest/getting-started/overview-setup/installation-platforms) — platform guides.

For advanced usage, see [Custom Actions and Matchers Guide](https://google.github.io/googletest/gmock_cook_book.html#working-with-actions-matchers).

---

## Troubleshooting

### I get linking errors when compiling tests that use mocks
- Ensure you link against `gmock_main` or provide your own main() that calls `InitGoogleMock`.
- Verify your build system includes directories and libraries correctly.

### My expectations are not matching despite correct calls
- Run tests with `--gmock_verbose=info` to see detailed matching logs.
- Check argument matchers carefully and consider `_` matcher for unimportant arguments.

### Compiler errors around `MOCK_METHOD`
- Make sure to wrap parameter types containing commas in parentheses or use type aliases, e.g., `MOCK_METHOD((std::pair<int,int>), Foo, ());`

### I see "Uninteresting mock function call" warnings unexpectedly
- Confirm if you intended to call the mock method without an expectation.
- Use `NiceMock` if warnings are unwanted for uninteresting calls.

---

This FAQ equips you with answers to common setup and usage questions to start effective testing with GoogleTest and GoogleMock.

For a deeper dive, explore the guides and API references linked above.