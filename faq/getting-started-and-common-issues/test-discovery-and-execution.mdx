---
title: "Test Discovery and Running Tests"
description: "Answers to frequently asked questions about discovering and executing tests, customizing test runs, and handling scenarios where tests are not found, skipped, or fail to execute as expected."
---

# Test Discovery and Running Tests

This page answers frequently asked questions about discovering and executing tests in GoogleTest, customizing test runs, and handling scenarios where tests are not found, skipped, or fail to execute as expected.

---

## How does GoogleTest discover tests?

GoogleTest automatically discovers all tests defined using the `TEST()` and `TEST_F()` macros at program startup. It registers each test during static initialization, eliminating the need for manual test enumeration or registration.

**User Intent:** You want to know how to add new tests and have them run automatically without extra configuration.

**Key points:**
- Use the `TEST()` or `TEST_F()` macros to define tests.
- Tests are discovered via static initializationâ€”no manual intervention needed.


## How do I run specific tests or groups of tests?

GoogleTest allows you to run a subset of tests by specifying filters through the command line flag `--gtest_filter=`. 

**Examples:**
- Run all tests in the `MyTestSuite` suite:
  ```
  ./my_test_executable --gtest_filter=MyTestSuite.*
  ```
- Run a single test named `TestName` in `MyTestSuite`:
  ```
  ./my_test_executable --gtest_filter=MyTestSuite.TestName
  ```
- Use wildcards and exclusions, e.g., run all but some tests:
  ```
  ./my_test_executable --gtest_filter=-MyTestSuite.FlakyTest
  ```

**User Intent:** You want to quickly run only relevant tests during development or debugging.


## Why are some tests not executed or reported as skipped?

Tests may be skipped or not run due to:
- Explicit disabling via the `DISABLED_` prefix in the test suite or test name.
- Test predicates or conditions programmed with `GTEST_SKIP()`.
- Filtering that excludes certain tests via `--gtest_filter`.
- Environment setup failures that prevent tests from running.

If a test is disabled (prefixed with `DISABLED_`), GoogleTest will omit it from runs by default.

**Best Practice:** Use disabling sparingly and document the reason for disabling.


## How can I customize the behavior of test execution?

GoogleTest provides several command-line flags and environment variables to customize test execution, such as:

- `--gtest_filter=` to select tests.
- `--gtest_repeat=` to run tests multiple times.
- `--gtest_shuffle` to randomize test ordering.
- `--gtest_break_on_failure` to trigger a debugger break on assertion failures.

These allow comprehensive control over the run conditions, aiding reliability and debugging.


## What happens when no tests are found or matched by the filter?

If the filter does not match any test, GoogleTest will report that no tests were run and exit with a failure status.

This ensures users are aware when a filter is too restrictive or tests were not properly registered.


## How do I run tests that require environment or command-line setup?

Ensure you call `testing::InitGoogleTest(&argc, argv);` early in your `main()` before `RUN_ALL_TESTS()`.

`InitGoogleTest()` parses and removes any recognized GoogleTest flags from the command line, enabling proper test configuration.

Failing to do this may lead to tests not being discovered or run correctly.


## What if tests fail to run or crash unexpectedly?

- Investigate the cause using GoogleTest's failure messages and verbose flags.
- Use debugging tools and ensure that tests initialize all dependencies properly.
- Check that test code does not have side effects that prevent clean teardown.


## Can I write my own main() function?

Yes. While GoogleTest provides a default main function with the `gtest_main` library, you can define your own `main()` if you need custom setup or teardown logic.

Ensure your `main()`:

1. Calls `testing::InitGoogleTest(&argc, argv);`
2. Calls and returns `RUN_ALL_TESTS();`

Example:

```cpp
int main(int argc, char** argv) {
  testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```


## How are tests isolated from each other?

GoogleTest runs each test case (or fixture) independently:
- Each test gets a fresh fixture or environment.
- Tests cannot affect each other, ensuring repeatability and reliability.


## How to interpret the test results?

GoogleTest prints a summary after test execution showing:
- Number of tests run
- Number of failures
- Details for each failed test with file, line number, and failure messages

Exit code 0 means all tests passed, non-zero means failures occurred.


---

## Troubleshooting Common Issues Related to Test Discovery and Execution

### Test Not Found

**Problem**: Executing your test binary reports `No tests found` or zero tests run.

**Solution:**
- Verify that you have properly declared tests using `TEST()` or `TEST_F()`.
- Ensure `InitGoogleTest()` is called before `RUN_ALL_TESTS()`.
- Check command line filters - `--gtest_filter` may exclude all tests.
- Confirm that your test binary includes the translation unit defining the tests.


### Tests Seem to be Skipped

**Problem:** Disabled or skipped tests are not run.

**Solution:**
- Disabled tests begin with `DISABLED_`; remove this prefix to enable.
- Use `--gtest_also_run_disabled_tests` flag to run disabled tests explicitly.
- If using `GTEST_SKIP()`, understand it will mark the test as skipped intentionally.


### Test Crashes or Hangs

**Problem:** Tests crash or hang and do not complete.

**Solution:**
- Run tests with `--gtest_break_on_failure` to attach debugger on failure.
- Add verbose logging or run subsets to isolate problematic tests.
- Ensure proper test setup, resource allocation, and teardown.


---

## Practical Tips and Best Practices

- Always call `testing::InitGoogleTest()` early in main.
- Use test naming conventions consistently.
- Use `--gtest_filter` for focused test execution.
- Employ disabling sparingly and document reasons.
- Use `TEST_F()` fixtures to share common setup/teardown code.
- Review test logs carefully to understand failures and skipped tests.


---

## See Also

- [GoogleTest Primer](primer.md): Learn to write and run tests.
- [Mocking for Dummies](gmock_for_dummies.md): How to write mock-based tests.
- [gMock FAQ](docs/gmock_faq.md): Frequently asked questions on mocking.
- [EXPECT_CALL and ON_CALL Reference](api-reference/core-mocking-apis/call-expectations.md): Mock expectation mechanisms.
- [Test Entry Points and Initialization](api-reference/infrastructure-and-integration/test-entrypoint.md): Details on `InitGoogleTest` and main.

---

This concludes the frequently asked questions on test discovery and running tests.