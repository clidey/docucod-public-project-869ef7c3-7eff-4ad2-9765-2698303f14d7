---
title: "What is GoogleTest and how does it relate to GoogleMock?"
description: "Clarifies GoogleTest's purpose as a C++ unit test framework, its xUnit heritage, and how GoogleMock is now fully integrated for mocking capabilities. Provides users with a foundational understanding of when and why to use each tool, and highlights their joint maintenance."
---

# What is GoogleTest and how does it relate to GoogleMock?

GoogleTest is a powerful C++ unit testing framework built on the widely adopted xUnit architecture, designed to help developers write robust, portable, and maintainable tests. It automates test discovery, execution, and reporting, enabling organizations to produce high-quality software with confidence. GoogleMock, on the other hand, is Google's framework for creating mock objects and is now fully integrated within GoogleTest to extend its capabilities to mocking dependencies within tests.

This article clarifies the purpose of GoogleTest, its heritage, and the relationship with GoogleMock, providing clear guidance on when and why to use each tool. It also highlights their joint maintenance and integration for a seamless user experience.

---

## Frequently Asked Questions

### What is GoogleTest?
GoogleTest is an open-source C++ testing framework that allows you to write and run unit tests efficiently. It provides macros such as `TEST()` and `TEST_F()` for defining tests and test fixtures, supports assertions to verify behavior, and organizes tests into suites to manage complexity and improve maintainability.

### How is GoogleTest related to xUnit?
GoogleTest inherits the design principles of xUnit, a family of unit testing frameworks originating from Smalltalk's SUnit. This means it structures tests into suites and cases, supports setup and teardown phases, and provides a clear reporting format. If you have used JUnit or PyUnit, GoogleTest will feel familiar.

### What is GoogleMock?
GoogleMock (gMock) is a mocking framework designed for C++ that helps you create mock classes for testing interactions between components. It offers a rich syntax for defining expected calls, behaviors, and outcomes of dependencies your code interacts with.

### How are GoogleTest and GoogleMock integrated?
GoogleMock is fully integrated into GoogleTest and maintained together. This means when you install or update GoogleTest, you get GoogleMock as well, sharing the same build, initialization routines, and test running infrastructure. You can use them together seamlessly to write tests that both verify code correctness and mock complex dependencies.

### When should I use GoogleTest versus GoogleMock?
Use GoogleTest whenever you want to write and run C++ unit tests to verify your code's functionality. Use GoogleMock **in addition** when you need to simulate or control dependencies your code interacts with, such as interfaces or external services. GoogleMock extends GoogleTest’s capabilities to interaction-based testing.

### Is GoogleMock a separate project?
No, GoogleMock used to be a separate library but is now fully part of the GoogleTest repository and build process. They share the same lifecycle and releases.

### How do I initialize GoogleTest and GoogleMock in my tests?
You initialize GoogleTest with `testing::InitGoogleTest(&argc, argv);` and GoogleMock with `testing::InitGoogleMock(&argc, argv);` (which internally initializes GoogleTest). Calling either of these before `RUN_ALL_TESTS()` sets up the framework and processes its command-line flags.

### Can I use GoogleTest without GoogleMock?
Yes. If you only need to write standard unit tests without mocking dependencies, you can use GoogleTest standalone. GoogleMock is optional and included in the same package for convenience.

### Do GoogleTest and GoogleMock share the same output and reporting?
Yes. Since GoogleMock builds on top of GoogleTest, they share test reporting, output format (including XML reports), flag handling, and event listeners, providing a consistent testing experience.

### How do I write tests using GoogleTest and GoogleMock?
1. Write ordinary tests using GoogleTest macros like `TEST()` or `TEST_F()`.
2. Define mock classes using GoogleMock’s `MOCK_METHOD()` macro.
3. Use `EXPECT_CALL()` in your tests to specify expected calls on mocks.
4. Run tests with `RUN_ALL_TESTS()`.

Examples and detailed recipes are provided in the GoogleTest Primer and GoogleMock for Dummies.

### How are GoogleTest and GoogleMock maintained?
Both are maintained by the same Google team and share a common code repository (https://github.com/google/googletest). This ensures tight integration, consistent APIs, and synchronized releases.

---

## User Workflow: Getting Started with GoogleTest and GoogleMock

1. **Install GoogleTest**, which includes GoogleMock by default.
2. **Initialize the framework** in your `main()` function, using either GoogleTest or GoogleMock initialization.

   ```cpp
   int main(int argc, char** argv) {
     testing::InitGoogleMock(&argc, argv);  // Initializes both GoogleMock and GoogleTest.
     return RUN_ALL_TESTS();
   }
   ```

3. **Write tests using GoogleTest:**
   - Define test cases with `TEST()` or test fixtures with `TEST_F()`.
   - Use assertions like `EXPECT_EQ` and `ASSERT_TRUE` to validate code behavior.

4. **Define mocks with GoogleMock:**
   - Create mock classes by subclassing interfaces/classes.
   - Use `MOCK_METHOD()` to specify mock methods.
   - Setup expectations (`EXPECT_CALL`) and actions.

5. **Run tests:**
   - Use `RUN_ALL_TESTS()` to execute all registered tests.
   - View detailed output on test successes and failures.

6. **Iterate and extend:**
   - Add parameterized tests, typed tests, and advanced mocking patterns as needed.

---

## Best Practices

- Use GoogleTest for writing isolated, focused unit tests.
- Use GoogleMock to replace complex or external dependencies with mocks during testing.
- Prefer `EXPECT_` assertions for non-fatal checks and `ASSERT_` for early aborts.
- Keep test suites organized logically with fixtures.
- Use the GoogleTest Primer to build foundational test writing skills.
- Leverage GoogleMock resources (e.g., gMock for Dummies, Cookbook) to master mocking techniques.

---

## Common Pitfalls

- Confusing GoogleTest and GoogleMock as separate projects; GoogleMock is now part of GoogleTest.
- Forgetting to initialize GoogleMock properly — always call `InitGoogleMock` (or `InitGoogleTest`) before `RUN_ALL_TESTS()`.
- Misunderstanding when to mock — mock dependencies only when necessary to isolate tests.
- Assuming GoogleTest provides mocking capabilities before GoogleMock integration.

---

## Additional Resources

- [GoogleTest Primer](../getting-started/first-test-and-validation/quickstart-primer) — Learn the basics of GoogleTest.
- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) — Understand mocking fundamentals.
- [GoogleMock Cheat Sheet](https://google.github.io/googletest/gmock_cheat_sheet.html) — Quick reference for matchers and actions.
- [GoogleTest API Reference](../api-reference/core-testing-apis/writing-and-running-tests) — Full documentation on test APIs.
- [GoogleMock GitHub Repository](https://github.com/google/googletest) — Source and releases.

---

## Summary

GoogleTest is a C++ testing framework based on the xUnit architecture, designed for writing flexible, maintainable tests across platforms. GoogleMock extends GoogleTest by providing a powerful mocking framework integrated into the same repository, enabling comprehensive unit and interaction testing. Together, they form a robust environment for verifying C++ code correctness at scale.

---