---
title: "Supported Platforms and Build Tools"
description: "Clarifies which operating systems, compilers, and build tools are supported, including guidance for configuring GoogleTest in different environments and troubleshooting platform-specific issues."
---

# Supported Platforms and Build Tools

This page clarifies which operating systems, compilers, and build tools GoogleTest supports, including guidance for configuring GoogleTest and GoogleMock in various environments. It also provides practical tips for integrating with different compilers and build systems, and troubleshooting common platform-specific issues.

---

## 1. Overview of Supported Platforms

GoogleTest is designed to be highly portable across a wide range of platforms, reflecting broad industry and Google policies.

### Supported Operating Systems
- **Windows** (including Desktop, MinGW, Windows Mobile variants)
- **Linux** (including Android)
- **Mac OS X and iOS**
- **BSD variants** (FreeBSD, OpenBSD, NetBSD, DragonFly, GNU/kFreeBSD)
- **Solaris, AIX, HP-UX, z/OS, OS/2, and others**

The most stable and thoroughly tested platforms are Windows, Linux, Mac OS X, and Cygwin.

<Note>
Support for less common or emerging platforms might be limited and experimental. If you encounter platform-specific issues, please report them to the developers.
</Note>

### Compiler and C++ Standard Requirements
- GoogleTest requires **C++17** or higher.
- Supported compilers include recent versions of:
  - **MSVC** (Visual Studio 2017 Update 3 minimum)
  - **Clang**
  - **GCC** (4.8 and above are generally fine)
  - **Intel C++ Compiler**
  - **Sun Pro**, **IBM VisualAge/XL**, **HP aCC**

<Info>
If your environment uses an older compiler or does not support C++17, building GoogleTest will fail.
Ensure your compiler flags specify at least C++17, for example with CMake using `set(CMAKE_CXX_STANDARD 17)` and `set(CMAKE_CXX_STANDARD_REQUIRED ON)`.
</Info>

## 2. GoogleTest Build Tools and Integration

GoogleTest is distributed with several build options, supporting various build tools.

### Using CMake to Build GoogleTest

GoogleTest includes a comprehensive **CMake script** allowing cross-platform builds.

#### Standalone Build

Use the following typical commands:

```bash
git clone https://github.com/google/googletest.git -b v1.17.0
dkdir build
dcd build
cmake ..               # Generate native build files
make                   # Build libraries and tests on Unix-like systems
sudo make install       # Optional: install the library system-wide
```

- To build only GoogleTest without GoogleMock, pass `-DBUILD_GMOCK=OFF` to `cmake`.
- On Windows, Visual Studio projects will be generated (`.sln` and `.vcxproj` files).
- On Mac OS with Xcode, an `.xcodeproj` file is created.

#### Integration Into Existing CMake Projects

Two common approaches:
- Link against installed GoogleTest libraries via `find_package(GTest CONFIG REQUIRED)` and link with `GTest::gtest` or `GTest::gmock`.
- Integrate GoogleTest source directly with your project using `add_subdirectory()` to ensure consistent compiler and linker flags.

<Check>
The official GitHub README for GoogleTest provides detailed CMake usage patterns and troubleshooting tips.
</Check>

### Using Other Build Systems

You can build GoogleTest manually or integrate with other build systems like Bazel. The CMake script and source layout facilitate custom setup.

### Visual Studio and Runtime Linking

By default, Visual Studio builds GoogleTest with static CRT (C runtime). This may cause runtime linkage conflicts when your project expects dynamic CRT.

To avoid these issues, set `gtest_force_shared_crt` to **ON** in CMake:

```cmake
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
```

This ensures GoogleTest uses the same runtime linkage as your project.

## 3. Platform-Specific Configuration and Macros

GoogleTest detects platform characteristics automatically and adjusts settings accordingly. However, in some environments, manual tweaking may be required.

### Common User-Configurable Macros

Define these in your compiler flags (`-D`) to override default detection:

| Macro                              | Purpose                                                  |
|-----------------------------------|----------------------------------------------------------|
| `GTEST_HAS_PTHREAD`                | Enable (1) or disable (0) pthread threading support      |
| `GTEST_CREATE_SHARED_LIBRARY`      | Build GoogleTest as a shared library                      |
| `GTEST_LINKED_AS_SHARED_LIBRARY`   | Build tests linking to GoogleTest shared library          |

Example to force pthread usage:

```bash
-DGTEST_HAS_PTHREAD=1
```

<Warning>
On Windows with MinGW, pthread support is limited. GoogleTest prefers native Windows threading primitives in this environment.
</Warning>

### Platform Macros (Auto-Defined Internally)

GoogleTest defines platform macros such as `GTEST_OS_WINDOWS`, `GTEST_OS_LINUX`, `GTEST_OS_MAC`, and others. These allow conditionally including platform-specific code or tests.

### Exception and RTTI Support

GoogleTest detects whether exceptions (`GTEST_HAS_EXCEPTIONS`) and RTTI (`GTEST_HAS_RTTI`) are enabled.

- If your platform or compiler disables exceptions or RTTI, you may manually override with:

```bash
-DGTEST_HAS_EXCEPTIONS=0
-DGTEST_HAS_RTTI=0
```

GoogleTest requires exceptions to be enabled for some features and will warn otherwise.

## 4. Stream Redirection and Death Tests

Some GoogleTest features, like death tests and output capturing, rely on platform support for stream redirection via file descriptor APIs.

- Stream redirection is **enabled by default** except on embedded or mobile platforms where file systems are limited.
- Death tests require a **functional file system**.

If enabled incorrectly on unsupported platforms, build or runtime errors may occur. Confirm that platform macros `GTEST_HAS_STREAM_REDIRECTION` and `GTEST_HAS_DEATH_TEST` are defined correctly.

## 5. Thread Safety

GoogleTest is thread-safe on platforms with pthreads or Windows thread primitives.

Check the `GTEST_IS_THREADSAFE` macro after including `<gtest/gtest.h>`. It is set to 1 if thread-safety is enabled.

If automatic detection fails, control thread safety with:

```bash
-DGTEST_HAS_PTHREAD=1
```

and link against the pthread library explicitly.

## 6. Troubleshooting Platform-specific Issues

<AccordionGroup title="Common Platform and Build Issues">
<Accordion title="Compiler Compatibility Issues">
- Ensure your compiler supports **C++17**.
- Using an older compiler will lead to build errors.
- Set the correct C++ standard flags in your build system.
</Accordion>
<Accordion title="Linker Errors with pthread">
- When enabling `GTEST_HAS_PTHREAD=1`, you must link with `-lpthread`.
- The CMake build takes care of this automatically.
- For manual builds, add the appropriate linker flags.
</Accordion>
<Accordion title="Runtime Library Mismatches on Windows">
- If you get `RuntimeLibrary` mismatch errors in MSVC, set `gtest_force_shared_crt` to `ON`.
- This aligns GoogleTest library runtime linkage with your project.
</Accordion>
<Accordion title="Macro Definition Conflicts">
- To avoid macro name conflicts with other libraries, define `-DGTEST_DONT_DEFINE_TEST=1` (or for other macros) and use the prefixed macros (e.g., `GTEST_TEST`).
</Accordion>
</AccordionGroup>

## 7. Best Practices for Building and Integration

- Use CMake where possible to simplify configuration and linkage.
- Always specify C++17 (or newer) to guarantee compatibility.
- Regularly update your builds to the latest GoogleTest version for improved support.
- Avoid manual macro toggling unless necessary; rely on automatic detection first.

## 8. Additional Resources

- [GoogleTest Official README](https://github.com/google/googletest/blob/main/googletest/README.md) — comprehensive build and usage instructions.
- [Supported Platforms Overview](https://github.com/google/googletest/blob/main/docs/platforms.md) — authoritative list of supported OSes and compilers.
- [GoogleTest Portability and Customization](https://github.com/google/googletest/blob/main/googletest/include/gtest/internal/gtest-port.h) — internal macros and definitions.

---

## Example: Building GoogleTest as a Shared Library with pthread

```bash
mkdir build && cd build
cmake .. -DBUILD_SHARED_LIBS=ON -DGTEST_CREATE_SHARED_LIBRARY=1 -DGTEST_HAS_PTHREAD=1
make
```

Link your test program with:

```bash
g++ -std=c++17 your_test.cc -lgtest -lpthread -o your_test
```

## Conclusion

This page equips you with an understanding of which platforms and tools GoogleTest supports, how to configure builds across different environments, and guidance on troubleshooting related issues. For seamless development, leverage the CMake build system, keep your compiler up-to-date with C++17 support, and adjust macros only as needed.

---

### Related Documentation
- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) — for basic usage and writing tests
- [Platform Support and Tool Integration](https://github.com/google/googletest/blob/main/overview/architecture-integration/platform-and-tool-integration.md)
- [Installation Methods](https://github.com/google/googletest/blob/main/getting-started/setup-basics/installation-methods.md)
- [Troubleshooting Common Setup Issues](https://github.com/google/googletest/blob/main/getting-started/first-test-experience/troubleshooting-common-issues.md)

---

For advanced build customization or embedded platform support, consult the internal `gtest-port.h` header and platform macro definitions in `gtest-port-arch.h`.


---

<Callout title="Tip">
For most users, linking against `gtest_main` instead of `gtest` provides a ready-made `main()` function, simplifying initial setup.
</Callout>

<Callout title="Warning">
Avoid mixing runtime library types (static vs dynamic) when linking GoogleTest with your application on Windows; it often leads to subtle crashes.
</Callout>