---
title: "Most-Asked Framework Questions"
description: "Direct responses to classic concerns such as differences between fatal and non-fatal assertions, how automatic test discovery works, and where to find up-to-date documentation."
---

# Frequently Asked Questions: Most-Asked Framework Questions

This page provides precise and direct answers to common questions about GoogleTest and GoogleMock, addressing classic concerns such as assertion behaviors, test discovery mechanics, and how to access up-to-date documentation. It is designed to help you quickly understand common pitfalls and to clarify core testing framework concepts.

---

## 1. What is the difference between fatal and non-fatal assertions in GoogleTest?

GoogleTest classifies assertions into two categories:

- **Fatal Assertions (`ASSERT_*`)**: When these assertions fail, they immediately abort the current function. This means any subsequent code or assertions in that function are skipped. Use fatal assertions when continuing the test after failure doesn’t make sense or could lead to crashes.

- **Non-Fatal Assertions (`EXPECT_*`)**: Failures mark the test as failed but continue execution of the current function, allowing multiple failures to be reported within one test. Use these when you want to check multiple conditions regardless of individual failures.

**Example scenario:**

```cpp
ASSERT_NE(ptr, nullptr) << "Pointer is null, cannot proceed.";
EXPECT_EQ(*ptr, expected_value) << "Pointer value mismatch.";
```
Here, the test aborts if `ptr` is `nullptr` to avoid dereferencing it.

<Tip>
**Best Practice:** Use `EXPECT_*` to collect multiple failures without aborting the test and `ASSERT_*` when failure precludes further meaningful checks or may cause crashes.
</Tip>

---

## 2. How does GoogleTest discover tests automatically?

GoogleTest automatically discovers tests using macros such as `TEST()`, `TEST_F()`, `TEST_P()`, and `TYPED_TEST()`. When these macros are used, the tests register themselves with the framework during static initialization.

This means:

- You **do not** need to manually list or enumerate your tests.
- Calling `RUN_ALL_TESTS()` runs all registered tests from any source files linked into your test binary.

Discovery is based on namespaces and static variables generated by the macros, ensuring that any test compiled and linked into your executable is discoverable and runnable.

<Tip>
**Quick Tip:** Each `TEST` or `TEST_F` invocation defines a unique test case automatically recorded for run-time discovery.
</Tip>

---

## 3. Where can I find the most current documentation for GoogleTest and GoogleMock?

GoogleTest and GoogleMock documentation is actively maintained in the [official GoogleTest GitHub repository](https://github.com/google/googletest) and published online.

Key resource links:

- [GoogleTest Primer](https://google.github.io/googletest/primer.html) — Beginner-friendly introduction including test basics and fixtures.
- [GoogleTest API Reference](https://google.github.io/googletest/reference/assertions.html) — Detailed assertion macros and behavior.
- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) — Introductory guide to using GoogleMock.
- [GoogleMock Reference](https://google.github.io/googletest/reference/mocking.html) — Definitive API documentation for mocks.

<Tip>
**Keep Updated:** Bookmark the [GitHub repository](https://github.com/google/googletest) for source updates, issues, and additional guides.
</Tip>

---

## 4. When should I use `TEST()` vs. `TEST_F()` macros?

- Use **`TEST()`** to define simple tests that do not require shared setup or teardown.
- Use **`TEST_F()`** when your tests share common resources encapsulated in a fixture class (derived from `testing::Test`). This lets you reuse setup (`SetUp()`) and cleanup (`TearDown()`) code.

For example:

```cpp
TEST(SimpleTest, CheckTrue) {
  EXPECT_TRUE(SomeCondition());
}

class FixtureTest : public testing::Test {
 protected:
  void SetUp() override { /* common setup */ }
};

TEST_F(FixtureTest, CheckValue) {
  EXPECT_EQ(value_, expected_value_);
}
```

<Tip>
**Tip:** `TEST_F` tests create a fresh fixture instance for each test, guaranteeing test isolation.
</Tip>

---

## 5. How to properly name test suites and test cases?

- **Test Suites** should describe the feature or class under test.
- **Test Cases (tests)** should describe the behavior or condition being verified.

**Rules:**

- Use valid C++ identifiers with no underscores (_).
- Follow [Google C++ Style Guide for naming functions and classes](https://google.github.io/styleguide/cppguide.html#Function_Names).

**Example:**

```cpp
TEST(FactorialTest, HandlesZeroInput);  // Test suite: FactorialTest
                                       // Test: HandlesZeroInput
```

Avoid underscores to ensure compatibility with test filtering.

<Warning>
**Avoid underscores in test names!** Underscores can cause issues with filtering and test name grouping.
</Warning>

---

## 6. How do I run only a subset of tests?

You can filter tests to run using the `--gtest_filter` flag:

```bash
./my_test_binary --gtest_filter=TestSuiteName.TestName
```

`*` and `?` wildcards are supported:

- `--gtest_filter=MySuite.*` runs all tests in `MySuite`.
- `--gtest_filter=*MyTest` runs all tests ending with `MyTest`.
- `--gtest_filter=MySuite.Test1:MySuite.Test2` runs just those two tests.
- Use `-` to exclude tests, e.g., `--gtest_filter=*-Disabled*`.

See the [Running Test Programs: Advanced Options](https://google.github.io/googletest/advanced.html#running-test-programs-advanced-options) for full filtering details.

<Tip>
**Pro-Tip:** Combine test name filtering with `--gtest_repeat=N` to rerun suspect tests multiple times.
</Tip>

---

## 7. What are uninteresting and unexpected calls in GoogleMock?

- **Uninteresting Call:** A mock method without any `EXPECT_CALL` expectations set but is called. By default, this causes a warning but not a test failure.

- **Unexpected Call:** A mock method for which some expectations exist via `EXPECT_CALL` but the particular call does not match any expectation. This causes a test failure.

You can control the handling of uninteresting calls using mock wrappers:

- `NiceMock<T>` suppresses warnings on uninteresting calls.
- `NaggyMock<T>` (default) warns on uninteresting calls.
- `StrictMock<T>` treats uninteresting calls as errors.

For example, to suppress warnings on a mock:

```cpp
NiceMock<MockFoo> mock;
```

Use expectations such as:

```cpp
EXPECT_CALL(mock, SomeMethod(_)).Times(AnyNumber());
```
to indicate permitted but uninteresting calls explicitly.

---

## 8. How do I set default behavior vs. expectations on a mock method?

- Use `ON_CALL(mock, Method(args))` to specify default behavior when `Method` is called but without asserting the call is expected.
- Use `EXPECT_CALL(mock, Method(args))` to specify expectations (how many times, with which arguments, and behaviors when called).

`ON_CALL` specifies *what happens* when the method is called.
`EXPECT_CALL` additionally states *that it must be called* in the test.

Keep `ON_CALL` for default setups in fixtures or mock constructors, and `EXPECT_CALL` for test-specific constraints.

---

## 9. Can I mock non-virtual or overloaded functions?

- **Non-virtual functions:** GoogleMock cannot mock them directly. Workarounds include dependency injection via templates or interfaces.
- **Overloaded functions:** Fully supported. Mock each overload by specifying exact signatures with `MOCK_METHOD`.
- **Overload disambiguation:** Use `Const()` helper or specific matcher types to avoid ambiguity in `EXPECT_CALL`.

Example for overloaded methods:

```cpp
MOCK_METHOD(int, Add, (int x), (override));
MOCK_METHOD(int, Add, (double y), (override));
```

---

## 10. How can I debug why my mock expectations are not satisfied?

Run the test with increased gMock verbosity:

```bash
--gmock_verbose=info
```

This produces detailed logs of every mock function call and which expectations they match.

Further strategies:

- Check order of `EXPECT_CALL`s (latest match overrides earlier).
- Look for mismatched arguments or missing expectations.
- Use `NiceMock` to suppress noise and focus on important warnings.

---

## 11. Where should I place mock class definitions?

- If you own the interface/class, put mock classes near the original interface.
- If mocking external or third-party classes, place mocks in dedicated test-only headers in your testing package.
- Avoid mocking classes you do not own if possible; prefer creating adapter interfaces.

Separating mocks helps maintainability and isolates mocking-related changes.

---

## 12. How to extend GoogleTest with custom assertions or matchers?

GoogleTest and GoogleMock provide macros and interfaces to define custom assertions and matchers for expressive and domain-specific test conditions.

- Use `MATCHER` and `MATCHER_P` macros for simple custom matchers.
- Implement matcher classes for advanced scenarios.

This improves diagnostics and makes tests clearer.

See the [Custom Assertions and Matchers Guide](https://google.github.io/googletest/gmock_cook_book.html#NewMatchers) for detailed instructions.

---

# Additional Resources and Documentation

- [GoogleTest Primer](https://google.github.io/googletest/primer.html)
- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [GoogleTest Advanced Topics](https://google.github.io/googletest/advanced.html)
- [Matching Arguments and Custom Matchers](https://google.github.io/googletest/reference/matchers.html)
- [Assertions Reference](https://google.github.io/googletest/reference/assertions.html)

For integrating GoogleTest with build systems, refer to the [Integration & Workflows](https://google.github.io/googletest/integration-and-workflows.html) guide.

---

If your question is not answered here, consider browsing the full FAQ, or consult community forums and issue trackers linked from the main project repository.
