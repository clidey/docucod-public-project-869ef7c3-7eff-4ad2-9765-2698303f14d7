---
title: "Supported Platforms & Compatibility"
description: "Answers popular questions regarding supported operating systems, compilers, and environments. Clarifies compatibility with evolving C++ standards and guides on adapting GoogleTest for new toolchains or platforms."
---

# Supported Platforms & Compatibility

GoogleTest is designed to provide a robust and versatile C++ testing framework compatible with a wide range of operating systems, compilers, and execution environments. This document answers common questions about supported platforms, compiler compatibility, C++ standard requirements, and how to adapt GoogleTest when working with new or evolving toolchains.

---

## 1. What Operating Systems Does GoogleTest Support?

GoogleTest supports most mainstream platforms, including but not limited to:

- Linux (including popular distributions and Android)
- Mac OS X and iOS
- Windows (Desktop, MinGW, Mobile variants, Windows RT)
- BSD Variants (FreeBSD, OpenBSD, NetBSD, DragonFlyBSD)
- IBM AIX
- HP-UX
- QNX
- Solaris
- Others such as GNU/Hurd, Fuchsia, Native Client, Haiku, OS/2, z/OS

These platform distinctions are internally indicated by macros like `GTEST_OS_LINUX`, `GTEST_OS_WINDOWS_DESKTOP`, etc., which GoogleTest uses to tailor platform-specific behavior.

**Key Note:** Among all these, Cygwin, Linux, Mac OS X, and Windows platforms have the most stable support, while others might have less stable or experimental support.


## 2. What Compiler and C++ Standard Versions Are Required?

GoogleTest requires a modern C++ environment:

- **C++17 or newer is mandatory.** Attempting to build GoogleTest with versions older than C++17 will fail.
- Supported compilers include GCC 5.1+, Clang 3.4.1+, and MSVC 2017 Update 3 (version 19.11) or newer.
- MSVC 2015 (14.0) or newer is required for GoogleMock (GoogleTest's mocking framework).

You should specify the C++ standard explicitly (for example, using `-std=c++17`) when building GoogleTest to ensure compatibility.


## 3. How Does GoogleTest Handle Platform Differences Internally?

GoogleTest internally uses a set of environment-describing macros and platform-indicating macros that detect availability and behavior:

- **Environment Macros:** These indicate features like exception support (`GTEST_HAS_EXCEPTIONS`), RTTI support (`GTEST_HAS_RTTI`), presence of pthreads (`GTEST_HAS_PTHREAD`), file system availability (`GTEST_HAS_FILE_SYSTEM`), and others.

- **Platform Macros:** Unique macros such as `GTEST_OS_WINDOWS_DESKTOP`, `GTEST_OS_LINUX_ANDROID`, `GTEST_OS_MAC`, etc., identify the operating system at compile time. GoogleTest itself sets these automatically.

If automatic detection fails or your environment is unique, you can manually override some of these macros via your build system to ensure correct feature detection.


## 4. How Are Multithreading and Synchronization Supported Across Platforms?

GoogleTest is fully thread-safe on platforms with `pthreads` support or Windows desktop variants:

- If pthreads are present (`GTEST_HAS_PTHREAD == 1`), GoogleTest uses them for mutexes, thread-local storage, thread creation, and notification mechanisms.
- On Windows (excluding mobile or special variants), native Windows synchronization primitives like critical sections are used.
- On platforms without threading support, GoogleTest provides dummy mutex and thread-local implementations but will not be thread-safe.

To enforce this or help GoogleTest detect threading support, use `-DGTEST_HAS_PTHREAD=1` or `-DGTEST_HAS_PTHREAD=0` in your compiler flags.


## 5. What File System and Stream Redirection Features Are Supported?

- Most platforms offer full file system interaction support, indicated by `GTEST_HAS_FILE_SYSTEM`.
- Stream redirection (used for capturing stdout/stderr) is available on most desktop-like systems but **not** on many embedded or mobile platforms.
- Platforms lacking file systems or running on embedded/mobile environments (e.g., Windows Mobile, ESP8266) disable stream redirection.


## 6. Can GoogleTest Be Built as a Shared Library?

Yes. Building GoogleTest as a shared library (DLL on Windows) is supported:

- Use the compiler flag `-DGTEST_CREATE_SHARED_LIBRARY=1` when compiling GoogleTest itself.
- When compiling tests that link against the shared library, use `-DGTEST_LINKED_AS_SHARED_LIBRARY=1`.

While not always required today, these flags prepare for future improvements in loading performance and avoid potential build errors linked to symbol visibility.


## 7. How Does GoogleTest Support Evolving C++ Standards and Custom Toolchains?

- GoogleTest's minimum is C++17; it conditionally enables or disables internal features based on compiler capability and C++ language features.
- Macros like `GTEST_INTERNAL_CPLUSPLUS_LANG` define the detected C++ standard version.
- Features such as `__has_include`, `__has_cpp_attribute`, and `__has_feature` are used if available on your compiler for fine-grained feature detection.
- For unsupported or custom toolchains, you may override detection macros manually in custom headers.


## 8. How Can I Adapt GoogleTest for a New Platform or Toolchain?

### When to Customize

If GoogleTest's detection logic fails on a new platform or compiler, you can customize by:

- Defining feature macros (`GTEST_HAS_EXCEPTIONS`, `GTEST_HAS_PTHREAD`, `GTEST_HAS_RTTI`, etc.) explicitly in your build configuration.
- Providing platform-specific implementations or customizations by placing headers in the `custom/` directory (e.g., `custom/gtest-port.h`) to override or extend internal behavior.

### Common Macros to Override

- `GTEST_HAS_EXCEPTIONS` — enable/disable exception handling.
- `GTEST_HAS_PTHREAD` — manually enable or disable pthread support.
- `GTEST_HAS_RTTI` — configure whether RTTI is enabled or disabled.
- `GTEST_HAS_STD_WSTRING` — configure if wide-string (`std::wstring`) support is available.
- `GTEST_HAS_FILE_SYSTEM` — specify if your platform has a usable file system.

### Testing Your Port

- Verify that GoogleTest builds cleanly with your toolchain under the specified macros.
- Run the internal port tests (`googletest-port-test.cc`) to ensure the platform abstraction layer behaves as expected.


## 9. Summary of Important Macros for Environment and Platform Detection

| Macro Name                      | Meaning/Usage                                                           |
|--------------------------------|------------------------------------------------------------------------|
| `GTEST_HAS_CLONE`              | Clone system call availability                                         |
| `GTEST_HAS_EXCEPTIONS`         | Whether C++ exceptions are enabled                                    |
| `GTEST_HAS_POSIX_RE`           | POSIX regex availability                                                |
| `GTEST_HAS_PTHREAD`            | Availability of `<pthread.h>` and threading support                     |
| `GTEST_HAS_RTTI`               | Run-time type information enabled or disabled                           |
| `GTEST_HAS_STD_WSTRING`        | Availability of `std::wstring`                                         |
| `GTEST_HAS_FILE_SYSTEM`        | Presence of file system on platform                                    |
| `GTEST_HAS_SEH`                | Microsoft Structured Exception Handling support                         |
| `GTEST_HAS_STREAM_REDIRECTION` | Support for redirecting stdout/stderr streams                          |
| `GTEST_LINKED_AS_SHARED_LIBRARY` | Whether linked as shared library (DLL)                              |
| `GTEST_CREATE_SHARED_LIBRARY`  | Compiling the GoogleTest library as shared                            |
| `GTEST_OS_*`                   | OS identification macros (e.g., `GTEST_OS_LINUX`, `GTEST_OS_WINDOWS`)  |


## 10. Troubleshooting Compatibility Issues

<Tip>
If GoogleTest fails to build or run correctly on your platform, first check which detection macros are defined by inspecting the compiler output and predefined macros. Override macros as needed in your build configuration.
</Tip>

<Warning>
Some embedded or mobile platforms may have limited C++ feature support (e.g., no RTTI or exceptions). GoogleTest can disable support accordingly but some features may be unavailable.
</Warning>

<Check>
Always ensure your build environment specifies at least C++17 to avoid build failures related to language standard.
</Check>


---

## Additional Resources & References

- [Supported Platforms Documentation (docs/platforms.md)](https://github.com/google/googletest/blob/main/docs/platforms.md)
- [Customization Points for Platform-Specific Overrides (gtest/include/gtest/internal/custom/README.md)](https://github.com/google/googletest/blob/main/googletest/include/gtest/internal/custom/README.md)
- [GoogleTest Primer (docs/primer.md)](https://github.com/google/googletest/blob/main/docs/primer.md)
- [Internal Cross-Platform Support Utilities Test Source (googletest/test/googletest-port-test.cc)](https://github.com/google/googletest/blob/main/googletest/test/googletest-port-test.cc)
- [GoogleTest Build Instructions & CMake Setup (googletest/README.md)](https://github.com/google/googletest/blob/main/googletest/README.md)

For detailed platform-specific installation instructions, also see the Setup & Installation guide: [guides/getting-started/setup-installation](https://google.github.io/googletest/getting-started-setup-installation.html)


---

## Practical Tips for Developers

<Steps>
<Step title="Ensuring Supported OS and Compiler">Make sure your development environment targets one of the officially supported OS platforms and uses a modern compiler with C++17 support or better.</Step>
<Step title="Confirm Feature Support in Build">Check if your environment supports exceptions, RTTI, pthreads, and standard file system operations - override macros if detection fails.</Step>
<Step title="Use Build Flags for Customization">When cross-compiling or using special toolchains, define relevant `GTEST_HAS_*` macros in your compiler flags to assist detection and compatibility.</Step>
<Step title="Adapt GoogleTest for New Platforms">Create or customize headers in the `custom/` directory if more advanced platform adaptation is necessary, especially for exotic or embedded systems.</Step>
<Step title="Validate Thread Safety">Verify multi-threading support if your tests run concurrently, using `GTEST_IS_THREADSAFE` macro as indicator.</Step>
</Steps>

<Tip>
Link your tests appropriately; for shared library usage, remember to add `-DGTEST_LINKED_AS_SHARED_LIBRARY=1` to your test compilation flags.
</Tip>

<Note>
Use the internal port tests (`googletest-port-test.cc`) included in the repo to identify and validate environment-related issues.
</Note>

---

## Frequently Asked Questions

<AccordionGroup title="Platform Support FAQs">
<Accordion title="Does GoogleTest support Windows Mobile and embedded platforms?">
GoogleTest partial support exists for Windows Mobile and some embedded systems, but feature availability is limited (e.g., no stream redirection, no file system). Use overrides to disable features that aren’t supported by your platform.
</Accordion>
<Accordion title="What happens if my compiler does not support C++17?">
GoogleTest requires C++17 or newer; building with an older standard will produce errors. Upgrade your compiler or configure your build environment to use at least C++17.
</Accordion>
<Accordion title="How do I know if pthreads support is enabled?">
You can check `GTEST_HAS_PTHREAD` macro; GoogleTest tries to detect pthreads automatically on POSIX systems. If detection fails, define `-DGTEST_HAS_PTHREAD=1` or `0` manually.
</Accordion>
<Accordion title="Is GoogleTest fully thread-safe everywhere?">
GoogleTest is thread-safe if pthreads or Windows desktop synchronization primitives are available. On platforms without threading support, thread safety isn't guaranteed.
</Accordion>
<Accordion title="Can I disable exceptions or RTTI support?">
Yes. You may disable exceptions or RTTI by defining `GTEST_HAS_EXCEPTIONS=0` or `GTEST_HAS_RTTI=0` respectively. GoogleTest adapts internal implementations accordingly.
</Accordion>
</AccordionGroup>

---

## Cross-References

- [Platform Abstractions & Portability](https://google.github.io/googletest/api/utilities-and-internals/porting-and-environment.html): Details on internal abstractions for cross-platform compatibility.
- [Customization Points](https://github.com/google/googletest/blob/main/googletest/include/gtest/internal/custom/README.md): How to customize GoogleTest for your environment.
- [Setup & Installation Guide](https://google.github.io/googletest/getting-started-setup-installation.html): Step-by-step environment preparation and installation across platforms.
- [Troubleshooting Setup Issues](https://google.github.io/googletest/faq/usage-getting-started/troubleshooting-setup.html): Common fixes and environment-specific problems.

---

## Conclusion

This page equips you with core knowledge to understand the platforms and environments where GoogleTest functions reliably. By leveraging the macros and configuration flags described here, you can confidently build and run GoogleTest across a broad spectrum of C++ development environments, adapting it to new compilers, platforms, and toolchains as they emerge.