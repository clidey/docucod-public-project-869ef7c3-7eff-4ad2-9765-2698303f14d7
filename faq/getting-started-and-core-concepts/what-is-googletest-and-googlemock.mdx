---
title: "What are GoogleTest and GoogleMock?"
description: "An overview of GoogleTest and GoogleMock, explaining their purpose as Google's C++ unit testing and mocking frameworks. Outlines differences, common use cases, and benefits, helping users understand when and why to use each component."
---

# What are GoogleTest and GoogleMock?

GoogleTest and GoogleMock are two tightly integrated C++ frameworks developed by Google to provide powerful, flexible, and expressive tools for unit testing and mock-based testing. Understanding their purpose, differences, and applications equips you to write robust, maintainable tests for your C++ projects.

---

## Overview

- **GoogleTest** is the core unit testing framework. It helps you write, organize, run, and verify tests that check the correctness of your code’s logic.
- **GoogleMock** (often called gMock) is a mocking framework built on top of GoogleTest. It allows you to create **mock objects** that simulate the behavior of real objects for interaction-based testing.

Together, they streamline the process of verifying both **state** (what your code returns or changes) and **interaction** (how your code calls collaborators) in your tests.

---

## What is GoogleTest?

GoogleTest provides a complete framework for writing tests with:

- **Test cases and test suites**: Organize related tests into groups.
- **Assertions**: Check for expected conditions and values.
- **Test fixtures**: Share setup and teardown code for tests.
- **Parameterized and typed tests**: Run the same test with multiple inputs or types.
- **Test execution controls**: Filter tests, run them in parallel, and customize test outputs.

It is designed to be:

- Easy to use and integrate into your build system.
- Portable across platforms and compilers.
- Extensible via custom matchers and event listeners.

Example use case in GoogleTest:

```cpp
TEST(MathTest, AdditionWorks) {
  EXPECT_EQ(2 + 2, 4);
}
```

This simple test asserts that 2 plus 2 equals 4.

---

## What is GoogleMock?

GoogleMock extends GoogleTest by providing:

- **Mock classes** that mimic real interfaces.
- **EXPECT_CALL() and ON_CALL() macros** to set expectations and default behaviors.
- **Argument matchers** to flexibly specify expected values for function parameters.
- **Actions** to define what mock methods should do when called (e.g., return values, invoke callbacks).
- **Control over call order and cardinality**, sequences, and partial ordering with `InSequence` and `After`.
- **Strictness controls** using `NiceMock`, `NaggyMock`, and `StrictMock` wrappers.

Mock objects let you verify **interactions** — that your code calls collaborators correctly, in the right order, with expected arguments, and expected number of times.

Example mock class and usage:

```cpp
class MockTurtle : public Turtle {
 public:
  MOCK_METHOD(void, PenUp, (), (override));
  MOCK_METHOD(void, Forward, (int distance), (override));
};

TEST(PaintTest, DrawLine) {
  MockTurtle turtle;
  EXPECT_CALL(turtle, PenUp());
  EXPECT_CALL(turtle, Forward(100));

  Painter painter(&turtle);
  painter.DrawLine();
}
```

This test checks that `Painter.DrawLine()` invokes `PenUp()` and `Forward(100)` on its turtle dependency.

---

## Key Differences

| Aspect                    | GoogleTest                  | GoogleMock                 |
|---------------------------|-----------------------------|---------------------------|
| Purpose                   | Validate code correctness and logic | Validate interactions with dependencies |
| Main Elements             | Test cases, assertions, fixtures | Mock classes, expectations, actions, matchers |
| Focus                    | State-based testing           | Interaction-based testing  |
| Setup                    | Simple functions/macros       | Mock object creation and setup |
| Verification             | Assertions                    | Call count, argument match, call sequence |

---

## Common Use Cases

- Use **GoogleTest** when verifying the outcomes of functions, computed results, and state changes.
- Use **GoogleMock** when you need to isolate a unit from its dependencies, simulate error conditions, control collaborators’ behavior, or verify interaction patterns.

---

## Benefits

- **Comprehensive**: Full-featured frameworks that cover almost any unit testing need.
- **Seamless Integration**: GoogleMock is built on GoogleTest; no separate runners or frameworks needed.
- **Expressiveness**: Rich syntax for complex behaviors and expectations.
- **Maintainability**: Clear, readable tests that precisely specify behavior.
- **Extensibility**: Supports custom matchers, actions, and integration into your build and CI systems.

---

## When and Why to Use Each

- If you only need to test the output or state changes of your code without dependencies, GoogleTest alone is enough.
- If your code depends on other interfaces or components, and you want to control or verify those dependencies’ behavior, introduce GoogleMock.
- Use GoogleMock to:
  - Simulate errors or edge cases hard to reproduce otherwise
  - Verify that certain methods are called with correct parameters
  - Control the order and frequency of calls

---

## Related Documentation and Next Steps

- For **writing your first tests with GoogleTest**, see [Write, Build, and Run Your First Test](/getting-started/first-tests-validation/write-build-run-test).
- For **mocking tutorials and best practices**, explore [Using GoogleMock Effectively](/guides/mocking-and-advanced-testing/using-googlemock-effectively).
- For **deep dive into mocking APIs**, consult the [Mock Methods and Macros](/api-reference/mocking-matchers-actions/mock-methods-api) and [Expectations and Call Specification](/api-reference/mocking-matchers-actions/expectations-api) pages.
- To understand the testing architecture and foundations, visit [xUnit Architecture and Test Structure](/concepts/core-testing-architecture/xunit-foundation).

---

<Tip>
If you are new, start with writing simple GoogleTest cases, and gradually introduce GoogleMock when you need to mock dependencies. This progressive approach ensures understanding and maintainability.
</Tip>

<Tip>
Use `ON_CALL` to set default mock behaviors without enforcing calls, and `EXPECT_CALL` to set explicit expectations, avoiding over-specification and brittle tests.
</Tip>

<Tip>
Remember that mock objects only verify the calls made **after** expectations are set; setting expectations **before** exercising code is essential.
</Tip>

---

## Troubleshooting Tips

- If your mock method calls the real method instead of the mock, ensure the method is virtual or use supported techniques for mocking non-virtual methods.
- Use the `--gmock_verbose=info` flag to debug expectation matching and see detailed call traces.
- Avoid mocking static or free functions directly; instead, use interfaces or wrapper classes.

---

## Summary

GoogleTest and GoogleMock together form Google’s premier C++ testing frameworks. GoogleTest empowers you to write logical unit tests, while GoogleMock enables fine control and verification of interactions with dependencies via mocks. Use them together for comprehensive test coverage that is both state- and interaction-aware.

---

## Sample Code Comparison

**GoogleTest only test:**

```cpp
#include <gtest/gtest.h>

TEST(SimpleTest, Addition) {
  EXPECT_EQ(2 + 2, 4);
}
```

**Using GoogleMock for mocking a dependency:**

```cpp
#include <gmock/gmock.h>
#include <gtest/gtest.h>

class DatabaseInterface {
 public:
  virtual ~DatabaseInterface() {}
  virtual bool Connect(const std::string& url) = 0;
};

class MockDatabase : public DatabaseInterface {
 public:
  MOCK_METHOD(bool, Connect, (const std::string& url), (override));
};

TEST(DatabaseUserTest, ConnectsToProperURL) {
  MockDatabase mock_db;
  EXPECT_CALL(mock_db, Connect("https://example.com"))
      .Times(1)
      .WillOnce(testing::Return(true));

  // Code under test that uses mock_db ...
}
```

This mock test verifies the interaction — that `Connect` is called with the expected URL exactly once.

---

## Additional Resources

- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)
- [GoogleTest Primer](overview/product-intro-and-value/what-is-googletest)
- [Mocking Reference](docs/reference/mocking.md)
- [Mock Methods API](api-reference/mocking-matchers-actions/mock-methods-api)
- [Key Product Benefits and Use Cases](overview/product-intro-and-value/benefits-and-use-cases)

---

## See Also

- [What is GoogleTest?](/overview/product-intro-and-value/what-is-googletest)
- [Using GoogleMock Effectively](/guides/mocking-and-advanced-testing/using-googlemock-effectively)
- [Supported Platforms & Requirements](/overview/adoption-and-integration/supported-platforms-and-requirements)
- [Write, Build, and Run Your First Test](/getting-started/first-tests-validation/write-build-run-test)

---