---
title: "Feature Support and Limitations"
description: "Covers frequently asked questions about available GoogleTest and GoogleMock features and known limitations, such as death tests, parameterized tests, and advanced mocking capabilities."
---

# Feature Support and Limitations

This page addresses frequently asked questions concerning the key features available in GoogleTest and GoogleMock, as well as known limitations. It clarifies special testing capabilities such as death tests, parameterized tests, advanced mocking features, and certain constraints users should be aware of.

---

## Death Tests

Death tests verify that program code causing failures aborts or terminates a process as expected. They are essential for testing assertion failures or critical error paths that should stop execution.

- **How to write?** Use ASSERT_DEATH, EXPECT_DEATH, ASSERT_EXIT, or EXPECT_EXIT macros with the code that causes termination and expected output patterns.

- **Important notes:**
  - Death tests run the tested statement in a subprocess; side effects are not visible to the parent.
  - Use the naming convention of test suites ending with `DeathTest` to improve reliability and thread safety.
  - Mocks involved in death tests should be permitted to leak using `Mock::AllowLeak` to avoid false errors arising from leak detection during subprocess shutdown.

- **Styles:**
  - "fast" style runs more quickly but is less thread-safe.
  - "threadsafe" style adds overhead but handles multi-threaded contexts better.
  - You can set the death test style globally or per test via `GTEST_FLAG_SET(death_test_style, "style")`.

- **Limitations:**
  - Statements cannot exit the death test function by `return` or exception, or the test will fail.
  - Multiple death assertions cannot share the same line of code.

For more, see the [Death Tests section](https://google.github.io/googletest/advanced.html#death-tests) in the Advanced GoogleTest Topics.

---

## Parameterized Tests

Parameterized tests allow running the same test logic repeatedly with different inputs or types. This increases test coverage without duplicating code.

### Value-Parameterized Tests

- Define a fixture derived from `testing::TestWithParam<T>` or `testing::TestParamInterface<T>` where `T` is the parameter type.
- Use `TEST_P` to write parameterized tests.
- Instantiate the test suite with `INSTANTIATE_TEST_SUITE_P`, providing a name, fixture, and a parameter generator such as `Values()`, `ValuesIn()`, `Range()`, or `Combine()`.

### Typed Tests

- Used to run the same set of tests across different types.
- Define a class template fixture derived from `testing::Test`.
- Use `TYPED_TEST_SUITE` to associate types with the fixture.
- Write tests with `TYPED_TEST` and access the current type as `TypeParam`.

### Type-Parameterized Tests

- Similar to typed tests but test definitions and type lists can be separated, supporting multiple instantiations.
- Declare tests with `TYPED_TEST_SUITE_P` and `TYPED_TEST_P`.
- Register test patterns with `REGISTER_TYPED_TEST_SUITE_P`.
- Instantiate with `INSTANTIATE_TYPED_TEST_SUITE_P`.

### Naming Parameters

- Use custom suffix generators to create readable test names.
- Test name suffixes must be unique and use only ASCII alphanumeric characters (underscore discouraged).

---

## Advanced Mocking Capabilities

GoogleMock provides comprehensive mocking features with limitations to consider.

- Use `MOCK_METHOD` macros to define mock methods for classes.
- Control default behavior with `ON_CALL`.
- Set strict expectations with `EXPECT_CALL` using argument matchers and call count specifications.
- Manage uninteresting calls using `NiceMock`, `NaggyMock`, or `StrictMock` wrappers.
- Advanced scenarios include sequencing calls and specifying actions with side effects.

### Known Limitations

- Mock leak detection requires special handling in death tests.
- Mock destructors cannot currently be mocked directly.
- Multi-threaded assertions have limited support on some platforms (e.g., Windows).

For practical tips, see the [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) and the [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html).

---

## Skipping Tests

GoogleTest supports skipping tests at runtime to honor dynamic preconditions.

- Use the `GTEST_SKIP()` macro inside tests or fixtures' `SetUp()` methods.
- You can stream a reason message into `GTEST_SKIP()` for clarity.

Example:

```cpp
TEST(SomeTest, SkipExample) {
  if (!IsEnvironmentReady()) {
    GTEST_SKIP() << "Skipping due to environment";
  }
  // Test code here
}
```

---

## Handling Assertions in Subroutines

Fatal assertions (`ASSERT_*`) abort only the current function, not the entire test.

- To propagate fatal failures, use `ASSERT_NO_FATAL_FAILURE()` or check with `HasFatalFailure()`.
- Alternatively, install a test event listener that throws exceptions on failures to mimic exception propagation.
- For better diagnostics in subroutines, use `SCOPED_TRACE` to add context to failure messages.

Tips:

- Avoid fatal assertions in non-void functions.
- Use `ADD_FAILURE()` or `EXPECT_*` if you cannot change return type.

---

## Logging Additional Test Information

- Use `RecordProperty("key", value)` to add custom metadata to test results.
- Keys become XML attributes if XML output is enabled.

Example:

```cpp
TEST(MyTest, RecordsInfo) {
  ::testing::Test::RecordProperty("Accuracy", 99);
}
```

---

## Known Regular Expression Support

GoogleTest supports different regular expression syntaxes based on platform and build configuration:

- RE2 syntax (used when built with Bazel and Abseil)
- POSIX extended regex (Linux, macOS with POSIX)
- Simple regex on Windows with several limitations (no unions, grouping, repetitions)

Check macros `GTEST_USES_SIMPLE_RE` or `GTEST_USES_POSIX_RE` to dynamically adapt regex usage.

---

## Limitations and Considerations

- GoogleTest requires C++17 or newer.
- Tests that use threads should consider platform limitations in assertion handling and death tests.
- Exceptions thrown by test code are not considered death for death tests.
- Mutating shared resources in parameterized tests needs careful state restoration to maintain test independence.
- Private or static internal code requires special design or friend declarations to enable testing.

---

## Further Reading and References

- [GoogleTest Primer](primer.md) — Getting started with writing and running tests.
- [Advanced GoogleTest Topics](advanced.md) — Deep dive into assertions, death tests, and complex use cases.
- [gMock for Dummies](gmock_for_dummies.md) and [gMock Cookbook](gmock_cook_book.md) — Guides for mocking techniques.
- [Assertions Reference](reference/assertions.md) — In-depth documentation on assertion macros.
- [Parameterized and Typed Tests Guide](guides/advanced-and-mocking-guides/parameterized-and-typed-tests.md) — Detailed usage instructions.

---

For users seeking to resolve specific feature questions or limitations, this FAQ serves as a practical guide to understand what GoogleTest and GoogleMock support and how to work effectively within their design paradigms.