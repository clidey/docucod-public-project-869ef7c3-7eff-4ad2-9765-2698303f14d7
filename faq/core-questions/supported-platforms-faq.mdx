---
title: "Supported Platforms and Compatibility"
description: "Clarifies supported C++ standards, operating systems, and compilers, as well as guidance for cross-platform usage. This helps users avoid common compatibility pitfalls and ensures smooth adoption."
---

# Supported Platforms and Compatibility

This page clarifies the supported C++ standards, operating systems, and compilers for GoogleTest, as well as guidance for cross-platform usage. Understanding these compatibility details helps you avoid common pitfalls and ensures smooth adoption of GoogleTest in your development environment.

---

## 1. Supported C++ Standards

GoogleTest requires a minimum of **C++17** support in your build environment to compile and function correctly. This requirement ensures access to modern language features and standard library improvements essential for GoogleTest's internals.

### How to Ensure C++17 Compliance

- When using **CMake**, set the C++ standard explicitly in your project’s `CMakeLists.txt`:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

- If your project is not using CMake, pass the appropriate compiler flag manually, for example:

```bash
# GCC / Clang
-D CMAKE_CXX_FLAGS="-std=c++17"

# MSVC uses /std:c++17 flag
```

> Ensuring the compiler and build environment target C++17 or higher avoids unexpected compilation errors and compatibility issues.

---

## 2. Supported Operating Systems

GoogleTest supports a wide range of OS platforms aligned with Google’s Foundational C++ Support Policy. The key supported operating systems include:

- **Linux** (including Android)
- **Windows** (Windows Desktop, Windows Mobile variants, Windows RT)
- **macOS and iOS** (including simulator environments)
- Other Unix-like OSes such as FreeBSD, OpenBSD, NetBSD, Solaris, AIX

### Platform Variations

- Some embedded or real-time OSes like **QURT**, **ESP8266/ESP32**, and **NRF52** are supported with adjustments to program entry points.
- Specifics on each platform’s supported features and threading models vary.

> Internally, platform detection macros like `GTEST_OS_LINUX`, `GTEST_OS_WINDOWS`, `GTEST_OS_MAC`, and others help GoogleTest adjust behavior automatically for each OS.

---

## 3. Supported Compilers

GoogleTest supports the major modern C++ compilers that provide C++17 support, including:

- **GCC (GNU Compiler Collection)**
- **Clang/LLVM**
- **Microsoft Visual C++ (MSVC)**
- Other vendor-specific compilers compliant with C++17

### Compiler Considerations

- On Windows with Visual Studio, pay attention to runtime library linking modes (static vs dynamic). GoogleTest defaults to static runtime linking but provides the option to switch to dynamic via the `gtest_force_shared_crt` CMake option.
- Threading and exception handling support must be enabled for full functionality.

---

## 4. Cross-Platform Usage Guidance

### Build System Compatibility

GoogleTest is designed to work seamlessly across platforms with popular build systems, particularly **CMake** and to some extent **Bazel**.

- When using CMake, the provided `CMakeLists.txt` scripts are widely compatible across platforms.
- GoogleTest can be added as a subdirectory or found as an installed package.
- Adjust platform-specific compiler flags as necessary.

### Program Entry Points

Some platforms, especially embedded, deviate from the usual `main(int argc, char** argv)` entry point:

| Platform            | Entry Point                   | Notes |
|---------------------|-------------------------------|-------|
| Most Desktop OSes   | `int main(int, char**)`        | Standard usage |
| QURT                | `int main()`                   | argc/argv unavailable |
| Arduino-like (ESP32, ESP8266, NRF52 + Arduino) | `setup()` and `loop()` | Replace main; GoogleTest initializes in setup() and repeatedly runs in loop() |

> This allows GoogleTest to operate on platforms with non-standard runtime environments.

### Threading

- GoogleTest is thread-safe when the pthread library or equivalent is available.
- To force pthread support detection, define `-DGTEST_HAS_PTHREAD=1` or `-DGTEST_HAS_PTHREAD=0` explicitly.
- If manually controlling build flags, ensure to link against pthread (`-pthread` on Linux).

---

## 5. Common Compatibility Pitfalls and How to Avoid Them

### Compiler Standard Mismatch

- If you see errors complaining about missing C++17 features, verify that your compiler flags enable C++17.

### Runtime Library Mismatch on Windows

- Visual Studio linking errors like `RuntimeLibrary` mismatch often occur if GoogleTest is using static CRT and your project uses dynamic CRT. Use:

```cmake
-Dgtest_force_shared_crt=ON
```

in your CMake build to align runtime linkage.

### Conflicts with Macro Names

- If GoogleTest macro names conflict with other libraries, disable macros explicitly to rename them by defining:

```bash
-DGTEST_DONT_DEFINE_TEST=1
```

(replace `TEST` with the desired macro.)

### Missing Thread Library

- Linking errors related to pthread can be resolved by adding pthread linking flags in your build.

---

## 6. Troubleshooting Compatibility Issues

<AccordionGroup title="Troubleshooting Common Platform Issues">
<Accordion title="Build Fails Due to Missing C++17 Support">
Ensure your compiler is recent enough and that your build system requests C++17 or later support explicitly. For example, add `-std=c++17` flag for GCC and Clang.
</Accordion>
<Accordion title="Linker Errors on Windows about RuntimeLibrary mismatch">
Enable the `gtest_force_shared_crt` flag in your CMake build to unify runtime linkage.
</Accordion>
<Accordion title="Tests Do Not Run on Embedded Platforms">
Check the platform entry point. For Arduino-like platforms, ensure your project defines `setup()` and `loop()` instead of `main()`. GoogleTest hooks into these for test execution.
</Accordion>
<Accordion title="Threading Not Working as Expected">
Verify pthread support detection or force it by defining `-DGTEST_HAS_PTHREAD=1`. Make sure to link pthread library properly.
</Accordion>
</AccordionGroup>

---

## 7. Additional Resources

- [GoogleTest Foundational C++ Support Policy and Supported Platforms](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md)
- [googletest README on GitHub](https://github.com/google/googletest/blob/main/README.md#build-with-cmake)
- [System Requirements & Supported Platforms](https://github.com/google/googletest/blob/main/docs/getting-started/setup-prerequisites/system-requirements.md)
- [Project Setup Guide](https://github.com/google/googletest/blob/main/docs/getting-started/installation-configuration/project-setup.md)  
- [Platform Compatibility and Porting Utilities API Reference](https://github.com/google/googletest/blob/main/docs/api-reference/advanced-and-internal-apis/platform-compatibility.md)

---

## 8. Summary Diagram of Compatibility Layers

```mermaid
flowchart TD
  subgraph "Build Environment"
    CMake[CMake Build]
    Bazel[Bazel Build]
    CustomBuild[Custom Build Scripts]
  end

  subgraph "Compiler"
    GCC[GCC (≥ C++17)]
    Clang[Clang (≥ C++17)]
    MSVC[MS Visual C++ (≥ C++17)]
  end

  subgraph "Operating Systems"
    Linux[Linux (and Android)]
    Windows[Windows]
    MacOS[macOS/iOS]
    Embedded[Embedded (ESP8266/ESP32/NRF52)]
    OtherUnix[Other Unix-like]
  end

  BuildEnv -->|uses| Compiler
  Compiler -->|targets| Operating Systems
  Operating Systems -->|entry points| EntryPoints

  subgraph "Entry Points"
    StdMain[main(argc, argv)]
    QURTMain[main() - no args]
    ArduinoSetupLoop[setup(), loop()]
  end

  Linux --> StdMain
  Windows --> StdMain
  MacOS --> StdMain
  Embedded --> ArduinoSetupLoop
  QURTMain

  Embedded -.->|Some platforms| QURTMain

```

This diagram illustrates the layered compatibility model, showing how GoogleTest fits into common build environments, compilers, and OSes, and adapts to platform-specific entry points.

---

<Tip>
Always verify your build environment and compiler support for C++17 before integrating GoogleTest. This ensures the best experience and avoids hidden incompatibility issues.
</Tip>

<Check>
Use the official GoogleTest CMake scripts and configuration options whenever possible. They automatically handle many platform-specific settings, making cross-platform compatibility easier.
</Check>

<Warning>
Hardcoding platform-specific workarounds or skipping compiler flags can cause subtle bugs or build failures. Follow the recommended build practices outlined here.
</Warning>
