---
title: "Getting Started with GoogleTest & GoogleMock"
description: "Covers the essential questions about installation, compatible platforms, compiler requirements, and initial setup for a seamless onboarding with GoogleTest and GoogleMock. Clarifies first-use steps and basic expectations, helping new users become productive quickly."
---

# Getting Started with GoogleTest & GoogleMock

Welcome to your quick gateway for setting up and beginning your journey with GoogleTest and GoogleMock. This guide covers essential questions on installation, compatible platforms, compiler requirements, and the initial setup process to ensure you onboard quickly and effectively.

---

## Installation & Platform Compatibility

### Supported Platforms
GoogleTest and GoogleMock run seamlessly on Linux, Windows, and macOS platforms. These frameworks have been designed to work across these operating systems using a wide variety of compilers, ensuring broad compatibility.

### Compiler Requirements
You must use a C++ compiler that supports at least the C++17 standard. Popular supported compilers include GCC, Clang, and MSVC (with appropriate settings). Ensuring a compliant compiler means:

- Full C++17 support
- Compatibility with the platform's threading model

Refer to the [System Requirements](/getting-started/prerequisites-installation/system-requirements) page for a complete list of tested and supported environments.

### Building with CMake
GoogleTest comes with built-in CMake scripts to simplify building and integration.

#### Standalone Build
To build GoogleTest and GoogleMock independently:

```sh
# Clone the repository at your chosen version
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
mkdir build
cd build

# Generate build files for both GoogleTest and GoogleMock (default)
cmake ..

# Alternatively, build GoogleTest only
cmake .. -DBUILD_GMOCK=OFF

# Build
make
# (Optional) install system-wide
sudo make install
```

On Windows, you can generate Visual Studio solution files, and on macOS, Xcode projects will be created as part of the CMake configuration.

#### Integrating into Existing CMake Projects
Add GoogleTest as a subdirectory or fetch it at configure time:

```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE) # On Windows if needed
FetchContent_MakeAvailable(googletest)

add_executable(my_tests test_main.cpp)
target_link_libraries(my_tests gtest_main gmock_main)
add_test(NAME my_tests COMMAND my_tests)
```

Refer to [Install with CMake](/getting-started/prerequisites-installation/install-cmake) for detailed instructions.

### C++ Standard and Multi-threading
GoogleTest requires C++17 or higher. It is thread-safe on POSIX-compliant systems supporting pthreads. On Windows, thread safety is limited to tests executed on the main thread unless you manage synchronization explicitly.

---

## Initial Setup & First Use

### Basic Project Configuration
To use GoogleTest and GoogleMock effectively, configure your project to:

1. Include GoogleTest and GoogleMock header directories (usually `googletest/include`, `googlemock/include`).
2. Link against the compiled static or shared GoogleTest and GoogleMock libraries (`gtest`, `gmock`, `gtest_main`, `gmock_main`).
3. Organize your test source files to separate production code from tests.

A minimal CMake example for your test executable:

```cmake
add_executable(my_tests test_name.cc)
target_link_libraries(my_tests gtest_main gmock_main)
```

### Writing Your First Test
Start by including GoogleTest headers and using `TEST()` macros. Here is a minimal example:

```cpp
#include <gtest/gtest.h>

TEST(ExampleTest, BasicAssertions) {
  EXPECT_EQ(1 + 1, 2);
  EXPECT_TRUE(true);
}
```

Compile and link with GoogleTest; run the executable to see your test results.

### Using gMock
GoogleMock extends GoogleTest to allow mocking of classes and functions.

Example of a simple mock method declaration:

```cpp
#include <gmock/gmock.h>

class MockFoo {
 public:
  MOCK_METHOD(int, Bar, (int x), ());
};
```

Set expectations and verify behavior in your tests using `EXPECT_CALL` and `ON_CALL`.

See the [Add Your First Mock (Optional)](/getting-started/basic-setup-first-test/using-googlemock) guide for a detailed introduction.

### Running Tests
Your `main()` can be custom or linked from `gtest_main` or `gmock_main`:

```cpp
int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Or simply link your binary with `gtest_main` or `gmock_main` which provide default entry points.

### Common Pitfalls
- Forgetting to call `InitGoogleTest()` before `RUN_ALL_TESTS()` will cause command-line flags and initialization to break.
- Linking only `gtest` without `gmock` if you intend to use mocks.
- Using incompatible compiler settings between your code and GoogleTest libraries.

---

## Troubleshooting Tips for First Time Users

- Verify your compiler supports C++17; inspect flags or build logs.
- Use verbose build output to ensure GoogleTest and GoogleMock are correctly compiled and linked.
- Run the included GoogleTest sample tests as a verification step.
- Check for platform-specific issues and see [Troubleshooting Common Issues](/getting-started/troubleshooting-validation/common-issues).

---

## Best Practices for Onboarding

- Start with simple non-mocking tests to verify setup.
- Gradually add mock objects after confirming successful test runs.
- Use the `gmock_main` binary for clean integration and minimal boilerplate.
- Organize tests in suites with meaningful names reflecting tested components.

Explore the following guides next for deeper mastery:

- [GoogleTest Primer](primer.md) - Learn how to write tests and use assertions.
- [Mocking for Dummies](gmock_for_dummies.md) - Beginner-friendly mocking techniques.
- [Writing and Running Tests](/guides/core-workflows/writing-tests)

---

## Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html)
- [GoogleTest Official Primer](primer.md)
- [GoogleTest CMake Integration Guide](/getting-started/prerequisites-installation/install-cmake)
- [Supported Platforms](/getting-started/prerequisites-installation/system-requirements)

---

This page forms your essential onboarding foundation, getting you from installation to running your first test quickly while setting expectations for further learning and integration with GoogleTest and GoogleMock.