---
title: "Troubleshooting common build and runtime errors"
description: "Covers frequent pitfalls such as linking errors, missing symbols, misconfigured macros, and test discovery issues. Provides clear troubleshooting steps and advice for debugging failing or skipped tests."
---

# Troubleshooting Common Build and Runtime Errors

This page addresses the most frequent pitfalls developers encounter when building and running tests with GoogleTest. By following clear troubleshooting steps and learning about common symptoms such as linking errors, missing symbols, misconfigured macros, and test discovery problems, you can diagnose and fix failing or skipped tests efficiently.

---

## 1. Common Linking Errors

Linking problems are among the most common issues when integrating GoogleTest into your project. They typically manifest as undefined references or missing symbols during the build phase.

### Common Causes
- **Not linking with GoogleTest libraries:** Ensure your build system links the `gtest` and optionally `gtest_main` or `gmock` libraries as needed.
- **Mixing debug and release builds:** Linking a debug build of GoogleTest against a release build of your code (or vice versa) causes ABI mismatches.
- **Incorrect library paths:** Verify build configurations point to the correct library directories.
- **Ignoring dependencies:** GoogleMock requires GoogleTest linked implicitly or explicitly.

### Troubleshooting Steps
1. **Verify Library Linking:** Check your CMakeLists.txt, Bazel BUILD files, or other build scripts to confirm linking against the correct GoogleTest targets (`gtest`, `gtest_main`, and/or `gmock`).
2. **Consistent Build Modes:** Build and link GoogleTest and your project components using the same configuration (Debug, Release, etc).
3. **Check Compiler Compatibility:** Make sure the compiler and flags match those used to build GoogleTest.
4. **Inspect Build Logs:** Look for undefined references or missing symbols and trace them to missing object files or libraries.

<Callout title="Tip">
Keep GoogleTest libraries updated and rebuilt when upgrading your compiler or build environment to prevent subtle incompatibilities.
</Callout>

---

## 2. Missing Symbols and Macro Misconfigurations

Failure to define or configure certain macros properly results in missing or silently skipped tests.

### Key Macros to Check
- **`GTEST_HAS_DEATH_TEST`**: Enables death test support; absence can cause death tests not to run or compile.
- **`GTEST_SKIP()`**: Skips tests at runtime; if unexpectedly used in fixtures or setup code, may cause tests to appear missing.
- **Test Registration Macros (`TEST`, `TEST_F`, etc):** Incorrect usage or spelling errors (e.g., misspelling `SetUp()` as `Setup()`) prevent tests from registering.

### Common Issues
- Tests silently skipped due to macro misconfigurations.
- Misspelled override methods prevent proper setup/teardown execution.
- Disabled tests prefixed with `DISABLED_` are not run unless explicitly allowed.

### Debugging Tips
- Double-check test macros for typos and correct usage.
- Use `--gtest_list_tests` flag to see which tests GoogleTest discovered.
- If tests are missing, confirm that `InitGoogleTest()` is called before `RUN_ALL_TESTS()`.
- Remember that `SetUp()` and `TearDown()` must be spelled exactly and marked `override` if overriding.

---

## 3. Test Discovery Issues

Sometimes tests don't run because GoogleTest fails to discover them properly.

### Causes
- Tests defined but not linked properly due to build system errors.
- Using `DISABLED_` prefix unintentionally disables tests.
- Filtering tests with `--gtest_filter` excludes tests.
- Test name conventions not followed (avoid underscores in test and suite names).

### How to Verify
- Run the test binary with `--gtest_list_tests` to display all registered tests.
- Check that test source files are compiled and linked into the test executable.
- Remove or adjust filters that may exclude tests.

---

## 4. Debugging Failing or Skipped Tests

After verifying your tests build and are discovered, you may still face runtime failures or tests being skipped unexpectedly.

### Common Runtime Problems
- **Tests skipped via `GTEST_SKIP()`**: Check fixture `SetUp()` or environment for calls to `GTEST_SKIP()`.
- **Order-dependent failures:** Use `--gtest_shuffle` to detect hidden dependencies.
- **Multi-threading or death test issues:** Death tests require careful setup and may fail silently if misconfigured.

### Diagnosing Failures
- Use `--gtest_break_on_failure` to enable breakpoints on failures while debugging.
- Include `SCOPED_TRACE()` to add context to failures in helper functions.
- Run with `--gtest_repeat=N` to uncover flaky tests.

### Handling Skipped Tests
- `GTEST_SKIP()` causes runtime skipping. It can appear in setup or test bodies signaling unmet preconditions.
- Disabled tests (`DISABLED_` prefix) are skipped unless run with `--gtest_also_run_disabled_tests`.

<Callout title="Note">
Test skipping is often intentional for conditional scenarios or platform-specific code. Always check why the skip is triggered.
</Callout>

---

## 5. Best Practices for Smooth Testing

- Always call `testing::InitGoogleTest(&argc, argv)` before `RUN_ALL_TESTS()`.
- Verify your test binaries with `--gtest_list_tests` to ensure proper discovery.
- Avoid misspelling lifecycle methods like `SetUp` and `TearDown`. Mark them `override`.
- Confirm that test fixtures and tests are included in your build and linked.
- Prefer `EXPECT_*` assertions to continue test execution when feasible; use `ASSERT_*` for fatal conditions.
- Use command-line flags (`--gtest_filter`, `--gtest_repeat`, `--gtest_break_on_failure`) to control and debug test runs.

---

## 6. Troubleshooting Workflow

<Steps>
<Step title="Verify Initialization">
Ensure `InitGoogleTest()` is called early in your `main()` function.
</Step>
<Step title="Confirm Test Registration">
Run executable with `--gtest_list_tests` to check which tests are recognized.
</Step>
<Step title="Examine Build Configuration">
Inspect compile and link commands to verify inclusion of GoogleTest headers and libraries.
</Step>
<Step title="Check Macro Usage">
Validate correct macro usage (`TEST`, `TEST_F`, no typos, correct method overrides).
</Step>
<Step title="Look For Disabled or Skipped Tests">
Remove `DISABLED_` prefixes or use `--gtest_also_run_disabled_tests`. Search for unexpected `GTEST_SKIP()` calls.
</Step>
<Step title="Analyze Failures">
Use verbose flags and stack traces (`--gtest_break_on_failure`, `SCOPED_TRACE`) to localize issues.
</Step>
<Step title="Iterate Fixes">
Adjust test code or build setup and rerun until resolved.
</Step>
</Steps>

---

## 7. Additional Resources

- [Installing and Setting up GoogleTest](../../faq/getting-started-issues/install-setup-faq.md)
- [Writing and Running Your First Test](../../guides/gtest-core-workflows/writing-and-running-tests.md)
- [Essential Assertions and How to Use Them](../../guides/gtest-core-workflows/using-assertions.md)
- [Integration with Your Build System](../../getting-started/prerequisites-installation/integration-build-systems.md)


---

## Summary
This page is your go-to guide for diagnosing and resolving common build and runtime errors encountered when using GoogleTest. It delivers practical, user-focused troubleshooting strategies covering linking issues, macro and method misconfigurations, test discovery problems, and runtime test failures or skipped tests. Following these guidelines will help maintain a reliable, productive testing workflow.

---