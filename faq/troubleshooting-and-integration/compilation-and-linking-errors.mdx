---
title: "How do I resolve compilation or linker errors?"
description: "Focused steps and common reasons behind build failures, missing symbols, or header-related issues. Covers typical misconfigurations for CMake/Bazel, handling dependencies, minimum C++ standard requirements, and ways to debug and resolve such errors quickly."
---

# How do I resolve compilation or linker errors?

Encountering compilation or linker errors while integrating or building GoogleTest is a common hurdle that can halt your testing progress. This FAQ page empowers you with focused steps and actionable insights to quickly identify and resolve these build failuresâ€”covering common scenarios such as missing symbols, header issues, misconfigurations with build systems like CMake and Bazel, dependency and C++ standard compatibility, and debugging tips.

---

## 1. Understanding Compilation and Linker Errors

Compilation errors and linker errors often indicate distinct problems:

- **Compilation Errors** usually relate to incorrect or missing header files, syntax errors, or C++ standard mismatches.
- **Linker Errors** often happen when the compiler can't find the implementations for declared functions or symbols, commonly due to missing object files, static libraries, or incorrect linking order.

### Why do these errors occur with GoogleTest?

The most common reasons when working with GoogleTest include:

- Incorrect inclusion or missing GoogleTest headers.
- GoogleTest library binaries not linked properly.
- Mismatches in C++ language standards between your project and GoogleTest.
- Misconfigured CMake or Bazel build scripts.
- Missing dependencies or incorrect usage of test fixtures, macros, or setup functions.

---

## 2. Focused Steps to Resolve Build Failures

### Step 1: Verify Inclusion of GoogleTest Headers

- Ensure you include the **main GoogleTest header** correctly:

  ```cpp
  #include <gtest/gtest.h>
  ```

- The header must be accessible to your compiler. Check your include paths or build configuration to confirm that `googletest/include/` is properly referenced.

- If using GoogleMock as well, include `<gmock/gmock.h>` which in turn includes GoogleTest.

### Step 2: Confirm Linking against GoogleTest Libraries

- When building your test executable, link against either `gtest` or `gtest_main` libraries.
- For CMake, typical linking looks like:

  ```cmake
  target_link_libraries(your_test_target gtest_main)
  ```

- `gtest_main` provides a default `main()` function. If you provide your own `main()`, link against `gtest` instead.

- Check in your build output for any missing library linker flags or failures to find libraries.

### Step 3: Confirm C++ Standard Compatibility

- GoogleTest **requires at least C++17** to build and function correctly.
- Ensure your project is configured to use C++17 or newer.

  - For CMake, this can be set with:

    ```cmake
    set(CMAKE_CXX_STANDARD 17)
    set(CMAKE_CXX_STANDARD_REQUIRED ON)
    ```

- In case you encounter errors related to language features or standard library usage, verify the compiler supports and is configured for C++17.

### Step 4: Check Build System Configuration

#### For CMake:

- Make sure you have correctly included GoogleTest in your project either as a subdirectory or via `find_package`.

- If using `FetchContent`, verify you call `FetchContent_MakeAvailable(googletest)` before linking.

- Watch out for the `gtest_force_shared_crt` option on Windows, which ensures runtime library linking compatibility.

- Confirm that the expected static or shared library linkage is consistent across all targets.

#### For Bazel:

- Confirm you have declared and included GoogleTest dependencies properly in your `WORKSPACE` and `BUILD` files.

- Confirm that `cc_test` rules properly declare `deps` on `@com_github_google_googletest//:gtest` or equivalent.

- Misconfiguration can lead to unresolved symbols during linking.

### Step 5: Validate Test Macros and Fixture Usage

- Make sure your test definitions use `TEST()` or `TEST_F()` macros correctly:

  - `TEST(TestSuiteName, TestName) { ... }`
  - `TEST_F(TestFixtureClassName, TestName) { ... }`

- Ensure test fixture classes inherit from `testing::Test` and their methods follow guidelines (i.e., proper `SetUp()`, `TearDown()` signatures).

- Confirm that if you use `ASSERT_*` in helper functions, those functions return `void` to prevent compilation errors.

### Step 6: Debugging Common Header or Symbol Errors

- If you get errors about missing symbols like `undefined reference` or `unresolved external symbol` related to GoogleTest methods:

  - Check if the GoogleTest library is linked.

  - Confirm object files for tests are built and linked.

  - Verify consistent runtime and compiler flags between GoogleTest and your test code.

- For errors about missing headers:

  - Confirm include paths and correct capitalization/syntax.

  - Sometimes IDEs need to be refreshed or caches cleared after adding new files.

---

## 3. Common Misconfigurations and How to Fix Them

| Common Cause                                   | Symptoms                                          | Resolution                                                                       |
|-----------------------------------------------|--------------------------------------------------|----------------------------------------------------------------------------------|
| Missing `gtest`/`gtest_main` linkage           | Linker errors for GoogleTest symbols             | Link your test executables properly with the GoogleTest libraries                |
| Mismatch in C++ standard                       | Compilation errors related to language features  | Ensure your compiler and build system use **C++17** or newer                    |
| Header not found or misconfigured include path | Compilation error: file not found                 | Correct include paths and confirm folder structure for GoogleTest includes       |
| Mixing `TEST` and `TEST_F` in same test suite | Compilation or runtime errors                      | Do not mix; use consistent test macros for test suite fixtures                   |
| Using fatal assertions in non-void functions  | Compile error at assertion placement              | Use void functions or nonfatal `EXPECT_*` assertions for non-void-returning code  |

---

## 4. Practical Debugging Tips

- **Examine the Full Build Log:** Look for missing libraries or paths in the linker command.

- **Use Verbose Build Outputs:** For CMake, call `make VERBOSE=1` or enable verbose mode in your IDE.

- **Isolate New Configurations:** Try building a minimal test that includes `<gtest/gtest.h>`, defines a simple `TEST()`, and links against `gtest_main` to isolate build issues.

- **Consistency in Compiler Flags:** Make sure compiler flags, especially related to C++ standard, ABI, and runtime libraries are consistent between GoogleTest and your tests.

- **Check for Multiple Versions:** Having multiple GoogleTest versions installed can lead to conflicts. Remove any old or incompatible versions.

- **Update your CMake or Bazel scripts:** Use provided integration examples from [Guides: Integrating with Build Systems](/guides/test-automation-and-integration/integrating-with-build-systems).

- **Confirm environment variable overrides:** Variables like `CXXFLAGS` can influence compiler behavior unexpectedly.

- **Rebuild GoogleTest:** If you have manually built GoogleTest previously, clean and rebuild to ensure linkage compatibility.

---

## 5. Quick Reference: Minimal Working Example

### Minimal Test Source:

```cpp
#include <gtest/gtest.h>

TEST(SimpleTest, Example) {
  EXPECT_EQ(1, 1);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

### CMakeLists.txt snippet:

```cmake
cmake_minimum_required(VERSION 3.14)
project(MyTests)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

find_package(GTest REQUIRED)

add_executable(tests test_main.cpp)  # your test file here

target_link_libraries(tests GTest::gtest_main)

include(GoogleTest)
gtest_discover_tests(tests)
```

Build this standalone test to confirm your build environment and GoogleTest linkage.

---

## 6. Resources for Further Troubleshooting

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md): Learn basics and common pitfalls.
- [Getting Started Troubleshooting](https://github.com/google/googletest/blob/main/getting-started/first-tests-validation/troubleshooting.mdx): Covers setup and typical errors.
- [Build Integration Guide](https://github.com/google/googletest/blob/main/guides/test-automation-and-integration/integrating-with-build-systems.mdx): Detailed instructions for CMake/Bazel users.
- [Supported Platforms & Requirements](https://github.com/google/googletest/blob/main/overview/adoption-and-integration/supported-platforms-and-requirements.mdx): Verify your platform compatibility and compiler support.
- [Assertions Reference](https://github.com/google/googletest/blob/main/docs/reference/assertions.md): Clarify assertion usage that might trigger fatal errors.
- [GoogleTest GitHub repository](https://github.com/google/googletest): Access latest release notes and examples.

---

## 7. Summary

Resolving compilation and linking errors with GoogleTest centers on verifying correct header usage, linking libraries properly, ensuring consistent C++17 standard support, correctly configuring your build system (CMake or Bazel), and aligning your test code with GoogleTest's conventions. By following the focused steps in this FAQ, you can swiftly unblock your builds and focus on testing rather than setup problems.

<Tip>
Always start with a minimal reproducible example to identify configuration issues early. Fully clean your build directories before reattempting to build if you encounter persistent errors.
</Tip>

<Warning>
Linker errors related to GoogleTest symbols indicate missing or incorrect linkage. Simply including headers is not enough; ensure that your link commands or CMake targets include the GoogleTest libraries.
</Warning>