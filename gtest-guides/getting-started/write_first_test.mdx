---
title: "Writing Your First Test"
description: "Learn how to create, run, and interpret your first test using GoogleTest. Follow a concrete example from setup to execution, discovering essential APIs and recommended test patterns."
---

# Writing Your First Test with GoogleTest

Welcome to the essential first step in mastering GoogleTest: writing, running, and interpreting your very first test. This guide transforms the abstract idea of testing into concrete action. You’ll see how to define a simple test, execute it, understand the output, and adopt best practices that scale as your project grows.

---

## What This Guide Will Help You Accomplish

- Create your first GoogleTest unit test using the `TEST` macro.
- Compile and run your test program to see results.
- Interpret test output, including success and failure cases.
- Learn key APIs involved in a GoogleTest workflow.
- Understand best practices and common gotchas for writing stable tests.

## Prerequisites

- GoogleTest installed and properly set up for your project (see [Installation Options](/getting-started/setup-introduction/installation-options) and [Configuration Basics](/getting-started/setup-introduction/configuration-basics)).
- A basic C++ development environment with C++17 support.
- Familiarity with compiling C++ programs.

## Expected Outcome

By following this guide, you will confidently write a simple GoogleTest test, run it in your environment, and interpret the output regardless of pass or fail. You’ll know how GoogleTest organizes tests and how to extend this knowledge to more complex scenarios.

## Time Commitment

Approximately 15 - 30 minutes, depending on your setup and familiarity with C++.

---

## Step-by-Step Instructions

<Steps>
<Step title="Create a Basic Test">
Write a new C++ source file (e.g., `sample_test.cpp`) and include the GoogleTest header:

```cpp
#include <gtest/gtest.h>
```
Define a simple test case using the `TEST` macro:

```cpp
TEST(ExampleTestSuite, FirstTest) {
  EXPECT_EQ(1 + 1, 2);  // Checks if 1 + 1 equals 2
}
```

- **Outcome:** You have declared a test named `FirstTest` in the `ExampleTestSuite`.
- **Tips:** 
  - Test suite and test names must not contain underscores (`_`). See [FAQ on underscore usage](faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore) for details.
  - Use `EXPECT_*` for non-fatal assertions that continue the test on failure.
</Step>

<Step title="Compile and Link Your Test">
Ensure your project includes GoogleTest headers and links to the GoogleTest library.

Example compilation command using `g++` (assuming GoogleTest is installed and pkg-config configured):

```shell
 g++ -std=c++17 sample_test.cpp -o sample_test $(pkg-config --cflags --libs gtest_main)
```

- **Outcome:** The executable `sample_test` is produced.
- **Tips:**
  - Use `gtest_main` to provide a ready-to-go `main()` function.
  - If integrating with CMake, add GoogleTest as a subdirectory or find_package and link accordingly.
</Step>

<Step title="Run Your Test Executable">
Execute your test binary:

```shell
./sample_test
```

- **Outcome:** You will see output similar to:

```
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ExampleTestSuite
[ RUN      ] ExampleTestSuite.FirstTest
[       OK ] ExampleTestSuite.FirstTest
[----------] 1 test from ExampleTestSuite (0 ms total)
[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```
- **Tips:**
  - If the test fails, GoogleTest prints detailed failure messages (see below).
  - Use `--gtest_list_tests` flag on your test executable to list all available tests.
</Step>

<Step title="Interpret Test Results">
Successful test output indicates your code behaves as expected.

If a test fails, GoogleTest prints:

- The failing assertion and its values.
- The file and line number of failure.
- A stack trace (if enabled).

Example failure message:

```
Value of: 1 + 1
  Actual: 3
Expected: 2
sample_test.cpp:10: Failure
```

- **Best Practice:** Always examine the exact failure message and line number to diagnose problems.
- **Tip:** Use `ASSERT_*` macros to generate fatal failures that abort the current test immediately.
</Step>

<Step title="Extend the Test (Optional)">
Enhance the test by adding more assertions:

```cpp
TEST(ExampleTestSuite, MultipleAssertions) {
  ASSERT_TRUE(5 > 3);
  EXPECT_NE(4, 5);
  EXPECT_LT(3, 7);
}
```

- Learn about `ASSERT_*` (fatal) vs `EXPECT_*` (non-fatal) macros.
- Understand how GoogleTest continues with non-fatal failures but stops a test on fatal failures.
</Step>

<Step title="Use Test Fixtures for Shared Setup">
For tests requiring shared setup/teardown, use test fixtures:

```cpp
class FooTest : public ::testing::Test {
 protected:
  void SetUp() override {
    value_ = 42;
  }
  int value_;
};

TEST_F(FooTest, UsesFixtureValue) {
  EXPECT_EQ(value_, 42);
}
```

- Use `TEST_F` to define tests that use a fixture.
- Fixtures help maintain test independence and reduce code duplication.
</Step>
</Steps>

---

## Practical Tips & Best Practices

- **Avoid underscores (`_`) in test suite and test names.** This prevents name collisions and ensures test discoverability.
- **Prefer `EXPECT_*` when you want the test to continue after an assertion failure, and `ASSERT_*` when failure should stop execution immediately.**
- **Use `TEST_F` when multiple tests share common setup or state.** This keeps tests clean and less error-prone.
- **Check the return value of `RUN_ALL_TESTS()` in your `main()` function** to correctly propagate test success or failure status.

---

## Common Troubleshooting

<AccordionGroup title="Common Issues When Writing Your First Test">
<Accordion title="Test Does Not Run or Is Skipped">
Ensure test names and suite names do not start or end with underscore `_`. Disabled tests have `DISABLED_` prefix.

Also check your filter flags to avoid excluding tests unintentionally.
</Accordion>

<Accordion title="Linker Errors When Building">
Verify GoogleTest is linked properly. If using CMake, link your test target against `gtest_main` or `gtest` and `gtest_main`.
</Accordion>

<Accordion title="Test Output Is Hard to Understand">
Use `--gtest_print_time=1` to show timing, and run your tests with `--gtest_color=yes` for better visibility.
Check failure messages closely for exact line and assertion.
</Accordion>

<Accordion title="Tests with Fixture Fail to Run and Show Constructor Errors">
Make sure your test fixture has a default constructor.

If you define custom constructors, define a default one as well.
</Accordion>
</AccordionGroup>

---

## Additional Resources & Next Steps

- [GoogleTest Installation Options](/getting-started/setup-introduction/installation-options) — How to set up GoogleTest
- [Using Test Fixtures](../reference/testing.md#TEST_F) — Deep dive on fixture usage
- [Assertions Reference](../api-reference/core-apis/assertions-reference) — Understand all assertion macros
- [Advanced Guide: Value-Parameterized and Typed Tests](../docs/advanced.md#value-parameterized-tests) — For scalable testing
- [Troubleshooting Common Setup Issues](/getting-started/first-experience/common-setup-issues)
- [Writing Your First Test Part II: Adding Mocks](/gtest-guides/getting-started/adding_mocks)

Remember, writing your first test is just the beginning. Mastering GoogleTest’s features will empower you to build robust, maintainable, and confident test suites that keep your code quality high.

---

## Example: Putting It All Together

Here’s a complete minimal test file to compile and run:

```cpp
#include <gtest/gtest.h>

// A simple test 
TEST(SimpleMath, Addition) {
  EXPECT_EQ(1 + 1, 2);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run:

```shell
  g++ -std=c++17 simple_math_test.cpp -o simple_math_test \
      $(pkg-config --cflags --libs gtest_main)
  ./simple_math_test
```

You will see output indicating the test succeeded.

---

## Understanding GoogleTest’s Core APIs

- **`TEST(TestSuiteName, TestName)`** — Define a simple test.
- **`TEST_F(TestFixtureName, TestName)`** — Define a test that uses a test fixture.
- **`EXPECT_EQ`, `ASSERT_TRUE`, etc.** — Assert conditions.
- **`RUN_ALL_TESTS()`** — Run all registered tests.
- **`InitGoogleTest()`** — Initialize GoogleTest and parse flags.

Refer to the [Testing Reference](../docs/reference/testing.md) for complete API details.

---

Congratulations on writing your first GoogleTest test!
