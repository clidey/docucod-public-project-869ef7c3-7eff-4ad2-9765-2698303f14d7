---
title: "Preparing Your Environment"
description: "Step-by-step guidance on setting up your development environment, including ensuring C++17 support, configuring your compiler, and acquiring necessary tools like CMake or Bazel. This page helps users verify that their system is ready before proceeding with installation."
---

# Preparing Your Environment

Prepare your development environment to successfully build and run GoogleTest. This guide ensures your system has the necessary toolchain, compiler support, and build tools before you start installation.

---

## 1. Confirm C++17 Support

GoogleTest requires a C++17-compliant compiler. Verifying this early avoids compilation issues later.

### Supported Compilers and Versions

- **GCC** 7 or later
- **Clang** 5 or later
- **MSVC** Visual Studio 2017 Update 3 or later

### How to Check C++ Standard Support

Run the following commands to check compiler and C++ standard support:

```bash
# GCC/G++ example
g++ --version
# Check if you can compile with -std=c++17
echo 'int main() { return 0; }' > test.cpp
g++ -std=c++17 test.cpp -o test
./test && echo "C++17 supported"
```

For MSVC, check the version via Visual Studio's IDE or run from Developer Command Prompt:

```powershell
cl
```

Look for compiler version details and ensure you target the C++17 standard.

<Warning>
Attempting to build GoogleTest without proper C++17 support will result in build failures. Please ensure your compiler version and flags comply with C++17 before proceeding.
</Warning>

---

## 2. Install Required Build Tools

GoogleTest supports building with **CMake** or **Bazel**. Choose the one that fits your workflow.

### A. Installing CMake

CMake is commonly used and widely supported.

1. **Download and install CMake:**
   - Visit [https://cmake.org/download/](https://cmake.org/download/) and download the latest installer for your platform.

2. **Verify installation:**

```bash
cmake --version
```

You should see output with version 3.14 or later. GoogleTest recommends CMake 3.14+ for `FetchContent` support.

<Tip>
If your operating system package repository has an older version, download the latest installer directly from the CMake website.
</Tip>

### B. Installing Bazel

Bazel is an alternative build system:

1. Follow instructions at [https://bazel.build/](https://bazel.build/) for your platform.
2. Verify installation:

```bash
bazel --version
```

---

## 3. Configure Your Compiler Environment

Proper compiler configuration matters, especially for supporting C++17.

### A. CMake Configuration Tips

- Enforce C++17 by setting the following in your `CMakeLists.txt`, or pass as a flag:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

- If you are integrating GoogleTest into an existing project, ensure your main project uses C++17 as well.

### B. Environment Variables

Some users customize environment variables to control build behavior (especially on CI systems).

- **Compiler selection:** Use `CC` and `CXX` to specify compilers explicitly:

```bash
export CC=gcc
export CXX=g++
```

- **PATH** should include directories of CMake, Bazel, and your compiler.


<Info>
GoogleTest does not require environment variables for its own operation but requires a consistent and compatible build environment.
</Info>

---

## 4. Verify File System Access and Temporary Directory Settings

GoogleTest uses the environment variables `TEST_TMPDIR` for temporary directories and `TEST_SRCDIR` for source directories. These are usually managed by your build system but are important for test isolation and discovery.

### Check or Set Temporary Directory

To view or export a temporary directory explicitly:

```bash
# Display current temporary directory environment variable
echo $TEST_TMPDIR

# Set a custom temp directory for testing
export TEST_TMPDIR=/tmp/gtest_temp
mkdir -p $TEST_TMPDIR
```

Ensure your build and test environment have write permissions to this directory.

---

## 5. Acquiring GoogleTest Source Code

Before building, you need to obtain the GoogleTest sources.

### Clone from GitHub

```bash
git clone https://github.com/google/googletest.git -b main
googletest
```

This clones the main branch with all necessary files.

---

## 6. Summary Verification Checklist

Before moving to installation, ensure:

- Your compiler supports C++17.
- CMake or Bazel is installed and its version verified.
- Environment variables `PATH`, `CC`, and `CXX` are correctly set if needed.
- Your user account has necessary permissions on filesystem directories (including for temporary files).
- GoogleTest source code is downloaded and accessible.

---

## Troubleshooting Common Environment Issues

<AccordionGroup title="Common Setup Issues and Solutions">
<Accordion title="Compiler Does Not Support C++17">
Ensure you have a sufficiently new compiler installed. Upgrade GCC, Clang, or Visual Studio to a version that supports C++17.
</Accordion>
<Accordion title="CMake Version Too Old">
Download and install a newer CMake release from https://cmake.org/download/ or use system package managers to upgrade it.
</Accordion>
<Accordion title="Temporary Directory Not Writable">
Check permissions of the directory pointed to by $TEST_TMPDIR or /tmp. Adjust permissions or select a writable directory.
</Accordion>
<Accordion title="Build Tool Not Found in PATH">
Verify that cmake or bazel commands are found in your system PATH. Add their installation directories to PATH and restart your shell.
</Accordion>
</AccordionGroup>

<Tip>
Checking environment readiness early mitigates risks of build failures and streamlines your onboarding to GoogleTest.
</Tip>

---

Congratulations! Your environment is now prepared for GoogleTest installation and compilation. Proceed next to the installation guide tailored to your preferred build tool.

For more, see:
- [Installing with CMake](/getting_started/installation_integration/install_cmake)
- [Installing with Bazel](/getting_started/installation_integration/install_bazel)

---

# Additional Resources

- [GoogleTest Supported Platforms and Prerequisites](/getting_started/setup_requirements/prerequisites_platforms)
- [GoogleTest Primer](docs/primer.md)
- [GoogleTest Build Instructions / README](https://github.com/google/googletest/blob/main/README.md)
