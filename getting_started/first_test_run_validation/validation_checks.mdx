---
title: "Validating Your Setup"
description: "Simple checks and troubleshooting steps to confirm that GoogleTest is working correctly after installation. Learn how to check test discovery, assertion results, and identify frequent setup issues."
---

# Validating Your Setup

Confirm that your GoogleTest installation and setup are correct with these simple checks and troubleshooting steps. This guide will help you verify that test discovery, assertion handling, and linking are functioning as expected after installation.

---

## 1. Verify Test Discovery

Your test executable should detect and report all test cases properly.

### Steps:

1. Run your test executable without any arguments:

   ```bash
   ./your_test_executable
   ```

2. You should see output listing all registered test suites and test cases, followed by test run progress and results.

3. If no tests run or the output shows "[ 0 tests from 0 test suites ran ]", confirm that:
   - Your test cases are defined using `TEST()`, `TEST_F()`, or related macros.
   - Test files are compiled and linked into your test executable.
   - Your main function initializes GoogleTest (e.g., `testing::InitGoogleTest(&argc, argv);`).

### Troubleshooting:

<Accordion title="No tests found or 0 tests ran">
If your executable shows 0 tests ran, check:

- Did you link against `gtest_main` or provide your own `main()` function calling `InitGoogleTest`?
- Are the `TEST` macros visible to your build system (proper includes and compilation)?
- Ensure build/link errors are fixed; sometimes tests are not linked properly.

</Accordion>

## 2. Run a Simple Assertion Check

Test that assertions are properly evaluated and failures reported.

### Steps:

1. Create a simple test case if you don't have one:

   ```cpp
   TEST(BasicTest, SimpleAssertion) {
     EXPECT_EQ(1, 1);  // This should pass
     EXPECT_EQ(1, 2);  // This should fail
   }
   ```

2. Compile and run your tests.

3. Review the output:
   - You should see a failure message for the assertion `EXPECT_EQ(1, 2)`.
   - The output should include the file and line number, the expected and actual values.

### Troubleshooting:

<Accordion title="Assertions not evaluated or no failure reports">
If assertions appear ignored or failures aren't reported:

- Make sure you compile with debug info (`-g` flag) for clearer error messages.
- Check that your test framework is not being overridden or shadowed.
- Verify no conflicting versions of GoogleTest are linked.

</Accordion>

## 3. Sample Minimal Test

Use this minimal test program to confirm your environment.

```cpp
#include <gtest/gtest.h>

TEST(SampleTest, AlwaysTrue) {
  EXPECT_TRUE(true);
}

int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Build and run this test. It should pass and print output confirming the test run.

## 4. Common Setup Issues and Fixes

| Problem                         | Cause                                        | Solution                                     |
|--------------------------------|----------------------------------------------|----------------------------------------------|
| Tests not discovered            | No `main()` or missing `InitGoogleTest` call | Add `main()` with `InitGoogleTest(&argc, argv)` or link `gtest_main`  |
| Linker errors on test symbols   | Missing GoogleTest libraries                 | Link with `gtest` and `gtest_main` libraries                        |
| Runtime error on assertions     | Multiple GoogleTest versions linked          | Ensure only one GoogleTest version is linked                         |
| Tests compile but not linked    | Test source files not included in build      | Add test sources to your build system                                |

## 5. Confirm GoogleMock Integration (Optional)

If your environment includes GoogleMock, verify its setup:

```cpp
#include <gmock/gmock.h>
using ::testing::Return;

class Foo {
 public:
  virtual int GetValue() = 0;
};

class MockFoo : public Foo {
 public:
  MOCK_METHOD(int, GetValue, (), (override));
};

TEST(GMockTest, BasicMock) {
  MockFoo mock;
  EXPECT_CALL(mock, GetValue()).WillOnce(Return(42));
  EXPECT_EQ(mock.GetValue(), 42);
}
```

Compile and run. Verify that mocks behave as expected.

## 6. Handling Common Errors

<AccordionGroup title="Troubleshooting Common Setup Errors">
<Accordion title="Linker errors related to GoogleTest">
- **Cause:** GoogleTest or GoogleMock libraries not linked.
- **Fix:** Add `-lgtest -lgtest_main` (and `-lgmock` if using GoogleMock) to your linker flags.
</Accordion>
<Accordion title="Unrecognized `TEST` macros or compilation issues">
- **Cause:** Missing `#include <gtest/gtest.h>` or incorrect include paths.
- **Fix:** Confirm header includes and compiler include paths.
</Accordion>
<Accordion title="Test executable crashes on startup">
- **Cause:** Mismatched runtime libraries, conflicting GoogleTest versions.
- **Fix:** Consistently use the same versions and build configurations.
</Accordion>
<Accordion title="Tests silently pass without running">
- **Cause:** Tests are disabled or incorrectly named.
- **Fix:** Ensure tests are not prefixed with `DISABLED_` and follow naming conventions.
</Accordion>
</AccordionGroup>

## 7. Verification Indicators

- Tests are detected and run when executing your test binary.
- Assertions generate descriptive pass/fail information.
- GoogleMock expectations (if used) behave as configured.
- No runtime warnings or errors related to GoogleTest internals.

## 8. Next Steps

- Write your first functional tests (see [Writing Your First Test](write_first_test)).
- Integrate test runs into your build system.
- Explore GoogleMock [Mocking Workflows](mocking-workflows).
- Review troubleshooting tips in [Common Installation & Setup Problems](common_problems).

---

## Additional Tips

- Use the `--gtest_list_tests` flag to list all discovered tests if unsure.
- Run with `--gtest_verbose=info` for detailed mock call tracing.
- Suppress uninteresting call warnings using `NiceMock` or setting expectations with `.Times(AnyNumber())`.

---

## References

- [GoogleTest Primer](primer.md)
- [Writing and Running Your First Test](write_first_test.md)
- [Building and Running Tests](build_run_test.md)
- [GoogleMock Cookbook](gmock_cook_book.md)
- [Common Installation & Setup Problems](common_problems.md)

---

For full integration, check setup with your build system, whether CMake, Bazel, or manual integration, and ensure linking and includes are configured accordingly.


<Check>
Make sure to re-run tests after any configuration changes to verify the problem is resolved.
</Check>
