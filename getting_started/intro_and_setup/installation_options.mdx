---
title: "Installation & Build Options"
description: "Step-by-step instructions for installing GoogleTest, covering multiple approaches: building from source with CMake, integrating via Bazel, and alternative methods such as package managers. Explains where to find platform-specific guides and what to do after cloning or downloading the repository."
---

# Installation & Build Options for GoogleTest

This guide provides practical, step-by-step instructions for installing and building GoogleTest, covering multiple approaches to suit your development environment and preferences.

---

## 1. Prepare Your Environment

Before starting the installation, ensure your system meets these prerequisites:

- **C++17 Support:** GoogleTest requires a compiler that supports at least C++17.
- **Build Tools:** CMake (version 3.14 or later recommended) is used for building GoogleTest.
- **Network Access:** To clone the repository or download release archives.

Refer to the [Prerequisites & Requirements](../getting_started/intro_and_setup/prerequisites_requirements.md) page for detailed system and compiler compatibility.

---

## 2. Cloning or Downloading GoogleTest

You can obtain GoogleTest's source code in two ways:

### a. Clone the Repository

```bash
git clone https://github.com/google/googletest.git -b main
d
``` 
This will fetch the latest version from the main branch.

### b. Download Release Archive

Visit the [GoogleTest GitHub releases](https://github.com/google/googletest/releases) page to download a compressed archive of a stable release.

---

## 3. Building GoogleTest with CMake (Standalone)

This method builds GoogleTest as a standalone project, including GoogleMock.

### Steps:

1. Navigate to the directory where you cloned/downloaded GoogleTest:

```bash
cd googletest
```

2. Create a build directory and enter it:

```bash
mkdir build && cd build
```

3. Generate build files with CMake:

```bash
cmake ..
```

> By default, this will build both GoogleTest and GoogleMock.

4. Build the project:

```bash
make
```

> On Windows, you can open the generated Visual Studio solution file instead.

5. (Optional) Install GoogleTest system-wide:

```bash
sudo make install
```

This installs headers and libraries typically under `/usr/local/`.

### Alternative: Build Only GoogleTest

If you want to build *only* GoogleTest, run CMake with:

```bash
cmake .. -DBUILD_GMOCK=OFF
```

Then proceed with `make`.

---

## 4. Incorporating GoogleTest into Your Existing CMake Project

GoogleTest can be directly added as a subdirectory to your project's build:

1. Add GoogleTest as a git submodule or have its source placed in a known location.

2. In your project's `CMakeLists.txt`, add:

```cmake
add_subdirectory(path/to/googletest)
```

This approach compiles GoogleTest and your project with consistent compiler and linker settings.

3. Link your tests against GoogleTest libraries, for example:

```cmake
target_link_libraries(your_test_target gtest_main)
```

This method is preferred for CI environments or projects requiring tight integration.

---

## 5. Building GoogleTest Using Bazel

If you use Bazel as your build system, GoogleTest supports building with it.

- Clone the repository.
- Follow Bazel's standard build commands in the Googletest repo for building and running tests.

Refer to [Bazel Integration details](https://github.com/google/googletest#using-with-bazel) on the GitHub page for specific instructions.

---

## 6. Alternative Installation Methods

### Package Managers

On many platforms, GoogleTest is available via package managers. Examples:

- **Ubuntu/Debian:**

```bash
sudo apt-get install libgtest-dev
```

*Note:* The package may not come pre-built; you might need to build the library manually after installing headers.

- **Homebrew (macOS):**

```bash
brew install googletest
```

### Manual Build from Source

If CMake is not an option, you can manually build GoogleTest by compiling its source files (`gtest-all.cc`, `gmock-all.cc`) and linking into your project. This is less recommended but viable in constrained environments.

---

## 7. Verifying Your Installation

### Quick Verification

After building, run the provided tests to confirm the build succeeded:

```bash
make test
# or
ctest
```

To run specific tests use regex matching, e.g.:  

```bash
ctest -R gmock_actions_test
```

If tests pass, your build is correctly configured.

### Include and Link Against GoogleTest

In your project, include GoogleTest headers:

```cpp
#include <gtest/gtest.h>
```

Link your test executable with `gtest_main` or `gtest`:

```cmake
target_link_libraries(your_test_target gtest_main)
```

Running your test executable should execute all defined tests.

---

## 8. Troubleshooting Common Build Issues

<AccordionGroup title="Common Build Issues">
<Accordion title="CMake Version Too Low">
Ensure your CMake version is at least 3.14 (preferably 3.16+). Check with:

```bash
cmake --version
```

Update CMake if needed.
</Accordion>
<Accordion title="Compiler Does Not Support C++17">
GoogleTest requires C++17:

- Verify your compiler version.
- Set the C++ standard explicitly in your CMakeLists.txt:

```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```
</Accordion>
<Accordion title="Linker Errors Related to Pthreads">
GoogleTest tries to detect and use pthreads where available.

- On MinGW, pthread support is limited; disabling pthreads is handled automatically.
- Make sure you have the pthreads library installed.

You can also pass additional linker flags or options in your build system.
</Accordion>
<Accordion title="Visual Studio Runtime Mismatch">
If you see errors about runtime libraries mismatch (e.g., static vs dynamic CRT), set the CMake option:

```bash
cmake .. -Dgtest_force_shared_crt=ON
```

This makes GoogleTest link with dynamic CRT matching most Visual Studio project defaults.
</Accordion>
<Accordion title="Tests Not Discovering or Running">
Make sure you are linking against `gtest_main` or have your own `main()` calling `testing::InitGoogleTest`.

Refer to the [Test Runner and Main Entry](../api-reference/core-testing-api/test-runner-and-main.md) documentation.
</Accordion>
</AccordionGroup>

---

## 9. Additional Resources

- [GoogleTest GitHub Repository](https://github.com/google/googletest)
- [Getting Started Guide](../getting_started/intro_and_setup/about_googletest.md)
- [Using GoogleTest with CMake](../guides/getting-started/setup-and-installation.md)
- [GoogleMock Mocking Framework Overview](../overview/product-introduction/what-is-googletest.md#mocking-integration)

Explore these for deeper integration patterns, advanced build setups, and troubleshooting.

---

# Summary
This page walked you through installing and building GoogleTest, spanning standalone builds with CMake, incorporating GoogleTest as a subdirectory, Bazel usage, and alternatives like package managers. It also outlined verifying the build and common issues.

Getting GoogleTest up and running quickly allows you to focus on writing reliable, portable C++ tests without hassle in your build environment.

---