---
title: "Write and Run Your First Test"
description: "A hands-on walkthrough: writing a minimal C++ test using GoogleTest’s core features, then building and running it to see immediate results. Includes a brief explanation of key concepts (test case, assertion), and a sample so users can copy, build, and execute immediately."
---

# Write and Run Your First Test

Welcome to your first hands-on experience with GoogleTest! This guide will walk you through creating a minimal C++ test using GoogleTest’s core features, building it, and running it to observe immediate test feedback. Along the way, you’ll learn key test concepts like test cases and assertions with practical examples you can copy, build, and run.

---

## 1. Understanding Basic Test Concepts

Before you write any code, it’s helpful to grasp the basics:

- **Test Case**: A group of related tests, usually targeting one class or function.
- **Test**: A single check or verification under a test case.
- **Assertion**: A statement that verifies a condition (e.g., equality, truth) within a test.

GoogleTest organizes tests in a way that makes these clear and readable.

---

## 2. Writing Your First Test

Let’s write a minimal test that checks a simple condition.

### Step-by-Step Example

1. **Include GoogleTest header:**

   ```cpp
   #include <gtest/gtest.h>
   ```

2. **Define a test:** Use the `TEST` macro with two parameters: the test case name and the test name.

   ```cpp
   TEST(HelloTest, BasicAssertion) {
     EXPECT_EQ(7 * 6, 42);  // Verifies that 7 times 6 equals 42
   }
   ```

3. **Write your `main()` function:** If you don’t have one yet (GoogleTest provides one by default in `gtest_main`), add:

   ```cpp
   int main(int argc, char** argv) {
     ::testing::InitGoogleTest(&argc, argv);
     return RUN_ALL_TESTS();
   }
   ```

### Explanation
- `TEST(HelloTest, BasicAssertion)` creates a test called `BasicAssertion` in the test case `HelloTest`.
- `EXPECT_EQ(expected, actual)` checks that the two values are equal; if not, the test fails.
- `RUN_ALL_TESTS()` runs all tests and returns a success or failure code.

---

## 3. Building Your Test

Depending on your setup, compile the test program by linking against GoogleTest libraries.

### Example using `g++` and `pkg-config` (assuming GoogleTest is installed):

```bash
# Compile
g++ -std=c++17 -pthread my_test.cc -lgtest -lgtest_main -o my_test

# Run
./my_test
```

### Expected output:

```text
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from HelloTest
[ RUN      ] HelloTest.BasicAssertion
[       OK ] HelloTest.BasicAssertion (0 ms)
[----------] 1 test from HelloTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
```

This confirms your test passed successfully.

---

## 4. Experimenting with More Assertions

GoogleTest provides many assertions; here are a few basics:

- `EXPECT_TRUE(condition)` — passes if `condition` is true.
- `EXPECT_FALSE(condition)` — passes if `condition` is false.
- `EXPECT_NE(val1, val2)` — passes if `val1` and `val2` are not equal.

Example:

```cpp
TEST(MathTest, BasicOperations) {
  EXPECT_TRUE(2 + 2 == 4);
  EXPECT_FALSE(2 + 2 == 5);
  EXPECT_NE(4, 5);
}
```

Use these assertions to check different conditions in your tests.

---

## 5. Running Your Tests and Interpreting Results

When you run your tests:

- Green `[ PASSED ]` entries indicate tests that succeeded.
- Red `[ FAILED ]` entries indicate failed tests.

If a test fails, GoogleTest will provide a detailed message showing:

- The file and line number of the failure.
- The expected and actual values.

Use these messages to quickly diagnose issues.

---

## 6. Summary: Your First Workflow

<Steps>
<Step title="Write Your Test Source File">
Create a `.cc` file including `gtest/gtest.h`, write test cases with `TEST` macros and assertions.
</Step>
<Step title="Compile the Test">
Compile with your compiler, linking with GoogleTest libraries.
</Step>
<Step title="Run the Test Executable">
Execute the compiled binary and check the test output.
</Step>
</Steps>

---

## 7. Troubleshooting Tips

- **Test Not Found?**
  Ensure your `main()` function calls `RUN_ALL_TESTS()`, or link against `gtest_main`.

- **Linker Errors?**
  Confirm you are linking `-lgtest -lgtest_main` and using `-pthread` on Linux.

- **Assertion Failures?**
  Check the exact failure message to understand which condition failed.

- **Underscores in Names?**
  Avoid underscores in test case or test names to prevent naming conflicts (see GoogleTest FAQ).

If you encounter issues, consult the [Validation & Troubleshooting](https://github.com/google/googletest/blob/main/docs/getting_started/initial_usage_and_validation/troubleshooting_validation.md) guide.

---

## 8. Next Steps

- Explore writing test fixtures and parameterized tests for more complex scenarios.
- Integrate GoogleTest into your build and CI pipelines.
- For advanced mocking techniques, explore gMock guides.

---

## Additional Resources

- [GoogleTest Primer](https://github.com/google/googletest/blob/main/docs/primer.md) – Learn core GoogleTest features.
- [GoogleMock for Dummies](https://github.com/google/googletest/blob/main/docs/gmock_for_dummies.md) – Start with mocks.
- [GoogleTest FAQ](https://github.com/google/googletest/blob/main/docs/faq.md) – Troubleshoot common issues.

---

You are now ready to start writing reliable, automated tests with GoogleTest!

---