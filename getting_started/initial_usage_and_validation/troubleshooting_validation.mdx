---
title: "Validation & Troubleshooting"
description: "How to confirm your installation is working, verify successful builds, and interpret test output. Provides solutions for common setup issues: linker errors, missing headers, unsupported compiler versions, or platform mismatches. Links to FAQ or support resources when appropriate."
---

# Validation & Troubleshooting

This guide helps you confirm that your GoogleTest and GoogleMock installation is working correctly, understand test output, and diagnose common issues you may encounter during setup or test execution, including linker errors, missing headers, incompatible compilers, or platform mismatches.

---

## 1. Verifying Your Installation

GoogleTest and GoogleMock include self-tests you can run to validate your build and runtime environment.

### Step 1: Build and Run the Sample Tests

1. Navigate to your build directory where GoogleTest and GoogleMock are compiled.
2. Run the compiled test binaries:

   ```bash
   ./googlemock/gtest/gtest
   ./googlemock/gtest/gtest_main
   ./googlemock/gtest/gtest-all
   ./googlemock/gtest/gtest_pred_impl_test
   ./googlemock/gtest/gtest-param-test
   ./googlemock/gtest/gtest-linked
   ./googlemock/gmock/gmock_main
   ./googlemock/gmock/gmock
   ```

3. Observe the output. Tests should pass without failures or errors.

### Interpreting Test Output

- Tests passing indicates a correctly installed and configured GoogleTest and GoogleMock environment.
- If a test fails, carefully review the failure message and stack trace for clues.

<Tip>
Running tests with the command-line flag `--gmock_verbose=info` enables detailed logging of mock function calls, helping you diagnose expectation mismatches and unexpected calls.
</Tip>

---

## 2. Understanding Test Output

GoogleMock outputs messages that help you interpret calls to mocks and verify expectations.

### Common Output Scenarios

| Scenario                       | Description                                                                                         | Example Message Snippet                                       |
|-------------------------------|-------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
| **Expected Call**              | A mock function call matched the expectation exactly.                                            | "Mock function call matches EXPECT_CALL(...)..."            |
| **Unexpected Call**            | A call was made that did not match any active expectation.                                       | "Unexpected mock function call"                             |
| **Excessive Call**             | A mock function is called more times than specified by the expectation.                         | "Mock function called more times than expected"            |
| **Uninteresting Call**         | A mock function is called without any expectations on it (allowed but usually warns).            | "Uninteresting mock function call - returning default value" |
| **Unsatisfied Expectation**   | An expected call was never made, failing the test.                                               | "Actual function call count doesn't match EXPECT_CALL..."  |

### Verbosity Levels

Control the verbosity of mock output using the `--gmock_verbose` flag:

- `info`: Logs all expected and uninteresting calls, showing stack traces.
- `warning`: Logs only warnings and errors (default).
- `error`: Logs only errors.

Set verbosity in tests programmatically via:

```cpp
::testing::GMOCK_FLAG_SET(verbose, "info");
```

---

## 3. Common Setup and Build Issues

When your tests do not run or fail unexpectedly, check for the following common causes.

### Linker Errors

Linker errors often indicate missing libraries or incompatible object files.

- **Symptoms:** Undefined references to GoogleTest or GoogleMock symbols.

- **Resolution:**
  1. Double-check your build configuration includes linking with `gtest` and `gmock` libraries.
  2. Ensure that the library versions match the headers used.
  3. For CMake projects, confirm `target_link_libraries` includes GoogleTest and GoogleMock.

### Missing Headers

Compiler errors related to missing header files typically mean include paths are not correctly set.

- **Symptoms:** Compile-time complaints about missing `gtest.h`, `gmock.h`, or others.

- **Resolution:**
  1. Confirm your include paths include the directories containing GoogleTest and GoogleMock headers.
  2. For CMake-based projects, use `find_package(GTest REQUIRED)` or add `-I` flags appropriately.

### Unsupported Compiler Versions

GoogleTest requires a C++17 compatible compiler.

- **Symptoms:** Compilation errors referencing unsupported language features.

- **Resolution:**
  1. Verify your compiler supports C++17 or above.
  2. Upgrade your compiler if necessary.
  3. Set the appropriate language standard flags (e.g. `-std=c++17`).

### Platform Mismatches

Ensure binary compatibility between your build and test environments.

- **Symptoms:** Runtime errors, crashes, or failures in tests that worked previously.

- **Resolution:**
  1. Confirm the platform architecture (e.g., x86_64) matches between libraries and tests.
  2. Check for inconsistencies in runtime libraries or environment variables.

<Tip>
For new platforms or compilers, run GoogleTest's own test suite to ensure full compatibility.
</Tip>

---

## 4. Troubleshooting Test Failures

GoogleMock provides detailed messages to identify why a test failed.

### Diagnosing Expectation Failures

- Review the failure message for which expectation wasn't met.
- Check argument mismatches or call count violations.
- Use `--gmock_verbose=info` to log matching calls with arguments and stack traces.

### Handling "Uninteresting Call" Messages

- These warnings indicate you called a mock function with no expectations set.
- To suppress these, either:
  - Use `NiceMock<T>` to silence uninteresting calls.
  - Add `EXPECT_CALL(mock, Method(_)).Times(AnyNumber());` to explicitly allow calls.

### Detecting Memory or Leaked Mock Problems

- If your mock object is leaked, you may not get verification failures.
- Enable heap checking in your environment or call `Mock::VerifyAndClearExpectations(&mock);` manually to force verification.

---

## 5. Additional Resources

- [GoogleMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html) – Beginner-friendly tutorial on mocks and expectations.
- [gMock Cheat Sheet](https://google.github.io/googletest/gmock_cheat_sheet.html) – Handy reference for macros, matchers, and actions.
- [Legacy gMock FAQ](https://google.github.io/googletest/gmock_faq.html) – Troubleshooting common problems.
- [Platform Support](https://google.github.io/googletest/overview/integration-platforms/platform-support.html) – Supported compilers and platforms.
- [Setting Expectations Reference](https://google.github.io/googletest/reference/mocking.html#EXPECT_CALL) – Detailed mock syntax and modifiers.

---

For further reading and first test writing, visit the [Getting Started with GoogleTest](https://google.github.io/googletest/getting_started.html) section in the documentation.


<Check>
Ensure your compiler supports C++17. Verify your build system links against the required GoogleTest and GoogleMock libraries.
</Check>

<Info>
To debug failing mock expectations, increase verbosity by running tests with `--gmock_verbose=info`.
</Info>

<Warning>
Avoid mixing incompatible versions of GoogleTest headers and libraries.
</Warning>

<Note>
Uninteresting call warnings do not fail your tests but act as alerts to missing expectations.
</Note>