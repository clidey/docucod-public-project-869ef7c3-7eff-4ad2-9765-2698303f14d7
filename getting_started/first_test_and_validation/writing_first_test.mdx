---
title: "Writing and Running Your First Test"
description: "Demonstrates authoring a simple test case using the most common assertions, guiding users from code skeleton to compiling and running a test binary. Includes expected output and interpretation tips for their first run."
---

# Writing and Running Your First Test

Welcome to the essential first step in mastering GoogleTest: writing and executing your very first test case. This guide takes you on a clear, practical journeyâ€”from crafting a simple test skeleton, through integrating common assertions, to compiling and running your test binary. You'll also learn to interpret the test output on your first run, setting a foundation for test-driven success.

---

## 1. Prerequisites

Before you begin, ensure your environment meets the following requirements:

- **GoogleTest Installed:** Follow the instructions in [Installing GoogleTest and GoogleMock](/getting_started/setup_requirements_install/installing_framework) to get the framework set up.
- **C++17 Compiler:** GoogleTest requires a C++17 compliant compiler. Verify your compiler supports this standard.
- **Basic C++ Knowledge:** Familiarity with C++ syntax and compilation process.
- **Development Environment:** A text editor or IDE supporting C++ development.

> See also: [Prerequisites & Supported Platforms](/getting_started/setup_requirements_install/prerequisites_supported_platforms) for detailed environment validation.

## 2. Creating Your First Test Case

GoogleTest organizes tests into **test suites** and **tests**. You define a test case in C++ using the `TEST()` macro, which takes two identifiers:

- The test suite name (a logical grouping, e.g., `MathTest`)
- The individual test name within the suite (e.g., `HandlesZeroInput`)

### Step-by-Step Example

```cpp
#include <gtest/gtest.h>

// Example function to test
int Factorial(int n) {
  if (n <= 1) return 1;
  return n * Factorial(n - 1);
}

// Define a test within the FactorialTest suite
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}
```

### Explanation

- `TEST(FactorialTest, HandlesZeroInput)` declares a test named `HandlesZeroInput` inside the `FactorialTest` suite.
- `EXPECT_EQ` is an assertion verifying that the function's output matches the expected value. It reports nonfatal failures allowing the test to continue.
- Multiple tests in a suite help organize cases reflecting different input scenarios.

### Tips

- Use meaningful test and test suite names without underscores `_`.
- Prefer `EXPECT_*` over `ASSERT_*` where possible to reveal multiple failures.
- Group logically related tests into the same test suite for better maintainability.


## 3. Compiling and Linking the Test

To compile a test, you must include the GoogleTest headers and link against its libraries.

### Using g++ via Command Line

Assuming `test.cpp` contains your test code:

```bash
# Compile
g++ -std=c++17 -isystem /path/to/googletest/include -pthread test.cpp /path/to/libgtest.a /path/to/libgtest_main.a -o test_binary

# Run
./test_binary
```

Replace `/path/to/googletest` with your actual GoogleTest installation path.

### Using CMake

If you use CMake, a basic test CMakeLists.txt snippet:

```cmake
cmake_minimum_required(VERSION 3.14)
project(FirstTest)

find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})

add_executable(test_binary test.cpp)
target_link_libraries(test_binary ${GTEST_LIBRARIES} pthread)
```

Run CMake and your build tool as usual.

### Best Practice

- Link with `gtest_main` if you want GoogleTest to provide a ready-made `main()` function.
- If you write your own `main()`, call `testing::InitGoogleTest(&argc, argv)` before `RUN_ALL_TESTS()`.

## 4. Running Your Test and Interpreting Output

Launch your compiled test binary:

```bash
./test_binary
```

You should see output similar to:

```
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from FactorialTest
[ RUN      ] FactorialTest.HandlesZeroInput
[       OK ] FactorialTest.HandlesZeroInput (0 ms)
[ RUN      ] FactorialTest.HandlesPositiveInput
[       OK ] FactorialTest.HandlesPositiveInput (0 ms)
[----------] 2 tests from FactorialTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 2 tests.
```

### Success Indicators

- Lines with `[       OK ]` confirm successful execution of individual tests.
- The summary at the end `[  PASSED  ] 2 tests.` indicates all tests passed.

### What If Tests Fail?

If an assertion fails, expect messages showing:

- The expression expected to be true.
- Actual vs expected values.
- The file and line number of the failure.

Example:

```
/home/user/test.cpp:10: Failure
Expected equality of these values:
  Factorial(2)
    Which is: 3
  2
```

This points directly to the failure cause.

## 5. Using Common Assertions

GoogleTest offers many assertion macros. For your first test, here are the most common:

|Assertion       |Description                                      |
|---------------|------------------------------------------------|
|`EXPECT_EQ(a,b)`|Asserts `a == b` (value equality)               |
|`EXPECT_NE(a,b)`|Asserts `a != b`                                |
|`EXPECT_TRUE(c)`|Asserts condition `c` is true                    |
|`EXPECT_FALSE(c)`|Asserts condition `c` is false                  |
|`EXPECT_STREQ(a,b)`|Compares C strings for equality                |

> See the detailed [Assertions Reference](reference/assertions.md) for complete information.

## 6. Writing the main() Function

It's recommended to use `gtest_main` for simplest start, but if you must write your own main:

```cpp
#include <gtest/gtest.h>

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

This initializes GoogleTest and runs all registered tests.

## 7. Troubleshooting Common Issues

### Test Not Running or No Tests Found

- Verify test functions are declared with `TEST()` or `TEST_F()` macros.
- Confirm your test binary links against GoogleTest.
- Check that test suites and names follow naming rules (no underscores).

### Compilation Errors

- Ensure includes for `<gtest/gtest.h>` are correct.
- Link with `gtest` and `gtest_main` libraries.
- Use a C++17 compatible compiler.

### Test Failures

- Review assertion messages to pinpoint failure.
- Use `EXPECT_*` for non-fatal failures to get more feedback.
- Use `ASSERT_*` when continuation is unsafe.

### Connecting With IDEs

- If using an IDE like Visual Studio or VS Code, ensure GoogleTest is setup properly for build and test discovery. See [Integration & Extensibility](/overview/features-ecosystem/integration-and-extensibility) for details.

## 8. Next Steps

After successfully writing and running your first test:

- Explore [Test Fixtures](primer.md#same-data-multiple-tests) with `TEST_F()` to share setup across tests.
- Learn about rich assertions in [Mastering Assertions](/guides/core-workflows/rich-assertions).
- Discover mocking basics in [Getting Started with GoogleMock](/getting_started/first_test_and_validation/using_googlemock_basics).
- Consult [Writing Your First Test](/guides/getting-started/writing-first-test) for more onboarding examples.

---

<Tip>
Be sure to run your test with the `--gtest_help` flag after compilation to discover command-line options for filtering, repeating, or listing tests.
</Tip>

<Note>
This page focuses exclusively on authoring and executing your first simple test. For advanced and complex testing patterns, refer to the [Advanced GoogleTest Topics](advanced.md).
</Note>

## References

- [GoogleTest Primer](primer.md)
- [Assertions Reference](reference/assertions.md)
- [Installing GoogleTest and GoogleMock](/getting_started/setup_requirements_install/installing_framework)
- [Basic Configuration](/getting_started/setup_requirements_install/configuration_basic)

---

## Example: Full First Test Code

```cpp
#include <gtest/gtest.h>

// Factorial implementation
int Factorial(int n) {
   return (n <= 1) ? 1 : n * Factorial(n - 1);
}

// Test suite: FactorialTest
TEST(FactorialTest, HandlesZeroInput) {
  EXPECT_EQ(Factorial(0), 1);
}

TEST(FactorialTest, HandlesPositiveInput) {
  EXPECT_EQ(Factorial(1), 1);
  EXPECT_EQ(Factorial(2), 2);
  EXPECT_EQ(Factorial(3), 6);
  EXPECT_EQ(Factorial(8), 40320);
}

int main(int argc, char **argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

Compile & link, then run to see your first tests in action.
