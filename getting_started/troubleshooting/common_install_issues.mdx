---
title: "Common Installation Issues"
description: "Lists frequent challenges such as compiler errors, missing dependencies, and platform-specific gotchas during install or build. Offers actionable resolutions and directs users to advanced resources if needed."
---

# Common Installation Issues

GoogleTest and GoogleMock are powerful, flexible libraries for C++ testing and mocking. However, during installation or build, users may encounter several common issues, including compiler errors, missing dependencies, and platform-specific challenges. This page lists these frequent problems and provides clear, actionable solutions to resolve them swiftly, helping you get GoogleTest up and running without delay.

---

## 1. Compiler Errors

Compiler errors during GoogleTest/GoogleMock installation often stem from incompatible compiler versions, insufficient C++ standard support, or syntax issues in mocks.

### Typical Causes and Fixes:

- **Unsupported C++ Standard**: GoogleTest requires **C++17** or later.
  - **Resolution**: Ensure your compiler is invoked with `-std=c++17` or equivalent.
  - **Check**: Run `g++ --version` or `clang++ --version` to verify.

- **Compiler Too Old or Lacks C++17 Features**:
  - **Resolution**: Upgrade to GCC 7+, Clang 5+, or MSVC 2017+.
  - **Tip**: See [Prerequisites & Supported Platforms](/getting_started/setup_requirements_install/prerequisites_supported_platforms) for detailed compiler requirements.

- **MOCK_METHOD Macro Syntax Errors**:
  - Caused by unprotected commas within method signatures.
  - **Resolution**: Wrap return types or argument types containing commas within an additional set of parentheses or use type aliases.
  - **Example**:
    ```cpp
    class MyMock {
     public:
      // Correct way to mock method with std::pair return type
      MOCK_METHOD((std::pair<bool, int>), GetPair, ());
      using MapIntDouble = std::map<int, double>;
      MOCK_METHOD(bool, CheckMap, (MapIntDouble, bool));
    };
    ```

- **Missing Virtual in Base Class**:
  - Methods mocked must be virtual; if not, mock methods won't override properly.
  - **Resolution**: Confirm base class methods are `virtual`.

- **MSVC-specific Warnings with Const Parameters**:
  - MSVC might warn about const qualifiers on parameters that don't affect polymorphism.
  - **Resolution**: Remove top-level `const` qualifiers on parameters for compatibility.

## 2. Missing Dependencies and Build Tools

GoogleTest depends on several build tools and libraries. Missing or misconfigured dependencies can cause build failures.

### Common Issues:

- **CMake Not Installed or Too Old**:
  - GoogleTest builds best with CMake >= 3.14.
  - **Resolution**: Install or upgrade CMake.

- **Pthread Library Missing or Link Errors on Linux/Unix**:
  - **Resolution**: Link with `-pthread`.
  - **Tip**: Use CMake targets that manage threading, or add `find_package(Threads REQUIRED)`.

- **Linker Errors on Windows (Runtime Library Mismatches)**:
  - Occurs when mixing static and dynamic runtime libraries.
  - **Resolution**: Align your project and GoogleTest build settings; use `gtest_force_shared_crt` flag in CMake if needed.

- **IDE Projects not Set Up Properly**:
  - Ensure your IDE build configurations include GoogleTest source and headers.

## 3. Platform-Specific Gotchas

Certain platforms have unique quirks or require special attention.

- **Windows**:
  - Prefer using Visual Studio projects provided.
  - Be aware of runtime library conflicts.
  - Use `gtest_force_shared_crt` option if runtime linking errors occur.

- **MacOS**:
  - Use Homebrew to install dependencies if necessary.
  - Ensure Xcode command line tools are installed.

- **Embedded Platforms (ESP, NRF52, Arduino)**:
  - Use `gmock_main` tailored initialization.

## 4. Build System Integration Issues

GoogleTest integrates with various build systems like CMake, Bazel, and Visual Studio.

- **CMake**:
  - Make sure you use `add_subdirectory(googletest)` or `find_package(GTest)` correctly.
  - Avoid name conflicts in targets.

- **Bazel**:
  - Follow Bazel-specific integration instructions.

- **Manual Builds**:
  - Include all source files in the build.

## 5. How to Diagnose and Fix Issues Quickly

- **Run a Minimal Test to Check Setup**:
  - Create a simple test case to verify compile and linkage.

- **Enable Verbose Logging**:
  - Use `--gmock_verbose=info` to get more diagnostic information when running tests.

- **Check Compiler and Linker Output Carefully**:
  - Look for missing symbols, syntax errors, or incompatible versions.

- **Consult Logs for Deprecation or Warning Messages**.

- **Ensure Mock Methods Are Correctly Declared**:
  - `MOCK_METHOD` macros must be placed in the `public:` section, regardless of base method access.

## 6. Example: Fixing a Common MOCK_METHOD Error

If you have a mock method that fails to compile because of argument commas, do this:

```cpp
class MyMock {
 public:
  // Incorrect:
  // MOCK_METHOD(std::pair<bool, int>, GetPair, ());  // Won't compile

  // Correct - parenthesize return type:
  MOCK_METHOD((std::pair<bool, int>), GetPair, ());

  // Alternatively, define a type alias:
  using BoolAndInt = std::pair<bool, int>;
  MOCK_METHOD(BoolAndInt, GetPair, ());
};
```

## 7. Where to Get Additional Help

- Review [Prerequisites & Supported Platforms](/getting_started/setup_requirements_install/prerequisites_supported_platforms) before installation.
- Follow installation instructions in [Installing GoogleTest and GoogleMock](/getting_started/setup_requirements_install/installing_framework).
- If you encounter issues, check the [GoogleTest FAQ](https://google.github.io/googletest/faq.html) and [gMock FAQ](https://google.github.io/googletest/gmock_faq.html).
- For complex mocking help, consult [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html).
- Use verbose flag `--gmock_verbose=info` when running tests for detailed logging.

---

## Troubleshooting Quick Reference

<AccordionGroup title="Troubleshooting Common Installation Issues">
<Accordion title="Compiler Version or C++ Standard Errors">
- Verify compiler supports C++17.
- Use proper compile flags (`-std=c++17`).
- Upgrade compiler if needed.
</Accordion>
<Accordion title="Compilation Errors due to MOCK_METHOD">
- Wrap types containing commas with parentheses.
- Use type aliases.
- Always declare mock methods in `public:` section.
</Accordion>
<Accordion title="Linker Errors & Missing Dependencies">
- Use CMake with proper link libraries.
- On POSIX, link pthread (`-pthread`).
- On Windows, ensure consistent runtime library linking.
- Use `gtest_force_shared_crt` if using shared CRT.
</Accordion>
<Accordion title="Platform Specific Issues">
- Embedded systems require tailored setup.
- Windows users may face runtime mismatch errors.
</Accordion>
<Accordion title="Uninteresting Mock Function Calls Warnings">
- These are informational, meaning no expectation is set.
- Use `NiceMock<T>` to suppress warnings if calls are expected but not precisely constrained.
- Add `EXPECT_CALL` with `Times(AnyNumber())` for intentional catch-all mocks.
</Accordion>
</AccordionGroup>

{/* Always start installations with environment verification: compiler version and C++ standard compliance. */}

<Info>
For complex or unresolved issues, consult the official GoogleTest and GoogleMock repositories and community forums.
</Info>

---

{/* This page focuses exclusively on installation issues and troubleshooting encountered at build time. For comprehensive installation guidance, refer to the Installing Framework page. */}