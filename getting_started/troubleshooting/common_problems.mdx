---
title: "Common Installation & Setup Problems"
description: "Covers frequently encountered issues such as C++ version mismatches, missing dependencies, or build system misconfigurations, each with actionable solutions. Helps users quickly identify and resolve blockers."
---

# Common Installation & Setup Problems

This page addresses frequent issues users encounter during the installation and setup of GoogleTest, such as C++ version mismatches, missing dependencies, or build system misconfigurations. Each problem is paired with clear, actionable solutions to help you quickly diagnose and fix blockers so you can continue with your testing setup.

---

## 1. Compiler C++ Version Mismatches

### Issue
Your compiler does not support C++17 or is using an older or incompatible standard.

### Symptoms
- Compilation errors indicate unsupported features or syntax.
- Error messages citing compatibility issues with C++ language version.

### Resolution Steps
1. Verify your compiler supports C++17 or later:
   - For GCC, check `gcc --version` (version 7 or newer is recommended).
   - For Clang, check `clang --version`.
   - For MSVC (Visual Studio), version 2017 Update 3 (15.7) or newer is needed.
2. Ensure your build system is configured to request C++17 standard:
   - If you use CMake, confirm the `CMAKE_CXX_STANDARD` is set to `17`.
   - For Bazel, verify that compilation flags request proper standards.
3. If using CMake or other build scripts, check that no legacy flags override or disable C++17 (e.g., no `-std=c++11` or older).

### Tips
- Use the provided environment preparation guides for setting up a suitable compiler environment.
- Some platforms might need explicit installation or update of toolchains.

<Note>
For more detailed supported platforms and compiler requirements, see the [Prerequisites & Supported Platforms](../../getting_started/setup_requirements/prerequisites_platforms) guide.
</Note>

---

## 2. Missing Dependencies or Libraries

### Issue
Required dependencies such as threads, regex libraries, or other system libraries are missing or not properly linked.

### Symptoms
- Linker errors complaining about pthread, regex, or other system calls.
- Runtime errors due to missing symbols.

### Resolution Steps
1. Confirm system libraries are installed:
   - Linux: Install development packages for pthreads (`libpthread-dev`), regex, and other build essentials.
   - Windows: Ensure MSVC toolchain is properly installed and environment variables are set.
2. Verify linker flags include necessary libraries:
   - For pthreads, ensure `-pthread` is part of compilation and linking commands.
3. Review `BUILD.bazel` or your build scripts:
   - Bazel rules generally handle dependencies; ensure no exclusions exist.
   - If customizing build, include the necessary link options shown in the build configuration.
4. Check that dependencies for optional features like Abseil or RE2 (regex) are available if enabling them.

### Common Pitfalls
- On MinGW Windows, pthreads support is limited; avoid expecting POSIX threads.
- On embedded or mobile platforms, some libraries (e.g. file systems) may be absent.

---

## 3. Build System Misconfigurations

### Issue
Build systems like CMake or Bazel may be misconfigured or missing essential flags, causing build or linkage failures.

### Symptoms
- Compilation succeeds but linkage fails.
- Unexpected runtime errors or missing main entry points.

### Resolution Steps
1. Verify you are using the official `BUILD.bazel` or `CMakeLists.txt` provided with GoogleTest.
2. For CMake:
   - Follow the [Installing with CMake](../../getting_started/installation_integration/install_cmake) guide carefully.
   - Use recommended compiler flags and options.
3. For Bazel:
   - Use the provided Bazel build files, ensuring platform-specific conditions are satisfied.
   - Check the visibility and dependencies sections to include all needed headers and libraries.
4. When integrating manually:
   - Ensure the correct source files and headers are included.
   - Follow the [Source Inclusion & Manual Integration](../../getting_started/installation_integration/source_integration) instructions.
5. Make sure to include `gtest_main` or `gmock_main` libraries to provide the default `main()` when running tests.

<Warning>
Skipping the use of `gtest_main` often leads to linking errors due to missing entry point.
</Warning>

---

## 4. Common Linker Errors

### Issue
Errors such as "undefined reference to `main`" or missing symbols from GoogleTest or GoogleMock.

### Typical Causes
- Not linking with `gtest_main` or `gmock_main` libraries.
- Omitting source files like `gtest-all.cc` or `gmock-all.cc`.
- Conflicting versions or partially included source files.

### Resolution
- Link your test executable against `:gtest_main` or `:gmock_main` in Bazel, or the corresponding targets in other systems.
- If building manually, compile and link `gtest_main.cc` alongside other source files.
- Verify that your project does not mix different versions of GoogleTest or GoogleMock headers and libraries.

---

## 5. Runtime and Execution Issues

### Issue
Tests do not run or report incorrectly, possibly due to setup failures or misconfigured initialization.

### Symptoms
- Tests are silently skipped.
- GoogleTest main function or initialization is missing.
- No output or unexpected failures at runtime.

### Resolution
1. Always call `testing::InitGoogleTest(&argc, argv);` before `RUN_ALL_TESTS();` in your test program.
2. Confirm `main()` is present or link with `gtest_main`.
3. For projects using GoogleMock, use `gmock_main` or include proper initialization.
4. Inspect flags like `--gtest_filter` that might exclude tests unintentionally.
5. Use `--gtest_list_tests` to see registered test cases.

---

## 6. Troubleshooting Tips

- Use verbose mode: Running tests with `--gtest_verbose=info` helps in diagnosing matching and execution problems.
- Verify your test suite and test names comply with GoogleTest naming conventions (avoid underscores).
- Rebuild cleanly after changes to dependencies or build scripts.
- Check environment variables affecting runtime behavior (`GTEST_COLOR`, `GTEST_FILTER`, `GTEST_SHARD_INDEX`).
- For issues with threading or death tests, follow recommendations in the Advanced Guide.

<Info>
The [GoogleTest Primer](../../getting_started/first_test_run_validation/primer) and [Advanced Topics](../../docs/advanced.md) provide deeper insights on dealing with runtime problems.
</Info>

---

## 7. Common Pitfalls Summary

| Problem                              | Quick Fix or Check                     |
|------------------------------------|--------------------------------------|
| Unsupported compiler version       | Upgrade to C++17 capable compiler     |
| Missing pthread or system libs     | Install development packages; add `-pthread` |
| Linker errors for `main`           | Link with `gtest_main` or `gmock_main` |
| Tests not running                  | Call `InitGoogleTest()`; check filters |
| Conflicting header or source files | Use consistent GoogleTest/GoogleMock versions |

---