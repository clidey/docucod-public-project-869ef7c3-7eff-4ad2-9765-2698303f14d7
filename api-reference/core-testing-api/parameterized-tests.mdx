---
title: "Parameterized and Typed Tests"
description: "Describes the API for value- and type-parameterized tests, including macros and utility functions for generating and instantiating parameterized cases, accommodating broad input coverage in a systematic way."
---

# Parameterized and Typed Tests

GoogleTest provides powerful features for writing tests that systematically cover a broad range of inputs and data types without duplicating test logic. This includes *value-parameterized tests*, which run the same test logic over different input values, and *typed* and *type-parameterized tests*, which run tests over multiple C++ types. These capabilities allow you to automate comprehensive testing patterns efficiently and maintainably.

---

## Value-Parameterized Tests

Value-parameterized tests let you drive the same test logic through varying values, enabling data-driven testing. Instead of writing multiple tests with hardcoded values, you define a *test fixture* that receives test parameters and instantiate it with a collection of values automatically.

### Defining a Value-Parameterized Test Fixture

1. Derive your fixture from `testing::TestWithParam<T>`, where `T` is the type of the parameter you want to test with.
2. Implement your test logic using the `TEST_P` macro.
3. Inside the test body, access the parameter with `GetParam()`.

```cpp
class MyValueTest : public testing::TestWithParam<int> {
  // You can add members or setup here
};

TEST_P(MyValueTest, IsPositive) {
  int value = GetParam();
  EXPECT_GT(value, 0);
}
```

### Instantiating the Test Suite

You instantiate a parameterized test suite using `INSTANTIATE_TEST_SUITE_P`. This macro associates your test fixture with a specific set of parameter values, generated by a *parameter generator*.

```cpp
INSTANTIATE_TEST_SUITE_P(PositiveValues,
                         MyValueTest,
                         testing::Values(1, 2, 3, 4, 5));
```

The first argument is a unique prefix name for this instantiation to help identify different parameter sets. The second is the test fixture name, and the third is a parameter generator.

### Parameter Generators

GoogleTest provides utilities to create parameter sequences, which can be simple lists, ranges, boolean flags, or combined sets.

| Generator Function | Description |
|--------------------|-------------|
| `Values(v1, v2, ..., vN)` | Yields each parameter value explicitly. |
| `ValuesIn(container)` | Yields values from an array, STL container, or iterator range. |
| `Range(begin, end[, step])` | Produces a sequence of values from `begin` to one less than `end` with optional step size. |
| `Bool()` | Produces `false` and `true` values (for boolean flags). |
| `Combine(g1, g2, ..., gN)` | Produces Cartesian product of values generated by `g1` to `gN`, yielding tuples. |

Example using `Combine`:

```cpp
INSTANTIATE_TEST_SUITE_P(SizeAndFlag,
                         MyValueTest,
                         testing::Combine(testing::Values(1, 2),
                                          testing::Bool()));
```

This produces tests for pairs: `(1, false)`, `(1, true)`, `(2, false)`, `(2, true)`.

### Customizing Test Names

To generate more readable or meaningful test names, you can specify an optional name generator as a function or functor for `INSTANTIATE_TEST_SUITE_P`.

```cpp
INSTANTIATE_TEST_SUITE_P(WithCustomNames,
                         MyValueTest,
                         testing::Values(10, 20),
                         [](const testing::TestParamInfo<int>& info) {
                             return "Value" + std::to_string(info.param);
                         });
```

This generates test names like `WithCustomNames/MyValueTest.Value10`.

### Notes and Best Practices

- The parameter generator expression is evaluated in `InitGoogleTest()`, not at macro expansion or test run time.
- Always give a unique instantiation name to distinguish different parameter sets.
- Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(MyValueTest);` if some parameterized tests are declared but not instantiated.
- Parameterized tests run each parameter as a separate test instance, enabling parallelism and easy reporting.

---

## Typed Tests

Typed tests enable running the same test logic over a predefined list of C++ types, useful for verifying templates, generic code, and multiple implementations against the same interface.

### Defining a Typed Test Suite

1. Define a fixture class template derived from `testing::Test`, parameterized by type:

```cpp
template <typename T>
class MyTypedTest : public testing::Test {
 public:
  T value_;
};
```

2. Define a type list using `testing::Types`:

```cpp
using MyTypes = testing::Types<int, double, bool>;
```

3. Associate the type list with the fixture using `TYPED_TEST_SUITE`:

```cpp
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

4. Write your tests with `TYPED_TEST`, using the special `TypeParam` to refer to the test type:

```cpp
TYPED_TEST(MyTypedTest, IsDefaultConstructible) {
  TypeParam val = TypeParam();
  (void)val;  // Prevent unused variable warning
  SUCCEED();
}
```

### Notes

- The test suite name is the fixture class template name.
- This expands into multiple test instances, one per type.

---

## Type-Parameterized Tests

Type-parameterized tests extend typed tests by enabling reusable, abstract test suites whose types can be specified and instantiated separately, possibly across multiple translation units.

### Defining a Type-Parameterized Test Suite

1. Define a fixture class template as with typed tests.
2. Declare the suite using `TYPED_TEST_SUITE_P` to mark it as type-parameterized.
3. Write test patterns with `TYPED_TEST_P` inside the suite.
4. Register all tests using `REGISTER_TYPED_TEST_SUITE_P`.

```cpp
template <typename T>
class AbstractTestSuite : public testing::Test {};

TYPED_TEST_SUITE_P(AbstractTestSuite);

TYPED_TEST_P(AbstractTestSuite, TestBehavior) {
  TypeParam val = TypeParam();
  SUCCEED();
}

REGISTER_TYPED_TEST_SUITE_P(AbstractTestSuite, TestBehavior);
```

### Instantiating a Type-Parameterized Suite

Use `INSTANTIATE_TYPED_TEST_SUITE_P` to instantiate with a specific type list:

```cpp
using MyTypes = testing::Types<int, bool>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, AbstractTestSuite, MyTypes);
```

This creates concrete test cases named `My/AbstractTestSuite.TestBehavior/<type>`.

### Notes

- The instantiation name uniquely identifies this instantiation.
- This separation allows test authors to declare generic tests in headers and library code, and instantiate them in clients' codebases.

---

## Summary of Macros and Utilities

| Macro | Usage |
|-------|--------------------|
| `TEST_P(TestFixture, TestName)` | Defines a value-parameterized test using fixture derived from `TestWithParam<T>`. |
| `INSTANTIATE_TEST_SUITE_P(InstantiationName, TestFixture, ParamGenerator, [NameGenerator])` | Instantiates value-parameterized tests with specific parameter values. |
| `TYPED_TEST_SUITE(TestFixture, Types [, NameGenerator])` | Defines typed test suite for fixture template and list of types. |
| `TYPED_TEST(TestFixture, TestName)` | Defines typed test using `TypeParam` as the test type. |
| `TYPED_TEST_SUITE_P(TestFixture)` | Declares a type-parameterized test suite (abstract).
|
| `TYPED_TEST_P(TestFixture, TestName)` | Defines a type-parameterized test pattern.
|
| `REGISTER_TYPED_TEST_SUITE_P(TestFixture, TestNames...)` | Registers tests in a type-parameterized test suite.
|
| `INSTANTIATE_TYPED_TEST_SUITE_P(InstantiationName, TestFixture, Types [, NameGenerator])` | Instantiates type-parameterized tests with concrete types.

---

## Practical Tips

- When writing parameterized tests, ensure your parameters cover boundary and typical cases for meaningful coverage.
- Use custom name generators to produce readable test identifiers aiding test reports and debugging.
- Avoid complex logic in parameter generators; initialize all necessary context before `InitGoogleTest()`.
- Typed and type-parameterized tests excel when validating template code or family of types against uniform behaviors.
- Value-parameterized tests excel for varying input data combinations, including complex data structures via tuples and combined parameters.

---

## Example: Value-Parameterized Test with Combined Parameters

```cpp
class MyComplexTest : public testing::TestWithParam<std::tuple<int, std::string, bool>> {};

TEST_P(MyComplexTest, HandlesComplexParams) {
  int number = std::get<0>(GetParam());
  std::string text = std::get<1>(GetParam());
  bool flag = std::get<2>(GetParam());

  EXPECT_GT(number, 0);
  EXPECT_FALSE(text.empty());
  EXPECT_TRUE(flag || !flag);  // trivial check
}

INSTANTIATE_TEST_SUITE_P(
    ComplexInput,
    MyComplexTest,
    testing::Combine(
        testing::Values(1, 2),
        testing::Values("foo", "bar"),
        testing::Bool()));
```

This creates tests for all combinations of number, string, and boolean.

---

## Example: Typed Test

```cpp
template <typename T>
class NumericLimitsTest : public testing::Test {
 public:
  static constexpr T zero = T(0);
};

using NumericTypes = testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericLimitsTest, NumericTypes);

TYPED_TEST(NumericLimitsTest, ZeroIsEqualToDefault) {
  TypeParam val = TypeParam();
  EXPECT_EQ(val, NumericLimitsTest::zero);
}
```

Runs the `ZeroIsEqualToDefault` test for each numeric type.

---

## Additional Resources

For deeper insights and examples, please consult:

- [Writing Parameterized Tests](../guides/parameterized-and-typed-tests/writing-parameterized-tests)
- [Typed Tests and Type-Parameterization](../guides/parameterized-and-typed-tests/typed-tests-and-type-parameterization)
- [Testing Reference - Parameterized Tests API](../reference/testing.md#TEST_P)

To see tests in action, explore the sample source files such as `googletest/test/googletest-param-test-test.cc`.

---

## Diagram: Parameterized and Typed Test Workflow

```mermaid
flowchart TD
  Start([Write Test Fixture Class]) --> DefineValueParamTest{Value-Parameterized?}
  DefineValueParamTest -->|Yes| InheritTestWithParam[TestWithParam<T>]
  DefineValueParamTest -->|No| DefineTypedTest{Typed or Type-Parameterized?}

  DefineTypedTest -->|Typed| DefineFixtureTemplate[Fixture class template]
  DefineTypedTest -->|Type-Param| DefineAbstractFixture[TYPED_TEST_SUITE_P
and patterns]

  DefineFixtureTemplate --> SpecifyTypes[TYPED_TEST_SUITE with Types]
  DefineAbstractFixture --> RegisterTests[REGISTER_TYPED_TEST_SUITE_P]
  RegisterTests --> InstantiateTypes[INSTANTIATE_TYPED_TEST_SUITE_P]

  InheritTestWithParam --> DefineTEST_P[Write TEST_P test macro]
  DefineTEST_P --> InstantiateValueParams[INSTANTIATE_TEST_SUITE_P]

  SpecifyTypes --> WriteTYPED_TEST[TYPED_TEST test definitions]
  WriteTYPED_TEST --> RunTests[RUN_ALL_TESTS()]
  InstantiateValueParams --> RunTests
  InstantiateTypes --> RunTests

  RunTests --> End([Observe results, analyze failures, iterate])
```

This flowchart shows the key steps involved in writing and running parameterized and typed tests.

---

## Troubleshooting Common Issues

- **Test suite does not run any tests:** Confirm that your test fixtures are instantiated with `INSTANTIATE_TEST_SUITE_P` or `INSTANTIATE_TYPED_TEST_SUITE_P`.
- **Parameter names invalid or missing:** Use custom name generators to create unique and valid test names. GoogleTest requires test names to use only alphanumeric characters and underscores.
- **Tests silently do not run:** Check filters, disabled test prefixes, and environment variables that might exclude tests.
- **Parameter generator does not produce expected values:** Remember parameter generators are evaluated after `InitGoogleTest()`. Initialization needed to generate parameters should happen before.
- **Compilation errors related to underscores in test names:** Avoid using underscores in test suite or test names as they can cause issues in parameterized tests.

---

## Summary

Value- and type-parameterized tests are essential techniques for comprehensive and scalable test design in C++. GoogleTest's macros and utilities streamline their declaration, instantiation, and execution, enabling robust automated coverage with minimal boilerplate and maximum clarity.

---

## Source Code Reference

<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "googletest/include/gtest/gtest-param-test.h", "range": "1-263"},{"path": "googletest/include/gtest/gtest-typed-test.h", "range": "1-211"}]} />
