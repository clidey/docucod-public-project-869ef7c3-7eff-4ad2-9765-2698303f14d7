---
title: "Test and TestCase Macros"
description: "Reference for the macros and APIs that define tests and test cases, including how to structure test suites, parameterize tests, and execute them with the GoogleTest runner. Includes macro usage, class-based tests, and initialization functions."
---

# Test and TestCase Macros Reference

This reference details the macros and APIs used to define and manage tests and test cases in GoogleTest. It covers structuring test suites, parameterizing tests, and integrating test execution with GoogleTest's runner. You will find comprehensive explanations of test macros, class-based tests, parameterization, and initialization mechanisms.

---

## Overview of Test and TestCase Macros

GoogleTest facilitates writing organized and scalable tests using macros and test fixtures. At its core, tests are organized into *test cases* (or *test suites*), which group related individual tests.

### Key Concepts

- **Test**: The basic unit of verification, implemented as a function.
- **TestCase (Test Suite)**: A collection of related tests sharing common setup or logic.
- **Fixture**: A class that encapsulates shared setup and teardown code for tests.
- **Parameterized Tests**: Tests that run the same code against different input values or types.

By using the provided macros, you define tests that GoogleTest automatically discovers and executes with integrated reporting.

---

## Defining Basic Tests

### TEST Macro

Use the `TEST` macro to define an individual test within a test case (suite). It takes two parameters: the test case name and the test name.

```cpp
TEST(TestCaseName, TestName) {
  // Test logic goes here
  EXPECT_EQ(1, 1);
}
```

- The test case name groups related tests.
- The test name identifies the test uniquely within the test case.

GoogleTest will run all tests defined with `TEST` across the binary.

### Guidelines

- Names must be valid C++ identifiers.
- Tests within the same test case run independently.
- Avoid test names collisions.

---

## Using Test Fixtures: Class-based Tests

When multiple tests share common setup or teardown logic, use test fixtures.

### TEST_F Macro

`TEST_F` associates a test with a fixture class derived from `::testing::Test`.

```cpp
class MyFixture : public ::testing::Test {
 protected:
  void SetUp() override {
    // Setup code
  }

  void TearDown() override {
    // Teardown code
  }

  int shared_data_;
};

TEST_F(MyFixture, Test1) {
  shared_data_ = 5;
  EXPECT_EQ(shared_data_, 5);
}

TEST_F(MyFixture, Test2) {
  EXPECT_EQ(shared_data_, 0);  // shared_data_ is default initialized
}
```

- The fixture class can define member variables and methods for tests.
- `SetUp()` and `TearDown()` are called before and after each test.

### Benefits

- Avoid code duplication
- Organize tests logically
- Manage shared resources safely

---

## Parameterized Tests

Parameterized tests run the same test logic over different data sets, improving coverage and reducing code duplication.

### TEST_P and INSTANTIATE_TEST_SUITE_P

- Define a test fixture derived from `::testing::TestWithParam<T>`, where `T` is the type of parameter.
- Use `TEST_P` macro for parameterized tests.
- Instantiate test suites with `INSTANTIATE_TEST_SUITE_P` macro.

#### Example

```cpp
class IsEvenTest : public ::testing::TestWithParam<int> {};

TEST_P(IsEvenTest, HandlesVariousIntegers) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers, IsEvenTest, ::testing::Values(2, 4, 6, 8));
```

- The test `HandlesVariousIntegers` runs once for each value.
- Use matchers like `Values()`, `Range()`, or custom generators.

### Tips

- Use typed-parameterized tests (`TYPED_TEST`) for testing over types.
- Use descriptive instantiation names to clarify test case purposes.

---

## Specialized Test Macros

### Typed Tests (TYPED_TEST)

Allows testing the same code logic over multiple types.

```cpp
template <typename T>
class MyTypedTest : public ::testing::Test {};

using MyTypes = ::testing::Types<int, double>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);

TYPED_TEST(MyTypedTest, IsDefaultConstructible) {
  TypeParam value{};
  EXPECT_TRUE(true);  // Example
}
```

### Disabled Tests

Prefix the test or test case name with `DISABLED_` to skip running it.

---

## Initialization and Test Environment

### main Function

GoogleTest requires initialization via `InitGoogleTest(&argc, argv);` typically called in the `main()` function.

```cpp
int main(int argc, char** argv) {
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}
```

- This initializes GoogleTest and executes tests.
- You can customize and add logic before or after `RUN_ALL_TESTS()`.

### Global Setup and Teardown

Use `::testing::Environment` class to define global setup or teardown for the whole test program.

---

## Best Practices and Common Pitfalls

- **Define meaningful test and test case names** to clearly describe intent.
- **Limit side effects** within tests; ensure tests can run independently and repeatedly.
- **Use `TEST_F` for shared setup** instead of duplicating setup code.
- **Use parameterized tests** to avoid redundant test code.
- **Avoid complex logic inside tests;** test the behavior, not the implementation.
- **Do not call test macros inside loops or conditionals;** each test should be explicitly declared.
- **Set up and tear down resources carefully** in fixtures to avoid leaks or cross-test interference.

---

## Troubleshooting

- If tests fail to be discovered, ensure tests are defined with `TEST` or `TEST_F` macros.
- If tests run but have no assertions, GoogleTest will report zero tests run or success without checks.
- Ensure the `main` function correctly initializes and runs `RUN_ALL_TESTS`.
- For parameterized tests, verify instantiation macros and value generators are correctly specified.

---

## Additional Resources

- [GoogleTest Primer](overview/product-introduction/what-is-googletest)
- [Writing Your First Test](guides/getting-started/writing-your-first-test)
- [Assertions and Expectations](api-reference/core-testing-api/assertions)
- [Parameterized and Typed Tests Guide](guides/real-world-workflows/parameterized-and-typed-tests)
- [Test Runner and Main Entry](api-reference/core-testing-api/test-runner-and-main)

---

## Summary

This documentation covers the comprehensive usage of GoogleTest macros for defining tests and test cases including simple tests, fixture-based tests, parameterized and typed tests, and test execution initialization. It guides users from basic macros like `TEST` and `TEST_F` to advanced parameterization techniques, providing best practices and troubleshooting tips for reliable testing.
