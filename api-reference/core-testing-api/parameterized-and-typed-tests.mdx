---
title: "Parameterized and Typed Tests"
description: "Explains the mechanisms for value- and type-parameterized tests, allowing the creation of flexible, reusable test logic for multiple input values or types. Details macros, instantiation patterns, and generator utilities, with best practices for scalable test coverage."
---

# Parameterized and Typed Tests

GoogleTest enhances your testing capabilities with *parameterized* and *typed* tests, enabling you to express generalized test logic that runs across multiple input values or types without duplicating code. This page guides you through the mechanisms for creating such tests using specialized macros, parameter generators, and instantiation syntax. By mastering these techniques, you can achieve scalable, maintainable, and robust test coverage tailored to a wide range of use cases.

---

## Value-Parameterized Tests

Value-parameterized tests allow you to define a test once, then run it multiple times with different data inputs. This is useful for testing algorithms over varying inputs, verifying flag-driven behavior, and more.

### Defining a Value-Parameterized Test Fixture

You define a test fixture class derived from `testing::TestWithParam<T>`, where `T` is the parameter type. Hereâ€™s the simple pattern:

```cpp
class FooTest : public ::testing::TestWithParam<const char*> {
  // You can define SetUp, TearDown, helper functions, and members.
};
```

This class provides the `GetParam()` method to access the current test parameter inside your tests.

### Writing Tests with `TEST_P`

The macro `TEST_P` defines parameterized tests using your fixture:

```cpp
TEST_P(FooTest, HandlesInput) {
  auto param = GetParam();
  EXPECT_TRUE(ProcessInput(param));
}
```

You can define multiple `TEST_P` cases per fixture.

### Instantiating the Test Suite

To run the tests with specific parameter values, use `INSTANTIATE_TEST_SUITE_P`. You pass it a unique instantiation name, the test fixture name, and a parameter generator:

```cpp
INSTANTIATE_TEST_SUITE_P(
    InputTests, FooTest, testing::Values("alpha", "beta", "gamma"));
```

This invocation instantiates tests for values "alpha", "beta", and "gamma".

### Parameter Generators

GoogleTest supplies various parameter generators to create flexible parameter sequences:

| Generator          | Description                                                                                         |
|--------------------|-------------------------------------------------------------------------------------------------|
| `Values(...)`      | Enumerates specified values explicitly.                                                          |
| `ValuesIn(container)` | Generates parameters from arrays, vectors, or any iterable container.                           |
| `Range(begin, end[, step])` | Produces values in `[begin, end)` stepping by `step`.                                          |
| `Bool()`           | Yields `false` and `true`.                                                                        |
| `Combine(g1, g2, ...)` | Cartesian product of multiple generators producing tuples of values.                             |
| `ConvertGenerator<T>(generator)` | Converts generated types to a custom type `T` optionally using a conversion function.          |


Examples:

```cpp
// Instantiates with integer values 0,1,2.
INSTANTIATE_TEST_SUITE_P(
    NumberSequence, FooTest, testing::Range(0, 3));

// Uses vector as parameter source.
std::vector<std::string> words = {"foo", "bar"};
INSTANTIATE_TEST_SUITE_P(
    WordSequence, FooTest, testing::ValuesIn(words));

// Combine two Bool() flags
INSTANTIATE_TEST_SUITE_P(
    FlagCombinations, FlagTest, testing::Combine(testing::Bool(), testing::Bool()));
```

### Custom Naming of Tests

Because parameters can be complex, the default test names may be non-intuitive. You can specify a custom naming function (or functor) in the last argument of `INSTANTIATE_TEST_SUITE_P`:

```cpp
INSTANTIATE_TEST_SUITE_P(
    NamedTests, FooTest, testing::Values("a", "b"),
    [](const testing::TestParamInfo<FooTest::ParamType>& info) {
      return "Param" + std::to_string(info.index);
    });
```

Names must be unique and contain only alphanumeric characters and underscores.

### Tips and Best Practices for Value-Parameterized Tests

- Always instantiate your `TEST_P` suites, or suppress failures with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`.
- Place instantiation at global or namespace scope, never inside functions.
- Prefer expressive parameter sequences using generators like `Range` or `Combine` over large explicit `Values` lists.
- Use custom naming to make test run logs and filters easier to interpret.

---

## Typed Tests

Typed tests let you run the same tests over a set of C++ types, abstracting your test logic from the concrete types.

### Defining a Typed Test Fixture

Create a class template derived from `testing::Test`:

```cpp
template <typename T>
class NumericPropertiesTest : public testing::Test {
 protected:
  T value_;
};
```

### Registering Type Lists

Create a list of types you want to test using `testing::Types<T1, T2, ...>`:

```cpp
using MyTypes = testing::Types<int, double, float>;
```

You associate these types with your fixture using `TYPED_TEST_SUITE`:

```cpp
TYPED_TEST_SUITE(NumericPropertiesTest, MyTypes);
```

### Defining Typed Tests

Use the `TYPED_TEST` macro instead of `TEST_F` or `TEST`:

```cpp
TYPED_TEST(NumericPropertiesTest, IsZeroByDefault) {
  TypeParam n = TypeParam();  // TypeParam refers to the current type
  EXPECT_EQ(n, 0);
}
```

You can define multiple typed tests under a typed test fixture.

### Custom Naming

`TYPED_TEST_SUITE` also supports an optional third argument specifying a name generator class to customize the type names printed in test output.

```cpp
class MyTypeNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if (std::is_same<T, int>::value) return "Int";
    if (std::is_same<T, double>::value) return "Double";
    return "Unknown";
  }
};

TYPED_TEST_SUITE(NumericPropertiesTest, MyTypes, MyTypeNames);
```

### Type-Parameterized Tests

For tests where types are not known at compile-time or need to be instantiated later and multiple times, you can use *type-parameterized* tests. They use similar syntax but with `_P` suffixes and registration steps:

- Use `TYPED_TEST_SUITE_P` to declare a type-parameterized test suite.
- Define tests with `TYPED_TEST_P`.
- Register tests using `REGISTER_TYPED_TEST_SUITE_P`.
- Instantiate using `INSTANTIATE_TYPED_TEST_SUITE_P`.

Example:

```cpp
template <typename T>
class MyTypeParamTest : public testing::Test {};

TYPED_TEST_SUITE_P(MyTypeParamTest);

TYPED_TEST_P(MyTypeParamTest, DoesSomething) {
  TypeParam val = 42;
  EXPECT_TRUE(DoStuff(val));
}

REGISTER_TYPED_TEST_SUITE_P(MyTypeParamTest, DoesSomething);

typedef testing::Types<char, int> MyTypes;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, MyTypeParamTest, MyTypes);
```

---

## Common Pitfalls and Troubleshooting

- Mixing `TEST` and `TEST_F` in the same suite leads to runtime failures. Keep test types consistent.
- Forgetting to instantiate `TEST_P` or `TYPED_TEST_P` suites causes silent failures detected by `GoogleTestVerification` suite. Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` sparingly.
- Test names generated from parameters can be ambiguous; prefer custom name generators for clarity.
- Define `SetUpTestSuite` and `TearDownTestSuite` as `public` when used with parameterized tests.

---

## Example Workflow: Creating a Parameterized Test Suite

<Steps>
<Step title="Define the fixture class">
Create a fixture for your parameterized test, inheriting from `TestWithParam<T>`.
</Step>
<Step title="Write parameterized tests">
Use `TEST_P` macro to define your tests that call `GetParam()`.
</Step>
<Step title="Instantiate test suite">
Use `INSTANTIATE_TEST_SUITE_P` with a parameter generator, defining your test cases to run with various inputs.
</Step>
<Step title="Run your tests">
Run your binary; GoogleTest will execute the tests once per parameter.
</Step>
</Steps>

---

## Additional References
- [Testing Reference](reference/testing.md): Full macro and class API for parameterized and typed tests
- [Advanced GoogleTest Topics](docs/advanced.md#value-parameterized-tests) for deep dive into parameterized and typed tests
- [Guides on Parameterized and Typed Tests](guides/core_testing_patterns/parameterized_tests.md)
- [Testing Output and Filtering](getting-started/first-steps/running-tests.md) for test run inspection

---