---
title: "Parameterized and Typed Test API"
description: "API documentation for creating parameterized and typed tests in GoogleTest. Covers macros and utilities for generating tests over multiple input values or types, along with practical examples for flexible and scalable test code. Ideal for users testing functions with different data sets or templated types."
---

# Parameterized and Typed Test API

GoogleTest offers powerful APIs for creating parameterized and typed tests that let you efficiently verify your code across different input values and types without duplicating test logic. This page serves as your comprehensive guide to using these features, including macros, class templates, and utilities.

---

## 1. Introduction to Parameterized and Typed Tests

When testing code that varies behavior based on input values or data types, writing separate tests for each case can become tedious and error-prone. GoogleTest solves this with two complementary mechanisms:

- **Value-Parameterized Tests:** Run the same test logic with different input parameters.
- **Typed Tests:** Run the same test logic for a list of types, useful for templated code or interface conformance.

Both approaches dramatically reduce duplication and improve test coverage.


## 2. Value-Parameterized Tests

Value-Parameterized Tests allow you to define a test once and supply it with different input values to run multiple instantiations.

### 2.1 Defining a Value-Parameterized Test Fixture

- Derive your test fixture from `testing::TestWithParam<T>`, where `T` is the parameter type.
- Access the parameter inside your tests using `GetParam()`.

Example:

```cpp
class FooTest : public ::testing::TestWithParam<const char*> {
  // Define members and setup as needed.
};

TEST_P(FooTest, HandlesInput) {
  EXPECT_TRUE(ProcessInput(GetParam()));
}
```

### 2.2 Instantiating Tests with Parameters

Use `INSTANTIATE_TEST_SUITE_P` to attach a set of parameters to your test suite.

```cpp
INSTANTIATE_TEST_SUITE_P(
  MyInstantiation,
  FooTest,
  testing::Values("value1", "value2", "value3")
);
```

This runs the test suite FooTest multiple times, each with one of the supplied parameter values.

### 2.3 Parameter Generators

GoogleTest provides several built-in parameter generators in the `testing` namespace:

| Generator           | Description                                           |
|---------------------|-------------------------------------------------------|
| `Range(begin, end)`  | Sequence from `begin` to `end - 1` (step default 1) |  
| `Values(v1,...,vN)` | Explicit list of values                              |
| `ValuesIn(container)`| Values from container/array iterator range          |
| `Bool()`            | Yields `false` and `true`                            |
| `Combine(g1,...,gN)`| Cartesian product of generators, yields tuples      |

Generators allow building complex parameter sets, including combinations of multiple parameters.

### 2.4 Customizing Parameter Names

You can provide a functor or function to generate readable test names for parameters:

```cpp
INSTANTIATE_TEST_SUITE_P(
    NamedInstantiation,
    FooTest,
    testing::Values("foo", "bar"),
    [](const testing::TestParamInfo<const char*>& info) {
      return info.param;  // Simple example returning parameter as name
    });
```

### 2.5 Advanced Usage: Creating Abstract Parameterized Tests

You can define parameterized tests in headers and implement them separately to create reusable "abstract" tests. Other code can instantiate these with their own parameters for interface conformance tests or varied inputs.

---

## 3. Typed Tests

Typed Tests allow running the same test cases on multiple types, helping verify template classes or multiple implementations of the same interface without duplicating code.

### 3.1 Defining Typed Tests

- Define a class template fixture deriving from `testing::Test`.

```cpp
template <typename T>
class FooTest : public testing::Test {
 public:
  // Your fixture code here
};
```

- Create an alias using `testing::Types<T1, T2, ...>` listing the types you want to test.

```cpp
using MyTypes = ::testing::Types<char, int, unsigned>;
```

- Associate the type list with your test suite via `TYPED_TEST_SUITE`.

```cpp
TYPED_TEST_SUITE(FooTest, MyTypes);
```

### 3.2 Writing Typed Tests

- Use the `TYPED_TEST` macro instead of `TEST_F`.
- Use the special type alias `TypeParam` in test bodies to reference the current test type.

Example:

```cpp
TYPED_TEST(FooTest, DoesSomething) {
  TypeParam value = this->value_;
  // ... test logic ...
}
```


### 3.3 Customizing Type Names

You can supply an optional third parameter to `TYPED_TEST_SUITE` - a class with a static templated `GetName(int i)` method that returns a string to use for the test suite name suffix, giving readable test names per type.

### 3.4 Type-Parameterized Tests (Advanced)

Type-parameterized tests (`TYPED_TEST_SUITE_P`, `TYPED_TEST_P`) are similar but more flexible:

- Define the test pattern without specifying types.
- Register the tests.
- Instantiate the pattern in multiple translation units with different type lists.

Useful for interface verification where implementations provide the types later.

---

## 4. Summary of Macros and Usage Patterns

| Macro                             | Purpose                                                        |
|----------------------------------|----------------------------------------------------------------|
| `TEST_P(Fixture, TestName)`       | Defines a value-parameterized test                             |
| `INSTANTIATE_TEST_SUITE_P(Name, Fixture, Generator)` | Instantiates the value-parameterized test with parameters      |
| `TYPED_TEST_SUITE(Fixture, Types, [NameGen])` | Defines typed tests for a fixed list of types               |
| `TYPED_TEST(Fixture, TestName)`  | Defines a test for each type                                   |
| `TYPED_TEST_SUITE_P(Fixture)`    | Declares a type-parameterized test suite (pattern)            |
| `TYPED_TEST_P(Fixture, TestName)`| Defines typed tests under the pattern                          |
| `REGISTER_TYPED_TEST_SUITE_P(Fixture, TestNames...)` | Registers tests to the pattern                              |
| `INSTANTIATE_TYPED_TEST_SUITE_P(Name, Fixture, Types, [NameGen])` | Instantiates the type-parameterized test pattern         |

---

## 5. Practical Examples

### 5.1 Value-Parameterized Test Example

```cpp
class StringLengthTest : public testing::TestWithParam<std::string> {};

TEST_P(StringLengthTest, IsLongerThanFive) {
  std::string s = GetParam();
  EXPECT_GT(s.length(), 5u);
}

INSTANTIATE_TEST_SUITE_P(
  CommonStrings,
  StringLengthTest,
  testing::Values("elephant", "giraffe", "hippopotamus")
);
```

### 5.2 Typed Test Example

```cpp
template <typename T>
class NumericLimitsTest : public testing::Test {
  // ...
};

using NumericTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericLimitsTest, NumericTypes);

TYPED_TEST(NumericLimitsTest, IsNonNegative) {
  TypeParam zero = static_cast<TypeParam>(0);
  EXPECT_GE(std::numeric_limits<TypeParam>::min(), zero);
}
```

### 5.3 Type-Parameterized Test Example

```cpp
template <typename T>
class ContainerTest : public testing::Test {};

TYPED_TEST_SUITE_P(ContainerTest);

TYPED_TEST_P(ContainerTest, DefaultConstructible) {
  TypeParam container;
  EXPECT_EQ(container.size(), 0U);
}

TYPED_TEST_P(ContainerTest, CanAddElement) {
  TypeParam container;
  container.insert(container.end(), 42);
  EXPECT_EQ(container.size(), 1U);
}

REGISTER_TYPED_TEST_SUITE_P(ContainerTest, DefaultConstructible, CanAddElement);

using MyContainers = ::testing::Types<std::vector<int>, std::list<int>>;
INSTANTIATE_TYPED_TEST_SUITE_P(MyInstantiation, ContainerTest, MyContainers);
```

---

## 6. Best Practices & Tips

- **Choose the right approach:**
  - Use **value-parameterized tests** for varying input values.
  - Use **typed tests** for testing templates or type-specific behavior.
  - Use **type-parameterized tests** when you want reusable test patterns across translation units.

- **Naming tests:**
  - Avoid underscores in test suite and test names.
  - Customize parameter and type names for readability using name generators.

- **Avoid duplicate instantiation:**
  - Always instantiate parameterized tests, or suppress warnings with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`.

- **Test independence:**
  - Each test runs on a fresh fixture instance. Do not rely on shared mutable state unless managed explicitly.

- **Combining Generators:**
  - Use `Combine()` to test multiple parameters together.

- **Use `GetParam()` and `TypeParam` appropriately:**
  - Access values via `GetParam()`, types via `TypeParam` inside test bodies.

- **Setup and teardown:**
  - Use `SetUp()` and `TearDown()` in fixtures as usual.

---

## 7. Troubleshooting

- **Tests not instantiated:**
  If your parameterized tests don't run, verify you've called `INSTANTIATE_TEST_SUITE_P` correctly.

- **Name collisions or invalid names:**
  Avoid underscores `_` in test suite or test names; they can cause framework errors.

- **Template and macro syntax errors:**
  Remember to use the required `using` alias for type lists passed to macros.

- **Parameter naming issues:**
  If parameter values don't print nicely in test names, provide a custom name generator.

- **Complex parameter types:**
  Use `ConvertGenerator<>` to convert parameter generator output to your desired type.

---

## 8. Additional Resources

- [GoogleTest Primer](docs/primer.md) for basics on tests
- [Value-Parameterized Tests Guide](docs/advanced.md#value-parameterized-tests)
- [Typed Tests Guide](docs/advanced.md#typed-tests)
- [Testing Reference: Macros](docs/reference/testing.md#TEST_P)
- [Sample Typed Test](https://github.com/google/googletest/blob/main/googletest/samples/sample6_unittest.cc)

---

## 9. Internal Macro References (For Advanced Users)

| Macro                         | Description                                                                                     |
|-------------------------------|------------------------------------------------------------------------------------------------|
| `TYPED_TEST_SUITE(CaseName, Types, …)` | Associates a list of types with a typed test suite (required)                                |
| `TYPED_TEST(CaseName, TestName)`       | Defines a typed test inside a typed test suite                                                |
| `TYPED_TEST_SUITE_P(SuiteName)`        | Declares a type-parameterized test suite without types                                       |
| `TYPED_TEST_P(SuiteName, TestName)`    | Defines a type-parameterized test in a pattern                                               |
| `REGISTER_TYPED_TEST_SUITE_P(SuiteName, TestNames...)` | Registers tests for the pattern                                                      |
| `INSTANTIATE_TYPED_TEST_SUITE_P(Prefix, SuiteName, Types, …)` | Instantiates type-parameterized test pattern with types                              |

---

This page equips developers with all necessary information to create flexible, maintainable, and scalable tests that adapt across inputs and types, ensuring robust verification with minimal code duplication.


<Info>
For an interactive and in-depth walkthrough, visit the [Parameterized and Typed Tests Guide](/guides/advanced-testing-patterns/parameterized-and-typed-tests).
</Info>

<Note>
Refer to the GoogleTest Primer for foundational concepts and the Testing Reference for comprehensive macro information.
</Note>

