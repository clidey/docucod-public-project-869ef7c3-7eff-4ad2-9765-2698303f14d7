---
title: "Parameterized and Typed Tests"
description: "Describes how to author tests that run over multiple values or types. Provides an overview of value-parameterized and type-parameterized test macros, generators, and instantiation utilities, guiding users in reusing test logic efficiently."
---

# Parameterized and Typed Tests

GoogleTest empowers you to write tests that efficiently run multiple scenarios over a range of values or types without duplicating code. This page guides you through authoring value-parameterized and type-parameterized tests using dedicated macros, parameter generators, and instantiation utilities. By mastering these tools, youâ€™ll ensure thorough coverage with maintainable and reusable test code.

---

## Overview

Many testing scenarios require running the same test logic with different inputs or types. Manual duplication is error-prone and hard to maintain. GoogleTest's *value-parameterized tests* allow running tests repeatedly over multiple data inputs, while *typed tests* repeat test logic over a set of types, enabling tests for generic code or interface implementations.

This page explains how to write such tests, instantiate them with value sequences or type lists, customize test names, and combine parameters effectively to avoid redundant test code.

---

## Value-Parameterized Tests (Data-Driven Testing)

Value-parameterized tests let you run the same test logic on different data values, supporting robust input coverage.

### Defining Value-Parameterized Tests

1. **Create a Test Fixture:** Derive from `testing::TestWithParam<T>`, where `T` is your parameter type.

```cpp
class FooTest : public testing::TestWithParam<int> {
  // Implement fixture members here, if needed.
};
```

2. **Write Parameterized Tests:** Use the `TEST_P` macro, writing tests that access parameters with `GetParam()`.

```cpp
TEST_P(FooTest, HandlesValue) {
  int value = GetParam();
  EXPECT_TRUE(Process(value));
}
```

3. **Instantiate Tests with Parameter Sets:** Use `INSTANTIATE_TEST_SUITE_P` to supply values.

```cpp
INSTANTIATE_TEST_SUITE_P(
    ValuesTest,
    FooTest,
    testing::Values(1, 2, 3));
```

This will run `FooTest.HandlesValue` three times with parameters 1, 2, and 3.

### Parameter Generators

GoogleTest provides a rich set of generators to create parameter sequences:

| Generator             | Description                                                                                  |
|-----------------------|----------------------------------------------------------------------------------------------|
| `Range(start, end[, step])` | Produces values from `start` up to but not including `end`, optionally stepping.            |
| `Values(v1, v2, ..., vN)`    | Produces an explicit list of values.                                                       |
| `ValuesIn(container)` or `ValuesIn(begin, end)` | Pulls values from arrays, STL containers, or iterator ranges.  |
| `Bool()`                     | Produces `{false, true}` for boolean tests.                                               |
| `Combine(g1, g2, ..., gN)`   | Produces the Cartesian product of values from multiple generators, yielding tuples.       |
| `ConvertGenerator<T>(gen)` or `ConvertGenerator(gen, func)` | Converts generated values to a specific type, optionally with a conversion function. |

### Named Instantiations and Test Naming

The first argument to `INSTANTIATE_TEST_SUITE_P` is a unique *instantiation name* used to prefix test suite names, distinguishing multiple instantiations.

You can supply an optional *name generator* function or functor to create custom test suffixes based on parameter values, producing readable and informative test names.

Example:

```cpp
INSTANTIATE_TEST_SUITE_P(
    CustomNames, FooTest,
    testing::Values(10, 20),
    [](const testing::TestParamInfo<FooTest::ParamType>& info) {
      return "ValueIs_" + std::to_string(info.param);
    });
```

This would generate test names like `CustomNames/FooTest.HandlesValue/ValueIs_10`.

### Abstract Tests and Modular Instantiation

For reusable libraries, define your parameterized tests in a header and implement test bodies in `.cc` files, then instantiate them elsewhere. This separation enhances modularity and allows multiple instantiations with different data sets.

### Notes and Best Practices

- The parameter type `T` must be copyable.
- Default construction and setup work best when parameter types support expected operations.
- If you omit an instantiation for a parameterized test suite, GoogleTest will report a failure unless you mark the test suite as allowed uninstantiated with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`.


---

## Typed Tests (Type-Driven Testing)

Typed tests run the same test logic across a list of types, ideal for verifying generic code or interface compliance.

### Defining Typed Tests

1. **Create a Fixture Template:** Define a class template derived from `testing::Test`.

```cpp
template <typename T>
class FooTest : public testing::Test {
 public:
  // Optional shared members
  using Type = T;
};
```

2. **Associate a List of Types:** Use `testing::Types<Type1, Type2, ...>` with `TYPED_TEST_SUITE`.

```cpp
using MyTypes = ::testing::Types<int, double, std::string>;
TYPED_TEST_SUITE(FooTest, MyTypes);
```

3. **Define Tests Using `TYPED_TEST`:** Access the current type as `TypeParam` inside the test body.

```cpp
TYPED_TEST(FooTest, DoesStuff) {
  TypeParam value{};  // Default construct the type
  EXPECT_TRUE(DoSomething(value));
}
```

This defines one test case repeated for each type in `MyTypes`.

### Typed Tests with Custom Type Names

You can provide a `NameGenerator` class with a static template method `GetName<int>(index)` to customize how each test variant is named.

Example:

```cpp
class TypeNames {
 public:
  template <typename T>
  static std::string GetName(int) {
    if constexpr (std::is_same_v<T, int>) return "Int";
    if constexpr (std::is_same_v<T, double>) return "Double";
    if constexpr (std::is_same_v<T, std::string>) return "String";
  }
};

TYPED_TEST_SUITE(FooTest, MyTypes, TypeNames);
```

---

## Type-Parameterized Tests (Flexible and Reusable Patterns)

Type-parameterized tests provide a powerful abstraction where the test pattern (fixture and tests) is defined without needing to specify the list of types upfront. Test suites can be instantiated later with different type lists.

### Defining Type-Parameterized Tests

1. **Define Template Fixture:** As with typed tests.

2. **Declare Type-Parameterized Test Suite:** Use `TYPED_TEST_SUITE_P`.

3. **Define Tests Using `TYPED_TEST_P`:** Similar to `TYPED_TEST`, but without binding the type list yet.

4. **Register Test Patterns:** Use `REGISTER_TYPED_TEST_SUITE_P` with the test names.

5. **Instantiate Test Suite:** Use `INSTANTIATE_TYPED_TEST_SUITE_P` with a unique prefix and the desired type list.

Example:

```cpp
template <typename T>
class FooTest : public testing::Test {
 public:
  void DoSomething();
};

TYPED_TEST_SUITE_P(FooTest);

TYPED_TEST_P(FooTest, TestA) { /* ... */ }
TYPED_TEST_P(FooTest, TestB) { /* ... */ }

REGISTER_TYPED_TEST_SUITE_P(FooTest, TestA, TestB);

using MyTypes = testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, FooTest, MyTypes);
```

---

## Practical Examples and Workflows

### Example: Value-Parameterized Test

```cpp
class IsEvenTest : public testing::TestWithParam<int> {};

TEST_P(IsEvenTest, ReturnsTrueForEvenNumbers) {
  int n = GetParam();
  EXPECT_EQ(n % 2, 0);
}

INSTANTIATE_TEST_SUITE_P(EvenNumbers,
                         IsEvenTest,
                         testing::Values(2, 4, 6, 8));
```

### Example: Typed Test

```cpp
template <typename T>
class MyTemplateTest : public testing::Test {
 public:
  static T value;
};

template <typename T>
T MyTemplateTest<T>::value = T{};

using MyTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(MyTemplateTest, MyTypes);

TYPED_TEST(MyTemplateTest, IsDefaultConstructible) {
  EXPECT_TRUE(std::is_default_constructible<TypeParam>::value);
}
```

---

## Tips and Best Practices

- Use expressive naming conventions for your test suite and instantiation prefixes to keep results clear.
- Prefer `ValuesIn` with STL containers or arrays to manage large sets of test data cleanly.
- For complex types or when implicit conversions don't work, use `ConvertGenerator` to adapt parameter types.
- Use custom parameter name generators to produce readable, unique test names, especially when the default printing is not informative (e.g., for `std::string` or complex tuples).
- Combine generators with `Combine` to easily handle multiple parameter dimensions.
- Remember to mark uninstantiated parameterized tests with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` if the absence of instantiation is intentional and should not cause failures.
- Ensure your parameter types are copyable and default constructible when necessary.

---

## Troubleshooting

### Common Issues

- **Tests not running:** Ensure you have instantiated parameterized test suites correctly with `INSTANTIATE_TEST_SUITE_P` or `INSTANTIATE_TYPED_TEST_SUITE_P`.
- **Duplicate test names:** Instantiation names must be unique to avoid collisions.
- **Bad test parameter names:** Use custom name generators when default names are ambiguous or invalid.
- **Failures with non-copyable/streamable types:** Provide proper printing support (`PrintTo` or `AbslStringify`) and ensure types are copyable.

---

## See Also

- [Value-Parameterized Tests Guide](../guides/real-world-workflows/parameterized-tests)
- [Typed Tests and Type-Parameterized Tests Guide](../guides/real-world-workflows/parameterized-tests)
- [Testing Reference - TEST, TEST_F, TEST_P macros](../api-reference/gtest-core-api/test-discovery-and-definition)
- [INSTANTIATE_TEST_SUITE_P and parameter generators](../api-reference/gtest-core-api/parameterized-and-typed-tests)
- [Using ConvertGenerator](../api-reference/gtest-core-api/parameterized-and-typed-tests#using-convertgenerator)

---

For detailed API references, advanced use cases, and examples, refer to the linked guides above and sample tests in the [GoogleTest GitHub repository](https://github.com/google/googletest).

---

