---
title: "Parameterized and Typed Tests"
description: "Details how to define, instantiate, and run value-parameterized and type-parameterized tests. Explains macros, required patterns, and practical examples for writing data-driven and type-driven test scenarios."
---

# Parameterized and Typed Tests

GoogleTest empowers you to write concise, reusable, and comprehensive tests by leveraging **parameterized** and **typed tests**. These testing styles let you automatically execute the same test logic with different data values or types, enabling robust and scalable data-driven and type-driven test scenarios.

---

## Overview

- **Value-Parameterized Tests** allow running the same test code with various data values. This is especially useful for testing multiple inputs or configurations without rewriting test logic.
- **Typed Tests** run the same test logic over different C++ types, making it convenient to verify type-generic code and interface compliance.
- **Type-Parameterized Tests** are a more flexible variant of typed tests where test logic is defined separately and instantiated with different type lists later.

This page details how to define, instantiate, and run these tests, including macros, patterns, parameter generators, naming schemes, and practical code examples.

---

## Value-Parameterized Tests

Value-parameterized tests are designed to test your code with multiple values without duplicating test definitions.

### Defining Value-Parameterized Tests

1. **Test Fixture**

Define a fixture class inheriting from `testing::TestWithParam<T>`, where `T` is the parameter type.

```cpp
class FooTest : public testing::TestWithParam<int> {
  // Usual fixture members here.
};
```

2. **Defining Tests**

Use the `TEST_P` macro to define parameterized test cases. Within the test, access the current parameter using `GetParam()`.

```cpp
TEST_P(FooTest, HandlesValidInputs) {
  int param = GetParam();
  EXPECT_GT(param, 0);  // Example check
  // ... perform test logic using param ...
}
```

3. **Instantiating Tests**

Use `INSTANTIATE_TEST_SUITE_P()` to define concrete sets of test parameters. The macro takes:
- A unique instantiation name
- The test suite fixture name
- A parameter generator (a function generating parameter values)
- (Optional) A name generator for custom test suffixes

Example using explicit values:

```cpp
INSTANTIATE_TEST_SUITE_P(Positives, FooTest,
                         testing::Values(1, 10, 100));
```

Example using parameter container:

```cpp
int values[] = {2, 4, 8};
INSTANTIATE_TEST_SUITE_P(Evens, FooTest,
                         testing::ValuesIn(values));
```

### Parameter Generators

GoogleTest provides several built-in parameter generators in the `testing` namespace:

| Generator              | Description                                                                                   |
|------------------------|-----------------------------------------------------------------------------------------------|
| `Range(start, end [, step])` | Generates values starting from `start`, stepping by `step` (default 1), up to but not including `end` |
| `Values(v1, v2, ..., vN)`    | Yields explicit values `v1`, `v2`, ..., `vN`                                              |
| `ValuesIn(container)` or `ValuesIn(begin, end)` | Produces values from arrays, STL containers, or iterator ranges             |
| `Bool()`                     | Yields `{false, true}`, useful for boolean flags                                         |
| `Combine(g1, g2, ..., gN)`   | Generates the Cartesian product of multiple generators, producing tuples of combined values |
| `ConvertGenerator<T>(g)` or `ConvertGenerator(g, func)` | Wraps a generator, casting each generated value to type `T` or using a conversion function |

### Example: Combining Generators

Parameterized tests support complex data sets by combining multiple generators:

```cpp
using ::testing::Combine;
using ::testing::Values;
using ::testing::Bool;

class MyTest : public testing::TestWithParam<std::tuple<int, bool>> {};

TEST_P(MyTest, HandlesIntAndFlag) {
  int number = std::get<0>(GetParam());
  bool flag = std::get<1>(GetParam());
  // ... test using number and flag ...
}

INSTANTIATE_TEST_SUITE_P(
    CombinedTests, MyTest,
    Combine(Values(1, 2), Bool())
);
```

This runs tests for `(1, false)`, `(1, true)`, `(2, false)`, and `(2, true)`.

### Custom Naming for Parameters

By default, parameterized tests get generated suffixes like `/0`, `/1` based on the index.
To make test names more descriptive, you can provide a name generator function or functor to `INSTANTIATE_TEST_SUITE_P`.

Example with a lambda:

```cpp
INSTANTIATE_TEST_SUITE_P(
    NamedTests, MyTest, Values(10, 20),
    [](const testing::TestParamInfo<int>& info) {
      return "Val" + std::to_string(info.param);
    });
```

The test names become `NamedTests/MyTest.HandlesIntAndFlag/Val10`, etc.

### Important Notes

- The test fixture's `SetUpTestSuite()` and `TearDownTestSuite()` methods must be marked **public** to work with `TEST_P`.
- `INSTANTIATE_TEST_SUITE_P` must appear at global or namespace scope.
- Parameter generators are evaluated inside `InitGoogleTest()`, allowing dynamic adjustment based on runtime initialization.
- If you declare parameterized tests but omit instantiation, GoogleTest reports a failure unless you suppress it with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST`.

---

## Typed Tests

Typed tests run the same test logic across a predefined set of C++ types.

### Defining Typed Tests

1. **Define a Fixture Template**

Create a template test fixture class derived from `testing::Test`:

```cpp
template <typename T>
class MyTypedTest : public testing::Test {
 protected:
  T value_ = T();
};
```

2. **Associate Types with the Test Suite**

Use `TYPED_TEST_SUITE` to bind a list of types to the fixture:

```cpp
using MyTypes = ::testing::Types<int, double, char>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

3. **Create Typed Tests**

Define tests using `TYPED_TEST`. Inside, use `TypeParam` to refer to the current type:

```cpp
TYPED_TEST(MyTypedTest, IsDefaultConstructible) {
  TypeParam default_value = this->value_;
  // ... test logic ...
}
```

Multiple `TYPED_TEST` declarations can appear for the same fixture.

### Example

```cpp
template <typename T>
class NumericTest : public testing::Test {};

using NumericTypes = ::testing::Types<int, float, double>;
TYPED_TEST_SUITE(NumericTest, NumericTypes);

TYPED_TEST(NumericTest, ZeroIsNeutral) {
  TypeParam zero = TypeParam(0);
  EXPECT_EQ(zero + zero, zero);
}
```

---

## Type-Parameterized Tests

Type-parameterized tests separate test definitions from their instantiations, providing more flexibility for library authors and users.

### Defining Type-Parameterized Suites

1. **Fixture Template**

Define your test fixture template as usual.

2. **Declare type-parameterized test suite**

Use `TYPED_TEST_SUITE_P` to declare a suite without specifying types.

3. **Define tests with `TYPED_TEST_P`**

Write individual tests using `TYPED_TEST_P`.

4. **Register test names**

Use `REGISTER_TYPED_TEST_SUITE_P` to list all defined test names.

Example:

```cpp
template <typename T>
class AbstractTest : public testing::Test {};

TYPED_TEST_SUITE_P(AbstractTest);

TYPED_TEST_P(AbstractTest, ShouldBehave) {
  // test logic with TypeParam
}

REGISTER_TYPED_TEST_SUITE_P(AbstractTest, ShouldBehave);
```

5. **Instantiate with types**

In any translation unit you include the declaration, instantiate the tests:

```cpp
using MyTypes = ::testing::Types<int, double>;
INSTANTIATE_TYPED_TEST_SUITE_P(My, AbstractTest, MyTypes);
```

This separation supports building reusable abstract typed tests distributed across libraries.

---

## Macros Summary

| Macro                        | Purpose                                      |
|------------------------------|----------------------------------------------|
| `TEST_P(Fixture, TestName)`  | Define a value-parameterized test            |
| `INSTANTIATE_TEST_SUITE_P`   | Instantiate a value-parameterized test suite |
| `TYPED_TEST_SUITE`            | Associate types with a typed test suite      |
| `TYPED_TEST(Fixture, TestName)` | Define a typed test                         |
| `TYPED_TEST_SUITE_P`          | Declare a type-parameterized test suite      |
| `TYPED_TEST_P(Fixture, TestName)` | Define type-parameterized test            |
| `REGISTER_TYPED_TEST_SUITE_P` | Register tests for type-parameterized suite  |
| `INSTANTIATE_TYPED_TEST_SUITE_P` | Instantiate type-parameterized test suite  |

---

## Practical Tips and Best Practices

- Prefer `TEST_P` and `INSTANTIATE_TEST_SUITE_P` for value-based inputs and configurations.
- Use `TYPED_TEST` or `TYPED_TEST_SUITE` when testing template code or different implementations of the same concept.
- Employ `Combine()` with multiple generators for comprehensive coverage of parameter spaces.
- Use custom parameter name generators to enhance readability of test reports.
- Mark parameterized tests with `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` if you intentionally leave them uninstantiated.
- Test fixtures should define `SetUpTestSuite()` and `TearDownTestSuite()` as **public** to function properly.
- Place `INSTANTIATE_TEST_SUITE_P` and typed test instantiations at global or namespace scope.

---

## Troubleshooting

- **Omitting instantiation causes failures:** GoogleTest will fail tests if `TEST_P` tests are defined but not instantiated with `INSTANTIATE_TEST_SUITE_P`. Use `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(FooTest);` to suppress if intentional.
- **Parameter generator evaluated late:** Parameter generators execute during `InitGoogleTest()`, so any derived state must be ready beforehand.
- **Failure messages for parameters:** Numeric parameters get default names, but strings or complex types require custom name generators.
- **Underscores in names:** Avoid underscores in test suite and test names to prevent naming conflicts and runtime issues.

---

## Learn More and Next Steps

- Explore the [GoogleTest Primer](../primer.md) to build foundational knowledge.
- Read the [Testing Reference](reference/testing.md) for detailed API insights.
- Use the [Parameterized and Typed Tests Guide](../advanced.md#parameterized-tests) for advanced usage scenarios.
- Check the [FAQ](../faq.md) for common pitfalls and solutions.

---

For a thorough understanding, visit the documentation on **Value-Parameterized Tests** and **Typed Tests** in the [GoogleTest Testing Reference](reference/testing.md).
