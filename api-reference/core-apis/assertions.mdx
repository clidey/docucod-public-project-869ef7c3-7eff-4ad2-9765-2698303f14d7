---
title: "Assertions"
description: "Explore the comprehensive set of assertion macros available in GoogleTest. Learn when and how to apply equality, relational, floating-point, string, and exception assertions, as well as fatal versus non-fatal failures. Includes syntax, recommended usage, and error reporting details."
---

# Assertions

Harness the full power of GoogleTest assertions to precisely validate your C++ code. This guide walks you through the comprehensive set of assertion macros available in GoogleTest, helping you decide when and how to apply them effectively. From simple equality checks to complex exception handling, you'll gain actionable insights into writing robust, clear, and maintainable tests.

---

## Overview

GoogleTest provides a rich suite of assertion macros for verifying conditions in test code. These assertions fall into key categories:

- **Boolean Assertions**: Check if conditions are true or false.
- **Equality and Relational Assertions**: Verify if values are equal, not equal, or relate by ordering.
- **Floating-Point Assertions**: Handle approximate comparisons of floating-point numbers.
- **String Assertions**: Test the equality or inequality of strings.
- **Exception Assertions**: Verify that code throws or does not throw expected exceptions.
- **Fatal vs Non-fatal Failures**: Understand when an assertion should stop test execution or allow it to continue.

Use these assertions to capture test intent clearly, making failures informative and debugging efficient.

---

## Boolean Assertions

### `ASSERT_TRUE(condition)` and `EXPECT_TRUE(condition)`
Verifies that `condition` evaluates to `true`.

```cpp
ASSERT_TRUE(ptr != nullptr);  // Fatal failure if false
EXPECT_TRUE(value > 0);       // Non-fatal failure if false
```

### `ASSERT_FALSE(condition)` and `EXPECT_FALSE(condition)`
Verifies that `condition` evaluates to `false`.

```cpp
ASSERT_FALSE(is_empty());     // Fatal failure if true
EXPECT_FALSE(flag);           // Non-fatal failure if true
```

**Tip:** Use `ASSERT_` macros when continuing the test after a failed check could cause crashes, and `EXPECT_` macros otherwise.

---

## Equality Assertions

### `ASSERT_EQ(val1, val2)` and `EXPECT_EQ(val1, val2)`
Checks if `val1 == val2`. On failure, prints their values.

```cpp
EXPECT_EQ(CountItems(), 5);
ASSERT_EQ(foo.GetName(), std::string("bar"));
```

### `ASSERT_NE(val1, val2)` and `EXPECT_NE(val1, val2)`
Checks if `val1 != val2`.

```cpp
EXPECT_NE(pointer, nullptr);
```

### Relational Assertions

Use these to compare less, greater, or equal-relations:

- `ASSERT_LT(val1, val2)`, `EXPECT_LT(val1, val2)`    — less than
- `ASSERT_LE(val1, val2)`, `EXPECT_LE(val1, val2)`    — less than or equal
- `ASSERT_GT(val1, val2)`, `EXPECT_GT(val1, val2)`    — greater than
- `ASSERT_GE(val1, val2)`, `EXPECT_GE(val1, val2)`    — greater than or equal

Example:

```cpp
EXPECT_LT(score, max_score);
ASSERT_GE(index, 0);
```

---

## Floating-Point Assertions

Floating-point comparisons require approximate equality checking due to rounding errors.

### `ASSERT_NEAR(val1, val2, abs_error)` and `EXPECT_NEAR(val1, val2, abs_error)`
Confirms that the absolute difference between `val1` and `val2` is within `abs_error`.

```cpp
EXPECT_NEAR(CalculatePi(), 3.14159, 0.00001);
```

### Specialized Floating-Point Macros

- `ASSERT_FLOAT_EQ(val1, val2)` and `EXPECT_FLOAT_EQ(val1, val2)` — for `float`
- `ASSERT_DOUBLE_EQ(val1, val2)` and `EXPECT_DOUBLE_EQ(val1, val2)` — for `double`

These macros use an algorithm suitable for comparing floating-point values within a few ULPs (units in the last place).

---

## String Assertions

GoogleTest supports assertions that compare strings, giving detailed diagnostics.

### `ASSERT_STREQ(str1, str2)` and `EXPECT_STREQ(str1, str2)`
Checks if C-style strings `str1` and `str2` are equal (`strcmp` == 0).

### `ASSERT_STRNE(str1, str2)` and `EXPECT_STRNE(str1, str2)`
Checks if C-style strings are not equal.

### `ASSERT_STRCASEEQ(str1, str2)` and `EXPECT_STRCASEEQ(str1, str2)`
Checks for case-insensitive equality.

### `ASSERT_STRCASENE(str1, str2)` and `EXPECT_STRCASENE(str1, str2)`
Checks for case-insensitive inequality.

Example:

```cpp
ASSERT_STREQ(GetStatus().c_str(), "OK");
EXPECT_STRCASEEQ(header, "Content-Type");
```

For `std::string` comparisons, prefer `ASSERT_EQ()` and `EXPECT_EQ()`.

---

## Exception Assertions

Verify that your code properly handles exceptions.

### `ASSERT_THROW(statement, exception_type)` and `EXPECT_THROW(statement, exception_type)`
Checks that `statement` throws `exception_type`.

```cpp
EXPECT_THROW(ParseConfig("bad_input"), ParseError);
```

### `ASSERT_ANY_THROW(statement)` and `EXPECT_ANY_THROW(statement)`
Checks that `statement` throws any exception.

### `ASSERT_NO_THROW(statement)` and `EXPECT_NO_THROW(statement)`
Checks that `statement` does not throw any exception.

```cpp
ASSERT_NO_THROW(OpenFile("config.txt"));
```

---

## Fatal and Non-Fatal Assertions

- **Fatal assertions** (`ASSERT_*`): On failure, abort the current function immediately. Use when further execution is unsafe or meaningless.
- **Non-fatal assertions** (`EXPECT_*`): On failure, record it but continue executing. Use when subsequent checks remain valid.

Choose wisely depending on the consequences of failure.

---

## How Failure Messages Are Reported

When an assertion fails, GoogleTest automatically prints:

- The exact statement that failed
- File name and line number of failure
- The values of relevant expressions
- Any custom messages

Example failure message:

```text
test.cc:63: Failure
Expected equality of these values:
  x
    Which is: 5
  y
    Which is: 3
```

This detailed output expedites debugging.

---

## Best Practices and Tips

- Use **matchers** and **EXPECT_THAT()** in complex situations for expressive assertions.
- Combine `EXPECT_` with local variable checks for better failure context.
- Prefer `ASSERT_` when a failed condition invalidates the rest of the test.
- Use dedicated macros for floating-point and string comparisons to avoid subtle errors.
- Use exception assertions to ensure your code’s exception safety.

---

## Summary

GoogleTest offers a comprehensive set of assertions that enable precise and readable verification of your program's behavior. Mastery of these assertions will improve test quality and clarity dramatically.

---

## References and Next Steps

- [Matchers Reference](../reference/core-apis/matchers): Combine with assertions for flexible matching.
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html): Techniques to use assertions in mock-based tests.
- [gMock for Dummies](https://google.github.io/googletest/gmock_for_dummies.html): Overview of using mocks and assertions.
- [Test Organization](../reference/core-apis/test-organization): For structuring tests effectively.

Explore these documents to deepen your test-writing capabilities and integrate assertions effectively in your test suites.