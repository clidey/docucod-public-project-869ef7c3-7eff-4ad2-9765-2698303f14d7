---
title: "Assertions Reference"
description: "Detailed documentation of all built-in assertion macros and functions in GoogleTest. Learn how to check values, handle exceptions, and structure test validation for both fatal and non-fatal scenarios."
---

# Assertions Reference

Detailed documentation of all built-in assertion macros and functions in GoogleTest. Learn how to check values, handle exceptions, and structure test validation for both fatal and non-fatal scenarios.

---

## Overview of GoogleTest Assertions

GoogleTest provides a rich set of **assertion macros** that enable you to verify expected outcomes in your tests. Assertions allow you to check the state of values, validate conditions, and ensure your code behaves as intended.

At its core, an assertion checks a condition or compares values. If the assertion fails, GoogleTest will report it and depending on the assertion, it may either continue running the test or stop immediately.

> Typical use cases include checking:
> - Equality and inequality of values
> - Boolean conditions
> - Exception throwing and catching
> - Floating-point comparisons
>
> GoogleTest assertion macros are designed to give clear, human-readable failure messages, helping you quickly diagnose test failures.

---

## Assertion Categories

GoogleTest assertions fall into **fatal** and **non-fatal** categories, supporting diverse validation flows:

| Category       | Behavior                                  | Common Macros (Examples)           |
|----------------|-------------------------------------------|----------------------------------|
| Fatal          | Stops test execution on failure           | `ASSERT_EQ`, `ASSERT_TRUE`, `ASSERT_THROW` |
| Non-fatal      | Records failure but continues test         | `EXPECT_EQ`, `EXPECT_TRUE`, `EXPECT_THROW` |

Use **fatal assertions** when further test code depends on assumptions that must hold. Use **non-fatal assertions** when you want to collect multiple failures in one test.

---

## Common Assertion Macros

### Value Checks

- **Equality and Inequality:**
  ```cpp
  ASSERT_EQ(expected, actual);  // Fatal
  EXPECT_NE(val1, val2);        // Non-fatal
  ```

- **Boolean Conditions:**
  ```cpp
  EXPECT_TRUE(condition);       // Non-fatal
  ASSERT_FALSE(condition);      // Fatal
  ```

- **Null Checks:**
  ```cpp
  EXPECT_NULL(ptr);             // Non-fatal, expects null pointer
  ASSERT_NOT_NULL(ptr);         // Fatal, expects not-null pointer
  ```

### Floating-point Comparisons

- Use specialized checks to avoid pitfalls with floating-point precision.

```cpp
EXPECT_FLOAT_EQ(expected_float, actual_float);
ASSERT_NEAR(expected_value, actual_value, abs_error);
```

### Exception Tests

- To verify whether code throws expected exceptions:

```cpp
EXPECT_THROW(statement, ExceptionType);
ASSERT_NO_THROW(statement);
```

This lets you specify correctness of exceptional behavior explicitly.

---

## Writing Custom Assertions

GoogleTest allows defining your own assertions for complex test conditions, returning informative messages. Use the `ASSERT_TRUE()` family or define predicate assertions with detailed diagnostics. Custom assertions enhance test expressivity and clarity.

---

## Practical Tips for Using Assertions

- **Be specific but not brittle:** Only verify what's necessary to confirm correctness.
- **Use non-fatal expectations when multiple checks are needed:** Collect all failures in one test run.
- **Leverage exception assertions thoughtfully:** To verify robust error handling.
- **Prefer typed assertions:** Use `ASSERT_EQ` over manually comparing values to improve failure output clarity.

---

## Troubleshooting Common Assertion Issues

- **Unexpected test abort:** You likely used a fatal assertion (`ASSERT_*`) where non-fatal (`EXPECT_*`) was intended.
- **Confusing failure messages:** Use typed assertions to get detailed mismatch diagnostics.
- **Tests passing unexpectedly:** Ensure assertions are actually executed and not skipped.

---

## Examples

### Basic Equality Check

```cpp
TEST(MyTestSuite, BasicEquality) {
  int result = CalculateSum(2, 3);
  ASSERT_EQ(5, result);  // Fatal: test aborts if result != 5
}
```

### Checking Exception Throw

```cpp
TEST(MyTestSuite, ThrowsOnInvalidInput) {
  auto f = [] { ProcessInput(-1); };
  EXPECT_THROW(f(), std::invalid_argument);  // Non-fatal
}
```

### Combining Multiple Expect Checks

```cpp
TEST(MyTestSuite, MultipleConditions) {
  int x = GetValue();
  EXPECT_GT(x, 0);
  EXPECT_LT(x, 10);
  EXPECT_NE(x, 5);
}
```

---

## Integration with GoogleMock

While this page focuses on core assertions, assertions are integral in mock expectations and behaviors. Use assertions within mock method invocations for richer validation. Refer to the [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md) for how assertions fit in mocking workflows.

---

## See Also

- [Matchers Reference](/api-reference/core-apis/matchers): Learn about argument matchers used to describe expected values.
- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md): Comprehensive guide on mocks, expectations, and actions.
- [Using Assertions Effectively Guide](/guides/getting-started/using-assertions): Best practices for writing and using assertions.

---

For detailed syntax, behaviors, and examples, explore the associated API reference and guides within the GoogleTest documentation suite.

---