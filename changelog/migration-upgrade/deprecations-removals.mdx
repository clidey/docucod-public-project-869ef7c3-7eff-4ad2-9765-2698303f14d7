---
title: "Deprecations and Removals"
description: "List all features, functions, and APIs that have been deprecated or removed, with clear timelines and alternatives. This ensures developers can proactively update their projects, minimizing technical debt and avoiding future surprises."
---

# Deprecations and Removals

This page provides a clear and actionable overview of all deprecated and removed features, functions, and APIs within GoogleTest and GoogleMock. By understanding the timelines, rationale, and recommended alternatives presented here, developers can proactively update their codebases, minimize technical debt, and avoid unexpected breakages during upgrades.

---

## 1. Overview of Deprecations

GoogleTest and GoogleMock maintain a careful deprecation policy to ensure a smooth transition for users. Deprecated features remain in the codebase for a defined period before removal, giving developers time to migrate.

- **Purpose:** Prevent technical debt and improve maintainability.
- **Approach:** Clear communication with detailed alternatives.
- **Timeline:** Deprecations are announced well ahead of removals.

## 2. Deprecated Features and Functions

### MOCK_METHOD Macro Changes

- **Deprecation:** The older `MOCK_METHODn` family of macros have been superseded by a unified `MOCK_METHOD` macro supporting modern C++ syntax.
- **User Impact:** Old macros will be removed in future releases.
- **Migration:** Transition to the new `MOCK_METHOD` syntax, which is more flexible and supports qualifiers such as `const`, `override`, and `ref`.

Example migration:
```cpp
// Old style (deprecated):
MOCK_METHOD1(Foo, bool(int));

// New style (recommended):
MOCK_METHOD(bool, Foo, (int));
```

### Legacy Parameterized Action Macros

- `ACTION_P*` macros with numbered parameters are deprecated in favor of function objects and lambdas.
- Users should prefer lambdas and typed functors for defining actions with parameters.

### DefaultMockBehavior Flag

- The flag controlling default behavior on uninteresting calls (`default_mock_behavior`) has refined semantics and warnings.
- Users relying on legacy behavior should audit their tests to handle stricter reporting of uninteresting calls.

## 3. Removed Features

Currently, GoogleTest and GoogleMock **have not removed** any widely-used APIs without prior deprecation and communication. However, older non-maintained macros and internal-only headers subject to removal include:

- Internal macros not intended for public use.
- Obsolete backward-compatibility features for outdated compilers.

Users are strongly advised to keep up-to-date with release notes for any removal notices.

## 4. Deprecation Timelines and Migration Paths

| Deprecated Feature         | Announced In Release | Scheduled Removal | Migration Instructions                                     |
|----------------------------|---------------------|-------------------|------------------------------------------------------------|
| `MOCK_METHODn` family macros | v1.10.0             | Planned (Future)  | Use unified `MOCK_METHOD` macro with new syntax             |
| Legacy `ACTION_P*` macros    | v1.10.0             | Planned           | Use lambdas or typed functors as actions                    |

### Migration Tips

- **For mock methods:** Replace all instances of `MOCK_METHODn` with `MOCK_METHOD`.
- **For actions:** Prefer lambdas or functors over old macro-based actions.
- **For strictness flags:** Adjust test code to handle increased warning and error reporting.

## 5. Alternatives and Recommended Practices

GoogleTest encourages modern C++ idioms and best practices such as:

- Using `MOCK_METHOD` with explicit argument parentheses and method qualifiers for clarity and correctness.
- Employing lambdas and host class methods as mock actions for flexible behavior.
- Leveraging `NiceMock` and `StrictMock` wrappers to control mock strictness levels effectively.

These approaches improve maintainability, clarity, and reduce boilerplate code.

## 6. Troubleshooting Common Deprecation Issues

### Compilation Failures After Migration

- Ensure all `MOCK_METHODn` usages are fully replaced.
- Check for macro redefinitions in code that may conflict, especially when using platform headers.

### Unexpected Warnings or Errors

- New default mock strictness may reveal previously unnoticed uninteresting calls.
- Use `NiceMock` or adjust expectations to handle these cases appropriately.

<Tip>
When migrating, incrementally replace deprecated macros and run tests frequently. Using verbose logging (`--gmock_verbose=info`) helps diagnose unexpected mock call issues.
</Tip>

## 7. Related Resources

- [Mocking Reference](../api-reference/mocking-framework/defining-and-using-mocks.md) — Detailed guidance on defining mocks and expectations.
- [gMock Cookbook](../docs/gmock_cook_book.md) — Recipes for effective mocking and migration tips.
- [Mock Strictness Modes](../api-reference/mocking-framework/mock-strictness-modes.md) — Understand `NiceMock`, `NaggyMock`, and `StrictMock`.
- [Advanced GoogleTest Topics](docs/advanced.md) — Includes guidance on advanced mocking and assertions.
- [Release History & Highlights](../changelog/release-history/all-releases-overview.md) — Comprehensive timeline of changes.

## 8. Final Notes

Keeping your test code current with GoogleTest and GoogleMock deprecations protects your projects from future breakage and leverages modern features and improvements in the framework. Always consult official release notes and migration guides when upgrading.

---

*This document is continuously updated in sync with official release announcements and repository changes.*
