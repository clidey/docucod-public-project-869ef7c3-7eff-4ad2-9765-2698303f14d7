---
title: "Deprecation Notices & Scheduled Removals"
description: "Announces deprecated features, APIs, or build configurations, along with timelines and recommended alternatives. This page helps users future-proof their test suites and adapt in advance of upcoming removals."
---

# Deprecation Notices & Scheduled Removals

This page provides clear announcements about deprecated features, APIs, and build configurations within GoogleTest and GoogleMock, along with timelines for their removal and recommended alternatives. Use this resource to future-proof your test suites by proactively adapting to upcoming changes and ensuring continued compatibility.

---

## Understanding Deprecations

Deprecation is an important process in maintaining and improving GoogleTest and GoogleMock. It signals that a feature, API, or build configuration is outdated and will be removed in a future release. Using deprecated elements risks breakage when upgrading.

This page helps you identify such cases early and guides you towards the preferred, supported approaches.

---

## Scope of Deprecation Notices

We announce deprecations relevant to:

- **Public APIs:** Functions, classes, macros, and interfaces that are discouraged and slated for removal.
- **Build Configurations:** Compiler flags, CMake options, and platform-specific configurations that will no longer be supported.
- **Test Framework Features:** Legacy or superseded features affecting writing, running, or managing tests and mocks.

Each deprecation includes:

- **Timeline:** When it was deprecated and expected removal date/version.
- **Description:** What is deprecated and why.
- **Impact:** How it affects your code and test suites.
- **Action:** Recommended migration steps and alternative usage.

---

## Typical Deprecation Examples

Although specific deprecations will vary per release, here are common scenarios you may encounter:

### 1. Deprecated Macros or Methods

For instance, older mock method macros like `MOCK_METHODn` (e.g., `MOCK_METHOD1`, `MOCK_CONST_METHOD1`) have been superseded by the unified `MOCK_METHOD`. The new macro provides clearer syntax and better support for qualifiers and complex signatures.

**What to do:**
Convert your code to use `MOCK_METHOD` with the updated syntax:

```cpp
// Old style (deprecated):
MOCK_METHOD1(Foo, bool(int));
// New style:
MOCK_METHOD(bool, Foo, (int), (override));
```

### 2. Changes in Default Mock Behavior

The default strictness for mocks and the handling of uninteresting calls may evolve. For example, `NaggyMock` (the current default, which warns on unexpected calls) might be reconsidered in future versions favoring `NiceMock` (which suppresses such warnings) or `StrictMock` (which treats unexpected calls as errors).

**What to do:**
Explicitly specify mock behavior in your tests to prevent failures during upgrades:

```cpp
using ::testing::NiceMock;
NiceMock<MyMock> mock;
```

### 3. Build Configuration Flags

Certain compiler or build options might be phased out to simplify maintenance or take advantage of modern toolchains (e.g., dropping support for compilers without C++17).

**What to do:**
Review and update your build scripts to align with current recommendations, such as ensuring C++17 support and adhering to updated CMake options.

---

## Migration Guidance

When you find that your code or test suite uses deprecated features, follow these steps to migrate smoothly:

1. **Identify Deprecated Usage:** Use compiler warnings, update logs, or static analysis tools.
2. **Consult Documentation:** Check this page and the migration guides linked below for recommended alternatives.
3. **Update Mock Definitions and Calls:** Replace deprecated macros and APIs with current ones as shown in the examples.
4. **Test Extensively:** Run your full test suite verifying no regressions occur.
5. **Monitor Deprecation Timelines:** Plan your upgrades before the removal milestone.

---

## Troubleshooting Deprecated Features

### Common Pitfalls

- **Warnings Ignored:** Treat all deprecation warnings seriously to avoid sudden breakage.
- **Partial Migration:** Updating some but not all deprecated instances leads to inconsistent behavior.
- **Unchecked Build Configurations:** Legacy flags may cause build failures or subtle runtime issues.

### Tips

- Use compiler diagnostic flags to elevate deprecation warnings to errors during development.
- Search your codebase for deprecated macro names or functions as part of upgrade planning.
- Consult related guides for detailed migration steps.

---

## Useful References and Links

- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md): Full details on mock APIs and usage.
- [gMock Cookbook](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md): Practical examples and migration tips.
- [Migration Guides](https://github.com/google/googletest/tree/main/changelog/migration-guides): Includes breaking changes and upgrade best practices.
- [Version History & Releases Overview](https://github.com/google/googletest/blob/main/changelog/version-history/releases-overview.md): Track deprecations aligned with releases.
- [Build System & Platform Integration](https://github.com/google/googletest/blob/main/concepts/design-patterns-integration/build-system-and-platform-integration.md): Guidance on maintaining build compatibility.

---

## Staying Ahead

To maintain a robust and future-proof testing environment:

- Regularly review this page and upgrade notices.
- Prefer the latest macros, classes, and APIs in new tests and code refactors.
- Engage with community resources and issue trackers to learn about upcoming changes.
- Integrate CI tools to detect usage of deprecated features early.

By proactively updating your code in accordance with these deprecation notices, you ensure smoother transitions between GoogleTest versions and maintain stability and reliability in your tests.

---

For any questions or to report issues related to deprecations, please refer to our [Where to Get Help](https://github.com/google/googletest/blob/main/faq/support-community/where-to-get-help.md) page.


---

Generated from: [GoogleTest GitHub Repository](https://github.com/google/googletest)

