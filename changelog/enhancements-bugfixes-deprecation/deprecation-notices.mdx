---
title: "Deprecation Notices"
description: "A dedicated overview summarizing deprecated features and APIs, timelines for their removal, and recommended alternatives or migration paths. Keeps technical debt manageable for users maintaining large codebases."
---

# Deprecation Notices

GoogleTest actively manages its feature lifecycle to ensure a maintainable, performant, and modern testing framework. This page provides an overview of deprecated features and APIs, their removal timelines, and recommended alternatives or migration strategies. Use this resource to keep your codebase clean, reduce technical debt, and stay aligned with GoogleTest’s evolving best practices.

---

## Understanding Deprecation in GoogleTest

Deprecation signals features or APIs that are no longer recommended for use and are planned for removal in future versions. These features may have been superseded by better alternatives, may introduce maintainability issues, or conflict with the direction of the framework.

GoogleTest's deprecations follow a clear policy:

- Deprecated features remain available for a defined grace period, typically across several major versions.
- Detailed documentation and migration guidance accompany all deprecations.
- Users are encouraged to progressively update their tests to avoid abrupt breakage.

---

## Deprecated Features Overview

### Common Categories

- **APIs and Macros:** Functions or macros that have improved replacements or better match modern C++ practices.
- **Build and Integration Options:** Older build configurations or compiler flag behaviors that are phased out for cross-platform consistency.
- **Internal Implementation Details:** Features exposing internals or conflicting with improved extensibility and customization points.

### Identified Deprecated Features

1. **Old-Style Mocking Macros**
   - `MOCK_METHODn` family macros have been deprecated in favor of the unified `MOCK_METHOD` macro that supports more flexible signatures and qualifiers.
   - Migration: Replace `MOCK_METHOD1(Foo, bool(int))` with `MOCK_METHOD(bool, Foo, (int))`.

2. **Non-UTF8 Compatible Interfaces**
   - Older logging or output APIs that assume ASCII or platform-specific encodings.
   - Migration: Use GoogleTest’s UTF-8 compatible assertion streaming and message formatting features.

3. **Legacy Test Naming with Underscores**
   - Test suite or test names containing underscores `_` are discouraged due to underlying name mangling conflicts.
   - Migration: Rename test suites and tests to avoid underscores for improved compatibility and clarity.

4. **Flags and Build Options Related to Shared Libraries on MSVC**
   - Some flags controlling static vs dynamic runtime linkage are being rationalized.
   - Migration: Use the prescribed `gtest_force_shared_crt` option and updated CMake integration to ensure consistent runtimes.

---

## Timelines for Removal

- The `MOCK_METHODn` macros are scheduled for removal in the next major release after the current stable series.
- Deprecated APIs in assertion macros and outputs will be removed following thorough transition periods with deprecation warnings.
- Build flag cleanups occur progressively with releases to encourage migration.

Users should subscribe to the version history and breaking changes pages for concrete version numbers and dates.

---

## Recommended Alternatives & Migration Guidance

### Migrating From `MOCK_METHODn` Macros

```cpp
// Old style
MOCK_METHOD1(Foo, bool(int));

// New recommended style
MOCK_METHOD(bool, Foo, (int), (override));
```

Key tips:
- Wrap complex argument types with parentheses to avoid parsing errors, e.g., `MOCK_METHOD((std::pair<int, int>), GetPair, ());`
- Always place `MOCK_METHOD` declarations in the `public` section of the mock class regardless of the base class method access level.
- Use qualifiers (`const`, `override`, `noexcept`) as needed.

### Updating Test Names

- Avoid underscores in test and test suite names to prevent clashes with generated code.
- Use CamelCase or PascalCase naming conventions.

### Managing Build and Configuration Flags

- Use the latest CMake options and options like `gtest_force_shared_crt` to manage runtime linkage especially on Windows.
- For static builds, ensure consistency in runtime libraries to avoid subtle crashes.

---

## Practical Tips & Best Practices

- **Incremental Migration:** Gradually update tests and mocks, especially if you have large codebases. Use compiler warnings to flag deprecated usages.
- **Use Modern APIs:** Favor GoogleTest’s UTF-8-capable assertion streaming and expressive matchers over legacy macros.
- **Validate Build Settings:** Regularly verify your build and runtime configurations against supported options to avoid deprecation surprises.
- **Follow Naming Conventions:** Consistent and compliant naming reduces subtle bugs and eases maintenance.

---

## Troubleshooting Common Issues

<Tip>
If you experience build or compilation errors during migration from deprecated macros, verify that you have updated both mock class declarations and corresponding `EXPECT_CALL` usages. Confirm no mixed use of old and new macros remains.
</Tip>

<Warning>
Using deprecated features may generate compiler warnings or errors in future releases. Ensure you review build logs and address all deprecation notices promptly.
</Warning>

<Note>
Review your test naming schemes especially if you encounter runtime test registration conflicts that mention suite and test names.
</Note>

---

## Additional Resources

- [Mocking Macros and Methods Reference](/api-reference/matchers-and-mocking/mocking-macros-and-methods)
- [Breaking Changes and Migration Guides](/changelog/breaking-changes-migration/breaking-changes)
- [Full Version History of GoogleTest Releases](/changelog/release-notes-history/full-version-history)
- [Writing Clear and Effective Assertions](/guides/integration-and-best-practices/writing-effective-assertions)

Users are encouraged to review these resources regularly to keep up to date with GoogleTest’s evolution and plan their upgrade paths efficiently.

---

*Last updated: Please refer to the [Full Version History](https://github.com/google/googletest/releases) and [Breaking Changes page](/changelog/breaking-changes-migration/breaking-changes) for the most current details.*
