---
title: "Deprecations & Removal Notices"
description: "A categorized list of deprecated APIs, features scheduled for removal, and best-practice recommendations for future compatibility. Gives users time to adapt proactively and avoid technical debt."
---

# Deprecations & Removal Notices

This page provides a categorized list of APIs and features in GoogleTest and GoogleMock that have been deprecated or are scheduled for removal. Its core purpose is to give you early and clear visibility into upcoming changes so that you can adapt your codebases proactively, avoid technical debt, and ensure continued compatibility with future releases.

---

## Understanding Deprecations and Removals

When working with GoogleTest and GoogleMock, some features may become outdated over time due to architectural improvements, evolving best practices, or changes in underlying language standards. Deprecations signal that a feature is discouraged and may be removed in the future, while removals indicate that the feature has been eliminated from the codebase.

Keeping abreast of these changes is critical as continued reliance on deprecated features may cause build failures or runtime issues when upgrading to newer versions.

---

## Categories of Deprecations

### 1. Deprecated Macros and APIs

Certain macros or internal API details are deprecated to improve code clarity and maintainability. For example, use of legacy `MOCK_METHODn` macros has been replaced by the unified `MOCK_METHOD` macro, facilitating cleaner syntax and better support for advanced qualifiers.

#### Example:

```cpp
// Deprecated style with MOCK_METHOD2 macro:
MOCK_METHOD2(Foo, bool(int, double));

// Recommended modern style:
MOCK_METHOD(bool, Foo, (int, double));
```

### 2. Deprecated Behaviors and Defaults

Modifications in default behaviors, such as default death test styles or verbosity levels, may be flagged as deprecated and replaced with improved defaults. Users should consult the migration guides to adjust their test configurations accordingly.

### 3. Removal of Unsupported Platforms or Compilers

Support for outdated compiler versions or platforms may be removed to leverage newer C++17 language features fully or improve maintainability. For instance, MSVC versions older than Visual Studio 2015 are no longer supported.

### 4. Deprecated Flags and Configuration Options

Certain runtime flags related to logging verbosity, stack trace depth, or threading options may be marked deprecated. Users are advised to migrate to updated configuration mechanisms provided via command line or environment variables.

---

## Best Practices to Adapt

- **Monitoring Warnings**: Enable verbose warnings during test builds to detect use of deprecated APIs.
- **Consulting Migration Guides**: Use the official [Breaking Changes & Required Migrations](../changelog/migration-guides/breaking-changes.md) for step-by-step instructions.
- **Using Supported Features**: Prefer stable, well-documented APIs such as the generic `MOCK_METHOD` macro and the recommended mock wrappers (`NiceMock`, `StrictMock`).
- **Upgrading Build Environment**: Ensure compilers and tools meet the minimum versions and C++17 standard support.

---

## Troubleshooting Common Issues

### Deprecated API Usage Breaks Build

**Symptoms:** Compile-time errors referencing obsolete macros or function signatures.

**Solution:** Refactor your mocks and test code to use the latest APIs following the recipes outlined in the [Mocking Reference](../docs/reference/mocking.md) and [gMock Cookbook](../docs/gmock_cook_book.md).

### Unexpected Behavior Due to Deprecated Defaults

**Symptoms:** Tests behave differently or fail when upgrading due to changes in mock behavior defaults.

**Solution:** Review and explicitly specify mock behavior controls and expectations as documented in the [Mock Behavior Control](../api-reference/mocking-api/mock-behavior-control.md) to avoid surprises.

### Build Failures From Unsupported Compilers

**Symptoms:** Linker errors or compiler flags unsupported.

**Solution:** Update your compiler to a supported version (e.g., MSVC 2015+, GCC 7+, Clang with C++17 support). See prerequisites in [System Requirements](../getting-started/setup-and-installation/prerequisites-system-requirements.md).

---

## Summary

| Deprecation Category               | Impact & Next Steps                                     |
|----------------------------------|--------------------------------------------------------|
| Legacy Macros                    | Switch to `MOCK_METHOD` with correct qualifiers.       |
| Behavior Defaults                | Review and update test configurations explicitly.      |
| Unsupported Platforms / Compilers | Upgrade your toolchain to supported versions.          |
| Flags and Configurations        | Migrate to updated runtime flags and environment vars. |

---

## Additional Resources

- [Mocking Reference](../docs/reference/mocking.md): Learn about supported mocking APIs and macros.
- [gMock Cookbook](../docs/gmock_cook_book.md): Recipes and examples for advanced mocking techniques.
- [Breaking Changes & Required Migrations](../changelog/migration-guides/breaking-changes.md): Details on incompatibilities and upgrade paths.
- [Mock Behavior Control](../api-reference/mocking-api/mock-behavior-control.md): Customize mock strictness and uninteresting calls.
- [System Requirements & Prerequisites](../getting-started/setup-and-installation/prerequisites-system-requirements.md): Ensure your build environment is up to date.

<Tip>
Stay proactive: regularly check this page and related migration guides whenever upgrading your GoogleTest/GoogleMock dependency. Early adaptation ensures smooth transitions and maintains test robustness.
</Tip>

---

## Frequently Asked Questions

### Q: How do I know if an API I use is deprecated?

A: The compiler typically issues warnings when deprecated features are used. Additionally, the changelog and migration guides highlight known deprecations.

### Q: What if I absolutely cannot upgrade my compiler?

A: You risk missing updates, security fixes, and eventually build failures. Consider backporting or isolating code dependent on GoogleTest in separate modules with updated toolchains.

### Q: Are deprecated features immediately removed?

A: Usually, features are marked deprecated in one or more releases before removal, to give users time to adapt. Check the deprecation timeline in migration guides.

---

## Contributing Feedback

If you encounter unexpected deprecations or need clarification, reach out via the official [GoogleTest GitHub Issues](https://github.com/google/googletest/issues) or community channels as recommended in the [Getting Help page](../faq/help-community/faq-getting-help.md).

---

This page is part of the [Changelog / Upgrade & Migration Guides](../changelog/migration-guides/deprecations.md) section and complements materials on breaking changes, new features, and platform upgrade notes.
