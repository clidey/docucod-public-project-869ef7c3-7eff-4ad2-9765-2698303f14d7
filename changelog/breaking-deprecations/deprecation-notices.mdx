---
title: "Deprecation Notices"
description: "Identifies APIs, flags, and features marked for deprecation, with timelines and alternatives. Ensures users avoid reliance on obsolete functionality and plan for future upgrades."
---

# Deprecation Notices

The "Deprecation Notices" page is your essential guide to understanding which APIs, flags, and features within GoogleTest and GoogleMock are marked for deprecation. It provides clear timelines for when these elements will become obsolete, along with recommended alternatives to help you transition smoothly and future-proof your test suites.

---

## Understanding Deprecation

Deprecation signals that a feature or API is planned to be removed in future releases. This page prevents users from inadvertently relying on outdated functionalities that may break or cause unexpected behavior with upcoming upgrades. It ensures your test code remains maintainable and compatible with the latest versions of the framework.

----

## What You Will Find Here

- **APIs Marked for Deprecation**: Detailed identification of APIs and macros that are deprecated.
- **Deprecation Timelines**: Clear schedules indicating when support for these features will end.
- **Alternative Recommendations**: Suggestions for alternatives or migration strategies.

---

## How This Page Fits Into Your Workflow

When developing tests or migrating to newer versions of GoogleTest and GoogleMock, this page helps you anticipate changes and avoid surprises by:

- Reviewing deprecated features before upgrading your dependencies.
- Planning refactoring efforts with actionable alternatives.
- Ensuring continuous compatibility without introducing regressions.

---

## Key Deprecated Features and Guidance

### 1. Legacy MOCK_METHODn Macros

The older family of `MOCK_METHODn` macros has been deprecated in favor of the more flexible and consistent `MOCK_METHOD` macro. The new macro supports qualifiers such as `const`, `override`, and call type specifications seamlessly.

**Action**:
- Replace all instances of `MOCK_METHODn` and its variants with `MOCK_METHOD`.
- Use parentheses or type aliases to manage argument lists that include commas, as per [Mocking Reference](../api-reference/mocking-apis/mock-classes-methods).

### 2. EXPECT_CALL Modifier Ordering

The order of modifier chaining on `EXPECT_CALL` statements is strictly enforced now. For instance, `.Times()` must appear before `.WillOnce()`. Failure to comply can cause compilation errors or runtime misbehavior.

**Action**:
- Review all `EXPECT_CALL` statements to ensure modifiers are chained in the documented order.
- Reference the [Mock Expectations and Actions Reference](../api-reference/mocking-apis/mock-expectations-actions) for correct usage.

### 3. Cardinality and Action Clause Updates

Certain cardinalities and action clauses have updated semantics or signatures. Deprecated forms are either removed or discouraged.

**Action**:
- Use up-to-date cardinalities like `AnyNumber()`, `AtLeast()`, and `Exactly()`.
- Prefer lambdas or polymorphic actions over legacy macros to define mock behaviors.

### 4. Call Policy Wrappers: NiceMock, NaggyMock, and StrictMock

The semantics of these wrappers are refined to better control uninteresting call behavior:

- `NiceMock` suppresses warnings for uninteresting calls.
- `StrictMock` treats uninteresting calls as errors.
- `NaggyMock` remains as the default, issuing warnings.

**Action**:
- Choose the appropriate wrapper depending on your desire to treat unexpected calls as errors or warnings.
- Convert existing mocks accordingly to avoid unexpected noise or unnoticed mock usages.

### 5. Support for Ref-Qualified Methods

Mocks now support methods qualified with references (e.g., `ref(&)`, `ref(&&)`) when overriding.

**Action**:
- Update mock method declarations that override ref-qualified base class methods to include the proper `ref()` qualifier.
- This enhances precise matching and avoids compiler warnings or errors.

---

## Migration Guidelines

To smoothly migrate away from deprecated features and prepare your tests for future releases, follow these steps:

1. **Audit Your Mock Classes and Tests**
   - Identify usage of deprecated `MOCK_METHODn` macros.
   - Check expectation modifier chains.

2. **Refactor Mock Methods**
   - Switch to the new `MOCK_METHOD` macro.
   - Add necessary qualifiers.

3. **Review Mock Behavior Wrappers**
   - Decide on using `NiceMock`, `StrictMock`, or default mocks as per new policies.

4. **Validate Tests with Verbose Logging**
   - Use `--gmock_verbose=info` during test runs to catch unexpected calls that may surface due to behavioral changes.

5. **Consult the gMock Cookbook and Mocking Reference**
   - Use the cookbooks for examples and advanced usage patterns.
   - Confirm that your mocking strategy aligns with best practices.

---

## Common Pitfalls and Troubleshooting

- **Unexpected Compilation Errors** may originate from improper ordering of modifiers in `EXPECT_CALL`.
- **Warnings on Uninteresting Calls** might flood logs when changing mock strictness; consider using `NiceMock` or `StrictMock`.
- **Failure to Match Ref-Qualified Methods** often is due to missing `ref()` qualifiers in mocks.

Addressing these requires systematic review guided by this page and references.

---

## Additional Resources

- [gMock Cookbook](../guides/core-workflows/mocking-techniques)
- [Mocking Reference](../api-reference/mocking-apis/mock-expectations-actions)
- [Nice, Naggy, and Strict Mocks](../api-reference/mocking-apis/nice-strict-mocks)
- [Actions for Controlling Mock Behavior](../api-reference/matchers-actions/mock-actions)
- [GoogleTest Version History and Upgrade Guides](./upgrade-from-previous-versions)

---

## Summary

This page is dedicated to clearly identifying deprecated GoogleTest and GoogleMock features, communicating timelines and alternatives, and guiding you through migration steps to preserve test stability and maintainability. Adopt recommended practices early to avoid breaking changes and keep your test suites healthy and future-ready.
