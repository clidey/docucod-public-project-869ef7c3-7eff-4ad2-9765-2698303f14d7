---
title: "Deprecation Notices"
description: "All features, APIs, or behaviors flagged for deprecation are listed here, along with recommended alternatives and timelines for removal. Designed to help users proactively refactor tests and avoid future disruptions."
---

# Deprecation Notices

This page catalogs all deprecated features, APIs, and behaviors within GoogleTest and GoogleMock. It serves as a proactive alert for users to refactor tests and code to avoid future disruptions, ensuring smoother migration paths and longer-term maintainability.

---

## Overview of Deprecations

GoogleTest and GoogleMock occasionally mark certain functionalities for deprecation to improve the frameworkâ€™s design and usability. Deprecation notices provide advance warnings before features are removed. This guide summarizes these deprecations, includes recommended modern alternatives, and offers migration guidance.

### Why Deprecations Matter

Deprecations help maintain clean and efficient test codebases by:

- Avoiding reliance on outdated or problematic APIs
- Steering users toward more robust, idiomatic usage patterns
- Preparing for future major releases that may remove deprecated features

Deprecation notices should not be ignored; they are designed to give developers sufficient time to adapt.

---

## Commonly Deprecated Features and Alternatives

### MOCK_METHODn Macros

The older family of macros 

```cpp
MOCK_METHOD0, MOCK_METHOD1, ..., MOCK_CONST_METHOD0, MOCK_CONST_METHOD1, ...
```

has been deprecated in favor of the generic `MOCK_METHOD` macro:

```cpp
MOCK_METHOD(ReturnType, MethodName, (Args...), (Specs...));
```

**Why:** The generic `MOCK_METHOD` macro supports modern C++ features better, simplifies code, and reduces boilerplate.

**Migration:** Replace all `MOCK_METHODn` macros with the new `MOCK_METHOD` syntax. Carefully wrap argument types containing commas in parentheses or use type aliases to avoid parsing errors.

Example:

```cpp
// Old style (deprecated)
MOCK_CONST_METHOD1(Foo, bool(int));

// New recommended style
MOCK_METHOD(bool, Foo, (int), (const));
```

### Uninteresting Call Warning Behavior

Previously, uninteresting mock method calls without expectations generated warnings by default. To gain finer control:

- Use `NiceMock<T>` to suppress warnings on uninteresting calls
- Use `StrictMock<T>` to turn uninteresting calls into test failures

**Why:** This change standardizes treatment of uninteresting calls and makes tests less noisy or stricter based on user preference.

**Migration:** Wrap mock objects with `NiceMock` or `StrictMock` as appropriate, rather than suppressing warnings manually.

Example:

```cpp
using ::testing::NiceMock;
NiceMock<MockFoo> mock_foo;
EXPECT_CALL(mock_foo, DoThis());
```

### Deprecated Mocking Patterns

- **Mocking non-virtual methods via the old `MOCK_METHODn` macros or interface adjustments** is discouraged. Instead, use the new `MOCK_METHOD` with carefully designed interfaces.

- **Mocking free/static functions** directly is not supported. Refactor code to depend on interfaces or use `MockFunction` with std::function adapters.

- Legacy complex workarounds for move-only types (pre-C++11 support) can be replaced by direct use of `MOCK_METHOD` with move semantics support.

---

## Migration Best Practices

- **Audit your test code** for usage of deprecated macros and patterns.

- **Replace old mocking macros** with the generic `MOCK_METHOD` macro. Leverage type aliases to handle complex types.

- **Review usage of `EXPECT_CALL` vs `ON_CALL`**. Overuse of `EXPECT_CALL` for default behaviors is discouraged.

- **Choose appropriate mock strictness:** default is `NaggyMock` (prints warnings), but prefer `NiceMock` (to suppress warnings) or `StrictMock` (to treat uninteresting calls as failures) deliberately.

- **Check external dependencies and build setups** to avoid issues triggered by deprecated features.

---

## Summary of Deprecated Entities

| Deprecated Feature                    | Alternative or Advice                          | Reference                |
|-------------------------------------|----------------------------------------------|--------------------------|
| `MOCK_METHODn` and `MOCK_CONST_METHODn` | Use `MOCK_METHOD` with full signature and specifiers | [Mock Class Definition & Method Mocking](../api-reference/mocking-apis/mock-class-definition.md) |
| Suppressing uninteresting call warnings manually | Use `NiceMock` or `StrictMock` templates | [Nice, Naggy, and Strict Mocks](../guides/mocking-advanced-usage/nice-strict-mocks.md) |
| Legacy manipulation for move-only types support | Use new `MOCK_METHOD` with move-only type support | [Mocking Methods That Use Move-Only Types](../docs/gmock_cook_book.md#mocking-move-only-types) |

---

## Common Pitfalls to Avoid

- **Ignoring deprecation warnings may cause test breakage** in future GoogleTest releases.

- **Don't mix old and new mocking macros** within the same mock class.

- **Avoid suppressing uninteresting call warnings by blanket `EXPECT_CALL` with `AnyNumber()`**, instead use `NiceMock`.

- Be careful with type signatures in `MOCK_METHOD` especially when dealing with template or nested types with commas; prefer type aliases.

---

## Where to Get Help and More Information

- Consult the [Mock Class Definition & Method Mocking](../api-reference/mocking-apis/mock-class-definition.md) page for the current recommended syntax.

- Review [Nice, Naggy, and Strict Mocks](../guides/mocking-advanced-usage/nice-strict-mocks.md) for managing mock behaviors and warnings.

- For advanced topics, see [Custom Actions & Matchers](../guides/mocking-advanced-usage/custom-actions-and-matchers.md).

- The [Legacy gMock FAQ](../docs/gmock_faq.md) covers common confusions and migration notes for users transitioning legacy tests.

- Use `--gmock_verbose=info` flag to gain detailed insights on mock calls and reasons behind failures.

---

## Summary

> Stay proactive about deprecated GoogleTest and GoogleMock features to ensure your test code remains robust and maintainable. Adopt recommended newer APIs and best practices early to minimize integration friction and future-proof your testing workflows.

---

<AccordionGroup title="Related Documentation and Resources">
  <Accordion title="Mock Class Definition & Method Mocking">
  Detailed API reference for `MOCK_METHOD` and mock class declarations.
  </Accordion>
  <Accordion title="Nice, Naggy, and Strict Mocks">
  Guide on controlling mock object verbosity and warning behavior.
  </Accordion>
  <Accordion title="Legacy gMock FAQ">
  Answers common questions related to deprecated usages and migration.
  </Accordion>
  <Accordion title="gMock Cookbook">
  Comprehensive recipes for mocking usage, including modern practices.
  </Accordion>
</AccordionGroup>

---

<Tip>
For optimal maintainability, update legacy test mocks incrementally following each GoogleTest upgrade, focusing first on replacing deprecated macros and controlling mock strictness.
</Tip>

<Note>
Deprecation schedules and timelines may evolve; always consult the latest release notes and upgrade guides for current details.
</Note>
