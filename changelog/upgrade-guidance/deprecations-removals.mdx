---
title: "Deprecations & Feature Removals"
description: "Details any deprecated or removed features, including timelines for removals and recommended alternatives. This helps users avoid obsolete patterns or prepare for upcoming changes proactively."
---

# Deprecations & Feature Removals

This documentation page clarifies deprecated features and APIs within GoogleTest and GoogleMock, details removal timelines, and guides users toward recommended modern alternatives. Staying informed on these changes ensures your tests remain robust, compatible, and maintainable as the framework evolves.

---

## Understanding Deprecation in GoogleTest and GoogleMock

Deprecation is a formal announcement that a feature or API will be removed in a future version. This page explains what it means, why it happens, and how you can smoothly transition your code.

- **Why Deprecate?** Features become deprecated to:
  - Remove outdated or unsafe APIs
  - Simplify the framework's interface
  - Encourage use of better or more performant alternatives
  - Align with modern C++ standards and best practices

- **Deprecation Timeline:** A deprecated feature:
  - Remains available but marked for removal in upcoming releases
  - Often triggers compiler warnings or runtime notices when used
  - Will be removed after a specified grace period, usually multiple versions or months

- **Recommended Action:** When you see a deprecation warning:
  - Review the suggested replacement or migration path
  - Update your tests and mocks accordingly as soon as practicable
  - Prevent potential breakage when upgrading to new versions

---

## List of Current Deprecations

The following features and APIs are currently deprecated in GoogleTest and GoogleMock:

### 1. Legacy Test Case API

- Deprecated: `TestCase` alias for `TestSuite`.
- Context: GoogleTest transitioned from the `TestCase` terminology to `TestSuite` for clarity and consistency.
- Replacement: Use `TestSuite` and related APIs exclusively.

### 2. Old-Style Mock Method Macros

- Deprecated: The `MOCK_METHODn`, `MOCK_CONST_METHODn`, and related variants.
- Reason: A new unified macro `MOCK_METHOD` that supports qualifiers and more C++ features provides a simpler, more consistent syntax.
- Replacement Example:

```cpp
// Deprecated syntax:
MOCK_METHOD1(Foo, bool(int));
MOCK_CONST_METHOD1(Bar, void());

// Modern syntax:
MOCK_METHOD(bool, Foo, (int));
MOCK_METHOD(void, Bar, (), (const));
```

- Migration: Update your mock classes to use the generic `MOCK_METHOD` macro.

### 3. Typed and Typed-Parameterized Test Macros

- Deprecated:
  - `TYPED_TEST_CASE`
  - `TYPED_TEST_CASE_P`
  - `INSTANTIATE_TYPED_TEST_CASE_P`
  - `REGISTER_TYPED_TEST_CASE_P`
- Replacements:
  - Use `TYPED_TEST_SUITE`, `TYPED_TEST_SUITE_P`, `INSTANTIATE_TYPED_TEST_SUITE_P`, and `REGISTER_TYPED_TEST_SUITE_P` instead.
- Rationale: Naming aligned with `TEST_SUITE` terminology and better clarity.

### 4. GoogleTest Macros Deprecated in Favor of Newer Equivalents

- `INSTANTIATE_TEST_CASE_P` replaced with `INSTANTIATE_TEST_SUITE_P`
- General recommendation: always use the `_SUITE_` variant in new code.

### 5. Deprecated Test Case Setup and Teardown Methods

- The legacy `SetUpTestCase()` and `TearDownTestCase()` methods on test fixtures are deprecated.
- Replacement: Use `SetUpTestSuite()` and `TearDownTestSuite()` instead.
- Note: Keep these methods `public` when used with parameterized tests.

### 6. Deprecated Macros for `FAIL` and `SUCCEED`

- In very old versions, `FAIL()` and `SUCCEED()` were macros without support for custom messages; they are now stable and support streamed messages. Use the current macros.

---

## Feature Removals and Removal Schedule

Deprecated features will be removed according to the following schedule:

| Feature                              | Deprecated Since | Planned Removal Version | Recommended Action                    |
|------------------------------------|------------------|-------------------------|-------------------------------------|
| `TestCase` alias                   | 1.10 (2018)      | 2.0                     | Use `TestSuite` exclusively          |
| Old `MOCK_METHODn` macros          | 1.8 (2017)       | 2.0                     | Migrate to `MOCK_METHOD` macro       |
| Typed Test Case macros             | 1.10 (2018)      | 2.0                     | Use `TYPED_TEST_SUITE` family macros |
| `SetUpTestCase` and `TearDownTestCase` methods | 1.10 (2018)      | 2.0                     | Use `SetUpTestSuite` / `TearDownTestSuite`    |

*This schedule is subject to change; users are encouraged to update as soon as possible.*

---

## Migration and Alternatives

### Migrating from `TestCase` to `TestSuite`

```cpp
// Old style:
class FooTest : public testing::Test { ... };
TEST_CASE(FooTest, Test1) { ... }

// New style:
class FooTest : public testing::Test { ... };
TEST_SUITE(FooTest) {
  TEST(Test1) { ... }
};
```

Ensure your test suites use the new naming and macro conventions.

### Migrating Mock Method Macros

- Replace all instances of `MOCK_METHODn` with the new `MOCK_METHOD` syntax.
- Remember to wrap return or argument types containing commas in parentheses or use a type alias.

Example:

```cpp
// Old
MOCK_METHOD2(Foo, int(int, std::string));

// New
MOCK_METHOD(int, Foo, (int, std::string));
```

### Updating Typed/Parameterized Tests

- Replace `TYPED_TEST_CASE` with `TYPED_TEST_SUITE`.
- Replace `INSTANTIATE_TYPED_TEST_CASE_P` with `INSTANTIATE_TYPED_TEST_SUITE_P`.

### Updating Setup and Teardown Methods

- Change `SetUpTestCase()` to `SetUpTestSuite()` (and similarly for teardown).
- Ensure these methods are declared public.

---

## Deprecated Macro Usage Warnings

When using deprecated features, the framework will emit compile-time warnings or notes if your compiler supports them. Examples include:

```shell
warning: 'TestCase' is deprecated: use 'TestSuite' instead
```

Review these warnings promptly to keep your codebase healthy.

---

## Practical Tips and Best Practices

- Avoid using deprecated APIs in new code to minimize future maintenance.
- Check the official release notes and migration guides regularly on [GoogleTest GitHub releases](https://github.com/google/googletest/releases).
- Utilize the testing framework's extensive documentation and guides for modern alternatives.
- Use feature flags or macros (if available) to detect deprecated API usage at compile time.
- Engage with the community through mailing lists or issue trackers to get help for difficult migrations.

---

## Troubleshooting Common Deprecation Issues

### Compilation Errors Related to Legacy Macros

- Verify you do not have mixed use of old and new macros in the same file.
- Replace all deprecated macro names and methods as per the prescribed replacements.

### Runtime Errors due to Deprecated Test Naming or APIs

- Ensure your test suite and tests follow the latest naming conventions.
- Confirm that your test suite setup and teardown methods use the updated names.

### Finding Deprecated Usages

- Use compiler warnings and static analysis tools to catch deprecated code.
- Grep for old macro names such as `MOCK_METHODn`, `TYPED_TEST_CASE`, or `SetUpTestCase`.

---

## Further Reading and References

- [GoogleTest Version Overview](../version-overview) — to track version changes and planned removals.
- [Feature Additions & Improvements](../feature-additions-improvements) — for new capabilities replacing deprecated features.
- [Breaking Changes & Migration Notes](../breaking-changes-migration) — detailed migration workflows for major versions.
- [Mocking Best Practices](../../guides/mocking-best-practices/creating-mocks) — to learn modern mock creation methods.
- [API Reference](../../api-reference) — for up-to-date macro and class usage.

---

## Summary

Deprecations and removals are part of continuous improvement. Transitioning away from deprecated features early ensures your testing code remains clean, efficient, and benefits from ongoing improvements.

If you have any doubts or run into issues, please consult the official [GoogleTest GitHub repository](https://github.com/google/googletest) and community forums for support.
