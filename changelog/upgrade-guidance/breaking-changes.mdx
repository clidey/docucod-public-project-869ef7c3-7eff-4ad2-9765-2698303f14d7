---
title: "Breaking Changes & Deprecations"
description: "Outlines all breaking changes and deprecated APIs in recent versions, providing context on what has changed, why, and how to adapt your codebases. Clear migration notes and workarounds accompany each item to minimize disruption."
---

# Breaking Changes & Deprecations

This page details all breaking changes and deprecated APIs introduced in recent versions of GoogleTest. It provides clear context on what has changed, why these changes were necessary, and how you can adapt your existing codebases to continue leveraging GoogleTest effectively. Migration notes and practical workarounds accompany each item to minimize disruption and ensure smooth transitions.

---

## Overview of Breaking Changes

GoogleTest evolves continuously to improve usability, maintainability, and compatibility with modern C++ standards. Occasionally, this evolution introduces breaking changes that require user adaptation. This page focuses exclusively on those changes relevant to test authors and maintainers.

### What Is a Breaking Change?

A breaking change is a modification in GoogleTest’s public API or behavior that may cause existing code that depends on older versions to fail to compile, link, or run correctly without modification.

### What Is a Deprecated API?

A deprecated API is a public interface or feature marked for removal in a future release. Usage is discouraged and alternatives are recommended.


## Key Breaking Changes and Adaptations

### 1. Renaming of Legacy Macros and Classes

- **Change**: Legacy macros that referenced "TestCase" such as `INSTANTIATE_TEST_CASE_P`, `TYPED_TEST_CASE_P`, `TYPED_TEST_CASE`, `REGISTER_TYPED_TEST_CASE_P`, and `INSTANTIATE_TYPED_TEST_CASE_P` have been deprecated in favor of their "TestSuite" counterparts.

- **Reason**: This shift aligns nomenclature with modern testing terminology and reduces confusion. "TestSuite" has become the preferred, consistent term replacing the older "TestCase" usage.

- **Migration**:
  - Replace all instances of `INSTANTIATE_TEST_CASE_P` with `INSTANTIATE_TEST_SUITE_P`.
  - Replace `TYPED_TEST_CASE_P` with `TYPED_TEST_SUITE_P` and `TYPED_TEST_CASE` with `TYPED_TEST_SUITE`.
  - Replace `REGISTER_TYPED_TEST_CASE_P` with `REGISTER_TYPED_TEST_SUITE_P`.
  - Replace `INSTANTIATE_TYPED_TEST_CASE_P` with `INSTANTIATE_TYPED_TEST_SUITE_P`.

- **Example**:

```cpp
// Deprecated usage
INSTANTIATE_TEST_CASE_P(MyPrefix, MyTestSuiteName, ::testing::Values(1, 2, 3));

// Updated usage
INSTANTIATE_TEST_SUITE_P(MyPrefix, MyTestSuiteName, ::testing::Values(1, 2, 3));
```

> <Note> These replacement macros offer the same functionality but follow updated naming conventions.


### 2. Removal of Legacy `TestCase` API

- **Change**: The older `TestCase` API is deprecated and replaced by the `TestSuite` API.

- **Impact**: If your code uses `TestCase` APIs such as `GetTestCase()` or `SetUpTestCase()`, consider updating to `TestSuite` equivalents.

- **Migration**:
  - Use `TestSuite` type and its methods instead of `TestCase`.
  - For per-test-suite setup and teardown, use `SetUpTestSuite()` and `TearDownTestSuite()` instead of the older `SetUpTestCase()` and `TearDownTestCase()`.

- **Example**:

```cpp
// Deprecated setup
static void SetUpTestCase() {
  // setup code
}

// Preferred setup
static void SetUpTestSuite() {
  // setup code
}
```


### 3. Enforcement of Naming Conventions for Test Suites and Test Names

- **Change**: Test suite and test names must not contain underscores (`_`).

- **Reason**: Underscores can interfere with internal macro processing and test filtering behaviors.

- **Migration**: Rename test suites and tests to use camel case or other valid C++ identifiers without underscores.

- **Example**:

```cpp
// Deprecated
TEST(My_Test_Suite, My_Test) {}

// Updated
TEST(MyTestSuite, MyTest) {}
```


### 4. Test Registration Consistency Enforcement

- **Change**: Tests in the same test suite must use the same fixture class type consistently. Mixing `TEST()` and `TEST_F()` within the same test suite with different fixture types will lead to errors.

- **Migration**: Ensure all tests in a test suite either use simple `TEST()` macro or fixture-based `TEST_F()` macro with consistent fixture class.

- **Example**:

```cpp
// Error-prone mixed usage
TEST(MySuite, Test1) { ... }
TEST_F(MyFixture, Test2) { ... }

// Correct usage
TEST_F(MyFixture, Test1) { ... }
TEST_F(MyFixture, Test2) { ... }
```


### 5. Obsolete Macros for Test Fixture Setup/TearDown

- **Change**: Macros `SetUpTestCase()` and `TearDownTestCase()` are deprecated. You must use `SetUpTestSuite()` and `TearDownTestSuite()` instead.

- **Note**: The former methods continue to exist for backward compatibility but print deprecation warnings.


### 6. Exception Handling Behavior

- **Change**: GoogleTest’s flag `--gtest_catch_exceptions` controls whether exceptions are caught or propagated. Requirement to initialize GoogleTest with `InitGoogleTest()` to respect this behavior correctly.

- **Migration**: Call `testing::InitGoogleTest()` early in `main()` and pass correct command-line arguments to ensure expected behavior.


### 7. Removal of Support for Deprecated Features

- The GoogleTest team periodically removes rarely used or problematic APIs.

- Users should verify deprecation warnings during compilation and consult migration guides.


## Migration Guidance

To minimize disruption, follow these best practices:

- **Update Macro Names**: Change all legacy macro usages (e.g., `INSTANTIATE_TEST_CASE_P`) to their updated equivalents before upgrading the GoogleTest library.

- **Refactor Setup Methods**: Replace `SetUpTestCase()` and `TearDownTestCase()` with `SetUpTestSuite()` and `TearDownTestSuite()` within test fixture classes.

- **Test Naming**: Use valid C++ identifiers without underscores for test suite and test names.

- **Consistent Fixtures**: Use the same fixture class for all tests in the same test suite.

- **Custom Test Registration**: When programmatically registering tests, ensure you use the appropriate fixture types per suite.

- **Consult Compiler Warnings**: Warnings related to deprecated APIs provide automated hints for required changes.

- **Run Tests Thoroughly**: After migration, run the full test suite to validate the behavior and detect side effects early.


## Common Pitfalls

### Mixing `TEST` and `TEST_F` Incorrectly

- Remember that `TEST` uses no fixture, while `TEST_F` uses a fixture class.
- Using both in the same test suite without care leads to runtime errors.

### Using Deprecated Macros

- If you see warnings about deprecated macros, update your code accordingly, as deprecated macros may be removed in future releases.

### Ignoring Naming Conventions

- Underscores in test and test suite names cause filtering and registration issues.

---

## Debugging and Troubleshooting

- If tests fail to register or run, verify naming conventions and fixture consistency.
- Check for deprecation warnings during build; address them promptly.
- Ensure `InitGoogleTest()` is called early in `main()`.
- Verify compatibility of your build system with the GoogleTest version.


## Additional Resources

- **Release Notes by Version**: Track version-specific breaking changes and fixes.
  - https://google.github.io/googletest/changelog/version-history/release-notes

- **Upgrade Best Practices**: Official guides on migrating between versions.
  - https://google.github.io/googletest/changelog/upgrade-guidance/upgrade-checklist

- **Test Macros Reference**: Full documentation of test-defining macros.
  - https://google.github.io/googletest/api/reference/core-apis/test-macros.html

- **Basic Configuration and First Test**: How to configure and begin testing.
  - https://google.github.io/googletest/getting-started/configuration-first-run/configuration-setup
  - https://google.github.io/googletest/getting-started/configuration-first-run/first-test

- **Migration Example and Samples**: For visual examples of migration.
  - `sample7_unittest.cc`, `sample6_unittest.cc` in the repository.


---

## Summary

Breaking changes and deprecations in GoogleTest mainly revolve around adopting consistent terminology (`TestSuite` vs `TestCase`), retiring legacy macros, enforcing naming best practices, and stricter test registration rules. These changes provide a clearer, more maintainable testing API aligned with modern C++ standards and practices.

Careful adherence to migration guidance will ensure that your test suites continue to function smoothly, benefit from improved GoogleTest features, and avoid common pitfalls.

---

<Tip>
If you encounter issues during migration, consult the detailed release notes, upgrade checklists, and sample tests included with GoogleTest for practical guidance.
</Tip>

<Warning>
Do not ignore deprecation warnings issued by the compiler—they signal impending removals that may break your build in future releases.
</Warning>

<Info>
Call GoogleTest initialization function `testing::InitGoogleTest()` early in your `main()` to properly parse and apply framework flags, including those affecting test registration and exception behavior.
</Info>