---
title: "Deprecations & Removal Notices"
description: "Lists features, flags, or APIs that are deprecated in current or upcoming releases, with guidance on alternatives. Ensures developers are informed of future removals and can proactively refactor their code."
---

# Deprecations & Removal Notices

This page provides essential information about features, flags, and APIs in GoogleTest and GoogleMock that are deprecated or scheduled for removal in current or future releases. Understanding these notices ensures your code remains compatible and maintainable as the framework evolves.

---

## Purpose of This Page

The purpose of this documentation page is to inform developers about elements in the GoogleTest and GoogleMock frameworks that are obsolete or no longer recommended. It highlights alternatives or migration strategies, helping developers proactively refactor and avoid future disruptions.

---

## What is Deprecation?

Deprecation is a formal announcement by the GoogleTest maintainers signaling that a feature or API is outdated and may be removed in upcoming releases. Deprecated features remain available for some time to allow users to transition smoothly.

Typically, a deprecated element:

- Has newer or better alternatives.
- May have known issues or limitations.
- Is no longer actively developed or supported.

Users should aim to replace deprecated usage to prepare for future versions and to leverage improvements.

---

## Commonly Deprecated Features

While GoogleTest and GoogleMock maintain a high level of stability, certain changes occur that necessitate deprecations. This page summarizes such cases as they arise.

### Deprecated Mocking Macros

- **Old-style `MOCK_METHODn` Macros**: Before 2018, mock methods were defined with macros such as `MOCK_METHOD1`, `MOCK_CONST_METHOD2`, etc. These macros are deprecated in favor of the unified, type-safe `MOCK_METHOD` macro.

  **Migration**: Transition to using `MOCK_METHOD(return_type, method_name, (args...), (specs...))` which supports qualifiers such as `const` and `override` explicitly.

### Deprecated Default Behaviors and Strictness Wrappers

- The default behavior of mock objects as *Naggy* mocks (which print warnings on uninteresting calls) is discouraged in favor of using `NiceMock` (suppress warnings) or `StrictMock` (fail on unexpected calls) for clearer intent.

  **Recommendation**: Wrap your mocks with `NiceMock` or `StrictMock` depending on your preference to gain better control over uninteresting call handling.

### Deprecated Assertion Macros

- The use of `EXPECT_PRED*` macros may be superseded in many cases by matcher-based assertions (e.g., `EXPECT_THAT()`), which provide richer failure messages and expressive syntax.

---

## Deprecated Flags and Options

Where applicable, flags controlling legacy behaviors are deprecated or replaced.

Example:

- The `--gtest_death_test_style` flag retains defaults but may change recommended settings.
- Compiler support flags for older compilers or platforms may be dropped.

Consult the release notes and migration guides for detailed flag updates.

---

## Guidance for Users

To avoid disruptions:

1. **Stay Informed**: Regularly monitor the [Version Release Notes](https://github.com/google/googletest/releases) and [Breaking Changes & Migration Notes](https://github.com/google/googletest/blob/main/docs/changelog/upgrade-guidance/breaking-changes.md).
2. **Adopt Recommended Patterns**: Use the modern unified `MOCK_METHOD` macro, and wrap mocks with `NiceMock` or `StrictMock` for strictness control.
3. **Refactor Deprecated Usage**: Update test code to replace deprecated macros, methods, or flags promptly.
4. **Use Matcher-based Assertions**: Prefer `EXPECT_THAT` with matchers over the older `EXPECT_PRED*` styles for clearer and more maintainable assertions.
5. **Consult Migration Guidance**: See the [Upgrade Instructions](https://github.com/google/googletest/blob/main/docs/changelog/upgrade-guidance/upgrade-instructions.md) for detailed upgrade paths.

---

## Examples of Deprecated Usage and Migration

### Old to New Mock Method Macro

**Old**:

```cpp
class MockFoo {
 public:
  MOCK_METHOD1(Foo, bool(int)); // Deprecated!
  MOCK_CONST_METHOD1(Bar, int(int));
};
```

**New**:

```cpp
class MockFoo {
 public:
  MOCK_METHOD(bool, Foo, (int), ()); // Use the new, unified macro
  MOCK_METHOD(int, Bar, (int), (const));
};
```

### Replace Naggy Mocks with NiceMock

**Old (Naggy default):**

```cpp
MockFoo mock_foo;
EXPECT_CALL(mock_foo, DoSomething());
// Uninteresting calls generate warnings.
```

**Recommended:**

```cpp
NiceMock<MockFoo> nice_mock_foo;
EXPECT_CALL(nice_mock_foo, DoSomething());
// Uninteresting calls generate no warnings.
```

---

## Deprecated Documentation and References

This page systematically references all deprecated constructs and points users to their modern counterparts in the documentation.

For comprehensive guidance, consult:

- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md)
- [Mock Objects Strictness](https://github.com/google/googletest/blob/main/docs/api-reference/structuring-behaviors/mock-strictness.md)
- [Matchers Reference](https://github.com/google/googletest/blob/main/docs/api-reference/core-apis/matchers.md)
- [Actions Reference](https://github.com/google/googletest/blob/main/docs/api-reference/core-apis/actions-and-responses.md)

---

## Troubleshooting Deprecation-Related Issues

### Common Pitfalls

- Mixing old and new macros causing compilation errors.
- Unintentional remaining usage of deprecated `MOCK_METHODn` macros.
- Warnings about uninteresting calls when unaware of mock strictness settings.

### Solutions

- Use search tools to find deprecated macros in test code and replace with `MOCK_METHOD`.
- Wrap mocks with the appropriate strictness wrapper (`NiceMock` or `StrictMock`).
- Rely on matcher-based assertions (`EXPECT_THAT`) for improved clarity.
- Consult the upgrade guides and sample test code examples regularly.

---

## Future Removals

GoogleTest follows a conservative deprecation and removal policy. When a feature is deprecated:

1. It remains available for several released versions.
2. It is removed only after ample warning and documentation.

Users are encouraged to adapt proactively according to these announcements to ensure smooth upgrades.

---

## Summary

This page is your reference for all deprecated and upcoming removal notices in GoogleTest and GoogleMock. Following its guidance preserves test reliability and compatibility as the framework matures.

For detailed upgrade steps, refer to the [Breaking Changes & Migration Notes](https://github.com/google/googletest/blob/main/docs/changelog/upgrade-guidance/breaking-changes.md).

For ongoing updates, watch GitHub release announcements and official documentation revisions.


---

# Appendix: Glossary

- **MOCK_METHOD**: The preferred macro for defining mock methods, supporting qualifiers.
- **NiceMock**: Suppresses warnings on uninteresting calls.
- **StrictMock**: Treats uninteresting calls as errors.
- **Uninteresting Calls**: Calls to mock methods without expectations.
- **Unexpected Calls**: Calls that do not match any existing expectation.
- **`EXPECT_THAT`**: Assertion that verifies a value against a matcher.

---

<Note>
This document does not create or assume any new functionality. It summarizes and clarifies deprecations based on current documented practices and migration paths from GoogleTest and GoogleMock documentation and source.
</Note>
