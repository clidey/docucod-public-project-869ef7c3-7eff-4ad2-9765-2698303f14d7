---
title: "Bug Fixes & Patches"
description: "Lists bug fixes and maintenance patches, with short descriptions summarizing their impact. Key for teams seeking stability or monitoring regression fixes relevant to their use cases."
---

# Bug Fixes & Patches

This page documents the set of bug fixes and maintenance patches applied to GoogleMock. It provides concise descriptions focused on the impact these changes have on users, especially teams prioritizing stability and reliability in their tests. Use this as a reference to identify fixes relevant to your scenarios and to monitor regression resolutions.

---

## Understanding the Bug Fixes & Patches Page

Bug fixes and patches serve as the foundation for a smooth, predictable testing experience in GoogleMock. This page is curated to help you quickly grasp what issues have been addressed and how they improve your workflow.

Unlike feature or design documentation, these entries do not explain internal implementation details but summarize the practical effect each fix or patch has when using GoogleMock in your projects.

This page is critical for users who:

- Manage test suite stability in CI pipelines
- Investigate test failures or unexpected behavior after upgrades
- Track regressions and their resolutions

Refer to [Release Highlights](../release-highlights/latest-release.md) for summaries of major versions and features, and [Breaking Changes](../migration-changes/breaking-changes.md) for upgrade impact.

---

## How to Use This Page Effectively

- **Scan Recent Fixes First:** The most recent patches are listed at the top, enabling quick identification of new resolutions.

- **Identify Relevant Fixes:** Look for bug fixes mentioning symptoms or failure modes you observe.

- **Follow Migration Notes:** If fixes include any instructions or caveats, follow those precisely to prevent introducing new issues.

- **Monitor Known Issues:** Recurring bug fix descriptions highlight areas of ongoing maintenance.

- **Combine With Troubleshooting:** If you encounter a problem, check this page before filing new issues or trying complex workarounds.

---

## Sample Entries

Here are examples of typical bug fixes you may find detailed in this section.

### Fix: Correct Evaluation of EXPECT_CALL and ON_CALL Arguments

*Issue:* Previously, `EXPECT_CALL` and `ON_CALL` macros would evaluate their arguments multiple times in some cases, causing side effects like unintended object mutation.

*Impact:* Users experienced flaky or inconsistent test behavior when argument expressions had side effects.

*Resolution:* The macros now guarantee each argument is evaluated exactly once at run time, eliminating such side effects.

*User Action:* No changes required in existing tests, but tests relying on side-effect behavior in argument expressions should be reviewed.

### Fix: Improve Warning Messages on Uninteresting and Unexpected Calls

*Issue:* Warnings for uninteresting calls lacked helpful context, making root cause analysis difficult.

*Impact:* Debugging tests with unexpected or unmocked calls was time-consuming.

*Resolution:* Enhanced warning messages now include function names, argument values, and call stack traces when verbosity is set to `info`.

*User Action:* Run tests with `--gmock_verbose=info` to gain detailed diagnostic information.

### Fix: Handle Non-Move-Constructible Return Types in Mock Methods

*Issue:* Mock methods returning types that cannot be moved failed compilation or crashed at runtime.

*Impact:* Mocking legacy or complex types without move constructors was fragile.

*Resolution:* Expanded internal support to safely handle these types, allowing users to write mocks returning non-movable types.

*User Action:* No change in test code; new mocks can return such types safely.

### Fix: Prevent Deadlocks When Mock Actions Call Other Mock Methods

*Issue:* Certain mock actions that invoked other mock functions led to deadlocks.

*Impact:* Tests could hang indefinitely under specific nested mock invocation scenarios.

*Resolution:* Synchronization logic was refined to allow safe recursive invocations without deadlocks.

*User Action:* None; nested mocks can now be used safely in actions.

---

## Troubleshooting Common Issues Resolved

### Unexpected Warning "Uninteresting Function Call Encountered"

- This warning appears when mock methods are called without an explicit `EXPECT_CALL`.
- The patch introduces better flag controls and improved guidance to manage this via mock types:
  - Use `NiceMock` to suppress warnings.
  - Use `StrictMock` to convert warnings to failures.
- Adjust verbosity with `--gmock_verbose` flag accordingly.

### Failing Tests Due to Order of Expectations

- Changes ensure that sequences and `.After()` clauses are correctly enforced after fixes.
- If you experience failures due to call ordering, verify your use of `Sequence` and consider applying `.RetiresOnSaturation()` if calls should no longer be matched after saturated.

---

## Best Practices for Patch Adoption

- **Keep GoogleMock Updated:** Apply patches and bug fixes promptly to benefit from stability and improved messages.
- **Leverage Verbosity Controls:** Use `--gmock_verbose=info` for deep diagnostics and `--gmock_verbose=warning` for routine checking.
- **Use Mock Object Types Thoughtfully:** Pick between `NiceMock`, `NaggyMock` (default), and `StrictMock` based on test robustness requirements.
- **Write Clear Expectations:** Avoid over-specifying to reduce brittle test failures and ease maintenance.

---

## Additional Support Resources

- [How to Get Support](../../faq/community-help-support/getting-help.md): Guidance on reporting bugs and seeking help.
- [Build and Configuration Problems](../../faq/troubleshooting-integration/build-issues.md): Fix compilation and linking errors.
- [Triggering Detailed Logging](../../guides/getting-started-workflows/running-interpreting-tests.md#verbose-logging): Tips to enable detailed mock and test logging.

---

## Summary

This page is your authoritative source for tracking and understanding bug fixes and patches in GoogleMock. It provides actionable insights to help you maintain reliable and predictable mock behavior, facilitating smooth testing workflows and quicker issue diagnosis.

For deeper exploration, consult the feature improvements and migration guides, ensuring that your tests remain up to date and compliant with evolving API behaviors.

---