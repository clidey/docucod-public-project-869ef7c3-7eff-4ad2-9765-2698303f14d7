---
title: "Deprecations & End-of-Life Features"
description: "Clear and up-to-date notices for features marked as deprecated or scheduled for removal, including relevant timelines and recommended replacements, to help you future-proof your test suites."
---

# Deprecations & End-of-Life Features

GoogleTest occasionally deprecates features or phases out support for legacy behaviors to improve maintainability, modernize the codebase, or align with evolving C++ standards and testing best practices. This document provides clear and up-to-date notices for features marked as deprecated or scheduled for removal, including relevant timelines and recommended alternatives.

---

## 1. Deprecated Test Case Terminology and APIs

GoogleTest has transitioned its terminology from *Test Case* to *Test Suite* to align with modern testing terminology and reduce confusion. Accordingly, older macros and APIs using `TestCase` are considered deprecated.

- **Affected APIs:**
  - `TestCase` class (replaced by `TestSuite`)
  - `SetUpTestCase()` and `TearDownTestCase()` methods (superseded by `SetUpTestSuite()` and `TearDownTestSuite()`)

**Recommended action:**
- Use the newer `TestSuite` APIs and rename test fixtures and code accordingly.
- Replace calls to `SetUpTestCase()` and `TearDownTestCase()` with `SetUpTestSuite()` and `TearDownTestSuite()`, which have better semantic clarity.

---

## 2. C++ Standard Version Support

GoogleTest requires a minimum of C++17 to compile and run correctly.

- Support for earlier standards (C++11, C++14) has been phased out.
- Compiler versions must support C++17 features, including `constexpr` if required.

**Recommended action:**
- Ensure your build environment uses C++17 or later.
- Update toolchains and build configuration files (e.g., CMake `CMAKE_CXX_STANDARD` to 17).

---

## 3. Deprecation of `NULL` in Assertions

GoogleTest encourages replacing `NULL` with `nullptr` in all assertions involving pointers:

- `EXPECT_EQ(NULL, ptr)` and `ASSERT_EQ(NULL, ptr)` are supported for backward compatibility, but `EXPECT_NE(NULL, ptr)` and `ASSERT_NE(NULL, ptr)` are intentionally unsupported due to template complications.
- `nullptr` is the preferred value for null pointers in assertions due to type safety.

**Recommended action:**
- Replace all uses of `NULL` in assertions with `nullptr`. For example:

```cpp
EXPECT_EQ(ptr, nullptr);
EXPECT_NE(ptr, nullptr);
```

---

## 4. Legacy Macros and Function Names

Certain macro names have been updated or namespaced to avoid conflicts:

- Macros such as `TEST`, `ASSERT_EQ`, `EXPECT_TRUE`, etc., might be renamed if user code defines conflict macros.
- Use the `GTEST_DONT_DEFINE_*` compilation flags to prevent GoogleTest from defining conflicting macros, opting to use their fully qualified names (e.g. `GTEST_TEST`, `GTEST_ASSERT_EQ`).

**Recommended action:**
- If macro conflicts arise, adopt the `GTEST_DONT_DEFINE_*` flags and the corresponding prefixed macros.

---

## 5. Removal Timelines and Compatibility Notes

- Deprecated features often remain functional for several minor releases to allow migration.
- Removal will be clearly announced in release notes and changelogs with advance notice.
- GoogleTest official releases and GitHub tags provide upgrade guides.

**Recommended action:**
- Monitor the [GoogleTest GitHub Releases](https://github.com/google/googletest/releases) page for deprecation and removal announcements.
- Plan upgrade work to avoid legacy constructs.

---

## 6. Deprecated Practices and Coding Patterns

### 6.1 Using Underscores in Test Suite or Test Names

- Avoid underscores (`_`) in `TestSuiteName` and `TestName` in `TEST`, `TEST_F`, and related macros.
- Underscores cause reserved identifier conflicts and can cause duplicate class name generation internally.

**Recommended action:**
- Refactor test and suite names to be underscore-free and adhere to valid C++ identifiers.

### 6.2 Avoid Assertions in Constructors and Destructors

- Due to C++ limitations, `ASSERT_*` macros cannot be safely used in constructors or destructors.
- Use `SetUp()` and `TearDown()` methods for initialization and cleanup that may fail.

**Recommended action:**
- Move all assertion calls out of constructors/destructors into `SetUp`/`TearDown`.

---

## 7. Deprecated Test Fixtures and Test Registration Methods

Dynamic and manual test registration APIs remain available but are discouraged for regular use.

- Prefer macros (`TEST`, `TEST_F`, `TEST_P`) for defining tests.
- Advanced use cases should still use `RegisterTest()`, but expect updates in future releases.

---

## 8. Recommendations for Future-Proof Test Suites

- Adopt value-parameterized and typed tests to increase test reuse.
- Use the unified `EXPECT_THAT(value, matcher)` form over legacy `EXPECT_XX` macros for complex assertions.
- Move toward event listeners for customized test reporting.

---

## 9. Additional Resources

- [GoogleTest Primer](primer.md) — foundational concepts and writing tests
- [Testing Reference](reference/testing.md) — API details
- [Assertions Reference](reference/assertions.md) — all assertions with examples
- [Advanced Topics](advanced.md) — patterns and concepts for robust testing
- [Breaking Changes & Migration Guides](migrations-breaking-changes/breaking-changes.md) — steps for upgrading

---

<Callout>
  ![Warning Icon](https://img.icons8.com/ios-glyphs/24/000000/error--v1.png) Important: Always validate your test suites against the current GoogleTest version after upgrading to catch deprecated usage and adapt accordingly.
</Callout>

---

## How to Check for Deprecated Usage

1. Compile with the latest GoogleTest version with warnings enabled.
2. Use static analysis tools to detect deprecated class or method usage.
3. Run `--gtest_list_tests` and review test and suite names for invalid characters.
4. Consult compiler warnings about overridden deprecated APIs.

---

## Planned Removals and Known Deprecated Features

| Feature                              | Status           | Recommended Replacement               | Scheduled Removal Release (TBD) |
|------------------------------------|------------------|-------------------------------------|---------------------------------|
| `SetUpTestCase()` / `TearDownTestCase()` | Deprecated      | `SetUpTestSuite()` / `TearDownTestSuite()` | To be announced                |
| Use of underscores in test/suite names | Deprecated      | Underscore-free names                | Already discouraged             |
| Use of `NULL` in certain assertions      | Deprecated      | Use `nullptr`                       | Ongoing                       |
| Legacy macros name conflicts        | Mitigated       | Use `GTEST_DONT_DEFINE_*` flags     | Ongoing                       |

---

## Summary

To keep your tests reliable and maintainable:

- Replace deprecated APIs when possible, especially switching from TestCase to TestSuite APIs.
- Avoid reserved or deprecated coding patterns such as underscores in names.
- Migrate all `NULL` pointers in assertions to `nullptr`.
- Stay current with GoogleTest releases and announcements.

Keeping these guidelines will ensure your test suites remain robust, easy to update, and compatible with future GoogleTest versions.

---

_For complete details on changes, versioning, and migration support, please refer to the [Breaking Changes](breaking-changes.md) and [Upgrade Guides](upgrade-guides.md)._