---
title: "Upgrade Guides"
description: "Step-by-step instructions and best practices for moving between major versions, including code migration tips and examples to minimize friction and downtime during upgrades."
---

# Upgrade Guides

Welcome to the Upgrade Guides for GoogleTest, your essential resource for seamlessly migrating between major versions. This documentation presents clear, step-by-step instructions and practical recommendations designed to minimize friction and downtime during version upgrades. Whether you're updating your test suites, adjusting to API changes, or refining test practices, this guide equips you with everything needed to maintain stability and leverage the latest GoogleTest capabilities.

---

## 1. Preparing for an Upgrade

Upgrading your GoogleTest environment requires thoughtful preparation to avoid disruptions. Start by:

- **Reviewing Version Change Logs**: Understand key changes, new features, deprecations, and breaking changes in the target version.
- **Checking System Compatibility**: Confirm your build tools, compiler, and dependencies meet the new minimum requirements, such as the C++17 standard enforced in versions 1.17.0 and later.
- **Backup Existing Tests**: Preserve your existing test code and configurations before beginning migration.


<Tip>
Ensure your development environment supports C++17 or higher as this became a minimum requirement starting with GoogleTest 1.17.0, enhancing language features and modern codebase alignment.
</Tip>

## 2. Recognizing Breaking Changes

Certain new releases introduce API and behavioral adjustments that may require code modifications. Key breaking changes typically include:

- **API Removals or Renamings**: Deprecated APIs removed or replaced (e.g., shift from TestCase to TestSuite terminology).
- **Assertion Behavior Modifications**: Changes in how assertion macros behave or report results.
- **Flag Defaults Changes**: Alterations to default command-line flag values affecting test execution.

For each breaking change, carefully follow provided migration instructions to update your test code and ensure compatibility.

<Warning>
Ignoring breaking changes risks failed tests, false positives, or incompatibility with the new version.
</Warning>

## 3. Step-by-Step Migration Process

Follow these user-centric steps to upgrade smoothly:

### Step 1: Audit Existing Tests

- Use Google's official changelogs and breaking changes documentation to identify areas in your test code affected by changes.
- Note usages of deprecated APIs or patterns.

### Step 2: Refactor Code Accordingly

- Replace deprecated APIs with their recommended alternatives.
- Adjust test assertions if their semantics or error messages have changed.
- Update macro usages and test suite names as needed.

### Step 3: Update Build and Configuration

- Modify your build system to enforce required standards and link to updated GoogleTest libraries.
- Adjust compiler flags and ensure correct runtime libraries (especially on Windows).

### Step 4: Rebuild and Run Tests

- Compile your test binaries with the updated GoogleTest version.
- Run the full test suite, carefully examining outputs for failures or warnings.

### Step 5: Troubleshoot and Iterate

- Consult troubleshooting guides and migration notes for resolving common pitfalls.
- Incrementally enhance and stabilize tests.

<Check>
Successful migration results in all tests passing with no deprecated warnings.
</Check>

## 4. Best Practices for Sustained Compatibility

- **Avoid Deprecated Constructs**: Transition early from deprecated APIs to ensure long-term support.
- **Isolate Version-Dependent Code**: Use adapter patterns or abstraction layers to minimize future migration scope.
- **Leverage Continuous Integration**: Automate testing with new GoogleTest versions to identify issues promptly.
- **Stay Informed**: Monitor new releases, changelogs, and community discussions regularly.

## 5. Code Migration Examples

Below are concrete code examples illustrating typical migration scenarios.

### Example 1: TestCase to TestSuite Renaming

Before:
```cpp
TEST_F(MyTestCase, TestName) {
  // Test code
}
```
After:
```cpp
TEST_F(MyTestSuite, TestName) {
  // Test code
}
```

### Example 2: Replacing Deprecated Macros

Before:
```cpp
ASSERT_XXX(expected, actual);  // Deprecated macro
```
After:
```cpp
ASSERT_XXX_EQ(expected, actual);  // Updated macro aligning with current API
```

### Example 3: Handling C++17 Requirements

Add the following in your CMakeLists.txt or equivalent build configuration:
```cmake
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

## 6. Known Pitfalls and Troubleshooting

- **Build Failures**: Often caused by outdated compiler flags or missing dependencies.
- **Assertion Failures Due to Behavioral Changes**: Review assertion macros' updated semantics.
- **Test Discovery Issues**: Ensure test registration mechanisms are properly invoked.

Refer to [Troubleshooting & Common Pitfalls](../../getting-started/first-test-usage/troubleshooting-setup.md) and [Breaking Changes](../../changelog/migrations-breaking-changes/breaking-changes.md) for detailed solutions.

## 7. Additional Resources

- [GoogleTest Release History & Details](../../changelog/version-history-releases/all-releases.md)
- [Breaking Changes & Migration Guides](../../changelog/migrations-breaking-changes/breaking-changes.md)
- [Deprecation Notices](../../changelog/migrations-breaking-changes/deprecation-notices.md)
- [API Reference](../../api-reference/core-testing-api/) for updated function signatures and macros
- [Getting Started Guides](../../getting-started/) to validate setup

<Tip>
Use automated upgrade tools or scripts where available in your development environment to reduce manual migration effort.
</Tip>

---

## Summary

Upgrading GoogleTest to a major new version requires careful preparation, attentive code adjustments to accommodate breaking changes, and comprehensive test suite verification. By following the structured workflow outlined here, developers will ensure minimal disruption, maintain robust test coverage, and capitalize on the advances of the latest GoogleTest releases.

---