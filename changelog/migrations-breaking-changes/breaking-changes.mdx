---
title: "Breaking Changes"
description: "Documented API removals, behavior alterations, and changes that require your attention when upgrading, with practical examples and guidance for remediating affected tests or dependencies."
---

# Breaking Changes

This page details all **API removals, behavior alterations, and other important changes** in GoogleTest that require your attention when upgrading. It is designed to help you smoothly transition your existing tests and dependencies to newer versions while understanding the impact of these changes.

---

## Understanding Breaking Changes

Upgrading GoogleTest (or GoogleMock) might involve changes that are not backward compatible. These breaking changes can include:

- Removal of deprecated APIs or macros.
- Changes in expected test behavior or return codes.
- Updates in default settings or flag behaviors.
- Modifications in macro syntax or semantics.

Familiarizing yourself with these changes is critical to avoid test failures, deprecation warnings, or unexpected results.

---

## Why This Matters to You

Imagine you've just updated your project's GoogleTest version. Your tests suddenly fail to compile or behave differently. Without clear guidance, you might spend hours or days pinpointing the cause. This page saves you that time by listing:

- What specifically was removed or altered.
- What expectations changed.
- How to update your code or tests accordingly.

---

## Common Patterns of Breaking Changes

### 1. API or Macro Removals

Over time, GoogleTest prunes APIs that are obsolete or replaced by better alternatives. For example:

- Deprecated assertion macros might be removed.
- Certain internal macros or flags no longer available for user code.

**What to do:** Review usages of deprecated features in your test code and migrate to recommended alternatives cited in the migration guides.

### 2. Behavior Changes of Assertions

GoogleTest might adjust how assertions behave internally, such as:

- Updated failure handling semantics.
- Enhanced message formatting.
- Changes to default success or failure outcomes under edge conditions.

**What to do:** Re-run your tests after upgrading and pay close attention to assertion behaviors and outputs.

### 3. Flags and Defaults Updates

Flag defaults or their semantics may be altered for better performance or usability. For example:

- Default death test style may switch from "fast" to "threadsafe".
- Build-related flags or threading options may change.

**What to do:** Check your build configurations and test run flags. Update custom flag settings where necessary.

### 4. Platform and Compiler Support Changes

Some platforms or compiler versions might no longer be supported or have stricter requirements (e.g., C++17 minimum standard).

**What to do:** Verify your build environment meets the current prerequisites.

---

## How to Identify and Fix Breaking Changes

### Step 1: Review Release Notes and Change Logs

Before upgrading, always consult the latest [release notes](https://github.com/google/googletest/releases) and [changelog overviews](../version-history-releases/all-releases.md).

### Step 2: Check Migration Guides

GoogleTest provides migration documentation that describes how to update your code for major version changes. See the [Upgrade Guides](../migrations-breaking-changes/upgrade-guides.md).

### Step 3: Update Your Test Code

- Replace removed macros with current ones.
- Adapt to updated assertion behaviors.
- Adjust build flags and configurations.

### Step 4: Re-validate Tests

- Run all tests with updated GoogleTest.
- Use `--gtest_break_on_failure` to halt on first failure for easier debugging.
- Use the `--gtest_list_tests` flag to verify your tests are discovered correctly.

### Step 5: Troubleshooting

Consult the Troubleshooting FAQ ([Troubleshooting & Common Pitfalls](../../getting-started/first-test-usage/troubleshooting-setup.md)) if you encounter unexpected behavior.

---

## Practical Examples of Breaking Changes

### Changing Death Test Behavior

```cpp
// Previously, death tests used the "fast" style by default.
// Now, to get the "fast" style explicitly:
GTEST_FLAG_SET(death_test_style, "fast");
// or pass --gtest_death_test_style=fast on the command line
```

### Migrating From Removed Macros

If a macro you used has been removed:

```cpp
// Old macro usage
EXPECT_EQ(expected, actual);

// Verify it matches new recommended usage or use
// newer assertion styles like EXPECT_THAT()
EXPECT_THAT(actual, Eq(expected));
```

Ensure that any custom assertions you wrote follow the updated patterns in
https://google.github.io/googletest/reference/assertions.html

---

## Best Practices to Avoid Breaking Changes Impact

- Avoid relying on internal or undocumented APIs.
- Keep dependencies and projects updated regularly to follow deprecation schedules.
- Use the recommended macros and assertion styles.
- Review the GoogleTest documentation and migration guides before upgrading.
- Employ Continuous Integration to catch breakages early.

---

## Additional Resources

- Official GitHub Releases: [https://github.com/google/googletest/releases](https://github.com/google/googletest/releases)
- Changelog Overview and Version History: [All Releases Overview](../version-history-releases/all-releases.md)
- Upgrade Guides and Migration Instructions: [Upgrade Guides](../migrations-breaking-changes/upgrade-guides.md)
- Troubleshooting Guide: [Troubleshooting & Common Pitfalls](../../getting-started/first-test-usage/troubleshooting-setup.md)
- Assertions Reference for understanding assertion changes: [Assertions Reference](../../reference/assertions.md)

---

## Summary

This page is your go-to reference when upgrading GoogleTest to ensure smooth migration through awareness of breaking changes. It highlights key alterations requiring your action, explains their impact from a user perspective, and directs you to practical migration steps.

By following the guidance here, you ensure your tests remain robust, maintainable, and benefit from the latest framework improvements without disruption.

---

## Navigation Context

Located within the **Changelog Â» Breaking Changes & Migration Guides** section, this page complements:

- **Breaking Changes** overview for major API and behavioral updates.
- **Deprecations & End-of-Life Features** for features scheduled for removal.
- **Upgrade Guides** with step-by-step migration instructions.

Explore these for comprehensive upgrade support.

---