---
title: "Breaking Changes"
description: "Detailed documentation of all breaking changes across GoogleTest versions, including deprecations, removals, and changes in default behaviors. Each entry highlights the rationale, upgrade impacts, and links to relevant migration steps."
---

# Breaking Changes

Comprehensive documentation of breaking changes in GoogleTest, detailing deprecations, removals, behavior changes, and their impact on users. This resource helps you understand what changed, why, and how to migrate your tests smoothly.

---

## Overview

GoogleTest evolves carefully to improve functionality and usability, occasionally introducing changes that can break existing tests or require code adjustments. This page documents every breaking change introduced across versions, including:

- Deprecated features that are removed or altered
- Changes in default behaviors affecting test outcomes
- Modifications in macro usage or mock behavior
- Adjustments in integration or API semantics

Each entry provides the rationale behind the change, describes the upgrade impact from a user perspective, and links to migration guides or relevant references.

---

## Key Breaking Changes by Version

### Version 1.12.0 (2023-04)

- **Simplified Mock Method Macro:**
  - The introduction and promotion of the new `MOCK_METHOD` macro replaced the older `MOCK_METHODn` series, standardizing mock method declarations.
  - Impact: Users must migrate legacy mocks to the new syntax for compatibility and to enable modern qualifiers like `override`.
  - See [Mocking Reference](../api-reference/mocking-api/mocking-classes-methods.md#MOCK_METHOD) for migration steps.

- **Default Mock Strictness:**
  - GoogleMock mock objects switched the default behavior from naggy (printing warnings on uninteresting calls) to nice (suppressing such warnings).
  - Impact: Some uninteresting call warnings will no longer appear by default, potentially hiding silent issues.
  - Users can revert to previous behavior with `NaggyMock` or increase strictness with `StrictMock`.
  - More info: [Mock Strictness and Object Lifecycle](../guides/mocking-patterns/mock-strictness-lifecycle.md).

### Version 1.10.0 (2021-11)

- **Strictness Wrappers Enhancement:**
  - `NiceMock`, `NaggyMock`, and `StrictMock` were enhanced to better handle inherited mock methods, but with the limitation that only macros declared directly in the mock class are affected.
  - Impact: If you mock methods in base classes, strictness wrappers might not affect them.
  - Consider refactoring mocks or explicitly wrapping mock methods.

- **Removal of Deprecated Mock Macros:**
  - Older macro variants like `MOCK_CONST_METHODn` and `MOCK_METHODn_WITH_CALLTYPE` may be removed.
  - Upgrade by migrating all mock methods to the generic `MOCK_METHOD` macro.

### Version 1.8.0 (2020-06)

- **Expectation Ordering:**
  - `EXPECT_CALL` behavior enforces strict ordering more rigorously when using sequences or `After` clauses, reporting errors on out-of-order calls.
  - Impact: Some tests with implicit order assumptions may now fail.
  - Recommendations: Explicitly define sequences or relax expectations with `AnyNumber` where order is not critical.

- **ON_CALL and EXPECT_CALL Semantics Update:**
  - Clarified precedence rules: the last matching `EXPECT_CALL` or `ON_CALL` takes priority.
  - Impact: Redefining multiple expectations without careful order may lead to unexpected matches.

### Version 1.7.0 (2019-02)

- **Mock Method Qualifiers:**
  - Added support for additional qualifiers such as `noexcept` and method reference qualifiers (`ref(&)`, `ref(&&)`).
  - Impact: Existing mocks lacking these qualifiers for overridden methods may cause compilation errors.
  - Action: Update mock methods with correct qualifiers as per base class.

### Other Notable Changes

- **Mocking Non-Virtual Methods:**
  - Techniques introduced for mocking non-virtual methods through template and dependency injection.
  - These changes might affect legacy test designs.

- **GMock Verbosity Flag Modifications:**
  - The behavior of `--gmock_verbose` evolved, changing default warning levels and stack trace inclusion.
  - Users relying on verbose logging for debugging should update their test execution flags accordingly.

- **Default Action Changes:**
  - Changes in defaults for return values and side effects require users to explicitly define `ON_CALL` behaviors in some cases.

---

## Migration Guidance

For users impacted by breaking changes, follow these recommendations:

1. **Review Your Mock Classes:**
   - Transition all mocks to the unified `MOCK_METHOD` macro.
   - Add necessary qualifiers: `const`, `override`, `noexcept`, and reference qualifiers.

2. **Adjust Test Expectations:**
   - Examine sequences and call order enforcement. Use `InSequence` and `After` clauses explicitly.
   - Consider using `RetiresOnSaturation` for sticky expectations if applicable.

3. **Update Strictness Settings:**
   - Explicitly choose between `NiceMock`, `NaggyMock`, or `StrictMock` for uninteresting call handling.
   - Control verbosity using `--gmock_verbose` flag.

4. **Check Default Actions:**
   - Add `ON_CALL` clauses to specify default behaviors for mocks to avoid unintended defaults.

5. **Verify and Clear Expectations During Test Teardown:**
   - Use `Mock::VerifyAndClear()` or `Mock::VerifyAndClearExpectations()` to manage mock verification lifecycle explicitly when needed.

6. **Consult Migration and Upgrade Guides:**
   - Detailed migration instructions are available in [Upgrade & Migration Guides](../changelog/breaking-changes-migrations/upgrade-migration-guides.md).

---

## Troubleshooting and Common Pitfalls

- Unexpected warning messages about uninteresting calls usually indicate missing `EXPECT_CALL`s or unintentionally lax strictness.

- Compilation errors surrounding mock method qualifiers typically mean signature mismatches; ensure mocks match overridden signatures.

- Test flakiness following breaking changes often stems from stricter ordering verification and default action changes.

- Excessive logging or missing warnings can be controlled by `--gmock_verbose` flag adjustments.

- Mocking overloaded functions requires carefully specifying matchers to avoid ambiguity.

---

## Related Documentation

- [Mocking Reference](../docs/reference/mocking.md) — Comprehensive explanation of mocking primitives, macros, and classes.

- [gMock Cookbook](../docs/gmock_cook_book.md) — Practical recipes for using mocks effectively and troubleshooting.

- [Mock Strictness and Object Lifecycle](../guides/mocking-patterns/mock-strictness-lifecycle.md) — Deep dive into `NiceMock`, `NaggyMock`, and `StrictMock` usage.

- [Setting Expectations and Actions](../guides/mocking-patterns/setting-expectations-actions.md) — Guidance on defining mock behavior.

- [Upgrade & Migration Guides](../changelog/breaking-changes-migrations/upgrade-migration-guides.md) — Step-by-step upgrade paths and compatibility notes.

- [Full Version History](../changelog/version-history-releases/full-version-history.md) — All release notes including breaking changes.

---

## Practical Tips

- Keep test code and mocks up-to-date with the latest recommended macros and patterns.

- Use progressive enforcement of ordering and strictness in tests to balance maintainability with rigor.

- Suppress warnings intentionally using `NiceMock` instead of globally ignoring them.

- When mocking complex interfaces, prefer delegation to fakes or real objects where appropriate.

- Continuously monitor test output for new warnings or errors after upgrading GoogleTest versions.

- Engage with community and official migration guides during major version upgrades.

---

## Conclusion

This Breaking Changes documentation serves as your trusted companion to navigate and adapt to all significant changes in GoogleTest’s mocking framework. By understanding the nature and motivation behind each breaking change, you ensure your test suites remain robust, maintainable, and efficient as GoogleTest advances.

For further assistance, explore the related guides linked above, and consult the full version history for the chronological flow of changes.

---

<Check>
To get the most out of GoogleTest and GoogleMock, familiarizing yourself with the [Mocking Reference](../docs/reference/mocking.md) and [gMock Cookbook](../docs/gmock_cook_book.md) is essential. For upgrade strategies, visit [Upgrade & Migration Guides](../changelog/breaking-changes-migrations/upgrade-migration-guides.md).
</Check>
