---
title: "Breaking Changes"
description: "Explains critical updates or removals that require user actionâ€”such as minimum C++ standard requirements, API removals, or significant behavioral changes. Gives context and rationale for each major-breaking change."
---

# Breaking Changes

This page explains critical updates and removals in GoogleTest and GoogleMock that require user attention and action. These changes impact compatibility, minimum requirements, APIs, behavior, and integration patterns. Understanding these breaking changes ensures smoother upgrades and preserves your test stability.

---

## Minimum C++ Standard Requirement

### Increased Baseline to C++17

GoogleTest and GoogleMock now require a minimum compiler support for the **C++17** standard. Compilation with earlier standards (e.g., C++14 or C++11) is no longer supported.

This change reflects the framework's leverage of modern language features for safety, performance, and correctness.

**What this means for you:**

- Update your build system to set the C++ standard to C++17 or above (e.g., `-std=c++17` for GCC/Clang).
- Ensure all compilers and toolchains used for test builds meet this requirement.
- Refer to the [Prerequisites & System Requirements](../getting-started/setup-prerequisites-installation/prerequisites-system-requirements) page for detailed compatibility and platform notes.

---

## Removal of Legacy `MOCK_METHODn` Macros

The old family of mock method macros (`MOCK_METHOD0`, `MOCK_METHOD1`, ..., `MOCK_CONST_METHOD1_T_WITH_CALLTYPE`, etc.) have been **deprecated and removed** in favor of the unified and more powerful `MOCK_METHOD` macro.

**Impact:**

- All mock classes must migrate to using the new `MOCK_METHOD` macro syntax:
  ```cpp
  // Old:
  MOCK_METHOD1(Foo, bool(int x));

  // New:
  MOCK_METHOD(bool, Foo, (int x), (override));
  ```

- The new macro fully supports qualifiers, call types, reference qualifiers, and move-only types.
- For guidance on migration, see the [Mock Class and Method APIs](/api-reference/mocking-and-matcher-api/mock-methods-api) and [gMock Cookbook](../docs/gmock_cook_book.md).

---

## Strict Enforcement of Mock Method Access

All mock methods defined by `MOCK_METHOD` **must reside within the `public:` section** of the mock class, even if the original method in the base class is `protected` or `private`.

Failing to do this may cause compilation or runtime linkage errors.

This policy is now strictly enforced.

---

## Behavior Changes in Mock Strictness Wrappers

The semantic differences amongst the mock wrappers `NiceMock<T>`, `NaggyMock<T>`, and `StrictMock<T>` are now enforced more consistently.

- **NiceMock**: Suppresses warnings on uninteresting calls.
- **NaggyMock**: Default mock behavior printing warnings on uninteresting calls.
- **StrictMock**: Reports uninteresting calls as **errors**, failing tests.

Make sure you select the appropriate wrapper for your mock objects to reflect your testing intent.

---

## Deprecated Mocking Features and APIs

Some APIs and mocking techniques that were supported for legacy reasons are now deprecated or removed.

Examples include:

- Mocking non-virtual functions only through `MOCK_METHOD` syntax on unrelated classes with explicit template usage, replacing older patterns.
- Removal of support for the old macro-based `ACTION*` macros in favor of modern lambda or functor-based actions.

Refer to the following documentation for updated guidelines:

- [Mock Methods API](/api-reference/mocking-and-matcher-api/mock-methods-api)
- [Actions Reference](/api-reference/mocking-and-matcher-api/actions-api)
- [gMock Cookbook](../docs/gmock_cook_book.md)

---

## Changes in Default Behavior and Warnings

GoogleMock now emits more explicit diagnostics for uninteresting and unexpected mock method calls.

- The new default for output verbosity is `warning` level, which omits some detailed stack traces but highlights unmatched calls.
- You can control this verbosity with the `--gmock_verbose` flag (values: `info`, `warning`, `error`).

Adjust your CI/build configurations accordingly to manage noise vs. information.

---

## Compiler and Platform Support

The minimum supported versions for compilers have been increased, reflecting requirements to support C++17.

- Microsoft Visual C++ requires at least Visual Studio 2017 (version 15) or newer.
- GCC and Clang minimum versions align with those supporting C++17 effectively.

Cross-platform portability layers have been updated accordingly.

Check the [Prerequisites & System Requirements](../getting-started/setup-prerequisites-installation/prerequisites-system-requirements) document for details.

---

## Migration Recommendations

To handle breaking changes smoothly:

1. **Verify your build environment** meets the new requirements (C++17 standard, compiler version).
2. **Refactor mock classes** to replace deprecated macros with the `MOCK_METHOD` macro.
3. **Review mock wrapper usage** (`NiceMock`, `StrictMock`, etc.) to ensure intended behavior.
4. **Audit test code** for deprecated APIs or practices, such as old `ACTION` macros or legacy mocking styles.
5. **Use `RetiresOnSaturation()` appropriately** to avoid sticky expectations causing unexpected failures.

For detailed guidance, consult the [Migration Guides](/changelog/breaking-changes-migrations/migration-guides) and [Breaking Changes](/changelog/breaking-changes-migrations/breaking-changes) pages.

---

## Additional Resources

- [Mocking Reference](../docs/reference/mocking.md): Comprehensive reference on mock macros and classes.
- [gMock for Dummies](../docs/gmock_for_dummies.md): A beginner-friendly gMock introduction.
- [gMock Cookbook](../docs/gmock_cook_book.md): Practical recipes for common mocking tasks.
- [API Reference - Mock Methods](../api-reference/mocking-and-matcher-api/mock-methods-api): Details on the `MOCK_METHOD` macro and usage.
- [API Reference - Actions](../api-reference/mocking-and-matcher-api/actions-api): Built-in and custom actions for mocks.

---

<Tip>
Keep your test codebase up-to-date with these breaking changes to avoid subtle bugs during upgrades. Carefully migrating your mocks and setting appropriate compiler standards upfront will save time and reduce test failures.
</Tip>

<Warning>
Ignoring the minimum C++17 requirement or continuing to use deprecated mocking constructs will lead to build failures and unstable test behavior.
</Warning>

---