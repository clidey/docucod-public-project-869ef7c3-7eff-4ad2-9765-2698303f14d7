---
title: "Deprecations & Removals"
description: "Track deprecated features, planned removals, and recommended alternatives. Establish a clear understanding of what’s being phased out so you can future-proof your tests and minimize technical debt."
---

# Deprecations & Removals

Track deprecated features, planned removals, and recommended alternatives to future-proof your tests and minimize technical debt.

---

## Purpose of this Page

This page serves as your definitive source to understand which GoogleTest and GoogleMock features are deprecated, the timeline for their removal, and the recommended alternatives. Staying informed about deprecations helps you avoid surprises during upgrades and ensures your tests remain maintainable and compatible with future versions.

---

## Understanding Deprecation in GoogleTest and GoogleMock

Deprecation is the process of signaling that a feature or API is obsolete and will be removed in a future release. Deprecated features remain functional for some time but are discouraged from use. They often have replacements that offer improved design, performance, or usability.

By tracking deprecations, you can plan your migration path, avoid accumulating technical debt, and maintain long-term test code health.

---

## How to Identify Deprecated Features

- **Release Notes & Changelog**: Each release documents deprecations with details on impact and migration guidance.
- **Compiler Warnings**: When compiling tests, deprecated APIs often emit warnings indicating they should be replaced.
- **Documentation Annotations**: API reference pages clearly mark deprecated macros, functions, classes, and flags.

---

## Common Categories of Deprecations and Removals

### 1. **Assertion Macros**

Some legacy or redundant assertion macros may be marked for deprecation. For example, older assertion styles replaced by more expressive or extensible alternatives.

**Replacement Strategy:** Use the modern assertion macros documented in the [Assertions Reference](/docs/reference/assertions.md) such as `EXPECT_THAT`, which support rich matchers producing more informative diagnostics.

### 2. **Mocking Macros and Patterns**

Older mocking macros like the `MOCK_METHODn` family are being deprecated in favor of the newer generic `MOCK_METHOD` macro, which offers greater clarity and flexibility.

**Recommended Action:** Transition mock class definitions to use `MOCK_METHOD` with its callable-qualifier syntax as explained in the [Mock Function Declaration and Setup](/api-reference/mocking-apis/mock-function-declaration.md).

### 3. **Command-Line Flags**

Some GoogleMock command-line flags (e.g., those controlling verbosity or leak checking) may become deprecated as internal implementations evolve or are replaced by more standard flag mechanisms.

**Tip:** Stay current with the latest flag options and prefer using documented flags. Deprecated flags will emit warnings when used.

### 4. **Test Naming and Registration**

Legacy constraints on test and suite naming, such as restrictions due to underscores or naming conventions, may change to encourage more consistent practices.

**Migration Advice:** Follow the updated test naming guidelines to avoid conflicts and ensure compatibility, as outlined in the [Breaking Changes & Migration Notes](/changelog/breaking-changes-migrations/breaking-changes.md).

---

## Recommended Migration Paths

### Migrating from `MOCK_METHODn` to `MOCK_METHOD`

To modernize your mock classes:

```cpp
// Old style
MOCK_METHOD1(Foo, bool(int));

// New style
MOCK_METHOD(bool, Foo, (int), (override));
```

For complete guidelines, see the [Mock Function Declaration and Setup](/api-reference/mocking-apis/mock-function-declaration.md).

### Replacing Deprecated Assertion Macros

If you use deprecated assertions, switch to recommended modern macros to gain better expressiveness and maintainability:

```cpp
// Deprecated
EXPECT_EQ(x, y);

// Prefer
EXPECT_THAT(x, Eq(y));
```

Explore the full assertion catalog and examples in the [Assertions Reference](/docs/reference/assertions.md).

### Adapting to Test Naming Changes

If you encounter test registration or running issues related to test or suite names, update names to follow the current naming constraints and avoid reserved patterns.

Consult the [Breaking Changes & Migration Notes](/changelog/breaking-changes-migrations/breaking-changes.md) for precise naming rules and solutions.

---

## Deprecation and Removal Schedule

GoogleTest follows a clear policy on how deprecations are introduced and eventually removed:

- Deprecated features remain available for several release cycles.
- Deprecation notices appear in release notes and API documentation.
- Users are urged to migrate promptly to avoid unexpectedly broken tests.
- Removal happens in a major release after sufficient migration time.

Refer to the [Version History & Highlights](/changelog/release-highlights/all-releases.md) to track when specific features were deprecated and when they will be removed.

---

## Best Practices for Future Proofing Your Tests

- Monitor the changelog and release notes regularly.
- Avoid using undocumented or internal APIs.
- Use expressive assertions (`EXPECT_THAT`) and the generic `MOCK_METHOD` exclusively.
- Upgrade your test suite during minor or patch updates before major version migrations.
- Use deprecation warnings as an early indicator of needed maintenance.

---

## Troubleshooting Common Issues

### Deprecated Feature Warnings During Compilation

- **Cause:** Use of deprecated macros or features.
- **Solution:** Read the warning messages carefully and update the code to the recommended alternatives.

### Test Failures After Upgrading

- **Cause:** Removed or changed APIs, or stricter test name requirements.
- **Solution:** Consult migration guides, update mock definitions and assertions, and rename tests accordingly.

### Excessive Verbose Logs About Deprecated Features

- **Cause:** Debug or verbose mode highlighting deprecations.
- **Advice:** Adjust verbosity settings as needed, but do not ignore these warnings.

---

## Additional Resources

- [Release Highlights & Version History](/changelog/release-highlights/all-releases.md) – Comprehensive timeline of changes.
- [Breaking Changes & Migration Notes](/changelog/breaking-changes-migrations/breaking-changes.md) – Detailed upgrade instructions.
- [Mocking Reference](/docs/reference/mocking.md) – Complete gMock usage.
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) – Recipes for advanced mocking.
- [Assertions Reference](/docs/reference/assertions.md) – Updated assertion macros and usage.

---

Always keep your tests aligned with the latest stable release to ensure seamless upgrades and robust continuous integration pipelines.

<Tip>
Regularly reviewing the deprecation notices and migration guides will save you significant maintenance effort and reduce test flakiness.
</Tip>

<Note>
Deprecated features are retained temporarily for backward compatibility but not for indefinite use. Plan upgrades accordingly.
</Note>

<Warning>
Ignoring deprecations may lead to broken tests and delayed releases once removals become effective.
</Warning>