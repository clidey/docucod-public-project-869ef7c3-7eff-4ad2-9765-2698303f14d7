---
title: "Bug Fixes and Patches"
description: "Details important bug fixes, performance improvements, and patch releases. Keeps users informed about resolved issues, stability enhancements, and minor updates affecting the reliability of GoogleTest and GoogleMock."
---

# Bug Fixes and Patches

Stay informed on the continual improvements to GoogleTest and GoogleMock with this dedicated page detailing important bug fixes, performance enhancements, and patch-level updates. This page focuses exclusively on issues that have been resolved, stability changes, and minor updates that boost reliability without introducing breaking changes.

---

## Recent Bug Fixes and Stability Improvements

### Addressing Uninteresting Call Handling
- Refined the default handling of uninteresting mock calls to reduce noise in test outputs.
- Fixed situations where uninteresting calls could incorrectly escalate to errors in certain configurations.
- Improved diagnostic messages for uninteresting call warnings to help quickly identify and resolve test setup omissions.

### Mock Method Behavior Corrections
- Corrected edge cases in mocking overloaded methods, ensuring correct overload resolution and invocation.
- Fixed problems with mocking class template methods where parameter packs caused incorrect macro expansions.
- Addressed bugs related to specifying call conventions for mock methods on Windows platforms.

### Expectation and Verification Enhancements
- Resolved issues where expectations were not properly retired after saturation leading to unexpected failures.
- Improved the interaction between `EXPECT_CALL` order and default actions set by `ON_CALL`, preventing false positives on excessive calls.
- Fixed verification lapses where mock objects created on the heap could be inadvertently leaked without detection.

### Improvements in Mock Strictness Wrappers
- Stabilized behavior for `NiceMock`, `NaggyMock`, and `StrictMock` templates to better handle inheritance scenarios with base mocks.
- Fixed constructor forwarding in strictness wrappers to guarantee consistent behavior, especially when mocks have parameterized constructors.

### Performance and Build System Fixes
- Optimized compilation times by allowing separation of mock class constructor/destructor definitions, reducing template instantiation overhead.
- Fixed build scripts and packaging files to resolve linkage and header inclusion errors reported in certain build environments.

---

## Patch Releases Highlights

Patch releases primarily focused on ensuring backward compatibility while addressing minor bugs. Highlights include:

- Prevented spurious warnings about leaked mock objects by improving detection and reporting logic.
- Updated default action handling for move-only types in mocked methods to avoid runtime errors.
- Fixed memory leaks caused by incorrect deregistration of internal mock state during destruction.
- Patched mismatch issues in matcher composition that affected specific complex expectations.

---

## How These Fixes Benefit You

Each bug fix and patch release contributes to smoother testing experiences by making GoogleMock expectations clearer, preventing misleading warnings, and maintaining stable test verifications. You get:

- Higher confidence in test outcomes due to precise expectation enforcement.
- Less noise in test logs, focusing your attention on real failures.
- Better support for complex mocking scenarios such as overloaded methods, templates, and move-only types.
- Improved maintainability with reduced need for workarounds or custom patches.

---

## Best Practices to Leverage Recent Fixes

- Always update to the latest patch release to benefit from ongoing reliability improvements.
- Wrap your mock objects with appropriate strictness templates (`NiceMock`, `StrictMock`) to align verbosity and error reporting with your testing goals.
- Use `ON_CALL` for default mock behaviors to minimize uninteresting call warnings.
- Specify overloads and calling conventions explicitly in mocks for clarity and compatibility.
- Separate mock construction and destruction from header files to speed up your build process.

---

## Troubleshooting Common Issues Resolved Here

<AccordionGroup title="Common Issues Addressed in Recent Fixes">
<Accordion title="Uninteresting Calls Printing Warnings or Errors Unexpectedly">
Ensure you configure mock strictness correctly. Recently fixed that `NaggyMock` and `NiceMock` behave as intended and no unnecessary warnings occur when `EXPECT_CALL`s are not set on all methods.
</Accordion>
<Accordion title="Mock Method Overload Resolution Fails">
Explicitly specify argument matchers as needed. Fixed bugs allow consistent overload matching when mock methods are overloaded.
</Accordion>
<Accordion title="Default Actions Not Applied Consistently">
Using `ON_CALL` is key; patch releases fixed inconsistent default action application when combined with expectations.
</Accordion>
<Accordion title="Leaks Detected in Tests Despite Proper Cleanup">
Patch fixes improved mock object lifetime management and leak detection accuracy.
</Accordion>
<Accordion title="Slow Compilation Times">
Separating mock constructors and destructors into `.cc` files speeds up build; fixed related build issues in patch updates.
</Accordion>
</AccordionGroup>

---

## Additional Resources

- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) for practical recipes on writing robust mocks
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html) for up-to-date API details
- [Nice, Naggy, and Strict Mocks](https://google.github.io/googletest/reference/mocking.html#NiceMock) for strictness wrapper usage
- [Breaking Changes & Migration Notes](https://google.github.io/googletest/changelog/upgrade-guidance/breaking-changes.html) if upgrading from older versions

You can find detailed changelogs and patch notes under the [Full Version History](https://google.github.io/googletest/changelog/version-history/full-version-history.html) page.

---

## Summary
This page provides an authoritative report on recent bug fixes and patch releases in GoogleTest and GoogleMock. It focuses on fixes around mock behavior, expectation verification, strictness wrappers, build optimizations, and stability improvements to empower you with reliable and performant testing capabilities.

---

<Check>
Keeping your test suite robust and maintainable is easier by updating to the latest GoogleMock patches that resolve subtle bugs and improve diagnostics.
</Check>

---

<Info>
For optimal use, monitor this page regularly and apply patches timely to avoid test flakiness and leverage improvements in mocking workflows.
</Info>

---

# Source
<Source url="https://github.com/google/googletest" paths={[{"path": "docs/changelog/new-improvements/bug-fixes-patches.mdx", "range": "1-100"}]} />