---
title: "Deprecations & Sunset Notices"
description: "Lists features and APIs marked for deprecation or removal, with target timelines where available. Ensures users can proactively refactor code and avoid deprecated patterns."
---

# Deprecations & Sunset Notices

This page provides a clear listing of features and APIs within GoogleTest and GoogleMock that have been marked for deprecation or removal. It includes details about timelines and guidance to help you proactively refactor your test code to avoid reliance on deprecated patterns.

## Understanding Deprecations

Deprecation is the process of marking features and APIs as obsolete, signaling that they will be removed in future releases. Deprecations offer a transition period allowing users to adapt their code before features are removed entirely, ensuring a smoother upgrade path and reducing unexpected breakages.

## Why Should You Care?

Ignoring deprecations can lead to:

- Test failures when deprecated APIs are removed.
- Increased maintenance effort to fix your test code later.
- Missing out on improvements, bug fixes, and optimizations in newer APIs.

This page aims to help you keep your tests robust and future-proof by identifying deprecated elements early.

## Current Deprecated Features and APIs

### 1. Test and Test Suite Names with Underscores

Due to longstanding internal constraints and to improve compatibility with test filtering and reporting, underscores (`_`) in test suite and test names have been deprecated.

- **Impact**: Use of underscores in test suite or test names will trigger warnings.
- **Migration**: Rename your tests and suites to remove underscores, replacing them with camel case or other separator styles.

See the [Breaking Changes & Migration Steps](./breaking-changes) guide for detailed examples.

### 2. Mock Method Declaration Requirements

GoogleMock has refined how mock methods must be declared, especially regarding qualifiers.

- The exact declaration must precisely match the original method's signature, including qualifiers such as `const`, `noexcept`, and reference qualifiers.
- Use of underspecified or incorrect qualifiers may lead to unexpected behaviors or compiler warnings.

Refer to the [Mock Objects Basics](../api-reference/core-concepts/mock-objects-basics) page and the [Breaking Changes](./breaking-changes) for migration steps and best practices.

### 3. Null Pointer Assertions

New standardized assertions for null pointer checks are preferred. Older patterns and custom macros for null pointer assertions are deprecated.

- Use `EXPECT_EQ(ptr, nullptr)` or `EXPECT_THAT(ptr, IsNull())` instead of legacy constructs.

More details are available in the [Assertions Reference](../api-reference/core-concepts/test-assertions-overview).

### 4. Legacy Legacy Macros and Actions

Older macros such as `MOCK_METHODn` and `ACTION_Pn` are deprecated in favor of the generic `MOCK_METHOD` and lambda-based actions.

- Transition your mock classes to use `MOCK_METHOD` with its modern signature.
- Replace older `ACTION` macros with lambda functions or functor objects, which provide clearer syntax and better type safety.

For migration recipes, see the [gMock Cookbook](../docs/gmock_cook_book.md) and [Mocking Reference](../docs/reference/mocking.md).

### 5. Deprecated Mock Strictness Defaults

Naggy mock is the default strictness level but may be deprecated in the future.

- It is recommended to explicitly specify `NiceMock` or `StrictMock` wrappers.
- This prepares your test code for upcoming changes in default behaviors.

See the [Strictness: Nice, Naggy, and Strict Mocks](../api-reference/mocking-and-behavior/strictness-nice-naggy) for best practices.

## Tips for Managing DeprecationsÂ 

- **Monitor official release notes:** Stay updated on upcoming deprecations and removals.
- **Use migration guides:** Refer to detailed migration steps in the [Breaking Changes & Migration Steps](./breaking-changes).
- **Refactor early:** Update test names, mock method declarations, and expectation usage progressively.
- **Leverage tools:** Use compiler warnings and GoogleTest flags to highlight deprecated usage.

## Sunset Timeline and Removal Plans

Where applicable, target timelines for removals are provided alongside the deprecated items. Users should aim to remove deprecated features from their test code prior to these timelines to avoid broken builds.

## Related Documentation and Resources

- [Breaking Changes & Migration Steps](./breaking-changes)
- [Mock Objects and Basic Mocking](../api-reference/core-concepts/mock-objects-basics)
- [Assertions Reference](../api-reference/core-concepts/test-assertions-overview)
- [Strictness: Nice, Naggy, and Strict Mocks](../api-reference/mocking-and-behavior/strictness-nice-naggy)
- [gMock Cookbook](../docs/gmock_cook_book.md)
- [Mocking Reference](../docs/reference/mocking.md)

## Summary

This page equips you with actionable knowledge about deprecated APIs in GoogleTest and GoogleMock. By proactively migrating away from deprecated features, you ensure that your testing suite remains robust, maintainable, and ready for future GoogleTest releases.

<Tip>
Automate migration as part of your regular development workflow to avoid technical debt related to deprecated APIs.
</Tip>

<Tip>
Use `--gmock_verbose=info` to trace mock object behavior and identify deprecated or legacy usage.
</Tip>

-----

# Changelog & Deprecations Integration

This document is part of the GoogleTest changelog and upgrade documentation suite. For full context, consult the Recent Releases and Full Changelog pages within the Changelog section.

---

## Contact and Support

For questions or to report issues related to deprecations, engage via GitHub issues at https://github.com/google/googletest or community forums like Stack Overflow.

For official support channels, see the [Community Support FAQ](../../faq/advanced-issues-optimization-support/faq-community-support.mdx).

---

## Navigation

This page fits under **Changelog > Upgrade & Migration Guide** as a crucial reference for users planning test code upgrades.

---

# End of Deprecations & Sunset Notices Documentation
