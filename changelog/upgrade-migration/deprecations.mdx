---
title: "Deprecation Notices"
description: "Stay up to date on features or APIs scheduled for removal. This page documents deprecation timelines, suggested alternatives, and recommended strategies for transitioning before support ends."
---

# Deprecation Notices

Stay informed about upcoming removals and changes in GoogleTest that may impact your tests. This page provides a clear timeline of deprecated features, practical alternatives, and strategies to smoothly transition your test suites before support ends.

## Understanding Deprecation in GoogleTest

Deprecation is a formal announcement that certain features, APIs, or behaviors will be removed in future releases. It aims to give you advance notice to refactor your code and tests before incompatibilities occur. Proactively addressing deprecation notices reduces technical debt and eases upgrade efforts.

Deprecation notices focus specifically on:

- APIs and macros scheduled for removal.
- Behavioral changes that affect existing tests or mocks.
- Recommended alternatives and migration paths.

This page does **not** cover feature additions, bug fixes, or general release notes. It exists to help you manage upcoming breaking changes with confidence.

## Deprecation Timeline

GoogleTest uses semantic versioning following these principles:

- **Major versions** may include breaking changes and deprecated features removal.
- **Minor versions** typically add functionalities without breaking backward compatibility.
- **Patch versions** contain fixes and minor improvements.

Deprecation periods generally span at least one major release cycle, allowing ample time for migration.

| Deprecated Feature                  | Deprecated Since | Planned Removal Version | Suggested Alternatives / Notes              |
|-----------------------------------|------------------|-------------------------|---------------------------------------------|
| Use of underscores in test names   | 1.12.0           | 1.13.0                  | Rename test suites and tests to remove `_`  |
| Fatal assertions in constructors  | 1.11.0           | 1.13.0                  | Move fatal assertions to `SetUp()` methods  |
| Default death test style (`fast`) | 1.15.0           | TBD                     | Switch to `threadsafe` death test style     |

> Note: This table may update based on future release decisions.

## Key Deprecated Practices and Migration Strategies

### Avoid Underscores in Test and Test Suite Names

GoogleTest has restricted the use of underscores (`_`) in test suite and test names due to naming conflicts and reserved identifier rules in C++. This applies to situations such as:

- Underscore as prefix or suffix in test or suite names.
- Multiple consecutive underscores leading to invalid generated class names.

**Migration Steps:**

1. Review your test and test suite names.
2. Remove or replace underscores with CamelCase or other permitted conventions.
3. Confirm by running tests that no naming collisions or compiler errors occur.

For further background and example code, see the [FAQ on Test Naming](../faq/getting-started-common-issues/installation-build-troubleshooting.md#why-should-test-suite-names-and-test-names-not-contain-underscore).

### Move Fatal Assertions Out of Constructors

Placing fatal assertions (`ASSERT_*`) inside constructors is deprecated because:

- The C++ language forbids returning a value from constructors.
- Fatal assertion failures inside constructors do not propagate as expected.

**Recommended Approach:** Use `SetUp()` or `SetUpTestSuite()` functions for initialization that may fail:

```cpp
class MyTest : public testing::Test {
 protected:
  void SetUp() override {
    ASSERT_TRUE(Initialize());  // Move fatal asserts here
  }
};
```

This change ensures assertions work as intended and test setups are reliable.

Learn more in the [FAQ on Assertion Placement](../faq/getting-started-common-issues/installation-build-troubleshooting.md#should-i-use-the-constructordestructor-of-the-test-fixture-or-setupteardown).

### Transition to `threadsafe` Death Test Style

The default death test style currently is `fast`, but it will be deprecated in favor of `threadsafe` for improved reliability in multi-threaded programs.

**Switching to threadsafe death tests involves:**

- Setting the flag programmatically or via command line:

```cpp
GTEST_FLAG_SET(death_test_style, "threadsafe");
```

or

```bash
--gtest_death_test_style=threadsafe
```

- Being aware of performance trade-offs as `threadsafe` can be slower but safer.

More comprehensive guidelines and platform-specific information are available in the [Death Tests Guide](../guides/solutions-and-patterns/death-tests.md).

## Additional Deprecated Features

- **Old-Style Mock Macros:** The family of `MOCK_METHODn` macros has been replaced by the unified `MOCK_METHOD` macro. Legacy macros still work for now but should be migrated.

- **Use of `FAIL()` and `ASSERT_*` in Destructors:** Fatal assertions in destructors remain unsupported. Instead, create explicit mock methods (e.g., `Die()`) and call them in destructors to test destruction behavior.

- **Legacy Mocking Techniques for Move-Only Types:** Modern `MOCK_METHOD` fully supports move-only types such as `std::unique_ptr`. Older delegation workarounds should be refactored.

## Best Practices for Smooth Migration

- **Audit Your Test Suites:** Run static analysis or grep commands to identify deprecated patterns.
- **Rename Tests and Suites:** Avoid underscores and follow naming conventions.
- **Refactor Constructors:** Move assertion logic to `SetUp()`.
- **Adopt New Mocking Macros:** Use the modern `MOCK_METHOD` with proper qualifiers.
- **Update Death Tests:** Specify `threadsafe` style for robust test execution.
- **Consult Official Release Notes:** Always review release notes for deprecation details.

## Troubleshooting Deprecated Features

<Tip>
If you encounter compiler errors related to test suite naming or assertion placement, verify adherence to the rules outlined above.
</Tip>

<Warning>
Ignoring deprecation warnings may lead to build failures once the features are removed.
</Warning>

## Related Documentation

- [Breaking Changes](../changelog/upgrade-migration/breaking-changes.md) — Details of deprecated APIs and behaviors with migration advice.
- [Migration Guide](../changelog/upgrade-migration/migration-guide.md) — Step-by-step help upgrading your test code.
- [FAQ on Naming Conventions](../faq/getting-started-common-issues/installation-build-troubleshooting.md#why-should-test-suite-names-and-test-names-not-contain-underscore) — Guidelines on naming tests and avoiding conflicts.
- [Advanced Topics on Death Tests](../docs/advanced.md#death-tests) — Insights and best practices for death testing.

## Summary

The Deprecation Notices page is your essential resource to stay ahead of critical changes set to impact GoogleTest usage. By understanding deprecation timelines and following recommended updates, you ensure your tests remain stable, maintainable, and compatible with future GoogleTest versions.

Always consult this page alongside the Breaking Changes and Migration Guide documents when planning upgrades to GoogleTest in your projects.