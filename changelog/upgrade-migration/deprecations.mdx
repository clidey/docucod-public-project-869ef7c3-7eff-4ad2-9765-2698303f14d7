---
title: "Deprecations and Sunset Schedules"
description: "Lists deprecated features, APIs, and behaviors with relevant timelines and version targets for removal. Guidance is provided for alternative approaches, enabling proactive future-proofing."
---

# Deprecations and Sunset Schedules

The **Deprecations and Sunset Schedules** page provides essential information on deprecated features, APIs, and behaviors within Google Mock. Here, users will find clear timelines and version targets set for the removal of these elements. The page is designed to help developers proactively adapt their codebases by understanding what is deprecated, when support for these features will end, and how to transition to recommended alternatives.

---

## Understanding Deprecations and Sunset Schedules

Deprecations signal that certain features or APIs are discouraged from use and are planned for eventual removal. This advance notice allows developers to update or refactor their tests and mocks accordingly.

Sunset schedules outline the timeline for when deprecated functionalities will be removed from the product. Following these schedules is crucial for ensuring compatibility with future releases.

### Why Is This Important?

Managing deprecations properly avoids last-minute surprises during upgrades, reduces technical debt, and ensures tests remain maintainable and aligned with evolving GoogleMock best practices.

---

## Types of Deprecations Covered

### Deprecated Macros and Methods

- Certain macros (e.g., old-style `MOCK_METHODn` macros) are marked as deprecated in favor of the unified `MOCK_METHOD` macro with richer, clearer syntax.

### Behavioral Changes

- Changes to default mock behaviors and warning levels for uninteresting calls (such as the introduction of strictness modes like `NiceMock`, `NaggyMock`, and `StrictMock`) are highlighted.

### Internal API Adjustments

- Modifications to internal utilities or platform abstractions that might affect advanced mock customizations.

---

## Timeline and Versioning

Details on which versions mark the deprecation, the expected removal version, and any grace periods for migration are provided. Users are encouraged to plan migration efforts around these milestones.

For example:

- The old `MOCK_CONST_METHODn` and related macros have been deprecated since 2018 (GoogleMock 1.x) and require migration to `MOCK_METHOD` forms.
- Upcoming versions will begin removal of deprecated interfaces in favor of streamlined, modern mocking approaches.

---

## Migration Guidance and Alternatives

To support developers through transition periods, this page offers:

- **Recommended Replacement Features:** Guidance on using the modern `MOCK_METHOD` macro to simplify mock definitions while fully supporting qualifiers like `const`, `override`, `noexcept`, and calltype specifications.

- **Code Examples:** Practical examples demonstrate migrating legacy mock classes to current style.

- **Best Practices:** Tips on writing maintainable mocks and avoiding deprecated functionality, such as:
  - Always placing `MOCK_METHOD` declarations in the `public:` section regardless of base class method access.
  - Using typed aliases or parenthesized types to handle template arguments with commas.
  - Leveraging strictness wrappers (`NiceMock`, `StrictMock`) appropriately to balance error-checking and test flexibility.

---

## Common Pitfalls and Troubleshooting

This page also alerts users to common challenges and how to avoid them:

- **Missing `override` or `const` Qualifiers:** Omitting these in mock method signatures leads to compilation errors or masked bugs.

- **Unprotected Commas in Template Arguments:** Causing parsing failures unless properly parenthesized or aliased.

- **Unexpected Behavior Changing with Strictness Modes:** Understanding the difference between uninteresting and unexpected calls prevents test brittleness.

- **Backward Compatibility Concerns:** Recommendations ensure that migrating away from deprecated elements does not break existing test suites abruptly.

---

## Proactive Future-proofing Strategies

Users should:

1. Regularly review this page during upgrades to stay aware of impending removals.
2. Refactor mocks gradually to adopt the latest idiomatic usage.
3. Employ provided migration patterns to minimize disruption.
4. Leverage GoogleMock's built-in tools like `ON_CALL()` for default behaviors rather than heavy reliance on deprecated practices.

---

## Additional Resources

- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html): Recipes and detailed examples for defining mocks and expectations.

- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html): Core APIs and mock object management.

- [Mock Strictness Best Practices](https://google.github.io/googletest/guides/mocking-scenarios/mock-strictness-best-practices.html): Guidance on balancing mock warnings and failures.

- [Upgrade Breaking Changes & Required Actions](../upgrade-migration/breaking-changes): For critical modifications impacting upgrade paths.

- [Changelog: Full Release Notes](../release-notes/detailed-changelog): For historical context and version-specific updates.

---

## Summary

This page is a critical checkpoint to help you avoid deprecated features and stay compatible with future GoogleMock versions. It empowers you to update legacy test mocks efficiently, utilize recommended modern approaches, and align with GoogleMock’s evolving standards for mock creation, management, and expectation setting.

---

## Example Migration Snippet: Legacy to Modern

```cpp
// Legacy deprecated mock method macros (Deprecated)
MOCK_CONST_METHOD1(SomeMethod, bool(int));

// Modern recommended usage
MOCK_METHOD(bool, SomeMethod, (int), (const, override));
```

---

## Pro Tip

Always place `MOCK_METHOD` declarations in the `public` section of mock classes, regardless of the original method's access level, to ensure seamless mocking and expectation setting.

---

## Troubleshooting

If your tests break after upgrading GoogleMock:

- Check if you are still using old-style `MOCK_METHODn` macros; migrate to `MOCK_METHOD`.
- Verify all mock methods correctly use `override` and `const` as needed.
- Observe warnings or errors about uninteresting calls, and consider wrapping mocks in `NiceMock` or `StrictMock` to control strictness.
- Consult the migration guides linked above.

---

## Contact & Contribution

For issues related to deprecated features or migration help,
join the GoogleTest user community at [googletestframework@googlegroups.com](mailto:googletestframework@googlegroups.com), or contribute improvements via the GitHub repository.


---

*This documentation is part of GoogleMock’s comprehensive user guidance to facilitate smooth transitions and maintain a high-quality testing ecosystem.*
