---
title: "Breaking Changes & Migration Guidance"
description: "Summarizes any changes that may impact backward compatibility, including required standard upgrades and removed features. For each breaking change, a clear description and practical migration advice are provided for safe and predictable upgrades."
---

# Breaking Changes & Migration Guidance

This page summarizes all notable breaking changes in GoogleTest that may impact backward compatibility. For each breaking change, clear descriptions and practical migration advice are provided to ensure smooth and predictable upgrades. Understanding these helps you maintain and update your test suites safely while leveraging improvements in the framework.

---

## Understanding Breaking Changes

Breaking changes are modifications that may cause existing tests or test configurations to fail or behave differently. Such changes require you to adjust your test code or setup to comply with new expectations or APIs.

GoogleTest follows semantic versioning principles where breaking changes typically occur only in major releases. However, users should regularly consult this page before upgrading to understand if any migration steps are necessary.

---

## Known Breaking Changes and Migration Instructions

### 1. Test Suite Fixture Consistency Enforcement

**Change**: GoogleTest now enforces that all tests within the same test suite must use the same test fixture class. Mixing `TEST` and `TEST_F` macros or having multiple fixture classes with the same test suite name in different namespaces will cause test failures.

**Impact**: Previously, it was possible (though discouraged) to mix different fixtures in the same suite. Now, such mixing results in runtime errors.

**Migration**:
- Ensure that all tests in a single test suite use the same fixture class.
- Rename fixture classes if names collide across namespaces.
- Avoid mixing `TEST()` and `TEST_F()` in the same test suite.

**Example Failure Message:**

```none
All tests in the same test suite must use the same test fixture
class, so mixing TEST_F and TEST in the same test suite is
illegal.  In test suite FooTest,
test Bar is defined using TEST_F but
test Baz is defined using TEST.  You probably
want to change the TEST to TEST_F or move it to another test
case.
```

Refer to the [Test Macros and Lifecycle](../../api-reference/gtest-api-core/test-macros-and-lifecycle.md) for correct test fixture usage.

---

### 2. Parameterized and Typed Tests Instantiation Requirement

**Change**: Value-parameterized (`TEST_P`) and type-parameterized (`TYPED_TEST_P`) tests must be instantiated using `INSTANTIATE_TEST_SUITE_P` and `INSTANTIATE_TYPED_TEST_SUITE_P` macros, respectively.

Failing to instantiate or defining a parameterized test suite without test patterns (`TEST_P`) leads to an automatic synthetic test reporting that the suite is uninstantiated.

**Impact**:
- Users previously omitting instantiations will now see test failures warning about uninstantiated suites.
- Encourages proper test suite instantiation.

**Migration:**
- Add instantiation macros to all parameterized and typed tests.
- Suppress the warning only if intentional via `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` for value-parameterized tests or `GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST` for type-parameterized tests.

**Example Message:**

```none
Parameterized test suite FooTest is defined via TEST_P, but never instantiated. None of the test cases will run. Either no INSTANTIATE_TEST_SUITE_P is provided or the only ones provided expand to nothing.

To suppress this error for this test suite, insert the following line (in a non-header) in the namespace it is defined in:

GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST(FooTest);
```

See the documents on [Value and Type-Parameterized Tests](../../api-reference/gtest-api-core/value-and-type-parameterized-tests.md) and [Advanced Topics](../../docs/advanced.md#value-parameterized-tests) for details.

---

### 3. Assertion Macro Argument Constraints

**Change**: Some assertion macros restrict their usage depending on function return types and contexts.

For example:
- `ASSERT_*` macros can only be used in void-returning functions.
- Fatal assertions cannot be used in constructors/destructors (compile error).

**Impact**:
- Tests using fatal assertions in constructors or non-void functions may no longer compile.

**Migration:**
- Move fatal assertions out of constructors and destructors into `SetUp()` / `TearDown()` methods.
- For functions with non-void return types, avoid fatal assertions or refactor methods to return `void` and use out parameters.

Refer to [Advanced GoogleTest Topics](../../docs/advanced.md#assertion-placement) and [FAQ](../../docs/faq.md#My-compiler-complains-void-value-not-ignored-as-it-ought-to-be) for guidance.

---

### 4. Deprecated Macros and Renamings

**Change**: Some older macros have been deprecated in favor of newer naming conventions.

Examples include:
- `INSTANTIATE_TEST_CASE_P` is deprecated; use `INSTANTIATE_TEST_SUITE_P` instead.
- `TYPED_TEST_CASE` replaced by `TYPED_TEST_SUITE`.

**Impact**:
- Continued use of old macros will generate warnings.

**Migration:**
- Update all test code to use new macro names.

See [GoogleTest Primer](../../primer.md) and GoogleTest API Reference for up-to-date macros.

---

### 5. Disabled Tests Behavior

**Change**: Disabled tests (prefixed by `DISABLED_`) are excluded from execution but still compiled.

GoogleTest will print warnings if disabled tests are present unless run explicitly.

**Impact**:
- Disabled tests are no longer silently ignored; warnings encourage timely fixes.

**Migration:**
- Remove or fix disabled tests promptly.
- Use `--gtest_also_run_disabled_tests` flag to run disabled tests when needed.

Refer to the [Assertions Reference](../../api-reference/gtest-api-core/assertions-and-predicate-macros.md#temporarily-disabling-tests) for more.

---

### 6. Test Result XML and JSON Output Changes

**Change**: The structure and escaping of test results emitted in XML and JSON reports have been improved for accuracy and safety.

**Impact**:
- Custom consumers of XML/JSON output may need to adjust to stricter formatting.

**Migration:**
- Update any downstream parsers to handle reserved property keys and attribute escaping.
- Avoid using reserved XML attributes like `name`, `time`, `status` for test properties.

Refer to [Generating an XML Report](../../docs/advanced.md#generating-an-xml-report) and [Generating a JSON Report](../../docs/advanced.md#generating-a-json-report) for details.

---

## Practical Migration Tips

- **Run your test suites with verbose logging and filter flags to identify failures related to fixture class mismatches.**
- **Use GoogleTest utilities (e.g., `HasFatalFailure()`) to detect and isolate failing tests during migration.**
- **Verify your parameterized and typed tests are properly instantiated before upgrading GoogleTest.**
- **Refactor any assertions from constructors to `SetUp()` and `TearDown()` methods to ensure compatibility.**
- **Update deprecated macros for clean compilation and warning-free builds.**
- **Check any XML/JSON consumer pipeline for compatibility with new output formats and reserved test property keys.**

---

## Troubleshooting & Support 

If you encounter issues during migration:

- Consult the [GoogleTest FAQ](../../docs/faq.md) for answers to common breaking-change questions.
- Visit the [Common Installation Issues](../../getting-started/troubleshooting-support/common-issues-and-fixes.md) page for setup problems.
- Reach out to community channels as described in the [Getting Help & Community Support](../../getting-started/troubleshooting-support/community-support-channels.md).

---

## Additional Resources

- [GoogleTest Primer](../../primer.md)
- [GoogleTest API Reference](../../api-reference/gtest-api-core/test-macros-and-lifecycle.md)
- [Advanced GoogleTest Topics](../../docs/advanced.md)
- [Value and Type-Parameterized Tests](../../api-reference/gtest-api-core/value-and-type-parameterized-tests.md)
- [Assertions Reference](../../api-reference/gtest-api-core/assertions-and-predicate-macros.md)
- [Death Tests and Exception Testing](../../api-reference/gtest-api-core/death-tests-and-exception-testing.md)

---

For a comprehensive understanding of changes, always refer to the official release notes and upgrade guides corresponding to the GoogleTest version you plan to adopt.

---

*This page is part of the Breaking Changes, Deprecations & Migrations section of the changelog to aid in seamless GoogleTest upgrades.*
