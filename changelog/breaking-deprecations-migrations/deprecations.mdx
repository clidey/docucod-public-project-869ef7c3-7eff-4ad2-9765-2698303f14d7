---
title: "Deprecation Notices"
description: "Lists features, options, or APIs that are deprecated, including scheduled removal timelines and preferred alternatives. Users get advance notice and guidance on proactive migration to supported patterns."
---

# Deprecation Notices

GoogleTest and GoogleMock strive to provide stable, maintainable APIs to enable effective testing workflows. Occasionally, features, macros, or patterns are deprecated to improve the framework's clarity, maintainability, or to offer better alternatives. This page informs you about such deprecated elements, their planned removal timelines, and guidance to migrate proactively.

---

## 1. Overview of Deprecation Policy

- **Advance Notice**: We announce deprecations well before removing features to give you ample transition time.
- **Scheduled Removal**: Deprecations include a clear schedule for when the feature will be removed in a future release.
- **Preferred Alternatives**: Wherever possible, we document recommended alternatives or replacement patterns.
- **Migration Guidance**: Tips and instructions are provided to smoothly move from deprecated to current supported usage.

Using deprecated features may generate warnings or errors depending on your compiler and build configuration. We strongly encourage users to review this page regularly during upgrades.


## 2. Deprecated Features and APIs

### 2.1 Fixture Class Consistency Enforcement

- **Description**: Previously, GoogleTest allowed multiple test cases with the same name to use different fixture classes, which could cause ambiguity.
- **Deprecation**: Now, all tests within a test suite must use the same fixture class.
- **Impact**: Test suites using mixed fixtures with the same suite name will cause build or runtime errors.
- **Migration**: Consolidate tests to use a single fixture per test suite or rename test suites appropriately.

### 2.2 Mandatory Instantiation of Parameterized and Typed Tests

- **Description**: Earlier, you could define parameterized and typed tests without explicitly instantiating them.
- **Deprecation**: All `TEST_P`, `TYPED_TEST`, and `TYPED_TEST_P` test suites now require explicit instantiation using macros such as `INSTANTIATE_TEST_SUITE_P` or `INSTANTIATE_TYPED_TEST_SUITE_P`.
- **Impact**: Omitting instantiation causes your tests to not be registered, resulting in zero tests discovered and run.
- **Migration**: Ensure every parameterized or typed test suite includes the appropriate instantiation macro to avoid silent test omission.

### 2.3 Restriction on Assertion Macros in Constructors and Destructors

- **Description**: The use of fatal assertion macros such as `ASSERT_*()` and `FAIL()` inside constructors or destructors is deprecated.
- **Reason**: These macros generate `return` statements, which is invalid in constructors and destructors and causes compiler errors.
- **Impact**: Compilation failures if these macros are used directly within these special member functions.
- **Migration**: Move assertions to `SetUp()` and `TearDown()` methods or helper functions called from these methods.

### 2.4 Deprecated Macros and Patterns

- Certain older macros or testing patterns have been deprecated in favor of newer, more readable or safer constructs:
  - Use `EXPECT_THAT` with matchers instead of complex custom predicate macros.
  - Use the generic `MOCK_METHOD` macro instead of old-style `MOCK_METHODn` macros.
  - Prefer `nullptr` over `NULL` in pointer comparisons to avoid ambiguity.

### 2.5 Disabled Tests Behavior Changes

- Tests prefixed with `DISABLED_` are excluded from execution but still compiled.
- New behavior requires you to explicitly opt-in to run disabled tests with the flag `--gtest_also_run_disabled_tests`.

### 2.6 Output Format Adjustments

- The test reporting output format has evolved, improving XML and adding JSON support.
- Deprecation of outdated output formats or flags may occur;
- Refer to the latest CLI flags and environmental variables documentation to stay current.

---

## 3. Migration and Best Practices

- Regularly read release notes and changelogs before upgrading to stay aware of deprecations.
- Refactor test cases and fixtures to comply with fixture consistency requirements.
- Always provide explicit instantiations for your parameterized and typed tests.
- Avoid placing assertions inside constructors/destructors; prefer setup/teardown methods.
- Switch to modern alternatives such as `EXPECT_THAT` with matchers and `nullptr` usage.
- Use the `DISABLED_` prefix only for temporary test disabling and enable disabled tests explicitly when needed.
- Adapt to any output format changes in your CI/CD automation or reporting tools.

---

## 4. Additional Resources

- [Breaking Changes & Migration Guidance](./breaking-changes) — Detailed guidance on breaking changes.
- [Test Macros and Lifecycles](../api-reference/gtest-api-core/test-macros-and-lifecycle) — Test suite and fixture lifecycle management.
- [Assertion Macros Reference](../api-reference/gtest-api-core/assertions-and-predicate-macros) — Updated assertion macros.
- [Parameterized and Typed Tests Guide](../guides/writing-effective-tests/test-parameterization) — Proper use and instantiation.
- [GoogleTest FAQ — Test Not Discovered or Executed](../faq/troubleshooting-integration-runtime/test-not-discovered-or-executed) — Common causes and fixes.

---

<Tip>
Stay proactive with deprecation notices to avoid disruption and ensure your test suites remain robust, maintainable, and forward-compatible.
</Tip>

---

## 5. Example: Migrating Parameterized Tests to Explicit Instantiation

If you defined a parameterized test suite like this:

```cpp
class MyTestSuite : public ::testing::TestWithParam<int> {};

TEST_P(MyTestSuite, DoesThing) {
    EXPECT_TRUE(Check(GetParam()));
}
```

You must now explicitly instantiate it:

```cpp
INSTANTIATE_TEST_SUITE_P(DefaultInstantiation, MyTestSuite, ::testing::Values(1, 2, 3));
```

Neglecting this results in your tests not running, without obvious errors.

---

## 6. Frequently Asked Questions

<AccordionGroup title="Deprecation FAQs">
<Accordion title="Why does GoogleTest require fixture consistency now?">
Fixtures define the test suite’s state and setup. Mixed fixtures with same suite name introduced ambiguity and maintenance challenges. Requiring consistency improves clarity and test reliability.
</Accordion>
<Accordion title="What happens if I don't instantiate my parameterized tests?">
Your tests will not be discovered or executed, often silently. Explicit instantiation registers the test cases with the framework.
</Accordion>
<Accordion title="Why can't I use ASSERT_* macros in constructors or destructors?">
ASSERT_* generates fatal failures with return statements, illegal inside constructors/destructors. Use SetUp/TearDown methods instead for safe assertions.
</Accordion>
</AccordionGroup>

---

## 7. Release Timeline and Versioning

Deprecations are tied to planned releases. Refer to the [Version History & Release Notes](../changelog/release-highlights/version-history) for timeline details on when deprecated features will be removed.

---

## 8. Contact and Support

For concerns about deprecated features or guidance on migration, consult:

- [Getting Help & Community Support](../../getting-started/troubleshooting-support/community-support-channels)
- GoogleTest GitHub repository issues and discussions
- Community forums and mailing lists

Your feedback helps improve the framework's evolution.

---

## See Also

- [Breaking Changes & Migration Guidance](../changelog/breaking-deprecations-migrations/breaking-changes)
- [GoogleTest Primer](../overview/product-introduction/introduction-value)
- [GoogleMock Guide](../guides/getting-started/first-mock-guide)


---