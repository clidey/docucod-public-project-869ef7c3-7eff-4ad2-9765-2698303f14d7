---
title: "Deprecation Notices"
description: "Lists any features, macros, or APIs that are deprecated, indicating recommended alternatives and anticipated removal dates. Helps users future-proof their test code."
---

# Deprecation Notices

This page details features, macros, and APIs in GoogleTest and GoogleMock that have been deprecated, providing actionable guidance to users on recommended alternatives and timelines for removal. Understanding these deprecations helps you maintain future-proof and robust test code.

---

## Overview of Deprecated Features

Deprecations inform users about elements of the framework that are no longer recommended for use and may be removed in future releases. They typically indicate:

- **What is deprecated:** Specific macros, functions, or usage patterns.
- **Why it's deprecated:** Motivations such as improved designs, better alternatives, or maintained compatibility.
- **Recommended alternatives:** How to transition your test code.
- **Removal timelines:** When the deprecated element is planned to be removed (if known).

In GoogleTest and GoogleMock, maintaining clean, modern test code means keeping up with these notices and adapting your tests accordingly.

---

## Common Deprecated Items in GoogleTest and GoogleMock

### 1. Legacy MOCK_METHODn Macros

Previously, mock methods were declared using fixed-arity macros like `MOCK_METHOD0`, `MOCK_METHOD1`, etc. These macros are now **deprecated** in favor of the unified and more flexible `MOCK_METHOD` macro.

#### Deprecated usage example:

```cpp
MOCK_METHOD1(Foo, bool(int));
```

#### Recommended alternative:

```cpp
MOCK_METHOD(bool, Foo, (int));
```

#### Notes:

- The modern `MOCK_METHOD` supports const, override, noexcept, and call type qualifiers directly.
- It handles complex argument types with commas more gracefully.
- Transitioning to `MOCK_METHOD` is crucial for future compatibility.

### 2. Use of `SetArgPointee` and Action Macros without Modern Alternatives

Some older action macros or patterns may be discouraged in favor of expressive lambdas and modern action types.

For example:

- Prefer using lambdas in `EXPECT_CALL` and `ON_CALL` to define side effects and behaviors.
- When returning move-only types, avoid deprecated workarounds.

### 3. Deprecated Test Suite Naming and Filtering Patterns

GoogleTest recommends avoiding underscores (`_`) in test suite and test names due to internal naming conflicts and portability issues. Though not strictly deprecated, ignoring this guidance can cause unstable behavior.

### 4. Threading and Platform Macros

Certain macros related to platform detection or threading support might be deprecated as the framework evolves to better portable abstractions. Users should follow the latest environment detection macros in the internal headers.

### 5. Deprecation of Non-Standard or Less Portable APIs

Some internal or legacy macros and helpers that were never intended for public use have been or may be deprecated. Users should not rely on macros or functions not documented in the public API.

---

## Migration Recommendations

To adapt to deprecations and keep your tests up-to-date:

- **Always prefer `MOCK_METHOD`** over `MOCK_METHODn`. Refactor existing mock classes accordingly.
- Replace deprecated action macros with **lambda expressions** or C++ callable objects.
- Follow [Mocking Reference](../reference/mocking.md) and [gMock Cookbook](../gmock_cook_book.md) for modern mocking patterns.
- Avoid using internal macros and headers directly; trust the public API surfaces.
- Rename test suites and test names to avoid reserved underscore patterns â€” see [GoogleTest FAQ on naming](../faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore).

---

## Deprecated Macros Summary

| Deprecated Macro/Feature     | Recommended Replacement   | Notes                                    |
|-----------------------------|---------------------------|------------------------------------------|
| `MOCK_METHODn` macros         | `MOCK_METHOD` macro        | Unified syntax with better support       |
| `InvokeArgument<N>` action    | Lambda with `(*argN)(...)` | Use lambdas for clarity and flexibility  |
| Legacy action macros such as `ACTION_P` used without types | Modern lambda or callable-based actions | More type-safe and expressive             |

---

## Practical Tips for Staying Current

- Regularly check the latest GoogleTest and GoogleMock releases for deprecation updates.
- Use tools like static analyzers or compilers with deprecation warnings enabled.
- Review the [Migration FAQ](../changelog/breaking-changes-and-migration/migration-faq.mdx) for detailed upgrade paths.
- Engage with the community or browse issues if you find references to deprecated APIs.
- Plan upgrades proactively to avoid being caught by removed features.

---

## Troubleshooting Deprecated Usage

If you encounter:

- Warnings about deprecated macros in your build logs,
- Failures or compilation errors when upgrading GoogleTest or GoogleMock versions,

then:

1. Identify the deprecated usage by searching for known deprecated macros or APIs.
2. Consult the relevant documentation and migration guides.
3. Incrementally refactor the affected code using recommended replacements.
4. Verify tests continue to run and pass.

---

## Further Reading and Related Documentation

- [Mock Object Definition](../api-reference/gmock-mocking-apis/mock-object-definition.md): Definitive guide to mock declarations.
- [Mocking Reference](../docs/reference/mocking.md): In-depth on mocking macros and patterns.
- [gMock Cookbook](../docs/gmock_cook_book.md): Practical recipes for mocking, including modern best practices.
- [Migration FAQ](../changelog/breaking-changes-and-migration/migration-faq.mdx): Walkthrough for major transitions.
- [GoogleTest FAQ](../faq.md): Additional FAQs around naming, conventions, and deprecations.

---

## How This Page Fits Into the Documentation

This page helps you understand deprecated features specific to GoogleTest and GoogleMock APIs and macros, focusing on guiding users toward modern usage. It complements the release notes and migration guidance pages in the changelog and references foundational mocking and assertion documentation.

---