---
title: "Breaking Changes"
description: "Highlights any release that introduces changes incompatible with previous versions. For each breaking change, explains the impact, affected features, and high-level remediation steps."
---

# Breaking Changes

This document details the significant breaking changes introduced in various releases of GoogleTest. It is designed to help users quickly identify any updates that are incompatible with previous versions, understand their impact, and follow high-level remediation steps to upgrade smoothly.

---

## What Are Breaking Changes?

Breaking changes are modifications to GoogleTest's interfaces, behaviors, or internal mechanisms that may cause existing test code to fail to compile, behave differently, or produce different results without modification. These changes require users to adapt their code or configuration when upgrading.

---

## How to Use This Document

- **Identify Version Differences:** Review the breaking changes listed for the version you are upgrading to.
- **Understand Impact:** Examine the description to assess whether your code relies on affected features.
- **Apply Remediation:** Follow the provided migration or workaround guidance to update your tests.
- **Consult Further:** Refer to linked migration guides or detailed release notes for in-depth instructions.

---

## Breaking Changes by Release

### Release 1.17.0

- **Minimum C++ Version Requirement**
  - **Change:** GoogleTest 1.17.0 requires a minimum compiler support for C++17.
  - **Impact:** Test projects targeting older C++ standards (e.g., C++11 or C++14) will fail to compile.
  - **Remediation:** Upgrade your compiler and project settings to target at least C++17.
  - **Reference:** For supported compilers and platforms, see [Supported Platforms](docs/platforms.md).

- **Internal Port Header API Changes**
  - **Change:** The internal header `gtest-port.h` introduced or adjusted macros and features to detect platform capabilities more rigorously.
  - **Impact:** Code that previously tinkered with porting macros or build scripts defining these macros might need updates.
  - **Remediation:** Review any customizations of `GTEST_HAS_*` macros and ensure they comply with new definitions.

- **Death Test Style Default Change**
  - **Change:** The recommended default for death test style is now "threadsafe" instead of the legacy "fast".
  - **Impact:** Death tests may run slower but are more stable on multithreaded environments.
  - **Remediation:** Consider explicitly setting `--gtest_death_test_style` flag if your tests rely on the old behavior.
  - **Reference:** See [Death Tests Guide](guides/advanced-testing-patterns/death-test-guide.mdx) for configuration details.

---

## General Guidance on Breaking Changes

1. **Strict Naming Rules for Tests:**
   - GoogleTest enforces stricter naming rules for test suites and test names to avoid naming collisions and reserved identifier violations.
   - Avoid underscores (`_`) in test suite and test names as previously warned in the FAQ to prevent future conflicts.

2. **Assertion Behavior Refinements:**
   - Adjustments have been made to assertion macros to better handle pointer comparisons and type safety.
   - Prefer using `nullptr` over `NULL` in assertions for improved correctness.

3. **Thread Safety Enhancements:**
   - Increased thread-safety measures, especially around death tests and synchronization primitives.
   - If you encounter flaky or hanging death tests, review the new thread-safety defaults and adjust test isolation accordingly.

4. **Deprecations & Removals:**
   - Some legacy macros or internal API usages may have been deprecated or removed.
   - Check the linker errors or compilation warnings and replace deprecated usage with recommended alternatives.

---

## Migration Steps for Common Breaking Changes

The following provides a high-level approach to migrating your code for known breaking changes:

### 1. Upgrading to C++17

- Modify your build system config (CMake/Bazel/Makefile) to specify `-std=c++17` or equivalent.
- Ensure all dependencies and libraries used by your tests are compatible with C++17.

### 2. Adjusting for Death Test Style Changes

- Identify all death tests (`EXPECT_DEATH`, `ASSERT_DEATH`, `EXPECT_EXIT`, etc.).
- Test with the "threadsafe" style by running your test binary with:
  ```shell
  ./your_test_binary --gtest_death_test_style=threadsafe
  ```
- If performance reverts or hangs occur, optionally force the legacy style by:
  ```shell
  ./your_test_binary --gtest_death_test_style=fast
  ```
- Update test fixtures to minimize thread creation outside of death test scopes.

### 3. Compliance with Test Name Restrictions

- Ensure test suite and test names do not start or end with underscores.
- Avoid multiple underscores causing ambiguous generated test class names.
- Rename tests as necessary prior to upgrading.
- Consult the FAQ on [Naming Restrictions](docs/faq.md#why-should-test-suite-names-and-test-names-not-contain-underscore).

### 4. Remove or Update Deprecated Macros

- Replace any deprecated assertion macros with their modern equivalents.
- Remove any direct usage of internal-only macros or APIs (those ending with `_` or in internal namespaces).

---

## Additional Resources

- [Detailed Release Notes](http://github.com/google/googletest/releases) - for in-depth information on changes per release.
- [Migration Guides](changelog/breaking-changes-and-migration/migration-guides) - specific steps for upgrading.
- [FAQ](docs/faq.md) - for answers to common upgrade and usage questions.
- [Death Tests Guide](guides/advanced-testing-patterns/death-test-guide.mdx) - for managing death test related changes.
- [Supported Platforms](docs/platforms.md) - to verify environment compatibility.

---

If you experience unexpected test failures or compilation errors after upgrading, carefully consult this document and the above resources. The GoogleTest community encourages reporting issues or questions on GitHub Discussions or Issues for further assistance.