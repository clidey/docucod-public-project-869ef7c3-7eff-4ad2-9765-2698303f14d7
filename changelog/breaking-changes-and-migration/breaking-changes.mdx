---
title: "Breaking Changes"
description: "Explains significant backward-incompatible modifications across versions, such as required C++ standards changes or changes in supported platforms. Clearly flags what may require user intervention."
---

# Breaking Changes

The "Breaking Changes" page highlights significant backward-incompatible modifications that affect users upgrading between GoogleTest and GoogleMock versions. These breaking changes commonly involve requirements on C++ standards, build or platform compatibility, and runtime behavior changes that may necessitate user intervention.

---

## Introduction

When upgrading to newer versions of GoogleTest and GoogleMock, users may encounter changes that break backward compatibility. This page summarizes such changes, helping you identify what might need adjustments in your code or build environment.

Being aware of breaking changes is critical to smoothly migrate and maintain your test suites without unexpected compilation or runtime failures.

---

## Notable Breaking Changes in Recent Releases

### Mandatory C++17 Standard Requirement

Starting with version **1.17.0**, GoogleTest and GoogleMock require a compiler that fully supports the C++17 standard. This is a fundamental shift from prior versions, which allowed older C++ standards.

**Implications:**

- Your build setup must specify `-std=c++17` (or equivalent) in your compiler flags.
- Older compilers or build pipelines that do not support C++17 will fail to compile GoogleTest/GoogleMock.
- Review your compiler versions and update if necessary.

### Merging GoogleTest and GoogleMock

The frameworks have been consolidated into a single repository and release cycle. This merging results in:

- Unified header inclusion; for example, including `gmock/gmock.h` also includes GoogleTest.
- Some build system adjustments may be required to accommodate merged sources.

### Platform and Compiler Support Changes

- Some platforms and compilers might no longer be supported due to the new standard dependency.
- Threading support assumptions and platform detection macros have been updated.

Check your environment against the [Supported Platforms and Compilers documentation](https://google.github.io/googletest/faq/getting-started-faq/supported-platforms-compilers.html).

### API and Macro Behavior Changes

Occasionally, modifications to macros like `MOCK_METHOD` or new qualifiers in mocking APIs introduce changes that could break existing mock definitions, especially with complex or overloaded methods.

Examples:

- The `MOCK_METHOD` macro enforces stricter parsing rules around argument types containing commas, requiring parentheses or type aliases.
- Changes to default expectation evaluation and match precedence may affect which mock call is matched first.

Consult the [Mock Object Definition](../api-reference/gmock-mocking-apis/mock-object-definition.html) page for updated macro usage.

### Behavior on Unexpected and Uninteresting Calls

Default behaviors around unexpected mock calls and warnings for uninteresting calls have been refined. Pay attention to:

- The difference between `NiceMock`, `NaggyMock`, and `StrictMock` regarding warnings/errors on uninteresting calls.
- Changes in verbosity defaults that can affect test logging.

See the [Mock Strictness Policies](../api-reference/gmock-mocking-apis/strictness-policies.html) for behavior details.

---

## Preparing for Migration

To smooth your upgrade path:

1. **Verify C++ Standard Compatibility:**
   Ensure your build systems use C++17 or newer.

2. **Update Mock Definitions:**
   - Fix argument type parentheses or aliases in `MOCK_METHOD` as needed.
   - Review usages of mocking macros for compatibility.

3. **Adjust Platform-Specific Settings:**
   Confirm your platform and compiler are supported as listed in the platform documentation.

4. **Handle Strictness and Verbosity Changes:**
   - Adjust your mock strictness wrapper classes to control warnings.
   - Use flags like `--gmock_verbose` to fine-tune logging.

5. **Test Thoroughly:**
   Run your test suites with increased verbosity to catch unexpected behavior or failures early.

---

## Common User Actions Required

- **Recompile with C++17:** Update your compiler flags and possibly toolchain.
- **Check and Modify Mock Classes:** Adapt `MOCK_METHOD` usages per new syntax rules.
- **Review Test Logs:** Identify unexpected mock call messages that may indicate stricter behavior.
- **Explore New Features/Flags:** Utilize new API abilities and flags to adjust testing behavior.

---

## Troubleshooting and Support

If you run into problems post-update:

- Review error messages carefully for references to macro misuse or standard support.
- Refer to the [Legacy gMock FAQ](../faq/troubleshooting-advanced/mocking-edge-cases.html) for common issues around mock definitions.
- Use `--gmock_verbose=info` flag when running tests to get detailed diagnostics.
- Seek help on GoogleTest community forums or GitHub issues with detailed reproduction steps.

---

## Additional Resources

- [Installation and Supported Platforms](../getting-started/setup-basics/installation-platforms.md)
- [Mock Object Definition](../api-reference/gmock-mocking-apis/mock-object-definition.md)
- [Mocking Best Practices](../guides/real-world-patterns/mocking-best-practices.md)
- [Migrating to Newer Versions](../changelog/breaking-changes-and-migration/migration-faq.md)
- [gMock Cookbook](../docs/gmock_cook_book.md)

---

Understanding these breaking changes ensures successful upgrades and harnessing new capabilities offered by the latest GoogleTest and GoogleMock releases.

For a comprehensive history of changes including improvements and deprecations, visit the [Full Version History](../changelog/version-history-and-highlights/full-version-history.md).
