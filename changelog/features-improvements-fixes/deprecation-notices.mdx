---
title: "Deprecation Notices"
description: "Explicit notices of deprecated APIs, flags, or behaviors scheduled for removal, with suggested alternatives and timelines. Review here to proactively refactor your code and avoid future compatibility risks."
---

# Deprecation Notices

This page provides explicit notices of deprecated APIs, flags, and behaviors within GoogleTest and GoogleMock. It helps you proactively identify parts of your codebase that will be removed in future releases, guiding you towards recommended alternatives and ensuring compatibility with upcoming versions.

## Understanding Deprecation

Deprecation is a formal way to signal to you that certain features or APIs are **outdated** and should no longer be used. These features remain functional but may be removed in future versions to improve the framework's design, maintainability, or performance.

By reviewing this page regularly, you can:

- **Identify deprecated APIs and flags** before they break your builds.
- **Migrate your tests smoothly** by adopting suggested alternatives.
- **Avoid future compatibility risks** that might cause test failures or undefined behaviors.

---

## Current Deprecations and Alternatives

### 1. Use of Underscores (`_`) in Test and Test Suite Names

GoogleTest reserves the underscore (`_`) character for internal use in test suite and test names. Using underscores in test names can lead to unexpected conflicts and failures, especially if the underscore is placed at the start or end of the name, or if it appears consecutively.

**Why Avoid Underscores?**

- GoogleTest generates internal class names based on test suite and test names, often concatenated with underscores.
- Excessive or misplaced underscores can result in invalid, reserved, or ambiguous symbol names.
- This might cause your tests to **fail at compile-time or runtime** or produce confusing class name collisions.

**Recommended Practices:**

- Avoid using underscores at the start or end of test suite and test names.
- Prefer using CamelCase or other separator styles.
- Avoid consecutive underscores (`__`) anywhere in the names.

For details, see the related information in the [FAQ for Test Suite and Test Naming](../../faq/getting-started-faq/common-usage-confusion.md#why-should-test-suite-names-and-test-names-not-contain-underscore).

---

### 2. Prefer `nullptr` over `NULL` in Pointer Comparisons

While GoogleTest supports `EXPECT_EQ(NULL, ptr)` and `ASSERT_EQ(NULL, ptr)` for pointer equality comparisons, there is partial support for `EXPECT_NE(NULL, ptr)` and `ASSERT_NE(NULL, ptr)` due to C++ template limitations.

**Why Prefer `nullptr`?**

- `nullptr` is a type-safe keyword introduced in C++11, explicitly representing a null pointer.
- It avoids template meta-programming complexities and pitfalls associated with `NULL`.
- Using `nullptr` ensures your tests are clearer and more reliable.

**Examples:**

```cpp
EXPECT_EQ(ptr, nullptr);  // Preferred
EXPECT_NE(ptr, nullptr);  // Preferred
```

Avoid mixing `NULL` with `EXPECT_NE` and `ASSERT_NE` where possible.

---

### 3. Deprecated Macro Usage and Transition to Newer APIs

Some older GoogleMock macros and patterns have been superseded by newer, more robust constructs. Continue to monitor for any deprecated macros in your tests.

**For example:**

- Use `MOCK_METHOD` instead of legacy `MOCK_METHODn` macros.
- Prefer `EXPECT_CALL` and `ON_CALL` with clearly specified matchers.

Refer to the [Mocking Reference](../../api-reference/mocking-api/mocking-classes-methods.md) and the [gMock Cookbook](../../guides/mocking-patterns/defining-using-mocks.md) for up-to-date patterns.

---

## Deprecation Timeline and Migration

GoogleTest maintains backward compatibility cautiously. Deprecations are announced well in advance with: 

- Clear deprecation notices like this.
- Suggested alternatives and safer usage patterns.
- Migration guides where major changes occur.

**Migration Tips:**

1. **Audit your tests** for deprecated usage regularly.
2. **Refactor** to use recommended APIs, improving test maintainability.
3. **Validate** after migration by running your test suites fully.
4. **Stay informed** by monitoring release notes and changelogs for new deprecations.

---

## Practical Example: Refactoring Null Pointer Checks

Suppose a test uses:

```cpp
EXPECT_EQ(NULL, ptr);
EXPECT_NE(NULL, ptr);
```

To ensure future compatibility and clarity, refactor to:

```cpp
EXPECT_EQ(ptr, nullptr);
EXPECT_TRUE(ptr != nullptr);
```

This avoids issues with partial support of `NULL` in inequality checks.

---

## Troubleshooting Common Deprecation Issues

If you encounter compilation errors or unexpected behavior that might be due to deprecated features:

- **Check test and suite names**: Make sure they do not misuse underscores.
- **Review pointer comparison macros**: Replace `NULL` with `nullptr`.
- **Update mocking macros**: Use `MOCK_METHOD` in place of deprecated macros.
- **Consult migration guides**: See [Upgrade & Migration Guides](../breaking-changes-migrations/upgrade-migration-guides.md).

---

## Where to Go Next

- Review [Breaking Changes](../breaking-changes-migrations/breaking-changes.md) for detailed descriptions of incompatible changes.
- Consult [Upgrade & Migration Guides](../breaking-changes-migrations/upgrade-migration-guides.md) for step-by-step migration advice.
- Deepen your understanding of mocking patterns via the [gMock Cookbook](../../guides/mocking-patterns/defining-using-mocks.md).
- Stay current with [Recent Releases](../version-history-releases/recent-releases.md) to monitor new deprecations.

---

<Note>
Keeping your code free of deprecated features ensures the longevity and stability of your tests. Refactoring proactively avoids last-minute emergency fixes and leverages the latest improvements in GoogleTest.
</Note>