---
title: "Breaking Changes"
description: "Documented breaking changes in each release that may impact test code or integration setups. Clearly identified code shifts help you learn what requires updates and how to transition smoothly."
---

# Breaking Changes

This page systematically documents the breaking changes introduced in each release that may affect your test code or integration setup. We clearly identify modifications in GoogleTest and GoogleMock APIs and behaviors that require you to update your tests or mocks. By understanding these changes, you can transition smoothly to newer versions without surprises.

---

## What Are Breaking Changes?

Breaking changes are changes in the GoogleTest or GoogleMock frameworks that are incompatible with previous versions. They can include:

- Changed or removed APIs
- Modifications in behaviors that require test code updates
- Altered macros or convention adjustments affecting test definitions

Such changes may cause your existing tests or mocks to fail compilation or behave differently. This page helps you precisely identify those shifts and how to update your code accordingly.

---

## How to Use This Documentation

When upgrading to a new version of GoogleTest/GoogleMock, consult this page to:

- Review any breaking changes introduced since your current version
- Understand which parts of your test suites and mocks might require updates
- Find recommended migration steps or alternatives

We organize changes in reverse chronological order, starting from the latest release.

---

## Documented Breaking Changes By Version

### Sample Breaking Change: Avoid Using Underscores in TEST Suite and Test Names

**Change Context:**
GoogleTest restricts the use of underscore characters (`_`) in `TestSuiteName` and `TestName` parameters in `TEST` and `TEST_F` macros. This is due to C++ name mangling and reserved identifier rules.

**User Impact:**
- Tests with underscores at the start or end of suite or test names can cause compilation failures or name collisions.
- Having underscores anywhere in the names can lead to different tests generating identical class names, leading to undefined behavior or test failures.

**What You Should Do:**
- Avoid starting or ending `TestSuiteName` or `TestName` with underscores.
- Avoid using underscores within `TestSuiteName` and `TestName` to prevent duplicate internal class names.

**Why This Change Matters:**
It ensures consistent, valid, and collision-free generation of test classes. Violating this rule might appear to work in earlier compiler versions or GoogleTest versions but can break unexpectedly.

**Example of Problematic Code:**
```cpp
TEST(Time, Flies_Like_An_Arrow) { ... }  // May conflict method name
TEST(Time_Flies, Like_An_Arrow) { ... }  // Conflicts with above
```

**Recommended Fix:**
- Use names without underscores, or replace underscores with camel case.
- For example:
```cpp
TEST(TimeFlies, LikeAnArrow) { ... }
```

---

### Other Important Breaking Changes

While the page focuses on explicit breaking changes, consider these scenarios during upgrades:

- **Changes in Death Test Mechanics:** Adjust test suites that use `ASSERT_DEATH` or `EXPECT_DEATH` as the framework refines death test styles.

- **Default Behavior Modifications:** Updates to default behaviors of mock methods or assertions that may affect tests expecting previous defaults.

- **Assertion Macro Updates:** Macros may have nuanced changes in how they handle `NULL`, `nullptr`, or failure messaging, requiring code adjustments.

- **Mocking Strictness Adjustments:** Changes in default mock object strictness behavior, such as transitions between Naggy, Nice, and Strict mock policies.

For complete details, always review the release notes and migration guides alongside this page.

---

## Best Practices for Managing Breaking Changes

- Always pin your project to a specific GoogleTest version during active development.
- Read release notes and this breaking changes page before upgrading.
- Prefer incremental upgrades, verifying tests at each step.
- Refactor test suite and mock names to comply with updated naming rules.
- Use GoogleMock’s and GoogleTest’s debugging and verbosity flags to diagnose issues arising from changes.

---

## Troubleshooting Common Breakage Scenarios

### Compilation Fails Due to Underscore Usage

**Symptoms:**
- Compile errors regarding invalid class names or duplicate class definitions.

**Resolution:**
- Change test and test suite names to remove or relocate underscore characters.

### Unexpected Mock Behavior or Failures

**Symptoms:**
- Tests fail due to mismatched expectations or unexpected mock calls after an upgrade.

**Resolution:**
- Review changes to mock default actions and strictness.
- Verify all expected calls are properly set up.
- Adjust mock settings using `NiceMock` or `StrictMock` as needed.

### Death Tests Failing or Hanging

**Symptoms:**
- Death tests behave inconsistently, hanging or failing unexpectedly.

**Resolution:**
- Check the death test style setting (`--gtest_death_test_style`).
- Ensure the tests are running in an environment that respects the new style.
- Refactor death tests according to updated guidelines and examples.

---

## Additional Resources

- [GoogleTest FAQ](docs/faq.md): Common issues and design rationales.
- [Assertions Reference](docs/reference/assertions.md): Detailed explanations of assertion macros.
- [gMock Cookbook](docs/gmock_cook_book.md): Recipes for effective mocking.
- [Mocking Reference](docs/reference/mocking.md): Technical details for mock definitions and expectations.
- [Version History & Roadmap](changelog/release-highlights/version-history): For release-specific breaking changes and enhancements.

---

### Summary
This page equips you with precise insights into breaking changes across GoogleTest and GoogleMock releases. By following the outlined user impacts and migration advice, you’ll maintain robust and up-to-date test suites and integrations.

---

*Note: For each new release, consult accompanying release notes and upgrade guides for the latest breaking changes not yet captured here.*
