---
title: "Deprecation Notices"
description: "Centralized notices about deprecated APIs, options, or practices within GoogleTest. This resource enables developers to future-proof code and avoid obsolete features."
---

# Deprecation Notices

Keep your GoogleTest codebase robust and forward-compatible by staying informed about deprecated APIs, options, and practices. This page centralizes all deprecation notices related specifically to GoogleTest, helping developers proactively update their tests and avoid reliance on obsolete features.

---

## Understanding Deprecation in GoogleTest

GoogleTest evolves continually to improve reliability, simplify APIs, and align with modern C++ standards. Certain APIs, flags, or testing practices may be deprecated when better alternatives emerge or when compatibility with new C++ versions is enforced.

Deprecation notices are your early warning system. They help you:

- Identify APIs and options that are obsolete or planned for removal
- Plan code updates well before breaking changes take effect
- Ensure tests remain future-proof and maintainable

This page exclusively reports deprecated elements related to the GoogleTest core library APIs, flags, and conventionsâ€”not the entire GoogleMock or auxiliary components.

---

## Key Deprecated APIs and Practices

### 1. Legacy Mock Method Macros

- **Description**: Earlier GoogleMock supported `MOCK_METHODn` macros specifying the number of arguments.
- **Deprecation**: These macros are deprecated in favor of the more flexible `MOCK_METHOD` macro. The new macro accommodates complex signatures, qualifiers, and specifiers more gracefully while adhering to modern C++ standards.
- **Action**: Update mock definitions by replacing all `MOCK_METHODn` usages with the generic `MOCK_METHOD` syntax.

### 2. C++ Standard Requirement Enforcement

- **Description**: GoogleTest now strictly requires C++17 or newer for both the core library and GoogleMock.
- **Deprecation**: Support for C++11 and earlier is discontinued, affecting older build environments.
- **Action**: Ensure your build tools and environment support C++17 or later before upgrading to the latest GoogleTest releases.

### 3. Modifier Order in `EXPECT_CALL` and `ON_CALL`

- **Description**: The ordering of chained modifiers in mock expectations and default actions is now enforced strictly.
- **Deprecation**: Loose orderings that previously compiled may now trigger warnings or errors.
- **Action**: Structure chained clauses (e.g., `.With()`, `.Times()`, `.InSequence()`, `.After()`, `.WillOnce()`, `.WillRepeatedly()`, `.RetiresOnSaturation()`) exactly in the prescribed order to avoid compilation issues.

### 4. Mock Wrapper Usage Constraints

- **Description**: Wrappers such as `NiceMock`, `NaggyMock`, and `StrictMock` have updated usage constraints.
- **Deprecation**: Wrapping wrappers around other wrappers or multiple layers is discouraged and may cease working.
- **Action**: Apply wrappers only once directly on mock classes to ensure consistent behavior.

### 5. Deprecated Command-line Flags and Environment Variables

- Flags and environment variables linked to legacy features or outdated behaviors are deprecated.
- Consult the respective release notes or GoogleTest flag pages to identify current supported options.

---

## How to Use This Page Effectively

- **Monitor this page regularly** to catch announced deprecations and prepare your test code accordingly.
- **Follow migration guidance** where provided, especially for major changes like C++ standard enforcement and mock API shifts.
- **Avoid using deprecated constructs** in new tests and refactor existing tests to modern patterns.

---

## Practical Example: Migrating from `MOCK_METHODn` to `MOCK_METHOD`

Previous:
```cpp
class MyMockClass {
 public:
  MOCK_METHOD2(Foo, int(int, double));
};
```

Updated:
```cpp
class MyMockClass {
 public:
  MOCK_METHOD(int, Foo, (int, double), ());
};
```

This shift allows better support for qualifiers (e.g., `const`, `override`) and simpler syntax for complex cases like methods with reference qualifiers or exception specifications.

---

## Troubleshooting Deprecated-Related Issues

- If your build fails after upgrading, verify **compiler compatibility** and **C++ standard settings**.
- Look for **warnings about modifier order** in `EXPECT_CALL` or `ON_CALL`, and reorder clauses accordingly.
- Ensure wrappers are **not nested** and apply only once directly.
- Check the `--help` flag output or environment variables for any **flag deprecations**.

---

## Additional Resources

- [Mocking Reference](../reference/mocking.md): Detailed API documentation for mock methods, expectations, and wrappers.
- [Breaking Changes & Migration Guides](../breaking-changes-migration/migration-guides.md): Step-by-step migration tips for major upgrades.
- [Core Testing API](../api-reference/core-testing-api/test-case-framework.md): For understanding core test structure changes.
- [EXPECT_CALL and ON_CALL syntax](../api-reference/core-testing-api/expectations-invocations.md): Correct usage patterns to avoid deprecation pitfalls.

---

## Summary

Staying current with deprecation notices in GoogleTest minimizes disruptions, enhances test maintainability, and leverages the latest framework improvements securely. Use this centralized resource to make informed update decisions and keep your testing code modern, clean, and compliant.

---

*Last updated: Version tracking and notices reflect the latest official GoogleTest mainline release.*

---

## FAQ

<AccordionGroup title="Frequently Asked Questions about Deprecations">
<Accordion title="What happens if I use deprecated APIs?">
Deprecated APIs may generate compiler warnings and will eventually be removed in future releases, causing build failures. It's crucial to migrate promptly.
</Accordion>
<Accordion title="How do I check which flags are deprecated?">
Use the `--help` flag on the latest GoogleTest executable, which lists supported flags. Deprecated flags will be absent or marked.
</Accordion>
<Accordion title="Can I still build with older C++ standards?">
No, recent GoogleTest versions require C++17 or newer. Update your toolchain accordingly.
</Accordion>
<Accordion title="Are there automated migration tools?">
Currently, no official automated tools exist, but detailed migration guides provide manual instructions.
</Accordion>
</AccordionGroup>

---

## Contact and Support

For questions about deprecated features or migration assistance, consult the [GitHub issues](https://github.com/google/googletest/issues) and community forums. Contributions to help improve this documentation are welcome.

---

# Version History of Deprecations

| Version | Date       | Deprecated Feature                   | Notes and Migration Tips                       |
|---------|------------|------------------------------------|-----------------------------------------------|
| 1.12.0  | 2023-01-15 | `MOCK_METHODn` macros               | Replace with `MOCK_METHOD`. See example above.|
| 1.11.0  | 2022-09-01 | Enforced C++17 minimum standard     | Update compiler and build configs.            |
| 1.10.0  | 2022-04-10 | Modifier order in `EXPECT_CALL`    | Use prescribed order `.With().Times()...`     |
| 1.8.0   | 2021-06-30 | Nested mock wrappers disallowed     | Wrap mocks only once with NiceMock/NaggyMock etc. |

---

<Check>
Ensure your code does not rely on deprecated GoogleTest APIs or flags to maintain compatibility with future releases.
</Check>
