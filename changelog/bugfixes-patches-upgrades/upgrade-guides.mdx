---
title: "Upgrade Guides"
description: "Step-by-step advice for upgrading between versions, including prerequisite changes, recommended workflows, and post-upgrade verification tips. Designed to help users avoid common pitfalls and streamline version adoption."
---

# Upgrade Guides

The **Upgrade Guides** page delivers precise, step-by-step advice to smoothly transition your projects between different GoogleTest versions. Focused specifically on upgrade procedures, this guide addresses prerequisite updates, recommended workflows for migration, and strategies for post-upgrade validation to ensure ongoing test reliability.

---

## Why Upgrade Guides Matter

In evolving software ecosystems, updating your testing framework to newer versions of GoogleTest is crucial for leveraging new features, improving performance, and maintaining security. This page guides you through upgrading without disruption or unexpected test failures.

Upgrade Guides help you avoid common pitfalls that arise during version transitions by highlighting key changes and providing practical instructions for adaptation.

---

## Preparing for an Upgrade

Before upgrading GoogleTest:

- **Check Prerequisites**: Verify your environment meets new version requirements, such as C++17 compliance, updated compiler support, and platform compatibility. These prerequisites may differ from your current version.

- **Review Breaking Changes**: Familiarize yourself with breaking changes outlined in [Breaking Changes & Migration Guidance](/changelog/breaking-deprecations-migrations/breaking-changes) to understand necessary code adjustments.

- **Update Test Macros**: Ensure the usage of test macros (e.g. `TEST()`, `TEST_F()`, `TEST_P()`, `INSTANTIATE_TEST_SUITE_P()`) align with the patterns expected by the new version. Avoid deprecated macros to prevent compilation errors.

- **Backup Existing Tests and Builds**: Before beginning the upgrade, backup your project and build artifacts to enable a rollback if needed.

---

## Recommended Upgrade Workflow

1. **Incremental Updates**: Upgrade through intermediate versions when possible instead of skipping multiple versions at once. This better isolates changes and simplifies troubleshooting.

2. **Update Build Configuration**: Modify your build scripts to use the new GoogleTest version. Depending on your build system (e.g. CMake or Bazel), update relevant configuration files as per [Integration & Build System Support](/overview/feature-overview-integration/integration-points).

3. **Adapt Test Fixtures and Suites**: GoogleTest enforces fixture consistency in test suites. Verify that all tests in a suite use the same fixture type to prevent runtime errors, as detailed in the new version’s runtime checks.

4. **Instantiate Parameterized Tests**: Make sure all `TEST_P` and `TYPED_TEST_P` suites have corresponding instantiations using `INSTANTIATE_TEST_SUITE_P` or `INSTANTIATE_TYPED_TEST_SUITE_P`. Otherwise, failures or runtime warnings will occur.

5. **Handle Deprecated APIs**: Replace deprecated APIs such as older test case macros or deprecated parameters with their modern equivalents.

6. **Run Test Suite with Verbose Output**: Enable verbose logging and test output (use flags such as `--gtest_brief=0` and `--gtest_print_time=1`) when running tests to catch subtle issues.

7. **Verify Test Results**: Confirm test outcomes remain consistent and no unexpected failures or skips occur.

8. **Address Test Failures**: If failures arise, refer to the [Troubleshooting and Common Pitfalls](/guides/integration-real-world/troubleshooting-common-issues) guide for common resolutions.

---

## Post-Upgrade Verification

- **Check Test Registration and Discovery**: Ensure all tests appear when using `--gtest_list_tests`. Missing tests may indicate instantiation or macro usage problems.

- **Validate Parameterized Test Instantiations**: Review that all value- and type-parameterized tests run correctly, with no warnings about uninstantiated tests.

- **Review Skipped or Disabled Tests**: Use the `--gtest_also_run_disabled_tests` flag temporarily to run disabled tests and verify their status.

- **Confirm Test Output Formats**: Verify that XML or JSON output reports generate correctly with the `--gtest_output` flag, as improved in recent versions.

- **Monitor for New Warning Messages**: Address any new warnings regarding test consistency, deprecated macros, or API usage.

---

## Practical Tips and Best Practices

- **Consistent Naming Conventions**: Follow GoogleTest's naming requirements for test suites and tests—avoid underscores, and differentiate typed, parameterized, and regular tests properly.

- **Proper Use of Friend Test Macros**: When testing private code, ensure `FRIEND_TEST` uses the exact same namespace and class structure as the declared code.

- **Leverage Scoped Traces**: Utilize `SCOPED_TRACE` to provide detailed context in test failure messages during upgrade validation.

- **Use Test Properties**: Record test metadata using `RecordProperty` to facilitate reporting and debugging.

- **Avoid Assertion Macros in Constructors/Destructors**: Recent versions enforce that assertion macros should not be used in test fixture constructors or destructors to prevent tricky failure cases.

---

## Common Pitfalls to Avoid

- Forgetting to instantiate parameterized or typed tests after upgrade, which causes tests not to run or synthetic failures.

- Mixing `TEST()` and `TEST_F()` in the same test suite with different fixtures, which is disallowed.

- Using deprecated macros or APIs from prior versions without updating them.

- Skipping `testing::InitGoogleTest()` in your main function leads to ignored flags and runtime issues.

- Assuming the default output flags remain unchanged; recent versions have enhanced output formatting and behavior.

---

## Sample Upgrade Scenario

Suppose you are upgrading from version 1.15.x to 1.17.x:

- Verify your project is using C++17 or later as the minimum standard.
- Replace `INSTANTIATE_TEST_CASE_P` with the new `INSTANTIATE_TEST_SUITE_P` macro.
- Add explicit instantiations for `TEST_P` and `TYPED_TEST_P` suites if missing.
- Confirm that no tests mix `TEST` and `TEST_F` macros improperly.
- Run your test binary with `--gtest_list_tests` to confirm all tests are discoverable.
- Use `--gtest_output=xml` to verify proper XML reports are created.
- Address any deprecation warnings or errors during compilation.
- Run tests repeatedly (using `--gtest_repeat`) to check test stability post-upgrade.

---

## Troubleshooting Upgrade Issues

If you encounter upgrade challenges:

- Consult [Breaking Changes & Migration Guidance](/changelog/breaking-deprecations-migrations/breaking-changes) for exact impact details.
- Review [Bug Fixes & Patch Releases](/changelog/bugfixes-patches-upgrades/bug-fixes-patches) for recent fixes that may improve compatibility.
- Use detailed failure messages and [`SCOPED_TRACE`](docs/reference/testing.md#SCOPED_TRACE) to localize the issue.
- Engage the community via [Getting Help & Community Support](/getting-started/troubleshooting-support/community-support-channels).

---

## Additional Resources

- [GoogleTest Primer](docs/primer.md): For foundational knowledge on writing tests.
- [Feature Highlights & Integration Points](/overview/feature-overview-integration/integration-points): To adapt build configurations.
- [Parameterized and Typed Tests](docs/reference/testing.md#TEST_P): To master test parameterization updates.
- [Test Macros and Lifecycles](api-reference/gtest-api-core/test-macros-and-lifecycle): Detailed reference for macros relevant to upgrades.
- [Assertions and Predicate Macros](api-reference/gtest-api-core/assertions-and-predicate-macros): To verify assertion compatibility.

---

## Final Checklist Before Completing the Upgrade

- Have you updated your build environment for new prerequisites?
- Are all your tests discovered and runnable without errors?
- Did you update all test macro usages and instantiate parameterized tests?
- Have you tested your test suite with various flags for thorough validation?
- Have you reviewed logs and addressed any warnings or errors related to upgrade?

Following these steps ensures your GoogleTest usage transitions smoothly to the latest version, enabling you to leverage its full potential reliably.

---

_For complete upgrade history and version-specific notes, refer to the [Version History & Release Notes](/changelog/release-highlights/version-history) page._