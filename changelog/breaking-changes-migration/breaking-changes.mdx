---
title: "Breaking Changes"
description: "A curated list of changes that may require user intervention due to altered APIs, removed features (such as minimum C++ standard version increases), or changed behaviors. Provides context, examples, and recommended actions for impacted users."
---

# Breaking Changes

GoogleTest's **Breaking Changes** page provides a curated and detailed overview of modifications in the framework that require explicit user attention. These changes often affect test code behavior due to altered APIs, removed or adjusted features, or changes in default behaviors. Understanding these changes is critical to ensure smooth upgrades and prevent unexpected test failures.

---

## What You Will Find Here

This page is your go-to resource for all breaking changes that might impact your existing GoogleTest tests or setup. It offers:

- **Contextual Explanation**: Why a change was made and its impact on test code.
- **Concrete Examples**: Clear usage examples illustrating the before and after effects.
- **Recommended Actions**: Guidance on how to adapt your tests or configurations to accommodate the change.

By focusing strictly on changes that are user-facing and potentially disruptive, this page helps you prepare and adjust your test suites effectively when upgrading GoogleTest.

---

## Why Breaking Changes Matter

In evolving software projects like GoogleTest, minor internal tweaks seldom require users to modify their tests. However, breaking changes impose tangible effects such as:

- API modifications that may cause compilation or runtime errors.
- Feature removals that alter the minimum compiler or language standard requirements.
- Changes in assertion behavior that can lead to differing failure patterns.

Failures or issues arising from unacknowledged breaking changes can be challenging to diagnose. This page is designed to spotlight these changes upfront so you are never caught off guard.

---

## Illustration of a Common Breaking Change: Minimum C++ Standard Upgrade

An example of a breaking change is the adjustment of the minimum supported C++ standard version. For instance, past versions required C++11 or C++14, but a recent major release now mandates C++17 or later. This means your build environment and compilation flags must be updated accordingly.

### What this means for you:

- Tests and code using deprecated language features may fail to compile.
- Your build configurations (Makefiles, CMakeLists, Bazel files) must be updated to reflect the new language standard requirement.

### Recommended action:

- Confirm your compiler supports C++17.
- Update your project's compilation flags, e.g., add `-std=c++17` in GCC/Clang or corresponding MSVC flags.
- Rebuild GoogleTest and all dependent tests.

---

## Handling API Changes and Removed Features

GoogleTest's public API is stable, but occasionally functions or macros may be deprecated or removed. This page documents such changes explicitly, for example:

- Renaming or removal of certain test macros or flags.
- Changes in expectations for test suite naming conventions.

You will find:

- Descriptions of the replaced or removed APIs.
- Code snippets showing the correct updated usage.
- Suggestions for migration paths.

---

## Changes Affecting Test Behavior

Some breaking changes do not just affect build or APIs but alter test execution behavior. Examples include:

- Modified way death tests are run or restrictions on thread usage within them.
- Enforcement of consistent use of fixtures within test suites.
- Restrictions or warnings related to underscore usage in test and suite names.

The consequences of ignoring such changes include unexpected failures or test skips. This documentation offers insights into these new behaviors and advises on how to ensure your tests comply.

---

## Examples of Common User-Impacting Changes

- **Test Suite Fixture Consistency Enforcement**: All tests in the same test suite must use the same test fixture class. Mixing `TEST` and `TEST_F` or using different fixture classes causes runtime errors. Fix this by unifying the fixture class used or separating tests into different suites.

- **Death Test Suite Naming**: Suites containing death tests should end with the suffix `DeathTest` to ensure correct execution order and thread-safe handling.

- **Disallowed Underscore Usage**: Test suite and test names cannot start or end with underscores, and excessive underscore use in names may cause name conflicts due to internal class name mangling. Rename tests to avoid such cases.

- **Default Death Test Style Change**: The recommended death test style has shifted towards `threadsafe` for improved stability in multithreaded environments, though it may slow down runtime.

---

## Step-by-Step User Guidance for a Breaking Change

To illustrate, here is a common flow you can follow upon reading a breaking change notice on this page:

<Steps>
<Step title="Identify the Affected Tests or Features">
Analyze which of your tests or build configurations relate to the deprecated or changed API or feature.
</Step>
<Step title="Consult the Provided Example">
Review included code snippets showing before and after usage patterns to clarify what needs updating.
</Step>
<Step title="Update Your Code or Configuration">
Modify your test code, build files, or test naming conventions as recommended.
</Step>
<Step title="Run and Validate Tests">
Rebuild your project and run your tests fully to ensure compatibility.
</Step>
<Step title="Troubleshoot or Seek Help">
If problems persist, consult related documentation or community resources provided in the summary section.
</Step>
</Steps>

---

## Troubleshooting Common Issues with Breaking Changes

- **Compilation Errors After Upgrade**
  - Cause: API removals or changes.
  - Solution: Adjust code to new API or restore compatibility martially for transition.

- **Unexpected Test Failures**
  - Cause: Behavioral changes in assertions or test execution.
  - Solution: Review failure messages in detail, use `SCOPED_TRACE` for diagnostics, compare old and new behavior.

- **Runtime Errors Due to Fixture Mix-up**
  - Cause: Mixing test fixture types within a test suite.
  - Solution: Normalize the fixture usage or split the suite.

- **Death Test Failures or Hangs**
  - Cause: Incompatible death test style or threading issues.
  - Solution: Adjust death test style to `threadsafe`, simplify threading in death tests.

---

## When to Refer to This Page

Each time you update your GoogleTest version, check this page to:

- Verify if the new version includes any breaking changes.
- Understand the nature and scope of the changes.
- Plan and execute necessary modifications in your project.

Ignoring these changes can lead to challenging debugging sessions and delayed development.

---

## Further Assistance and References

For deeper guidance, consult these related resources:

- [GoogleTest Primer](https://google.github.io/googletest/primer.html) — Get started with test writing.
- [Assertions Reference](reference/assertions.md) — Understand assertion behavior and macros.
- [Advanced GoogleTest Topics](docs/advanced.md) — Explore advanced usage and test management.
- [Migration Guides](changelog/breaking-changes-migration/migration-guides) — Step-by-step upgrade instructions.

Additionally, engage with the community through GitHub and forums for collaborative support.

---

_Last updated for GoogleTest version 1.17.0 and later._