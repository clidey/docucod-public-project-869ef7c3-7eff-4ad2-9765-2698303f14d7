---
title: "Deprecation Notices & Forward Guidance"
description: "Lists features or APIs that are planned for deprecation or have been recently deprecated. Provides advance warning of upcoming changes and advice on proactive code adaptation."
---

# Deprecation Notices & Forward Guidance

This page provides timely and critical information about features or APIs within GoogleTest and GoogleMock that are planned for deprecation or have recently been deprecated. By consulting this resource, you gain advance warnings about upcoming changes, enabling you to adapt your test code proactively and maintain compatibility in your projects.

---

## Purpose of Deprecation Notices

GoogleTest and GoogleMock evolve continuously to improve functionality, reliability, and usability. Occasionally, older APIs or features become outdated, replaced by better alternatives or removed to reduce maintenance overhead. This page is your dedicated source to:

- Identify deprecated features affecting mocking, assertions, or configuration.
- Understand timelines for removals or behavior changes.
- Learn recommended migration strategies and alternatives.
- Avoid surprises during library upgrades by preparing code ahead.


## Understanding Deprecation in GoogleTest and GoogleMock

Deprecation typically precedes removal and signals that a feature:

- May be unsupported in future releases.
- Could exhibit reduced functionality.
- Should be replaced or refactored in your test code.

GoogleTest also follows semantic versioning principles and clearly communicates breaking changes alongside deprecation notices to facilitate smooth migration.


## Commonly Deprecated Features and APIs

### GoogleMock Mock Methods and Macros

Some older macros and mocking patterns have been superseded by improved APIs:

- **Old-Style `MOCK_METHODn` Macros**
  - These macros (`MOCK_METHOD1`, `MOCK_CONST_METHOD1`, etc.) remain supported but have been largely replaced by the unified `MOCK_METHOD` macro.
  - Users are encouraged to migrate to `MOCK_METHOD` for clearer syntax and enhanced support, such as handling move-only types. 
  - Migration involves updating macro calls while preserving method signatures.

<CodeGroup>
```cpp
// Old style
MOCK_METHOD1(Foo, bool(int));

// New style
MOCK_METHOD(bool, Foo, (int));
```
</CodeGroup>

### Uninteresting Call Handling and Mock Strictness Modes

- The default behavior warns on uninteresting calls (method calls without expectations).
- Users can suppress warnings with `NiceMock` or escalate them to errors with `StrictMock`.
- Migrating toward `NiceMock` is usually recommended to reduce noise, whereas `StrictMock` should be used sparingly.

Refer to [Strictness Modes & Behaviors](https://github.com/google/googletest/blob/main/api-reference/gmock-mocking-framework/strictness-modes-and-behaviors.md) for details.

### Move-only Types in Mock Methods

- Early GoogleMock versions had limited support for move-only types such as `std::unique_ptr`.
- Modern versions fully support mocking methods that accept or return move-only types using `MOCK_METHOD`.
- Codebases relying on legacy workarounds should migrate to the new pattern to benefit from improved compiler diagnostics and runtime behavior.

### Expectation Syntax Enforcement

- Some expectation chaining and semantic rules have tightened.
- Code using deprecated chaining patterns (e.g., multiple expectations with the same arguments without sequences) might require refactoring.
- Newer versions enforce ordering and stricter match validation to improve test reliability.

### Legacy Macros and API Removal Timeline

- Deprecated macros and APIs will be removed in upcoming major releases.
- The deprecation schedule allows developers to update their tests in advance.
- Stay aligned with the [Release History](https://github.com/google/googletest/blob/main/changelog/release-history/full-version-history.md) and [Breaking Changes](https://github.com/google/googletest/blob/main/changelog/breaking-changes-upgrade/breaking-changes.md) for exact timelines.


## Proactive Migration Recommendations

Plan your migration strategically:

- Replace old `MOCK_METHODn` macros with the newer `MOCK_METHOD` syntax.
- Use `ON_CALL` for specifying default mock behavior and `EXPECT_CALL` only when verifying specific calls.
- Utilize `NiceMock` to reduce warnings from uninteresting calls during initial migrations.
- Refactor tests that rely on deprecated expectation chaining ensuring correct ordering and cardinality.
- Update any code using deprecated APIs by consulting the [Upgrade Instructions](https://github.com/google/googletest/blob/main/changelog/breaking-changes-upgrade/upgrade-instructions.md).


## How This Page Fits Into Documentation

- Complements the detailed [Breaking Changes & Deprecations](https://github.com/google/googletest/blob/main/changelog/breaking-changes-upgrade/breaking-changes.md) page by focusing on forward warning.
- Supports upgrade workflows outlined in [Upgrade Instructions](https://github.com/google/googletest/blob/main/changelog/breaking-changes-upgrade/upgrade-instructions.md).
- Helps maintain stable test suites alongside [Latest Release Notes](https://github.com/google/googletest/blob/main/changelog/release-history/latest-release-notes.md).


## Troubleshooting Deprecated Feature Issues

If you encounter compilation errors, warnings, or unexpected test failures after upgrading:

- Verify your mocks are using the current recommended macros.
- Check that the mock strictness levels (`NiceMock`, `NaggyMock`, `StrictMock`) are applied consistently.
- Review your `EXPECT_CALL`/`ON_CALL` usage for adherence to the new syntax and order constraints.
- Use verbose logging (`--gmock_verbose=info`) to trace mock call matching and detect deprecated usage.
- Consult the [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md) and [gMock Cookbook](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md) for up-to-date usage patterns.


## Summary

The "Deprecation Notices & Forward Guidance" page is your go-to resource for upcoming removals and modifications within GoogleTest and GoogleMockâ€™s core APIs. By regularly reviewing this page, you ensure your test code remains robust, maintainable, and ready for future versions with minimal disruption.

---

## Additional Resources

- [Breaking Changes & Deprecations](https://github.com/google/googletest/blob/main/changelog/breaking-changes-upgrade/breaking-changes.md)
- [Upgrade Instructions](https://github.com/google/googletest/blob/main/changelog/breaking-changes-upgrade/upgrade-instructions.md)
- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md)
- [gMock Cookbook](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md)
- [Latest Release Notes](https://github.com/google/googletest/blob/main/changelog/release-history/latest-release-notes.md)

---

<Tip>
Stay proactive: Address deprecations early in your development cycle to maintain smooth upgrades.
</Tip>

<Warning>
Avoid using deprecated macros and old mocking styles to prevent fragile tests and future breakages.
</Warning>

<Check>
Ensure your codebase compiles cleanly with the latest version warnings enabled.
</Check>

<Info>
Leverage the detailed upgrade guides and migration instructions linked above when adapting your code.
</Info>
