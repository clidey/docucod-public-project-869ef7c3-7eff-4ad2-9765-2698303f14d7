---
title: "Bug Fixes"
description: "A categorized list of bug fixes shipped with each release, helping users quickly determine whether known issues affecting their workflow have been resolved."
---

# Bug Fixes

This page provides a clear, categorized overview of all bug fixes released in each version of GoogleMock. It is designed to help users quickly identify if a fix is relevant to issues they have encountered and understand the resolution implemented.

---

## Recent Bug Fixes

### Version 1.17.0 (Released on [Date Placeholder])

- **Compilation Errors on MSVC with Large Mock Classes**
  Fixed an issue where Microsoft Visual C++ ran out of memory when compiling very large mock classes, especially when the `/clr` compiler flag was enabled. The fix reduces compile-time overhead by deferring constructor and destructor generation.

- **Warnings with Const Parameters (MSVC)**
  Resolved MSVC warnings C4301 and C4373 triggered by mock methods using const parameters. Recommend removing top-level const on parameters as it is ignored and can cause compiler confusion.

- **Mocking Methods with Move-Only Types**
  Improved support for mock methods accepting and returning move-only types (`std::unique_ptr`), ensuring seamless mocking without requiring legacy workarounds.

- **Uninteresting Function Call Messages**
  Addressed misleading warnings when mock methods without `EXPECT_CALL` were invoked by clarifying the message and improving verbose logging with `--gmock_verbose=info`.

- **Sticky Expectations and Retiring**
  Fixed subtle issues with expectations not retiring properly after saturation, helping avoid confusing duplicate failure messages.

---

## Common Categories of Bug Fixes

### Compiler and Build Issues
- Fixes for warnings and errors particularly on MSVC for mock class compilation.
- Reduced memory usage and compile times by separating heavy mock class constructor/destructor implementations.

### Mocking Behavior Improvements
- Enhanced support for mocking move-only types and templates.
- Correct handling of overloaded and const-qualified mocked methods.
- More explicit expectation matching order and precedence, including better handling of sticky expectations and retirement.

### Diagnostic and Logging Enhancements
- Improved verbosity controls and clearer messages to assist debugging mock expectation failures.
- Stack trace improvements on unexpected mock calls.

### Thread Safety and Multi-threading
- Strengthened support for multi-threaded tests ensuring actions execute in the thread invoking the mock.

---

## Practical Recommendations in Light of Bug Fixes

- When defining mock methods with const parameters, especially on MSVC, remove unnecessary top-level const qualifiers to suppress warnings.
- Use `RetiresOnSaturation()` to ensure expectations retire properly and avoid confusing repeated error messages.
- Enable `--gmock_verbose=info` during test debugging to get detailed trace of mock calls and expectation matching.
- For mocking move-only types such as `std::unique_ptr`, use lambdas or compatible `WillOnce` actions instead of `Return(std::move(...))` repeatedly.
- Separate the definitions of mock class constructors and destructors into `.cc` files to improve compile times and reduce memory pressure.

---

## Troubleshooting Fixes

If you encounter unexpectedly duplicated failure messages in your tests or confusing uninteresting call warnings, these issues have been addressed in recent versions. Updating should improve diagnostics and reduce noise.

---

## Credits

GoogleTest and GoogleMock contributors who reported issues and provided patches for these critical bug fixes.

---

## Related Resources

- [gMock Cookbook](gmock_cook_book.md): Detailed recipes and techniques to overcome mocking challenges.
- [Mock Strictness Wrappers](api-reference/mocking-framework/mock-strictness-wrappers.md): Manage uninteresting versus unexpected call behaviors.
- [FAQ: Mocking Pitfalls and Edge Cases](faq/troubleshooting/mocking-edge-cases-faq.mdx): Dive deeper into common issues and their resolutions.
- [Getting Started with Mocking](guides/get-started/mocking-basics.mdx): Understand basics that help avoid common errors.

---

## How to Confirm Fixes

- Review your test builds for resolved compiler warnings and errors after upgrading.
- Observe test output to verify elimination of misleading uninteresting call warnings and duplicate failure logs.
- Test mocking of move-only types with the new capabilities.
- Leverage detailed verbose logging to ensure expectation matching is performing correctly.

---

## Additional Notes

- These fixes reinforce the philosophy that mock expectations should be precisely controlled.
- Avoid over-specifying your mocks to reduce brittle tests.
- When dealing with legacy warnings (e.g., MSVC-specific const parameter issues), apply suggested workarounds until all environment components are updated.

---

For comprehensive understanding and upgrade paths, consult the [Migration & Upgrade Guide](changelog/upgrade-guidance/migration-upgrade.mdx) and the [Breaking Changes Overview](changelog/upgrade-guidance/breaking-changes.mdx).


---