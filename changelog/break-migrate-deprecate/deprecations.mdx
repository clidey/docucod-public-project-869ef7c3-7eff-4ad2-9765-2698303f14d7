---
title: "Deprecations and End-of-Life Notices"
description: "Tracks deprecated features, APIs, or behaviors, along with scheduled removal timelines and recommended alternatives so users can proactively update their codebases."
---

# Deprecations and End-of-Life Notices

This documentation page provides a comprehensive overview of features, APIs, and behaviors that have been deprecated or scheduled for removal in GoogleTest and GoogleMock. By tracking these deprecations, users can proactively update their codebases, avoid compatibility issues, and adopt recommended alternatives to maintain test suite robustness.

---

## 1. Overview of Deprecations

GoogleTest follows a clear policy for deprecating features and APIs. This ensures that older, less optimal, or potentially problematic functionalities are phased out in a controlled manner. The *Deprecations and End-of-Life Notices* page serves as a central source of truth for all such changes.

Users should consult this page regularly to:

- Stay informed about features that are deprecated.
- Understand the timelines for removals.
- Learn about recommended alternatives or migration paths.
- Avoid using features slated for removal in upcoming releases.

---

## 2. Deprecation Timeline and Removal Schedule

Deprecations are communicated well in advance, allowing ample time for migration:

- **Announcement Phase**: A feature is marked deprecated in documentation and warnings.
- **Grace Period**: The deprecated feature remains supported but generates warnings.
- **Removal Phase**: The feature is removed in a major or minor release as announced.

This staged approach helps maintain backward compatibility and minimizes disruption.

### Recommended User Actions

- Audit tests and test utilities periodically for any use of deprecated features.
- Prioritize updating code that uses deprecated APIs to newer alternatives.
- Monitor release notes and changelogs for upcoming removals.

---

## 3. Common Deprecated Features and Alternatives

While the entire GoogleTest and GoogleMock APIs evolve over time, certain patterns emerge in deprecations:

### 3.1 Legacy Macros and APIs

Some older macros and test constructs have been deprecated in favor of more robust, type-safe, or expressive alternatives. For instance:

- Legacy mock method macros preceding `MOCK_METHOD` are deprecated.
- Certain internal macros and undocumented flags may be disabled.

**Alternative**: Use the current recommended macros such as `MOCK_METHOD` and public API functions documented in the [Mock Object Definition](../api-reference/mocking-apis/mock-object-definition.md) and [Assertions API](../api-reference/core-testing-apis/assertions-api.md).

### 3.2 Removal of Access Level Flexibility

Access level allowances for mock method declarations have been standardized.

**Alternative**: Always declare `MOCK_METHOD`s in `public:` sections regardless of access level in the base class.

### 3.3 Stricter Call Ordering Enforcement

Older versions with relaxed call order checks have given way to stricter enforcement, improving test reliability.

**Alternative**: Utilize sequences (`InSequence`) and expectations ordering features fully as described in the [Setting Expectations & Call Strictness](../api-reference/mocking-apis/expectations-and-strictness.md).

### 3.4 Deprecation of Some Flag Defaults

Certain internal or default flag values controlling test behavior, especially related to death tests and threading, may be changed or removed.

**Alternative**: Set explicit flag values in code or via command-line flags. Consult the [Advanced Guide](../guides/advanced-and-integrations/advanced-mocking-patterns.md) for best practices.

---

## 4. Migration and Upgrade Guidance

To ease migration from deprecated features, GoogleTest provides comprehensive upgrade guides linked here:

- **[Breaking Changes](../changelog/break-migrate-deprecate/breaking-changes.md)** - Details on incompatible changes with migration instructions.
- **[Upgrade & Migration Guides](../changelog/break-migrate-deprecate/upgrade-guides.md)** - Step-by-step guidance for updating code.

### Best Practices for Updating

- Refactor mock classes and method declarations to comply with the latest macro requirements.
- Use modern assertions and avoid deprecated macros.
- Adjust test sequences and expectations to conform to stricter ordering policies.
- Remove any deprecated build configurations or flags.

---

## 5. Example: Migrating Mock Method Declarations

If your existing mock class uses legacy macro styles or declares mock methods in `protected` or `private` sections, update as follows:

```cpp
// Old-style (Deprecated)
class MockFoo : public Foo {
protected:
  MOCK_METHOD1(DoSomething, bool(int arg));
};

// New-style (Recommended)
class MockFoo : public Foo {
public:
  MOCK_METHOD(bool, DoSomething, (int arg), (override));
};
```

The above change avoids compilation issues and prepares your code for future releases.

---

## 6. Common Pitfalls and Troubleshooting

### Using Deprecated Features Despite Warnings

Ignoring deprecation warnings can result in compilation failures or subtle test failures after upgrading.

**Tip:** Enable compiler warnings and review test compilation logs carefully.

### Breaking Changes in Minor Versions

Some seemingly minor releases may introduce breaking changes related to deprecations.

**Tip:** Always review the release notes before upgrading test dependencies.

### Build and Link Issues

Deprecated macros or changed configuration flags might cause build errors.

**Tip:** Consult the [Installation and Setup](../guides/getting-started/installation-setup.md) guide and troubleshooting documentation.

---

## 7. Additional Resources

- **Release History & Highlights:** [Release Overview & Timeline](../changelog/release-history/release-summary.md) — Understand the historical context of deprecations and removals.
- **Mock Object Definition:** [Mocking Reference](../api-reference/mocking-apis/mock-object-definition.md) — For current best practices in mock definitions.
- **Setting Expectations:** [Expectations and Strictness](../api-reference/mocking-apis/expectations-and-strictness.md) — For call order and cardinality handling.
- **Actions and Return Behaviors:** [Actions Reference](../api-reference/mocking-apis/actions-and-return-behaviors.md) — Learn about modern mock actions.
- **GoogleMock Cookbook:** [gMock Cookbook](../docs/gmock_cook_book.md) — Practical recipes and examples.

---

## 8. Staying Up-To-Date

GoogleTest development is active, with occasional deprecations to improve the framework. To remain current:

- Subscribe to release announcement channels.
- Regularly review the [Changelog](../changelog/release-history/new-features.md).
- Participate in community discussions via GitHub and Google Groups.

Proactive maintenance reduces upgrade effort and ensures the best testing experience.

---

## 9. Summary

Keeping test code free from deprecated features maintains stability and compatibility. GoogleTest provides clear communication, migration paths, and alternative APIs to smooth the transition process. Users should make regular updates an integral part of their testing lifecycle.


<Tip>
Stay proactive in updating tests by regularly consulting this page and related migration guides. Ignoring deprecated features increases technical debt and risks future failures.
</Tip>

<Note>
Deprecated features typically continue to work for several releases but might produce warnings. Migration should be done as early as possible after deprecation announcements.
</Note>

<Warning>
Do not ignore compiler or runtime warnings about deprecated features. These warnings are your early notice to refactor and future-proof your tests.
</Warning>

---

## 10. Reporting Issues or Contributing

If you encounter unclear deprecations or require assistance:

- File issues in the [GoogleTest GitHub repository](https://github.com/google/googletest).
- Consult community support channels detailed in the [Community Support](../faq/integration-support/community-support.md) documentation.
- Consider contributing fixes or enhancement proposals through pull requests.

Your engagement helps keep GoogleTest reliable and relevant.

---

## 11. Document History and References

This documentation page is part of the official GoogleTest external documentation. For context, it links to:

- [Breaking Changes](../changelog/break-migrate-deprecate/breaking-changes.md)
- [Upgrade & Migration Guides](../changelog/break-migrate-deprecate/upgrade-guides.md)
- [Release Overview & Timeline](../changelog/release-history/release-summary.md)

Please refer to these for detailed version histories and specific version migration instructions.


---

*Last updated: main branch*


---