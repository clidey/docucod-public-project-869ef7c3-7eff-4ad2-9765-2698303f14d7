---
title: "Platform & Toolchain Support"
description: "Documents notable changes in officially supported platforms, compilers, and build systems. Flags any additions or removals that may affect users' environments and how to adapt."
---

# Platform & Toolchain Support Changelog

This document chronicles significant updates and modifications regarding the officially supported platforms, compilers, and build systems for GoogleTest. Understanding these changes will help you ensure your development environment remains compatible and you can smoothly adapt your build configurations as needed.

---

## 1. Supported Platforms and Operating Systems

- GoogleTest maintains compatibility across a wide array of platforms in alignment with Google's [Foundational C++ Support Policy](https://opensource.google/documentation/policies/cplusplus-support).
- Official support continues for major desktop platforms including:
  - **Linux** (including variants such as Android Linux)
  - **Mac OS X and iOS**
  - **Windows desktop** (Visual Studio environment)
  - **FreeBSD, OpenBSD, NetBSD, DragonFlyBSD, QNX, Solaris, AIX, and Haiku**
- Notably, platforms like **Fuchsia** are explicitly marked as *not* officially supported.

### Platform Compatibility Notes

- GoogleTest automatically detects platform capabilities via internal macros (e.g., `GTEST_OS_LINUX`, `GTEST_OS_WINDOWS`), enabling tailored build behavior.
- Key platform-specific features such as POSIX thread availability (`GTEST_HAS_PTHREAD`) and exception handling support (`GTEST_HAS_EXCEPTIONS`) are auto-detected, though manual overrides via compiler flags remain possible.
- Features like death test support require file system availability and certain OS support levels.
- For embedded or less common platforms lacking full POSIX or file system support, functionality may be limited or absent.

---

## 2. Compiler and Language Standard Requirements

- **C++17** is a confirmed minimum requirement for building and using GoogleTest, ensuring modern language features for robustness and maintainability.
- To guarantee this:
  - Projects using CMake should specify `set(CMAKE_CXX_STANDARD 17)` and `set(CMAKE_CXX_STANDARD_REQUIRED ON)`.
  - For non-C++ projects embedding GoogleTest, the standard can be enforced by adding compiler flags such as `-DCMAKE_CXX_FLAGS="-std=c++17"`.
- Compiler platforms and versions supported include:
  - Visual Studio (MSVC), with minimum recommended versions matching recent Visual Studio 2017 updates.
  - GCC and Clang versions supporting C++17.
- Additional compiler-specific configurations exist for managing runtime libraries on Windows, particularly:
  - The `gtest_force_shared_crt` CMake option resolves conflicts arising from static vs dynamic CRT linkage.

---

## 3. Build System Support and Updates

### CMake Integration

- GoogleTest provides a community-supported CMake build script enabling cross-platform compilation and integration.
- Recent updates emphasize building GoogleTest either standalone or as part of a larger CMake project, with recommended approaches including:
  - Using `find_package(GTest CONFIG REQUIRED)` to locate installed libraries.
  - Incorporating GoogleTest source directly via `add_subdirectory()` for consistent compiler and linker settings.
  - Utilizing CMake's `FetchContent` module (available since CMake 3.14) to automate external GoogleTest dependency download during configuration.
- Key CMake options to be aware of:
  - `BUILD_SHARED_LIBS` to choose between static or shared library builds.
  - `gtest_force_shared_crt` to match CRT linkage on Windows projects.
  - `BUILD_GMOCK` controls automatic inclusion of GoogleMock alongside GoogleTest.

### Bazel Build Enhancements

- Bazel build rules include platform constraints for OS (e.g., Windows, QNX, FreeBSD) and compiler selection (`msvc-cl`).
- Support for various dependencies like Abseil is conditionally managed via Bazel `select` expressions.
- Predefined Bazel targets for GoogleTest and GoogleMock library variants simplify incorporation:
  - `gtest` - compiles GoogleTest and GoogleMock sources.
  - `gtest_main` - provides a `main()` entry point for test executables.
- Inclusion of multiple test binaries and python tests ensure build verification across configurations.

---

## 4. Notable Flags and Compiler Tweaks

- To control threading support, the flag `-DGTEST_HAS_PTHREAD` can be set explicitly if auto-detection fails or is inaccurate.
- When linking GoogleTest as a shared library (DLL), define `-DGTEST_CREATE_SHARED_LIBRARY=1` during GoogleTest compilation and `-DGTEST_LINKED_AS_SHARED_LIBRARY=1` when compiling dependent test code.
- Macro name conflicts with other libraries can be resolved by disabling the original GoogleTest macro definitions and using prefixed names, via flags such as `-DGTEST_DONT_DEFINE_TEST=1`.

---

## 5. Deprecated and Removed Platform Support

- The project continuously deprecates older, less common platforms to maintain focus and quality.
- For details on platforms or compiler versions deprecated or removed, consult the related deprecations changelog page.

---

## 6. How to Adapt Your Environment

- **Validate your compiler:** Verify that your C++ compiler supports C++17 and exceptions.
- **Synchronize build settings:** Especially on Windows, ensure CRT linkage settings between your tests and GoogleTest match.
- **Update build scripts:** Make use of the recommended CMake options and Bazel settings to incorporate GoogleTest properly.
- **Check platform support:** Confirm your target platform is supported; adjust or patch accordingly if you rely on unsupported platforms.

---

## 7. Quick Reference Examples

### CMake Standalone Build
```bash
git clone https://github.com/google/googletest.git -b v1.17.0
cd googletest
mkdir build && cd build
cmake ..
make
sudo make install
```

### Embed GoogleTest via `FetchContent` in CMake
```cmake
include(FetchContent)
FetchContent_Declare(
  googletest
  URL https://github.com/google/googletest/archive/5376968f6948923e2411081fd9372e71a59d8e77.zip
)
set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
FetchContent_MakeAvailable(googletest)

add_executable(example example.cpp)
target_link_libraries(example gtest_main)
add_test(NAME example_test COMMAND example)
```

### Bazel BUILD Snippet
```bazel
cc_library(
    name = "gtest",
    srcs = glob([...]),
    hdrs = glob([...]),
    copts = select({":windows": [], "//conditions:default": ["-pthread"]}),
    deps = select({":has_absl": [...], "//conditions:default": []}),
)

cc_library(
    name = "gtest_main",
    srcs = ["googlemock/src/gmock_main.cc"],
    deps = [":gtest"],
)
```

---

## 8. Troubleshooting Tips

- If build errors cite incompatible compiler versions or missing C++17 support, upgrade your compiler.
- On Visual Studio, linker errors about CRT mismatches require using the `gtest_force_shared_crt` flag.
- For missing pthread support or link errors, manually specify `-DGTEST_HAS_PTHREAD=1` and ensure pthread libraries are linked.
- Macro collisions can be resolved by disabling conflicting GoogleTest macros with `-DGTEST_DONT_DEFINE_*` flags.

---

## 9. Related Documentation and Further Reading

- [Supported Platforms Overview](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md)
- [Getting Started: System Requirements](../getting-started/prerequisites-installation/system-requirements)
- [Building with CMake](../getting-started/prerequisites-installation/installation-cmake)
- [Building with Bazel](../getting-started/prerequisites-installation/installation-bazel)
- [Common Issues in Installation and Build](../faq/common-issues/installation-build-problems)
- [Breaking Changes and Migration](../changelog/upgrade-breaks/breaking-changes)

---

**End of Platform & Toolchain Support Changelog**

<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "googletest/README.md", "range": "1-180"},{"path": "googletest/test/BUILD.bazel", "range": "1-250"},{"path": "googletest/BUILD.bazel", "range": "1-170"},{"path": "googletest/include/gtest/internal/gtest-port.h","range": "1-800"},{"path": "googletest/include/gtest/internal/gtest-port-arch.h","range": "1-120"},{"path": "CMakeLists.txt","range": "1-100"},{"path": "googletest/CMakeLists.txt","range": "1-220"}]} />