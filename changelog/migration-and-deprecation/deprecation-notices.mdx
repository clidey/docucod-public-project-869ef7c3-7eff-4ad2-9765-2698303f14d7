---
title: "Deprecations & Future Removals"
description: "Advance notice and status of features scheduled for removal, with alternative recommendations and upgrade paths. This page helps teams plan migrations and adopt newer practices ahead of time."
---

# Deprecations & Future Removals

GoogleTest proactively informs you about features that are deprecated or scheduled for future removal. This page helps you anticipate changes, understand their impact on your test code, and plan your migration or update strategy accordingly.

## Overview

As GoogleTest evolves, some APIs and behaviors become outdated or superseded by better alternatives. To maintain clean, efficient, and forward-compatible test code, it's essential to be aware of these deprecations.

This document:

- Lists current deprecations notified to developers.
- Provides clear guidance on alternatives.
- Outlines timelines and conditions for future removals.
- Includes tips for a smooth transition.

## Why Deprecate?

GoogleTest deprecates features to:

- Encourage adoption of improved or safer APIs.
- Remove legacy code that complicates maintenance.
- Enhance compatibility with modern C++ standards.
- Improve performance, usability, and reliability.

## Currently Deprecated Features

### Deprecated Macros and APIs

- **`INSTANTIATE_TEST_CASE_P` and related macros:**
  - These older macros have been replaced by the newer `INSTANTIATE_TEST_SUITE_P` and associated variants for better clarity and consistency.
  - **Migration:** Replace all instances of `INSTANTIATE_TEST_CASE_P` with `INSTANTIATE_TEST_SUITE_P`.

- **Typed Test Case Macros:**
  - `TYPED_TEST_CASE`, `TYPED_TEST_CASE_P`, and `REGISTER_TYPED_TEST_CASE_P` are deprecated in favor of `TYPED_TEST_SUITE`, `TYPED_TEST_SUITE_P`, and `REGISTER_TYPED_TEST_SUITE_P` respectively.
  - **Migration:** Update your test definitions and registrations accordingly.

- **Legacy Test Case API:**
  - GoogleTest moves from `TestCase` terminology to `TestSuite` to better reflect modern testing terminology.
  - **Migration:** Modify any custom code referring to `TestCase` to use `TestSuite`.

### Naming Conventions

- Test suite and test names **should avoid underscores** (`_`). Underscores are reserved by GoogleTest for special purposes (e.g., `DISABLED_` prefix for temporarily disabling tests).
- Using underscores in test names can lead to name collisions or unexpected behaviors.
- Please rename test suites and tests to exclude underscores to avoid future issues.

### Thread Safety Flag

- The macro or flag for enabling thread safety (`GTEST_IS_THREADSAFE`) is now more rigorously detected and enforced.
- Users should avoid manually overriding this flag unless necessary for your environment.

### Deprecated Features with Alternatives

| Deprecated Feature           | Alternative/Replacement                       | Notes                                                                                     |
|-----------------------------|---------------------------------------------|-------------------------------------------------------------------------------------------|
| `INSTANTIATE_TEST_CASE_P`   | `INSTANTIATE_TEST_SUITE_P`                   | Same signature, improved naming for clarity.                                             |
| `TYPED_TEST_CASE` and friends | `TYPED_TEST_SUITE`, `REGISTER_TYPED_TEST_SUITE_P` | Modern macros with updated naming and semantics.                                          |
| `TestCase` terminology       | `TestSuite`                                  | Reflects modern testing nomenclature.                                                    |
| Usage of underscores `_`     | Avoid underscores in test/suite names        | Underscores are reserved and may cause test discovery or registration issues.            |

## Upcoming Removals

- Deprecated macros and APIs will be removed in a future major release. We strongly recommend updating your code as soon as possible.
- The legacy `TestCase` API is planned to be removed after full migration to `TestSuite`.
- Deprecated test macros in third-party tools or custom code referencing old GoogleTest APIs may break with future releases.

## Migration Tips

### How to Replace `INSTANTIATE_TEST_CASE_P`

```cpp
// Old usage
INSTANTIATE_TEST_CASE_P(MyInstantiation, MyTestSuite, testing::Values(1, 2, 3));

// New usage
INSTANTIATE_TEST_SUITE_P(MyInstantiation, MyTestSuite, testing::Values(1, 2, 3));
```

### Updating Typed Tests

Replace:
```cpp
typedef testing::Types<int, double> MyTypes;
TYPED_TEST_CASE(MyTypedTest, MyTypes);
```
with:
```cpp
using MyTypes = testing::Types<int, double>;
TYPED_TEST_SUITE(MyTypedTest, MyTypes);
```

### Rename `TestCase` to `TestSuite` in Custom Code

If you extend or interact with GoogleTest internals or have custom hooks:

- Search for `TestCase` references.
- Replace with `TestSuite`.
- Rebuild tests to ensure compatibility.

### Avoid Underscores in Names

Conform to the rule: Use only alphanumeric characters in test suite and test names. For example:

```cpp
// Prefer
TEST(MyTestSuite, DoesSomething) { ... }

// Avoid
TEST(My_Test_Suite, Does_Something) { ... }
```

## Common Pitfalls

- **Mixing old macros with new API causes unpredictable test behavior.** Always update macros consistently.
- **Using underscores in test names can break test discovery or cause conflicting class name definitions.**
- **Relying on deprecated thread safety macros or manual flags may cause build or runtime errors on new versions.**

## Checking Your Code

- Run your test binary with `--gtest_list_tests` to ensure all tests are recognized.
- Look for deprecation warnings during compilation and address them promptly.
- Use GoogleTest's recommended naming conventions to avoid conflicts.

## Additional Resources

- See [Breaking Changes & Migration Notes](./breaking-changes.md) for major API overhauls.
- Review the [Assertions Reference](../reference/assertions.md) for up-to-date assertion macros.
- Consult [Advanced GoogleTest Topics](../advanced.md) for modern test writing techniques.
- Browse the [Version History](../../changelog/release-highlights/version-history.md) for changes timeline.

## Staying Up-to-Date

GoogleTest recommends regularly updating to the latest stable release to benefit from new features, improved performance, and fixes.

Use this page as your forward-looking lens to maintain test code health and compatibility.

---

<Info>
Remember to back up your test code and perform incremental updates with comprehensive testing to avoid regressions due to deprecations.
</Info>