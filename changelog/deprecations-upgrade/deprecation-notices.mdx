---
title: "Deprecation Notices"
description: "Identifies APIs, features, and plugins marked for deprecation, with timelines and suggested alternatives for continued compatibility."
---

# Deprecation Notices

This page identifies APIs, features, and plugins within GoogleTest and GoogleMock that have been marked for deprecation or removal. It provides timelines for their deprecation and recommends alternatives to ensure continued compatibility and best practices.

---

## Purpose of Deprecation Notices

Deprecations are announced well in advance to give users ample time to migrate their code. This page helps you stay informed about deprecated functionality so you can plan upgrades and avoid using soon-to-be removed functionality.

## Key Deprecated Features and Alternatives

### Old-Style Mocking Macros

- **Deprecated:** The family of `MOCK_METHODn` macros (e.g., `MOCK_METHOD0`, `MOCK_METHOD1`) is deprecated.
- **Recommended:** Use the new unified `MOCK_METHOD` macro that supports qualifiers and better parsing.

Example future-proof syntax:

```cpp
class MockFoo {
 public:
  MOCK_METHOD(ReturnType, MethodName, (Args...), (qualifiers));
};
```

### Legacy Action Macros

- **Deprecated:** The `ACTION` and `ACTION_P` macro families used prior to C++11 feature support.
- **Recommended:** Use lambda expressions, functors, or implement the `ActionInterface` classes directly for defining custom behaviors.

Example using lambda:

```cpp
EXPECT_CALL(mock, Foo())
    .WillOnce([]() { return 42; });
```

### Non-virtual Function Mocking Patterns

- **Deprecated:** Manual delegation wrappers that mock non-virtual member functions by forwarding to separate mock methods.
- **Recommended:** Use modern gMock support for mocking non-virtual methods through templating and interface design patterns.

### Uninteresting Call Warning Behavior

- **Change:** The default warning for uninteresting mock calls remains, but you should consider using strictness modes (`NiceMock`, `StrictMock`) explicitly to control this behavior per mock.

---

## Deprecation Timeline

| Feature                      | Deprecated Since | Removal Target Version | Recommended Alternative                       |
|------------------------------|-----------------|-----------------------|----------------------------------------------|
| `MOCK_METHODn` Macros         | Version 1.10.0   | Planned Version 2.0.0  | `MOCK_METHOD` macro                          |
| `ACTION` / `ACTION_P` Macros  | Version 1.10.0   | Planned Version 2.0.0  | Lambdas, `ActionInterface`, or functors     |
| Manual Non-virtual Mocking    | Legacy          | No fixed date          | Template-based mocking patterns              |

Users are encouraged to migrate to modern alternatives promptly to avoid interrupted support.

---

## Migration Guidance

### Changing From `MOCK_METHODn` to `MOCK_METHOD`

If your mock classes use the old macros, update them as follows:

```cpp
// Old-style
MOCK_METHOD1(Foo, int(int a));

// New-style
MOCK_METHOD(int, Foo, (int a));
```

Also add qualifiers like `(const)`, `(override)`, and `(noexcept)` as needed:

```cpp
MOCK_METHOD(void, Bar, (), (const, override));
```

### Replacing `ACTION` Macros with Lambdas or Functors

Old-style:

```cpp
ACTION(Return42) {
  return 42;
}

EXPECT_CALL(mock, Foo()).WillOnce(Return42());
```

New-style:

```cpp
EXPECT_CALL(mock, Foo()).WillOnce([]() { return 42; });
```

### Refactoring Non-virtual Mocking

Replace manual delegation methods by leveraging `MOCK_METHOD` in template mock classes or interfaces. Use the specialized modern gMock recipes for mocking non-virtual methods documented in the [Mocking Cookbook](guides/getting-started/mocking-basics.md#MockingNonVirtualMethods).

---

## Best Practices to Avoid Deprecated Usage

- Always prefer the `MOCK_METHOD` macro over `MOCK_METHODn` family macros.
- Prefer lambdas or functors over `ACTION` macros for custom mock behaviors.
- Use the strictness wrappers (`NiceMock`, `StrictMock`) to control warnings for uninteresting calls.
- Avoid manual delegation wrappers for non-virtual methods; adopt template-based or interface-driven mocks.

---

## Additional Resources

- [Mocking Reference](docs/reference/mocking.md) - Comprehensive description of mocking facilities.
- [gMock Cookbook](docs/gmock_cook_book.md) - Recipes including migration from legacy patterns.
- [Legacy gMock FAQ](docs/gmock_faq.md) - Answers on common legacy issues.
- [Breaking Changes & Migration Guides](changelog/breaking-changes-migration/migration-guides.md) - Step-by-step upgrade assistance.

---

<Tip>
Watch out for compiler warnings during build indicating use of deprecated macros or patterns. Address them by migrating promptly to the recommended modern alternatives to ensure long-term support and compatibility.
</Tip>


