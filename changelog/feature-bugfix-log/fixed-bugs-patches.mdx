---
title: "Bug Fixes & Stability Patches"
description: "List of addressed defects, workarounds closed, and patches applied in recent releases. Helps users quickly verify if known issues are resolved in a version before upgrading."
---

# Bug Fixes & Stability Patches

This page details the list of defect resolutions, workarounds addressed, and patches applied in recent GoogleTest releases. It enables you to quickly verify if specific reported issues have been resolved in a particular version, helping you make informed upgrade decisions.

---

## Understanding Bug Fixes and Patches in GoogleTest

GoogleTest continuously evolves to improve stability and correctness through bug fixes and patches. These changes typically address:

- Failures or crashes experienced by users during test execution
- Incorrect behavior in test macros or test framework internals
- Issues in multi-threading or death tests
- Problems in test discovery, registration, or event listener handling
- Compatibility fixes for compilers and platforms

This page lists those fixes relevant to recent releases. It focuses on user impact, helping you identify if an issue you face has been resolved.

---

## Highlights of Recent Bug Fixes

### Fatal and Non-Fatal Failure Handling

- Corrected cases where fatal failures in test fixture constructors were not terminating tests as expected, preventing downstream segmentation faults.
- Improved propagation of fatal failures in subroutines, enabling clearer test abort behavior when an assertion fails.

### Scoped Traces and Assertion Context

- Enhanced `SCOPED_TRACE` macro to properly attach failure messages with source file locations, especially in nested and multi-threaded scenarios.
- Fixed issues with trace stacking such that failures inside loops and nested scopes correctly report contextual information.

### Death Tests Stability and Behavior

- Addressed problems related to death tests running in multi-threaded environments.
- Strengthened compatibility of death test macros (`EXPECT_DEATH`, `ASSERT_DEATH`, `EXPECT_EXIT`, etc.) to ensure reliable detection of process termination and matched output.

### Test Fixture Lifecycle and Environment Management

- Fixed unexpected behaviors when using `SetUpTestSuite()` and `TearDownTestSuite()` to share expensive resources.
- Resolved issues with global environment setup and teardown order, including proper handling during repeated test executions.

### Test Registration and Filtering

- Corrected errors caused by mixing `TEST` and `TEST_F` macros within the same test suite.
- Improved filtering logic to handle disabled tests and test sharding scenarios.

### Output and Logging

- Fixed escaped string outputs in failure messages to display correctly in both console and XML/JSON reports.
- Resolved discrepancies in printing parameterized test names, ensuring readable and unique identifiers.

---

## How to Use This Page

1. **Check your GoogleTest Version:** Knowing your version helps determine if an identified issue is resolved.
2. **Look for Your Issue:** Scan the listed bug fixes below relevant to your symptoms or failure messages.
3. **Confirm Resolution:** Review the fixed version and notes.
4. **Upgrade Guidance:** If not fixed in your current version, consider upgrading to a release where the bug is addressed.

Additionally, always consult the [Breaking Changes Overview](../breaking-changes-upgrade/breaking-changes-summary) and [Upgrade Guides & Migration Paths](../breaking-changes-upgrade/upgrade-guides) for any required steps when updating.

---

## Selected Recent Fixes by Version

### Version 1.17.0

- **Fatal failure in fixture constructor now aborts test properly.** Previously, fatal failures in constructors would allow test execution to continue unexpectedly, causing crashes.
- **ScopedTrace enhancements in multi-threaded tests.** Supports concurrent use of `SCOPED_TRACE` in multiple threads with proper aggregation of failure context.
- **Death test style default set to 'threadsafe'.** Improves robustness of death tests on multi-threaded systems.
- **Proper handling of assertion macros in constructors/destructors.** Documented and fixed limitations to avoid confusing compile errors and runtime behaviors.

### Prior Versions (Highlights)

- Fixed `EXPECT_NONFATAL_FAILURE` and `EXPECT_FATAL_FAILURE` macros to correctly detect failures spawned within threads other than the current one.
- Improved XML and JSON output formats to escape special characters correctly, ensuring tool compatibility.
- Resolved issues with `INSTANTIATE_TEST_SUITE_P` when used without corresponding `TEST_P` to avoid spurious failures.
- Addressed discrepancies in test filtering logic related to disabled tests and shard indexing.

---

## Tips for Stability

- When using `ASSERT_*` macros inside helper functions, verify usage in `void`-returning functions to avoid compilation issues.
- Use `SCOPED_TRACE` to add contextual information in tests with multiple failure points or complex call flows.
- For death tests, follow [best practices](../advanced#death-tests) and name your test suites ending with `DeathTest`.
- Regularly update to the latest GoogleTest version to benefit from ongoing fixes and enhancements.

---

## Troubleshooting Common Issues

If you encounter problems that resemble those fixed in recent releases:

- Ensure you have the correct compiler flags and build environment set up.
- Verify that your test suite names and test names follow naming conventions (avoid underscores as prefixes/suffixes).
- Use `GTEST_SKIP()` if test setup conditions are unmet to avoid misleading failures.
- Capture and review detailed output logs with `--gtest_output=xml` or `--gtest_output=json` for diagnostics.

For unresolved issues, consult the [Getting Support & Next Steps Guide](../../getting-started/troubleshooting-and-faq/support-and-community).

---

## Additional Resources

- [Assertions Reference](../reference/assertions.md) — understand the assertion macros involved in bug fixes.
- [Testing Reference](../reference/testing.md) — deeper insight into GoogleTest core APIs and test lifecycle.
- [Advanced Guide](../advanced.md) — contains guidance on complex test scenarios including death tests and predicate assertions.
- [FAQ](../../faq/core-questions/common-errors) — common questions regarding test failures.
- [Version History](releases-at-a-glance) — overview of all past releases and their changes.

---

Stay informed about patches and their descriptions here before upgrading, ensuring both the stability and correctness of your testing infrastructure.

---

*Last updated with details from the main branch of GoogleTest repository.*