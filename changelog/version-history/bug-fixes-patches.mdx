---
title: "Bug Fixes & Maintenance Patches"
description: "Lists important bug fixes and maintenance updates in each release, helping users quickly verify if longstanding issues or regressions affecting them have been addressed."
---

# Bug Fixes & Maintenance Patches

This page documents critical bug fixes and maintenance updates in each release of GoogleMock, enabling users to quickly verify whether issues impacting their use cases or regressions have been resolved. By scanning these entries, you can identify if a revision addresses persistent problems in mocking behavior, expectation handling, or integration patterns that relate to your testing workflows.

---

## Understanding Bug Fixes and Maintenance Updates

Bug fixes in GoogleMock typically resolve unexpected behaviors, crashes, warning messages, or compatibility issues that users encounter when defining mocks, setting expectations, or running tests. Maintenance patches often enhance reliability and stability without adding new features, improving the overall developer experience.

Tracking these changes in detail helps you:

- Confirm resolution of issues that impact your project’s test suite.
- Identify necessary migration or adaptation steps for your mocks.
- Gain confidence that regressions are prevented across releases.

---

## Recent Bug Fixes and Maintenance Highlights

### Addressing Uninteresting Calls and Expectation Issues

- **Warnings about Uninteresting Calls**: Fixed scenarios where uninteresting calls (methods invoked without matching `EXPECT_CALL`) led to misleading or redundant warnings, clarifying when these are merely informational rather than failures.

- **Strictness Modifiers Behavior**: Resolved edge cases where using `NiceMock`, `NaggyMock`, or `StrictMock` wrappers could inconsistently suppress or escalate warnings related to uninteresting calls, ensuring predictable and documented behavior.

### Improving Mock Method Definitions and Usage

- **Correct Parsing of Comma-Containing Types**: Enhanced the parsing of `MOCK_METHOD` macros to properly handle return types or argument lists containing commas (e.g., `std::pair`, `std::map`) by clarifying wrapping with parentheses or usage of type aliases.

- **Mocking Overloaded and Const Methods**: Addresses compiler warnings and inconsistencies when mocking overloaded functions or methods with const qualifiers, especially in MSVC environments.

### Stability in Expectation Matching and Ordering

- **Reverse Order Matching Fixes**: Finesse improvements to the expectation matching process that searches expectations in reverse declaration order, preventing accidental shadowing and ensuring newer expectations correctly override older ones.

- **Retirement of Expectations**: Fixed bugs related to `.RetiresOnSaturation()` where expectations did not retire as soon as saturated, helping avoid unintended repeated matches or upper-bound violations.

- **Sequencing and Ordering Enforcement**: Corrected partial ordering edge cases with `InSequence` and `After` clauses, guaranteeing expectations fire in intended sequences without deadlocks or false positives.

### Action and Matcher Enhancements

- **Default Action Behavior**: Fixed issues with `ON_CALL` default actions being overshadowed unintentionally by `EXPECT_CALL` and ensuring that default actions apply as expected when explicit actions run out.

- **Side Effects in Actions**: Addressed bugs around complex side effect modeling in actions like `SetArgPointee`, `SetArrayArgument`, and combined actions using `DoAll()`, smoothing the interplay of return values and out parameters.

### Thread Safety and Multi-threaded Interactions

- Patched synchronization issues in mocks operating in concurrent test contexts, ensuring consistent behavior in multi-threaded tests, especially around internal locking during action execution.

### Build and Compilation Related Fixes

- **Slow Compilation Workarounds**: Resolved performance issues related to compiling large mock classes, notably in MSVC, by moving constructors and destructors to implementation files.

- **Virtual Destructors Enforcement**: Improved detection and documentation around the necessity of virtual destructors in mocked interfaces to avoid heap check failures and memory leaks.

---

## Recommended Actions for Users

- Review this changelog prior to upgrading your GoogleMock dependency to confirm fixes for any blocking bugs affecting your tests.

- Where breaking changes or deprecated behaviors are involved, consult the migration notes to smoothly update your mock classes and tests.

- Use `NiceMock`, `NaggyMock`, or `StrictMock` wrappers as recommended to tailor the noise level of warnings around uninteresting calls, based on your test suite’s needs.

- Follow best practices for defining mocks, such as providing virtual destructors, clearly defining expectations before exercising mocks, and using type aliases or parentheses in `MOCK_METHOD` macros for complex types.

- Enable `--gmock_verbose=info` during debugging sessions to gain detailed insight into call matching, expectation fulfillment, and internal decision processes of GoogleMock.

---

## Troubleshooting Common Issues

### Uninteresting or Unexpected Call Warnings

- Confirm if the call is truly uninteresting (no `EXPECT_CALL`) or unexpected (no matching expectation).
- Use `NiceMock` to silence warnings if calls without expectations are allowed.
- Use explicit `EXPECT_CALL(...).Times(AnyNumber())` clauses to document expected unverified calls.

### Compilation Errors with `MOCK_METHOD`

- Wrap return or argument types containing commas with parentheses or define type aliases to avoid macro parsing issues.
- Remove redundant `const` qualifiers on value parameters to fix MSVC warnings.

### Premature Expectation Failures

- Use `.RetiresOnSaturation()` to retire saturated expectations and prevent sticky failures.
- Use `InSequence` to enforce call order and avoid unsatisfied prerequisites errors.

### Slowness or Memory Issues on Compilation

-_move mock class constructors and destructors into `.cc` files, especially for mocks with many methods.

---

## Additional Resources

- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) — Practical recipes for mock classes and expectations.
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html) — Detailed reference for mocking macros and classes.
- [Nice, Strict, and Naggy Mocks](https://google.github.io/googletest/api/gmock_nice_strict.html) — Controlling mock strictness and warning behaviors.
- [Specifying Expectations and Actions](https://google.github.io/googletest/gmock_specifying_expectations.html) — Step-by-step user guide on expectation syntax and usage.
- [GoogleTest Primer](https://google.github.io/googletest/primer.html) — Essential introduction for GoogleTest and GoogleMock users.

---

## Navigating from this Page

- For new users, start at [Introduction to Mocking](https://google.github.io/googletest/gmock_for_dummies.html) to grasp core concepts.
- Check the [Release Overview](https://google.github.io/googletest/changelog/version-history/release-overview.html) for summaries of feature additions.
- Use the [Breaking Changes](https://google.github.io/googletest/changelog/migration-upgrade/breaking-changes.html) page for compatibility and migration guidance.
- Visit the [Bug Fixes & Maintenance Patches](https://google.github.io/googletest/changelog/version-history/bug-fixes-patches.html) to see a full list of resolved issues.

---

By closely following this continuously updated changelog, you ensure your tests harness the latest stability and correctness improvements from GoogleMock, maintaining an effective and robust C++ testing environment.
