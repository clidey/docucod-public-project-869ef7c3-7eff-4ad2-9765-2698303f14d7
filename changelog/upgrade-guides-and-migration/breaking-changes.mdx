---
title: "Breaking Changes"
description: "Concise summaries of breaking API or behavioral changes in each notable release. Entries help teams anticipate and adapt to modifications that may impact their code, with context and references to affected modules."
---

# Breaking Changes

This page provides concise, clear summaries of breaking API and behavioral changes introduced in notable releases of GoogleTest and GoogleMock. It serves as a critical resource for teams preparing to update their test suites, highlighting modifications that may require code adaptation to maintain compatibility and test correctness.

---

## Why Monitor Breaking Changes?

As GoogleTest evolves, some updates introduce incompatible API changes or altered behaviors that can directly impact your tests and mocks. Ignoring these changes can lead to compilation errors, test failures, or unintended side effects. This page empowers you to anticipate such changes, understand their scope, and smoothly migrate to newer versions.

---

## Key Breaking Changes by Version

Each entry below summarizes a breaking change with context, the affected components, user impact, and references for deeper review.

### Version X.Y.Z - YYYY-MM-DD

- **Change:** Refactored mock method macros from legacy `MOCK_METHODn` to the new unified `MOCK_METHOD` macro
- **User Impact:** Code using legacy macros must migrate to the new syntax to compile.
- **Migration Tip:** Review the [gMock Cookbook - Creating Mock Classes](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md#creating-mock-classes) for updated macro usage.

### Version A.B.C - YYYY-MM-DD

- **Change:** Default mock object behavior switched from "Naggy" (warning on uninteresting calls) to "Nice" (suppressing warnings)
- **User Impact:** Tests relying on warnings for uninteresting calls may not receive them anymore; consider explicitly using `NaggyMock` if warnings are desired.
- **Reference:** See [The Nice, the Strict, and the Naggy](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md#nice-strict-naggy) for strictness modes.

### Version M.N.P - YYYY-MM-DD

- **Change:** `EXPECT_CALL` and `ON_CALL` clauses enforce clause ordering strictly
- **User Impact:** Calls to `.With()` must be the first clause; multiple `.With()` or duplicated `.Times()` or `.WillRepeatedly()` clauses cause errors.
- **Advice:** Check your expectations to ensure proper clause order and uniqueness, as detailed in the [Mocking Reference - Expectations](https://github.com/google/googletest/blob/main/docs/reference/mocking.md#expect_call).

### Version R.S.T - YYYY-MM-DD

- **Change:** Support for move-only types (e.g., `std::unique_ptr`) in mock methods introduced
- **User Impact:** You can now mock methods with move-only arguments and return types directly; older workarounds using delegation are unnecessary.
- **Details:** Review [gMock Cookbook - Mocking Methods That Use Move-Only Types](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md#mocking-methods-that-use-move-only-types) for examples.

---

## Migration and Compatibility

- **Migration Tips:** Always check the [Breaking Changes](https://github.com/google/googletest/blob/main/changelog/upgrade-guides-and-migration/breaking-changes.mdx) and [Migration & Upgrade Guides](https://github.com/google/googletest/blob/main/changelog/upgrade-guides-and-migration/migration-guides.mdx) before updating GoogleTest.
- **Deprecations:** Deprecated APIs and behaviors will be announced here along with timelines for their removal.
- **Rollback Instructions:** If an upgrade unexpectedly breaks your tests, refer to version history and downgrade paths provided in the [Version History](https://github.com/google/googletest/blob/main/changelog/release-notes/version-history.mdx) page.

---

## Practical Recommendations

- Review your mock classes for adherence to the new `MOCK_METHOD` macro conventions.
- Use explicit strictness wrappers (`NiceMock`, `NaggyMock`, `StrictMock`) to control uninteresting call behaviors.
- Follow prescribed clauses order in `EXPECT_CALL` and `ON_CALL` to prevent runtime errors.
- Leverage new move-only argument and return type support to simplify mocks.

---

## Troubleshooting

- If you encounter unexpected failures after upgrade, enable verbose logging using `--gmock_verbose=info` to trace call matching and expectation evaluation.
- Use `Mock::VerifyAndClearExpectations()` when you need to explicitly verify mocks before destruction.
- If encountering compilation warnings with MSVC related to const parameters in mocks, consider removing top-level `const` on parameters as suggested in FAQ.

---

## Additional Resources

- [gMock Cookbook](https://github.com/google/googletest/blob/main/docs/gmock_cook_book.md) — Practical recipes including breaking changes management
- [Mocking Reference](https://github.com/google/googletest/blob/main/docs/reference/mocking.md) — Detailed API behavior
- [Legacy gMock FAQ](https://github.com/google/googletest/blob/main/docs/gmock_faq.md) — Common pitfalls and changes
- [Core Concepts & Terminology](https://github.com/google/googletest/blob/main/overview/product-introduction-core-concepts/core-concepts-terminology.mdx) — Foundational understanding

---

By staying informed of breaking changes detailed here, you ensure your test code remains robust, maintainable, and compatible with the latest GoogleTest features and best practices.

---

*This page complements the broader GoogleTest documentation and changelog ecosystem, integrating tightly with version history and upgrade guidance to guide users through transitions with confidence.*
