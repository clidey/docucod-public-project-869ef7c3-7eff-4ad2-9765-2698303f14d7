---
title: "Deprecation Notices"
description: "Clear documentation of deprecated APIs, features, or behaviors, including their removal timelines and recommendations for alternatives. Helps users plan codebase updates proactively."
---

# Deprecation Notices

This page provides clear, actionable information about deprecated APIs, features, and behaviors within GoogleTest. It aims to help users understand what is deprecated, the timeline for removal, and guidance on migrating to recommended alternatives. Staying informed helps you maintain a robust and future-proof test codebase.

---

## Understanding Deprecations

GoogleTest regularly evolves to improve usability, performance, and correctness. As part of this evolution, certain APIs or behaviors may be deprecated to make room for better solutions. Deprecations are announced ahead of removals, allowing users time to plan and update their code.

### Why Deprecate?

- **Enhance API design:** To simplify the interface and reduce complexity.
- **Improve maintainability:** Remove rarely-used or problematic code paths.
- **Address security and correctness:** Phase out unsafe or error-prone behaviors.
- **Enable new features:** Deprecation frees resources for innovations.

### What Deprecation Means for You

- Deprecated features **continue to work** for a defined transition period (often multiple minor releases).
- Use of deprecated features will generate **compiler warnings** or **runtime warnings**.
- Deprecated features will be **removed** in a future major release.
- You should **update your code** to use the recommended alternatives as soon as practical.

---

## Current Deprecations in GoogleTest

### 1. Deprecated Macro Syntax for Mock Methods

- Old macros like `MOCK_METHODn` and `MOCK_CONST_METHODn` are **deprecated**.
- Use the modern `MOCK_METHOD(ReturnType, MethodName, (Args...), (Specifiers))` syntax instead.

**Why:** The new syntax is more expressive, supports qualifiers like `const`, `override`, and `noexcept`, and simplifies overloading/mocking complex signatures.

**Migration:**

Before:
```cpp
MOCK_METHOD1(Foo, int(int));
MOCK_CONST_METHOD0(Bar, void());
```

After:
```cpp
MOCK_METHOD(int, Foo, (int));
MOCK_METHOD(void, Bar, (), (const));
```

For detailed migration guidance, see [Migration Guides](changelog/upgrade-guides-and-migration/migration-guides.md).

### 2. Default Strictness Behavior Change

- The default behavior of mock objects regarding **uninteresting calls** has changed.
- Older versions treated uninteresting calls without warnings; newer versions default to **naggy** behavior (warnings generated).

**Why:** This change helps catch unexpected calls in tests early and encourages better test specification.

**Migration:**
- Use `NiceMock<MockType>` to suppress these warnings if desired.
- Use `StrictMock<MockType>` to make such calls cause failures.

Refer to [Mocking Reference](reference/mocking.md#NiceMock) for usage.

### 3. Clause Ordering Enforcement in Expectations

- In newer versions, the order of chained clauses on `EXPECT_CALL` and `ON_CALL` is **enforced strictly**.
- For example, `.With(...)` must appear before `.Times(...)`, which must appear before `.WillOnce(...)` or `.WillRepeatedly()`.

**Why:** Ensures clarity and consistent semantics across tests.

**Migration:**
- Review your `EXPECT_CALL` and `ON_CALL` statements.
- Reorder clauses to comply with the prescribed sequence.

### 4. Move-Only Type Support in Mock Methods

- Support for mocking methods with **move-only types** such as `std::unique_ptr` was introduced recently.
- Older projects using workarounds (like delegating to non-move mock methods) should consider updating.

**Why:** Enables cleaner, safer test code without hacks.

**Migration:**
- Update mocks to use `MOCK_METHOD` with move-only arguments/returns.
- Remove legacy delegation patterns.

See [gMock Cookbook](docs/gmock_cook_book.md#MockingMoveOnlyTypes) for examples.

---

## Removal Timeline

GoogleTest deprecations are communicated ahead of removals, typically:

- **Warning in minor releases:** Deprecation warnings introduced.
- **Removal in a major release:** Deprecated features removed.

Users are encouraged to track the [Version History](changelog/release-notes/version-history.md) and announcements to plan upgrades.

---

## Recommendations

- **Stay Updated:** Follow GoogleTest releases and changelogs.
- **Suppress Warnings Properly:** Use `NiceMock` or update code instead of silencing warnings superficially.
- **Refactor Legacy Code:** Adapt mocks and expectations to new syntax and features.
- **Use Migration Guides:** Consult detailed migration instructions.

---

## Troubleshooting Deprecated Feature Usage

If your build emits warnings related to deprecated APIs:

- Identify the deprecated API via the message.
- Consult the [Migration Guides](changelog/upgrade-guides-and-migration/migration-guides.md).
- Refactor your code to avoid deprecated usage.
- If unsure, ask for help in community channels.

---

## Additional Resources

- [Breaking Changes](changelog/upgrade-guides-and-migration/breaking-changes.md): Understand behavior/API breaking changes.
- [Migration Guides](changelog/upgrade-guides-and-migration/migration-guides.md): Step-by-step upgrade instructions.
- [Mocking Reference](reference/mocking.md): Updated usage of mocking features.
- [gMock Cookbook](docs/gmock_cook_book.md): Practical recipes for using mocks.

---

## Summary

Keeping your codebase free of deprecated GoogleTest features is crucial for compatibility, maintainability, and leveraging new capabilities. Use this page as your primary source for awareness and guidance on managing deprecations safely. When updating, prioritize automated refactoring tools and thorough testing to ensure smooth transitions.

For ongoing excellence in test development, incorporate best practices from the [Test Suite Best Practices](guides/advanced-and-best-practices/best-practices.md) and consider integrating deprecation checks in your CI pipelines.

---

## FAQ

### Q: Will deprecated features break immediately?
A: No. They work until removal but emit warnings to encourage migration.

### Q: How do I suppress deprecation warnings?
A: Prefer migrating code; use strictness wrappers like `NiceMock` for mock warnings.

### Q: Where can I find examples?
A: The [gMock Cookbook](docs/gmock_cook_book.md) has practical examples.

---

## Contact & Community

If you encounter obstacles migrating away from deprecated features, seek assistance through:

- GoogleTest GitHub Issues: https://github.com/google/googletest/issues
- Google Testing forums and mailing lists

Your proactive maintenance ensures the health and longevity of your test suites.

---

<Source url="https://github.com/google/googletest" paths={[{"path": "changelog/upgrade-guides-and-migration/migration-guides.md", "range": "1-150"}, {"path": "changelog/upgrade-guides-and-migration/breaking-changes.md", "range": "1-170"}]} />