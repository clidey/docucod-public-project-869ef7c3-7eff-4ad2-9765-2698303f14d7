---
title: "Deprecation Notices"
description: "A running list of features or APIs slated for removal or already deprecated. Explains timelines, reasons, alternatives, and necessary code adjustments for continued compatibility."
---

# Deprecation Notices

This page provides a comprehensive and continuously updated catalog of features, APIs, or macros within GoogleTest and GoogleMock that are currently deprecated or scheduled for removal. Understanding these notices helps you plan and execute your code migrations smoothly, ensuring compatibility with future versions of the framework.

---

## What Does Deprecation Mean?

Deprecation is a formal announcement that a feature, API, or macro is no longer recommended for use and may be removed in a future release. It signals to developers that they should avoid using deprecated elements and transition to preferred alternatives to maintain forward compatibility.

When a feature is deprecated:

- It remains functional but may generate compiler or runtime warnings.
- Documentation will mark it as deprecated and suggest replacement approaches.
- Removal timelines are provided when available.

Note that deprecated features are still part of the public API but are no longer supported and may cease to exist in upcoming major releases.

---

## Why Are Features Deprecated?

Deprecations occur to:

- Improve API design and usability.
- Remove legacy code that complicates maintenance.
- Replace outdated functionality with better alternatives.
- Fix design or safety issues discovered after initial release.

By phasing out features gradually, GoogleTest gives users time to adapt without breaking existing code abruptly.

---

## Important Deprecated Features and APIs

### 1. Old-Style `MOCK_METHODn` Macros

#### Description
The macros `MOCK_METHODn` and their variants (such as `MOCK_CONST_METHODn`, `MOCK_METHODn_T`) are **deprecated** in favor of the modern, unified `MOCK_METHOD` macro.

#### Reason for Deprecation
- The generic `MOCK_METHOD` macro introduced in 2018 provides a cleaner, more consistent syntax.
- It supports qualifiers and call types more seamlessly.

#### Action Required
Transition your mock class method declarations from the old macros to the new `MOCK_METHOD`, for example:

```cpp
// Before (deprecated):
MOCK_METHOD1(Foo, bool(int));
MOCK_CONST_METHOD1(Bar, int(double));

// After (recommended):
MOCK_METHOD(bool, Foo, (int));
MOCK_METHOD(int, Bar, (double), (const));
```

#### Timeline
The old macros remain functional and documented for backward compatibility but may be removed in a future major release.

---

### 2. Deprecated Internal Macros and Namespaces

#### Description
Internal macros or symbols in headers such as `gtest-port.h` and `gmock-port.h` that end with underscores (e.g., macros ending with `_`) and those under `internal` namespaces are subject to removal or change without notice.

#### Reason for Deprecation
- These are not part of the public API and should not be used directly by user code.
- Their interfaces can change to improve internals without backward compatibility constraints.

#### Action Required
- Users should avoid relying on internal symbols or macros.
- Use public API interfaces exposed via official headers.

---

### 3. Deprecated Build and Compilation Flags

#### Description
Certain compiler flags and CMake options related to runtime library usage, exception handling macros, and threading support may be deprecated or replaced.

#### Reason for Deprecation
- To keep GoogleTest compatible with modern compilers and build environments.
- To simplify the build process and remove conflicting or redundant flags.

#### Action Required
- Review your build setup against the current recommended CMake and compiler flags as described in [README.md](https://github.com/google/googletest/blob/main/googletest/README.md).
- Remove or replace any deprecated macros (e.g., `GTEST_HAS_*` macros if overridden manually).

---

### 4. Deprecated Macros for Flag Definitions

#### Description
In internal files like `gmock-port.h`, older macros for defining and declaring flags (`GMOCK_DECLARE_bool_`, `GMOCK_DEFINE_bool_`, etc.) might be phased out or replaced by more modern flag management approaches, particularly with Abseil flags integration.

#### Reason for Deprecation
- To adopt standard flag libraries (e.g., Abseil) for better flag management and consistency.

#### Action Required
- Minimize direct manipulation of flag macros.
- Use flags via public API layer provided by GoogleTest and GoogleMock.

---

## Understanding Deprecation Timelines

GoogleTest and GoogleMock aim to provide advance notice for deprecations, often announcing deprecations multiple versions in advance. This gives developers ample time to migrate their codebases. Typically:

- Deprecated features remain functional for several minor versions.
- Removal is usually scheduled for major version updates.
- The exact timeline is communicated via release notes and upgrade guides.

Always check the [Breaking Changes](../changelog/breaking-changes-migrations-upgrade-guides/breaking-changes) and [Upgrade Guides](../changelog/breaking-changes-migrations-upgrade-guides/upgrade-guides) for the latest schedules.

---

## How to Identify Deprecated Usage

- Compiler warnings: Newer GoogleTest versions emit warnings if deprecated macros or APIs are used.
- Documentation labels: Public API documentation and source code headers indicate deprecated status.
- Build logs and release notes frequently list deprecated features.

Using modern IDEs or static analyzers may help detect deprecated usages early.

---

## Alternatives and Migration Paths

When a feature is deprecated, the documentation or release notes provide:

- Recommended replacement APIs or macros.
- Code migration instructions and examples.
- Notes on behavioral differences and compatibility.

For mock methods, transition from `MOCK_METHODn` to `MOCK_METHOD`, adopting the new parameter syntax and qualifiers.

For internal macro usage, switch to public APIs only.

For build flags, update your CMake configuration using the scripts and recommended flags described in the README and build documentation.

---

## Practical Tips for Managing Deprecations

- Regularly upgrade your GoogleTest version and review the release notes for deprecated features.
- Refactor your test mocks and usage to comply with modern macros and assertions.
- Incorporate static code analysis to detect deprecated API usage.
- Use the `StrictMock` or `NiceMock` wrappers appropriately to ease migration and control test warnings.

---

## Troubleshooting and Support

If you encounter issues related to deprecated APIs or macros:

- Review the [Migration & Upgrades FAQ](../faq/troubleshooting-integration/migration-and-upgrades).
- Consult the [Mocking Reference](../api-reference/mocking-framework/creating-mocks) and [gMock Cookbook](../docs/gmock_cook_book.md) for updated mocking guidance.
- Ask the community via the GoogleTest forums or GitHub issues, providing your current GoogleTest version and code snippets.

---

## Additional Resources and Cross-References

- [Breaking Changes](../changelog/breaking-changes-migrations-upgrade-guides/breaking-changes)
- [Upgrade Guides](../changelog/breaking-changes-migrations-upgrade-guides/upgrade-guides)
- [Mocking Reference](../api-reference/mocking-framework/creating-mocks)
- [gMock Cookbook](../docs/gmock_cook_book.md)
- [GoogleTest README](https://github.com/google/googletest/blob/main/googletest/README.md)

---

## Summary

Deprecation notices are an essential part of maintaining code quality and compatibility with GoogleTest. Staying informed about deprecated features and updating your code proactively ensures that your testing infrastructure remains robust and up to date.

For any deprecated feature, always verify the recommended replacement and follow the documented migration path to avoid breaking your tests in future releases.

---

<Info>
If you maintain older codebases, consider creating automated scripts to scan for deprecated macro usage and plan incremental refactoring. This approach minimizes the cost and risk of keeping your test suites current.
</Info>

---

## Example Migration

Before (using deprecated `MOCK_METHOD1` macro):

```cpp
class MockFoo {
 public:
  MOCK_METHOD1(DoSomething, bool(int x));
};
```

After (recommended modern approach with `MOCK_METHOD`):

```cpp
class MockFoo {
 public:
  MOCK_METHOD(bool, DoSomething, (int x), ());
};
```

For const or override methods:

```cpp
MOCK_METHOD(int, Compute, (), (const, override));
```

---

## Contact and Feedback

For questions about deprecations or to suggest improvements, contribute via:

- GitHub issues: https://github.com/google/googletest/issues
- Community mailing list: googletestframework@googlegroups.com

Your feedback and contributions keep GoogleTest reliable and developer-friendly.
