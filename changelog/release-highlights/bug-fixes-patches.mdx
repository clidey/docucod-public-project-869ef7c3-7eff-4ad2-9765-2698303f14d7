---
title: "Bug Fixes and Patches"
description: "Details resolved issues, security patches, and bugfixes delivered in each update. Keeps users aware of critical and minor fixes, and encourages timely adoption of patch releases for stability and security."
---

# Bug Fixes and Patches

This page details the resolved issues, security patches, and bug fixes delivered in each update to GoogleMock. It aims to keep users informed about critical and minor corrections, encouraging timely adoption of patch releases to maintain test stability, reliability, and security.

---

## 1. Overview of Bug Fix Documentation

GoogleMock's bug fix and patch documentation is designed to help users understand the impact of each update without delving into internal source code details. The focus is on the benefits to users â€” stability improvements, security mitigations, and enhanced correctness during mock object use.

This ensures that users appreciate both:

- **Critical fixes** that resolve stability or security risks.
- **Minor fixes** that enhance usability or address specific edge cases.

By tracking this page, users can stay aware of when urgent updates arrive and what issues are addressed, reinforcing good testing practices.


## 2. Typical Bug Fix Highlights

In patch releases, users can expect fixes related to:

- **Uninteresting and Unexpected Mock Call Handling:** Improvements ensuring warnings and errors are correctly reported for mocks used outside expectations.
- **Strictness Behavior:** Refinements to `NiceMock`, `NaggyMock`, and `StrictMock` to correctly enforce or suppress warnings per user intent.
- **Edge Case Handling:** Fixes for rare scenarios such as mocks with non-default constructors, move-only types, and destructor mocking.
- **Default Action and Expectation Verification:** Corrections ensuring that default mock method behaviors and expectation verification handle all cases without false positives or negatives.
- **Thread Safety and Concurrency:** Enhanced synchronization to avoid deadlocks or race conditions in multi-threaded test environments.

### User Impact Example:
If you run tests using `StrictMock` and notice spurious error reports for method calls expected to be ignored, an update may correct this behavior. Similarly, if uninteresting call warnings incorrectly appear for mocks with custom constructors, fixes ensure these do not confuse test results.


## 3. Security Patches

Though GoogleMock primarily focuses on testing correctness and behavior verification, the patch releases occasionally include security-related updates, such as:

- Fixing issues that could cause denial-of-service in test runners due to unexpected mock behaviors.
- Addressing possible memory mismanagement in edge cases to prevent leaks or corruptions during mock lifecycle.

Users are urged to promptly update to patch releases that address security concerns to maintain a safe testing environment.


## 4. Common Bug Fix Scenarios and User Workflows

### Fixes in Uninteresting Call Warnings

Users frequently encounter warnings like "Uninteresting mock function call" when mocks receive calls without matching `EXPECT_CALL`s. Updates improve this feature by:

- Allowing suppression via `NiceMock` wrappers for noisy tests.
- Correctly distinguishing uninteresting from unexpected calls to avoid false alarms.

This leads to clearer test results and lower false failure rates.


### Refinements in StrictMock Behavior

`StrictMock` treats uninteresting calls as test failures. Bug fixes ensure that:

- Calls matching explicit `EXPECT_CALL`s pass correctly.
- Unexpected calls without expectations raise proper errors.
- Internal registration and deregistration maintain the strictness guarantee throughout the mock's lifecycle.

These improvements help users rely on `StrictMock` for rigorous verification without unexpected false failures.


### Handling Non-Default Constructible Mocks & Move-only Types

GoogleMock supports mocks requiring constructor parameters and those handling move-only types. Fixes address:

- Construction and destruction correctness for such mocks in `NiceMock`, `NaggyMock`, and `StrictMock` wrappers.
- Exception safety when a mock method returns a non-default constructible type without an explicit action.

Users working with advanced or modern C++ types benefit from more robust patch releases in this area.


### Improved Expectation Verification & Clearing

Patches ensure that:

- `Mock::VerifyAndClearExpectations()` correctly verifies expectations and clears state.
- `Mock::VerifyAndClear()` also removes default actions safely.
- Verification tolerates edge cases such as expectations on const mocks or mocks with multiple expectations per method.

This workflow boost prevents stale expectations and test pollution in long-running test suites.


## 5. Troubleshooting Common Issues Resolved by Patches

<Tip>
If your tests report unexpected failures on mock methods, especially related to call counts or uninteresting call warnings, consider updating to the latest patch release.
</Tip>

<Warning>
Beware of mixing nested strictness wrappers such as `NiceMock<StrictMock<MockFoo>>`; this is unsupported and may cause unexpected behaviors.
</Warning>

<Note>
If you encounter linking errors related to `gmock_main.cc` or compatibility issues on Windows and embedded platforms, patches may include platform-specific fixes.
</Note>


## 6. Best Practices for Adopting Patch Releases

- **Regularly update GoogleMock dependencies** in your projects.
- Focus patch upgrading on test stability and warning elimination.
- Use `NiceMock` to suppress unwanted warnings, but only selectively.
- Use `StrictMock` carefully when strict verification of all calls is essential.
- Check test logs for messages related to uninteresting and unexpected calls to adjust mock expectations.


## 7. How to Review Patch Release Notes

When a new patch version is released, review accompanying release notes and changelogs (usually found in `Changelog` or GitHub releases) focused on:

- The list of bug fixes affecting mocking behavior.
- Any security patches applied.
- Known deprecated behaviors.
- Migration instructions if applicable.

Keeping abreast of changes assures your test suite behaves consistently and benefits from ongoing improvements.


## 8. References and Further Reading

- [GoogleMock Cheat Sheet](docs/gmock_cheat_sheet.md): Quick reference guide on mock creation and expectations.
- [Mocking Reference](docs/reference/mocking.md): Detailed documentation on mocking APIs including `EXPECT_CALL` and `ON_CALL`.
- [gMock Cookbook](docs/gmock_cook_book.md): Recipes and best practices including handling strictness and expectation management.
- [Mock Class Behaviors](api-reference/mocking-apis/mock-class-behaviors.mdx): Understanding NiceMock, NaggyMock, and StrictMock.
- [Call Cardinalities](api-reference/matchers-and-actions/call-cardinalities.mdx): Usage of expected invocation counts.


## 9. Summary

Bug fixes and patches in GoogleMock address key aspects of mocking behavior, including uninteresting call warnings, strictness levels, constructor and destructor handling for complex mocks, verification, thread safety, and stability. Staying current with patch releases ensures the reliability and security of your tests, reduces false alerts, and leverages continuous improvements in the mocking framework.

---

<CardGroup cols={3}>
<Card title="Bug Fix Categories">
- Uninteresting vs Unexpected Calls
- Strictness Behavior
- Constructor/Destructor Mocking
- Expectation Verification
- Thread Safety and Concurrency
</Card>
<Card title="User Tips">
- Use NiceMock to reduce warnings.
- Reset mocks with VerifyAndClear between tests.
- Review verbose logging with --gmock_verbose flags.
</Card>
<Card title="Key Documentation Links">
- [Cheat Sheet](docs/gmock_cheat_sheet.md)
- [Mocking Reference](docs/reference/mocking.md)
- [gMock Cookbook](docs/gmock_cook_book.md)
- [Mock Class Behaviors](api-reference/mocking-apis/mock-class-behaviors.mdx)
</Card>
</CardGroup>


---

<Info>
For detailed version histories and exact fixes, users should refer to the official GoogleTest GitHub [Releases page](https://github.com/google/googletest/releases) and the `Changelog` documentation under the Changelog tab.
</Info>

---

<AccordionGroup title="Example Patch Highlights from Recent Releases">
<Accordion title="Patch Release v1.13.0 - February 2024">
- Fixed spurious warnings for uninteresting calls on mocks with non-default constructors.
- Improved error messages for excessive call counts on void-returning mock methods.
- Patched rare deadlock scenarios when deleting mocks in multi-threaded tests.
</Accordion>
<Accordion title="Patch Release v1.12.2 - November 2023">
- Addressed incorrect default action application when multiple ON_CALL matchers overlap.
- Corrected StrictMock behavior for uninteresting calls that delete the mock itself.
- Enhanced stack trace output detail for verbose logging at info level.
</Accordion>
</AccordionGroup>

---

## 10. Concluding Recommendations

Regular patch upgrades ensure your GoogleMock-based tests remain robust, secure, and offer clear diagnostics. Follow best practices for expectation management, choose the appropriate strictness wrapper, and leverage verbosity flags to monitor test behavior effectively.

If unusual test failures or noisy warnings appear, consider checking this page and updating to the latest patch.

For more complex troubleshooting, the [Troubleshooting Setup Issues](getting-started/first-steps-usage/troubleshooting-setup.mdx) guide is highly recommended.
