---
title: "Upgrade & Migration Guide"
description: "Outlines steps for upgrading across breaking releases, including required changes to support new C++ standards (e.g., C++17 requirement in 1.17.x), dependency additions (such as Abseil), and integration adjustments for supported platforms and build tools. Offers practical advice for transitioning smoothly between versions."
---

# Upgrade & Migration Guide

This guide provides step-by-step instructions to help users smoothly upgrade across breaking releases of GoogleTest and GoogleMock. It focuses on critical adjustments required to support evolving C++ standards, new dependencies, and integration nuances with supported platforms and build tools.

---

## 1. Understanding Breaking Changes and New Requirements

### 1.1 C++ Standard Version Requirements

Starting from version 1.17.x, GoogleTest and GoogleMock require compiling with C++17 or newer. This change ensures consistency and leverages modern language features for improved performance and maintainability.

**What this means for you:**
- Make sure your build toolchain supports C++17.
- Explicitly set the standard to C++17 or later in your build configurations (e.g., `-std=c++17` for GCC/Clang, `/std:c++17` for MSVC).

### 1.2 Dependency Additions

The upgrade introduces a dependency on Google's Abseil library (absl). This addition supports internal utilities within GoogleTest.

**What this means for you:**
- You need to ensure Abseil is available and linked in your build environment.
- If building from source, update submodules or fetch Abseil as per your dependency management system.

### 1.3 Integration and Platform Adjustments

Supported platforms and build tools receive updates to accommodate new language requirements and dependencies. Continuous integration environments and IDE integrations might require configuration updates to reflect these changes.

**Recommended actions:**
- Refer to the [Supported Platforms & Integrations documentation](/overview/architecture-features-integrations/supported-platforms-integrations) for updated compatibility and configuration guidance.
- Validate your CI pipelines to ensure compliance with new compiler flags and dependencies.

---

## 2. Step-by-Step Upgrade Process

### 2.1 Verify Compiler and Build Tool Support for C++17

1. Confirm your compiler version supports C++17:
   - GCC 7 or newer
   - Clang 5 or newer
   - MSVC 2017 (15.7) or newer
2. Adjust your build system to enable C++17:
   - For CMake, update `CMAKE_CXX_STANDARD` to 17.
   - For Bazel, specify the minimum required language standard.

### 2.2 Update Dependencies

1. Fetch or update the Abseil dependency:
   - If using git, ensure submodules are updated.
   - If using package managers, install the corresponding Abseil package.
2. Adjust linking settings to include Abseil libraries.

### 2.3 Review Integration Caveats

- Check that any platform-specific configurations conform to the updated build requirements.
- Update IDE project settings to reflect the need for C++17.
- Rename or remove deprecated APIs if any updates indicate so in the release notes.

### 2.4 Rebuild and Run Tests

- Clean your build artifacts.
- Rebuild the GoogleTest and GoogleMock binaries.
- Rebuild your tests against the updated libraries.
- Run all tests to verify successful migration.

---

## 3. Practical Advice for Transitioning Smoothly

- **Backup your current environment:** Before starting the upgrade, backup your existing build configurations and third-party libraries.

- **Adopt incremental updates:** For complex projects, consider upgrading incrementally by first enabling C++17 support, then updating dependencies, and lastly adjusting integrations.

- **Use verbose build logs:** Enable verbose flags during compilation to detect any deprecated symbols or warnings early.

- **Validate mock behaviors:** As the upgrade may affect behavior on certain platforms or compilers, run your mock-based tests extensively to catch unexpected regressions.

- **Consult official release notes:** For each major version jump, review detailed release notes for additional breaking changes or deprecated features.

- **Utilize continuous integration:** Automate tests during the upgrade process to ensure no regressions.

- **Seek community support:** Use community forums and GitHub issue tracking for questions or unexpected challenges.

---

## 4. Troubleshooting Common Issues

### Compilation Errors Related to C++ Standard

Error messages about unsupported language features or flags typically indicate the compiler is targeting an older standard. Verify compiler version and flags.

### Missing Abseil Symbols or Libraries

Linker errors can hint at incomplete or missing Abseil dependencies. Check your dependency installation and linking configuration.

### Unexpected Test Failures

Run tests with `--gmock_verbose=info` for detailed mock interaction trace to pinpoint failures related to changed expectations or behavior.

### Integration Build Failures

Review platform-specific configurations and toolchain versions against the Supported Platforms & Integrations documentation. Adjust as necessary.

---

## 5. Additional Resources

- [Supported Platforms & Integrations Guide](/overview/architecture-features-integrations/supported-platforms-integrations)
- [Configuring Projects with GoogleTest](/getting-started/setup-prerequisites-installation/configuring-projects-with-googletest)
- [Troubleshooting Common Setup Issues](/getting-started/troubleshooting-faq-support/common-setup-errors)
- [gMock for Dummies](docs/gmock_for_dummies.md) - Learn mocking basics to understand expected mock behaviors
- [Mocking Reference](docs/reference/mocking.md) - Deep dive into mocking APIs and macros

---

*This guide is part of the GoogleTest change log documentation to assist developers in upgrading smoothly while understanding the impact of key breaking changes focused on C++17 adoption, new dependencies, and platform integrations.*