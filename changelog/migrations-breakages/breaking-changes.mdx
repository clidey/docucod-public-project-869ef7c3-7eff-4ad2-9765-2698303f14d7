---
title: "Breaking Changes"
description: "An explicit listing of backward-incompatible changes, major deprecations, and removed features, with actionable impact summaries for each. Users learn which updates may affect existing tests or integrations and how to adapt."
---

# Breaking Changes

Welcome to the Breaking Changes page — your central resource for understanding any *backward-incompatible updates*, *major deprecations*, and *removed features* in the Googletest and GoogleMock libraries. This page is designed to alert you to changes that could affect your existing tests or integrations and empower you with clear, actionable guidance on how to adapt seamlessly.

---

## Understanding Breaking Changes

Breaking changes are modifications in the APIs, behaviors, or features of the framework that require your attention to maintain compatibility. They may force you to update your test code, adjust mocks, or refactor test fixtures to align with the new expectations.

This page exclusively lists such breaking changes with *explicit impact summaries* and practical instructions so you can quickly assess their relevance and migrate without disruption.

---

## How This Page Fits Into the Documentation

The Breaking Changes page complements adjacent documentation such as:

- The **Version History** and **Migration Guides** in the Changelog, which provide comprehensive release timelines and upgrade steps.
- Guides covering **Mock Object Basics** and **Expectations and Actions**, which deepen your understanding of mock behavior adjustments that sometimes result from breakages.
- The **API Reference** sections, detailing newly introduced or modified interfaces.

Together, this helps you holistically navigate the evolution of GoogleTest and GoogleMock.

---

## Recent Breaking Changes Overview

### Avoid Underscore (`_`) in Test Suite and Test Names

Effective immediately, test suite names and test names must avoid using underscores (`_`) due to reserved identifiers interference. This prevents naming collisions and undefined behavior caused by internal class name generation patterns.

**Impact:**

- Names containing leading or trailing underscores, or consecutive underscores internally, may cause compilation errors or erratic test failures.

**What to do:**

- Rename your `TEST` and `TEST_F` suites and tests to exclude underscores.
- Preferred naming style avoids underscores on both ends and does not include consecutive underscores anywhere.

**Example:**

```cpp
// Avoid this:
TEST(Time_Flies, Like_An_Arrow) { ... }

// Use this instead:
TEST(TimeFlies, LikeAnArrow) { ... }
```

---

### Using `NULL` Instead of `nullptr` in Assertions

GoogleTest continues to support `EXPECT_EQ(NULL, ptr)` and `ASSERT_EQ(NULL, ptr)` but *does not* support `EXPECT_NE(NULL, ptr)` or `ASSERT_NE(NULL, ptr)`.

**Impact:**

- Using `NULL` in `EXPECT_NE` or `ASSERT_NE` may yield unexpected behavior or compilation issues.

**What to do:**

- Adopt `nullptr` in all assertions, e.g. `EXPECT_NE(ptr, nullptr)` and `ASSERT_NE(ptr, nullptr)`.
- This is consistent with modern C++ best practices and avoids template quirks.

---

### Default and Derived Test Fixtures Changes

Test fixtures can now be derived from other fixtures, sharing setup and teardown logic more effectively.

**Impact:**

- Only one test suite can utilize a given fixture class.
- When deriving, ensure you properly call base class `SetUp()` and `TearDown()` to maintain test lifecycle integrity.

**Best practice example:**

```cpp
class BaseTest : public ::testing::Test {
 protected:
  void SetUp() override { /* base setup */ }
  void TearDown() override { /* base teardown */ }
};

class DerivedTest : public BaseTest {
 protected:
  void SetUp() override {
    BaseTest::SetUp();
    // additional setup
  }
  void TearDown() override {
    // additional teardown
    BaseTest::TearDown();
  }
};

TEST_F(DerivedTest, SampleTest) { ... }
```

---

## Detailed List of Known Breaking Changes

### Deprecated Behavior in Assertion Placement

GoogleTest now enforces that `ASSERT_*` macros should only be used in `void` returning functions. Using them in constructors or destructors is disallowed.

**Solution:**

- Migrate assertion code within constructors and destructors into `SetUp()` and `TearDown()` methods, respectively.

### Death Tests Execution Model

Death tests run in child processes; as a result, any side effects in the death test are local to the child and do not propagate to the parent process.

**Implication:**

- Avoid relying on shared side effects post death test execution in your test program.

### Naming Restrictions on Fixtures and Tests

Test suites and fixtures must avoid conflicting names in different namespaces that cause runtime errors due to fixture mismatch.

**Example of disallowed code:**

```cpp
namespace foo {
class CoolTest : public ::testing::Test {};
TEST_F(CoolTest, DoSomething) { ... }
}

namespace bar {
class CoolTest : public ::testing::Test {};
TEST_F(CoolTest, DoSomething) { ... }
}
```

**Solution:**

- Ensure unique test suite names or use fully qualified names carefully.

---

## Migration Tips & Best Practices

- **Review test and suite names** to eliminate underscores and reserved identifiers.

- **Prefer `nullptr` over `NULL`** in assertions for pointer comparisons.

- **Refactor any assertion logic from constructors and destructors** into `SetUp()` and `TearDown()` methods.

- **Derive fixtures carefully** and call base class setup/teardown to maintain test integrity.

- Separate death test logic clearly and do not expect side effects to survive across death test boundaries.

- Use the latest GoogleTest and GoogleMock releases to keep aligned with known breaking change resolutions.

---

## Troubleshooting Common Issues

- **Compile errors after upgrading?** Check test and suite names for illegal underscores or reserved patterns.

- **Unexpected mock failures?** Validate if expectations or default actions rely on deprecated or removed features.

- **Death test side effects missing?** Remember death tests run in a subprocess; move related expectations inside the `EXPECT_DEATH` macro.

- **“No matching function” errors?** Ensure default constructors exist for fixtures and mock classes.

---

## Stay Updated

For a full chronological history and detailed migration guides, consult the following pages:

- [Version History](../releases-highlights/version-history)
- [Migration & Upgrade Guides](../migrations-breakages/migration-guides)

Regularly reviewing these will keep your test suite forward compatible and free from surprises.

---

## Helpful Links

- [GoogleTest FAQ](../faq/common-questions/what-is-googletest)
- [GoogleMock Cookbook](../gmock_cook_book)
- [Mocking Reference](../mocking_api/mock_object_basics)
- [Using Mocks Guide](../guides/core-workflows/using-mocks)
- [Assertions API](../test_framework_api/assertions)

---

We are committed to supporting your continuous testing journey with clarity and robustness. Please review this page whenever upgrading to a new Googletest or GoogleMock version to proactively manage breaking changes and keep your tests resilient.