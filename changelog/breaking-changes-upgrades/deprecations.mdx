---
title: "Deprecation Notices"
description: "A curated list of features, APIs, and practices that are scheduled for removal. Includes timelines, alternatives, and steps to migrate from deprecated functionalityâ€”empowering users to proactively update their codebases."
---

# Deprecation Notices

GoogleTest continuously evolves to improve its usability, maintainability, and performance. With this progress, certain features, APIs, and macros become deprecated as newer, better alternatives are introduced. This page provides a curated list of such deprecated components, clearly indicating planned removal timelines, recommended alternative approaches, and step-by-step migration guidance to help you keep your test codebase up to date and stable.

---

## Understanding Deprecation in GoogleTest

Deprecation signals an intentional phase-out of a feature or API. While deprecated elements remain available for some time to provide users with a smooth transition, continuing to use deprecated APIs is discouraged as they may be removed in future major releases.

The goals of deprecation include:

- Encouraging adoption of improved interfaces or patterns.
- Reducing maintenance burden by removing outdated or redundant code.
- Enabling introduction of new capabilities without breaking backward compatibility prematurely.

## Key Deprecated Features and APIs

### Test Case API

- **What:** The older API terminology and macros using "TestCase" instead of "TestSuite" (e.g., `TYPED_TEST_CASE`, `REGISTER_TYPED_TEST_CASE_P`, `INSTANTIATE_TEST_CASE_P`) are deprecated.
- **Why:** To align terminology with modern testing lexicon and reduce confusion.
- **Timeline:** Deprecated as of earlier GoogleTest versions, planned for removal in future major releases.
- **Migration:** Switch to the newer `TYPED_TEST_SUITE`, `REGISTER_TYPED_TEST_SUITE_P`, and `INSTANTIATE_TEST_SUITE_P` macros.

#### Migration Example
```cpp
// Deprecated
TYPED_TEST_CASE(FooTest, MyTypes);
REGISTER_TYPED_TEST_CASE_P(FooTest, DoesBlah);
INSTANTIATE_TYPED_TEST_CASE_P(My, FooTest, MyTypes);

// Recommended
TYPED_TEST_SUITE(FooTest, MyTypes);
REGISTER_TYPED_TEST_SUITE_P(FooTest, DoesBlah);
INSTANTIATE_TYPED_TEST_SUITE_P(My, FooTest, MyTypes);
```

### Legacy MOCK_METHODn Macros

- **What:** The `MOCK_METHODn` family of macros (e.g., `MOCK_METHOD0`, `MOCK_CONST_METHOD1`) predates the unified `MOCK_METHOD` macro.
- **Why:** The unified `MOCK_METHOD` macro simplifies mocking by providing a consistent syntax.
- **Timeline:** Support retained but discouraged; users should migrate as soon as convenient.
- **Migration:** Replace all `MOCK_METHODn` and `MOCK_CONST_METHODn` macros with `MOCK_METHOD`.

#### Migration Example
```cpp
// Legacy
MOCK_METHOD1(Foo, bool(int a));
MOCK_CONST_METHOD1(Bar, int(const std::string& s));

// Modern
MOCK_METHOD(bool, Foo, (int a));
MOCK_METHOD(int, Bar, (const std::string& s), (const));
```

### Legacy TestSuite Names

- **What:** Usage of underscores in test suite or test names is discouraged.
- **Why:** Underscores can cause ambiguity and are inconsistent with internal naming conventions.
- **Timeline:** No immediate removal, but strongly advised against in new tests.
- **Migration:** Rename test suite and test names to use CamelCase without underscores.

### Legacy Use of `SetUpTestCase` and `TearDownTestCase`

- **What:** These methods have been replaced by `SetUpTestSuite` and `TearDownTestSuite`.
- **Why:** Consistent naming and clearer semantic intent.
- **Timeline:** Deprecated but currently still functional.
- **Migration:** Rename methods in test fixtures accordingly.

### Deprecated Macros to Avoid Defining

- Flags like `GTEST_DONT_DEFINE_FAIL`, `GTEST_DONT_DEFINE_TEST` for renaming macros to avoid clashes are supported but discouraged.

---

## Migration Guidance

### Step-by-Step Migration Approach

1. **Audit Your Tests:** Identify all usage of deprecated macros, APIs, and naming conventions in your test source files.
2. **Plan for Update:** Prioritize updating high-usage or critical code areas first to avoid issues during migration.
3. **Replace Deprecated Macros:** Use the newer alternative macros and function names.
4. **Run Tests Frequently:** Validate your changes regularly to catch regressions early.
5. **Update CI/CD Configs:** Ensure your continuous integration pipelines are aware of new compiler flags or tools required by updated GoogleTest versions.
6. **Remove Deprecated Code:** Over time, clean out deprecated features as support is phased out.

<Tip>
Always back up your code or work in a separate branch when undertaking widespread API migrations to avoid unintended disruptions.
</Tip>

### Common Pitfalls

- Forgetting to update both the test suite macros and the fixture method names simultaneously.
- Using deprecated mocking macros inconsistently across test files.
- Neglecting to rename tests which causes conflicts or compilation errors.

### Example Migration Flow
```cpp
// Before
class FooTest : public testing::Test {
protected:
  static void SetUpTestCase() { /* ... */ }
  static void TearDownTestCase() { /* ... */ }
};

TYPED_TEST_CASE(FooTest, MyTypes);

MOCK_METHOD1(DoSomething, bool(int));

// After
class FooTest : public testing::Test {
public:
  static void SetUpTestSuite() { /* ... */ }
  static void TearDownTestSuite() { /* ... */ }
};

TYPED_TEST_SUITE(FooTest, MyTypes);

MOCK_METHOD(bool, DoSomething, (int));
```

---

## Removal Timelines

GoogleTest aims for backward compatibility but reserves the right to remove deprecated features in major version upgrades. It is strongly recommended to migrate your codebase to avoid disruption when upgrading.


## Alternatives and New Best Practices

- Prefer `TYPED_TEST_SUITE` over `TYPED_TEST_CASE`.
- Use the unified `MOCK_METHOD` macro with proper qualifiers.
- Adopt CamelCase naming for test suites and tests.
- Declare `SetUpTestSuite` and `TearDownTestSuite` as public if using `TEST_P` or typed tests.

## Additional Resources

- [GoogleTest Test Registration & Execution](https://google.github.io/googletest/api/gtest_core_test.html)
- [GoogleMock Mock Classes & Methods](https://google.github.io/googletest/api/gmock-nice-strict.html)
- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)
- [GoogleTest Primer](https://google.github.io/googletest/primer.html)

---

## Troubleshooting Deprecated API Usage

If you encounter compiler warnings or errors related to deprecated elements:

- **Check Logs Carefully:** They often suggest the new macro or method to use.
- **Consult Migration Guides:** Refer to the official migration patterns above.
- **Use Search Tools:** Find all occurrences in your codebase with tools like grep or IDE features.
- **Run Static Analysis:** Tools may help reveal deprecated usage.

## Maintaining Forward Compatibility

- Regularly update your GoogleTest dependency to stay aligned with latest versions.
- Write tests using current best practices.
- Avoid patching or patch-based customizations on deprecated code paths.
- Monitor official release notes and changelogs for upcoming removals.

---

## Summary

This page empowers you to proactively identify and migrate from deprecated GoogleTest features and APIs. By following the timelines and migration guidance outlined here, you can ensure your test suites remain robust, maintainable, and compatible with future GoogleTest releases.

<Tip>
Stay connected to the GoogleTest community and documentation updates to smoothly navigate deprecations and adopt improvements.
</Tip>
