---
title: "Maintenance and Policy Updates"
description: "Documents non-functional changes such as supported platforms or compiler policies, continuous integration updates, and dependency changes so users are always aware of the evolving ecosystem."
---

# Maintenance and Policy Updates

This documentation outlines non-functional changes impacting the GoogleMock (gMock) ecosystem, specifically those affecting supported platforms, compiler policies, continuous integration configurations, and dependency management. Keeping up with these updates ensures your testing environment remains compatible, reliable, and efficient as GoogleMock evolves.

---

## 1. Supported Platforms and Compiler Policies

GoogleMock maintains broad compatibility across major platforms and compilers, but this is subject to continuous refinement as modern standards evolve.

### 1.1 Platform Support Updates
- **Operating Systems:** Support continues for Linux, macOS, Windows, and various Unix systems, with ongoing validation on embedded and less common platforms.
- **Compiler Compatibility:** Requires C++17 or later standard compliance. Officially tested with recent versions of GCC, Clang, and MSVC.
- **Threading:** Assumes standard threading support (e.g., pthreads on POSIX, Windows threads).

### 1.2 Compiler Behavior and Policies
- Enforcement of modern C++ rules in mocks (e.g., virtual destructors, proper mock method declarations).
- Avoidance of legacy macros when possible; prefer new `MOCK_METHOD` macro with appropriate qualifiers.
- Recommendations to wrap parameter types containing commas in parentheses or use type aliases to ensure macro parsing correctness.

<Tip>
Always verify your compiler flags enforce at least C++17 standard compliance and handle exceptions and RTTI as required by your testing strategy.
</Tip>

## 2. Continuous Integration (CI) and Build System Updates

To keep GoogleMock smoothly integrated in CI pipelines and build systems, the following maintenance changes have been introduced:

### 2.1 CMake Integration Enhancements
- Updated CMake scripts adjust compiler and linker settings for better hermetic builds.
- Added more robust include directory management to ensure compatibility with the latest GoogleTest and GoogleMock structures.
- Introduction of options such as `gmock_build_tests` to enable or disable building GoogleMock's internal test suite during CI.
- Enhanced support for shared/static library configurations.

### 2.2 Dependency and Version Management
- The `.pc.in` pkg-config templates properly tie `gmock` versions to `gtest` versions, ensuring consistency.
- Threading libraries are auto-checked and included appropriately based on the platform and build configuration.

<Tip>
Automate continuous integration builds using the recommended CMake configuration options to catch integration issues early, and regularly update pinned versions to maintain ecosystem consistency.
</Tip>

## 3. Dependency and Ecosystem Evolution

GoogleMock is tightly coupled with GoogleTest; hence, dependency updates primarily revolve around synchronizing with GoogleTest's releases and evolving the framework's internal dependencies.

### 3.1 Dependency Synchronization
- GoogleMock uses GoogleTest as a prerequisite. Ensure dependency versions match precisely to avoid symbol conflicts.
- Threading and platform-related libraries are dynamically detected and linked.

### 3.2 External Integrations
- Maintained compatibility with popular build tools and CI services.
- Documentation and scripts continuously updated to reflect external toolchain changes.

## 4. Practical Tips and Recommendations

- Review your build and CI scripts when upgrading GoogleMock versions to adjust for platform and dependency changes.
- Use `MOCK_METHOD` macro judiciously with the correct qualifiers (`const`, `override`, `Calltype`, `ref`) to ensure mock correctness and maintainability.
- Pay attention to warnings and errors related to uninteresting or unexpected mock calls to diagnose strictness policies.
- Leverage control flags such as `--gmock_verbose` and `Mock::AllowLeak` in CI to manage verbosity and resource cleanup.

## 5. Troubleshooting Common Issues

<AccordionGroup title="Common CI and Build Issues in Maintenance">
  <Accordion title="Linker Errors due to Version Mismatches">
  Mismatched versions of GoogleTest and GoogleMock can lead to linker failures. Ensure your dependencies are consistent, preferably managing them through CMake's FetchContent or external dependency managers.
  </Accordion>
  <Accordion title="Unhandled Compiler Warnings and Errors">
  Strict compiler policies might cause build failures for non-compliant mocks. Audit your mock declarations and avoid deprecated macros; use `MOCK_METHOD` with correct parameters.
  </Accordion>
  <Accordion title="Threading and Runtime Library Conflicts">
  On Windows, runtime library mismatches (e.g., static vs dynamic CRT) may cause issues. Align your build settings accordingly.
  </Accordion>
</AccordionGroup>

## 6. References and Further Reading

- [gMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html) — Recipes and detailed mock usage.
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html) — Comprehensive API for mocking.
- [Installation with CMake](../getting-started/installation-and-configuration/installing-googletest-cmake) — Integration guidance.
- [Supported Platforms & Toolchains](../overview/integration-and-ecosystem/supported-platforms) — Current compatibility matrix.
- [Continuous Integration Integration Guide](../guides/advanced-and-integrations/integrating-with-build-systems) — Best practices and configuration.

---

This page is a critical resource to stay current with non-functional changes in GoogleMock, enabling users to maintain reliable and robust test environments in the face of evolving platforms, compiler behaviors, and build integrations.
