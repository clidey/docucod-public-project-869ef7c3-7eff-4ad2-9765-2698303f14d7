---
title: "Deprecation Notices"
description: "Lists APIs, features, or behaviors scheduled for deprecation, with recommendations for alternatives and timelines for removal. This supports proactive maintenance and stable long-term adoption."
---

# Deprecation Notices

This documentation page lists APIs, features, and behaviors within GoogleTest and GoogleMock that are scheduled for deprecation. It offers clear recommendations on alternatives and timelines for eventual removal, empowering users to maintain forward compatibility and ensure stable, long-term test suite adoption.

---

## Understanding Deprecation in GoogleTest

Deprecation signals that certain APIs or behaviors are outdated and will be removed in future releases. These notices encourage users to migrate to improved or safer alternatives while maintaining test code stability.

By proactively addressing deprecations, developers avoid surprises during upgrades and ensure their tests continue to compile and run correctly.

---

## Common Types of Deprecations

- **Legacy Macros and Interfaces**: Older macros such as `MOCK_METHODn` (e.g., `MOCK_METHOD1`, `MOCK_CONST_METHOD1`) are superseded by the unified `MOCK_METHOD` macro. Users should update to the modern macro for cleaner code and better support.

- **Behavior Modes and Defaults**: Default behaviors of mocks regarding uninteresting calls and warnings might change as part of deprecation. Users are advised to adopt explicit behavior modes (`NiceMock`, `StrictMock`, `NaggyMock`) and explicit expectations.

- **Removed or Changed Features**: Certain practices or older mock method patterns may be deprecated. Users need to review release notes and migrate accordingly.

---

## Recommended Migration Practices

1. **Transition to New Macros and APIs**
   - Replace old `MOCK_METHODn` macros with `MOCK_METHOD`.
   - Use available qualifiers such as `const`, `override`, and `Calltype` explicitly.
   - Wrap types with parentheses if they contain commas or create type aliases to improve clarity.

2. **Clarify Mock Behavior Modes**
   - To avoid unwanted warnings or errors, explicitly define mock behavior modes by wrapping your mock class in `NiceMock` or `StrictMock` as appropriate.
   - Use `EXPECT_CALL` statements with well-defined cardinalities to precisely describe expected interaction.

3. **Adjust to Changes in Default Actions**
   - If you relied on implicit default actions or values, review and explicitly set actions with `ON_CALL`.
   - Update tests where default return values for certain types may differ.

4. **Handle Move-Only Types Properly**
   - Use the modern `MOCK_METHOD` macro that supports move-only types such as `std::unique_ptr`.
   - Avoid legacy workarounds that delegate to alternate mock methods.

5. **Use `Mock::VerifyAndClearExpectations` and `Mock::AllowLeak` as Intended**
   - For tests that require early verification or to suppress false leak warnings, use these functions following their documented protocols.

6. **Consult Breaking Changes and Upgrade Guides**
   - Review the dedicated [Breaking Changes](../breaking-changes.md) and [Upgrade Guides](../upgrade-guides.md) documentation for detailed migration instructions and explanations.

---

## Timeline and Removal

Deprecated features remain available for a transition period but may be removed in subsequent major releases. Users are encouraged to update their code promptly to:

- Ensure compatibility with the latest versions.
- Leverage improvements in API safety and usability.
- Avoid buildup of obsolete code that complicates maintenance.

---

## Practical Tips

- Always place `MOCK_METHOD` definitions in the `public:` section of your mock classes, regardless of the base class access specifiers.
- If you encounter warnings about uninteresting calls, consider using `NiceMock` or explicitly allowing calls with `EXPECT_CALL(...).Times(AnyNumber())` rather than suppressing via undocumented hacks.
- Use `WillOnce` and `WillRepeatedly` clauses effectively to match your test logic, keeping expectations clear and minimizing surprise behaviors.
- When mocking overloaded methods, disambiguate using `Const()` or explicit type matchers.

---

## Troubleshooting Deprecation-related Issues

- **Compilation Errors on Macro Usage**: Often caused by deprecated `MOCK_METHODn` macros or incorrect parentheses around complex types. Replace macros and wrap type arguments correctly.

- **Unexpected Warnings or Failures About Mock Calls**: These may result from changes in mock behavior modes. Review mock usage and set explicit behavior modes.

- **Failure Messages Due to Mismatched Expectations**: Review usage of `EXPECT_CALL` and `ON_CALL`; implicit defaults might have changed.

- **Issues with Move-Only Types**: Update to the latest mock macro and avoid legacy delegation patterns.

For more detailed help, consult the [Mocking FAQ](../../faq/getting-started-issues/mocking-specific-questions.md) and [Breaking Changes](../breaking-changes.md).

---

## Related Documentation

| Document Title                                       | Description
| ---------------------------------------------------|-------------------------------------------------------------
| [Breaking Changes](../breaking-changes.md)          | Explains recent breaking changes with guidance.
| [Upgrade Guides and Migration Tips](../upgrade-guides.md) | Step-by-step advice on upgrading between major versions.
| [Mocking Reference](../../api-reference/mocking-framework-api/defining-mocks.md)     | Details on defining mocks, including new macros and best practices.
| [Best Practices](../../guides/real-world-practices/best-practices.md)                 | Recommendations for robust mocking and testing.
| [Legacy gMock FAQ](../../docs/gmock_faq.md)                         | Answers to common issues, including deprecation related questions.

---

## Summary

Deprecations in GoogleTest and GoogleMock prepare users for upcoming changes by flagging outdated APIs and behaviors. This documentation empowers developers to navigate these transitions smoothly by adopting modern macros, clearly defining mock behaviors, and leveraging official upgrade guidance.

---

_For additional ongoing updates and detailed change history, please visit the [Version History](../release-history/version-history.md) and [Changelog Overview](../release-history/latest-release-overview.md)._

---