---
title: "External Dependencies & Integration Changes"
description: "Tracks new or changed dependencies (e.g., Abseil adoption), notable integration API shifts, and ecosystem compatibility notes that might impact downstream automation or packaging."
---

# External Dependencies & Integration Changes

This page details recent updates and changes in external dependencies, integration APIs, and ecosystem compatibility that affect GoogleTest users, downstream automation, and packaging workflows. Keeping abreast of these changes ensures smooth upgrades and optimal integration within your build and CI pipelines.

---

## 1. Adoption of Abseil Dependencies

Starting with upcoming releases, GoogleTest plans to adopt [Abseil](https://github.com/abseil/abseil-cpp) libraries as dependencies, impacting linkage and runtime behavior.

### What This Means for You

- **C++17 Requirement**: As of version 1.17.0, GoogleTest requires a C++17 compiler standard, aligning with Abseilâ€™s modern C++ usage.
- **Optional Abseil Integration Flag**: The CMake option `GTEST_HAS_ABSL` controls whether Abseil and RE2 are linked. When enabled, dependencies on `absl::base` and `re2::re2` are required and will be fetched by the build system if not present.

```cmake
option(GTEST_HAS_ABSL "Use Abseil and RE2. Requires Abseil and RE2." OFF)
if(GTEST_HAS_ABSL)
  find_package(absl REQUIRED)
  find_package(re2 REQUIRED)
endif()
```

- **Migration Impact**: Downstream projects should be prepared to accommodate these dependencies, update packaging manifests, and verify compatibility with their build tools.

<Tip>
Enable the `GTEST_HAS_ABSL` option in CMake only after ensuring Abseil and RE2 dependencies are resolved to avoid build failures.
</Tip>

## 2. Integration API and Build System Notes

### CMake Support and Build Targets

- GoogleTest provides community-based CMake build support.
- Targets such as `gtest`, `gtest_main`, `gmock`, and `gmock_main` now reflect updated dependency relationships, especially when using Abseil.

### Bazel and Other Build Systems

- While CMake is emphasized for installation, Bazel remains a supported and often recommended build system, aligning with Google's internal CI.
- Integration with package managers and custom build systems requires explicit handling of the new dependency chain involving Abseil.

<Tip>
Review your CI pipelines and build scripts to ensure they specify the correct dependency versions and flags, especially the C++17 requirement and optional Abseil linkage.
</Tip>

## 3. Ecosystem Compatibility and Platform Support

- **C++ Language Standard**: Minimum standard is now C++17, documented in the release notes and system requirements.
- **Supported Platforms & Toolchains**: Updates have been made to platform detection macros and threading support aligned with foundational C++ support policies.
- **Threading Macros**: Build flags such as `@GTEST_HAS_PTHREAD_MACRO@` are ensured to reflect platform-specific threading capabilities.

### Practical Tips

- Check your compiler and platform versions against the [Supported Platforms list](https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md) to guarantee compatibility.
- Validate that thread-related macros and platform-specific definitions are honored in your build environment.

## 4. Implications for Downstream Automation and Packaging

### Packaging Guidelines

- Update package manifests to declare dependencies on Abseil and RE2 if `GTEST_HAS_ABSL` is enabled.
- Version pins should consider GoogleTest's current release (minimum 1.17.0) for correct compatibility.

### Continuous Integration

- Google's internal CI uses custom systems reflecting these dependency changes; external users should adjust CI pipelines accordingly.
- Integration of GoogleTest with CI tools like Jenkins, GitHub Actions, or others should confirm the presence of required dependencies and compatible compiler standards.

## 5. Troubleshooting Common Integration Issues

If integration or build failures occur related to dependencies or platform support, consider the following:

- **Build Errors on Abseil Components**: Verify Abseil and RE2 installations and CMake `find_package` configurations.
- **Compiler Version Issues**: Confirm your compiler supports C++17 and the necessary platform-specific thread libraries.
- **Linker Errors with New Libraries**: Ensure linker flags include Abseil and RE2 libraries when using `GTEST_HAS_ABSL`.
- **Platform Macro Misalignments**: Check for proper definition of threading macros and consistent use of platform detection.

<Warning>
Do not ignore the minimum C++17 requirement starting from version 1.17.0; attempting to build under older standards will lead to subtle or explicit compilation failures.
</Warning>

## 6. Additional Resources and Related Documentation

- **GoogleTest Release 1.17.0 Notes**: https://github.com/google/googletest/releases/tag/v1.17.0
- **Supported Platforms & Toolchains**: /changelog/support-compatibility/supported-platforms-updates
- **Migration & Upgrade Guide**: /changelog/breaking-changes-guidance/migration-upgrade-guide
- **Installing with CMake**: /getting-started/installation-initialization/install-cmake
- **Integration & Ecosystem Overview**: /overview/framework-architecture-concepts/integration-and-dependencies

---

By understanding and adapting to these external dependency changes and integration updates, you will ensure reliable builds, accurate testing outcomes, and smooth maintenance of your GoogleTest-based test suites in evolving environments.
