---
title: "Deprecations & Sunset Policies"
description: "A living list of deprecated features, APIs, and patterns, with clear timelines and suggested alternatives. This reference gives users ample warning—helping them phase out at-risk approaches and align with the project’s roadmap."
---

# Deprecations & Sunset Policies

GoogleTest maintains a clear and proactive policy around deprecated features, APIs, and usage patterns. This page serves as a living reference for all such deprecated elements, their timelines, and recommended migration paths, empowering you to align your code with the evolving GoogleTest ecosystem smoothly and confidently.

---

## Purpose and Value

**Why deprecations matter:**
- Deprecations give clear signals about features and APIs that are no longer recommended or supported.
- They provide timely warnings to migrate away from at-risk components before removal.
- Following deprecation guidance ensures your tests remain stable, maintainable, and compatible with future GoogleTest releases.

This reference page captures deprecations comprehensively and transparently, with concrete timelines and recommended alternatives.

---

## Understanding GoogleTest’s Deprecation Policy

GoogleTest strives for stable APIs and backward compatibility, but sometimes breaking changes are necessary to improve usability, security, or performance. The [Deprecation Policy](./deprecation-notices) explains the guiding principles:

- **Advance Notice:** Features are deprecated well before removal, typically across several minor releases.
- **Clear Communication:** Deprecations are conveyed via documentation, release notes, and compiler warnings when applicable.
- **Migration Support:** Alternatives, migration guides, and upgrade checklists accompany all deprecations.
- **Sunset Timelines:** Each deprecated feature has a sunset deadline after which it may be removed.

---

## Key Deprecated Features & APIs

### 1. Legacy `MOCK_METHODn` Macro Family

- **Status:** Deprecated in favor of the unified `MOCK_METHOD` macro introduced in 2018.
- **Why:** The old macros (`MOCK_METHOD0`, `MOCK_CONST_METHOD1`, etc.) have inconsistent syntax and less flexibility.
- **Timeline:** Marked deprecated since GoogleTest v1.8.0; scheduled for removal in a future major release.
- **Migration Path:** Convert usages to `MOCK_METHOD(ReturnType, MethodName, (Args...), (Qualifiers))`.

Example migration:

```cpp
// OLD style
MOCK_CONST_METHOD1(GetValue, int());

// NEW style
MOCK_METHOD(int, GetValue, (), (const, override));
```

Please consult the [Mock Class Definition and MOCK_METHOD Macros](../api-reference/mocking-framework/mock-class-definition) page for detailed guidance.

### 2. NaggyMock Wrapper

- **Status:** Discouraged usage; `NaggyMock<T>` is the default mock behavior, but explicit use is deprecated.
- **Why:** Encourages spurious warnings from uninteresting mock calls, leading to verbose and brittle test output.
- **Timeline:** Deprecated since v1.10.0; no immediate removal but replaced by encouraging `NiceMock<T>` or explicit expectations.
- **Migration Path:** Prefer `NiceMock<T>` to suppress uninteresting call warnings or use `StrictMock<T>` to treat uninteresting calls as errors.

Example:

```cpp
using ::testing::NiceMock;
NiceMock<MockClass> mock;
EXPECT_CALL(mock, DoSomething());
...
```

### 3. `GTEST_SKIP()` Support for Test Skipping

- **Prior to v1.10.00:** Skipping tests was not natively supported.
- **Current:** `GTEST_SKIP()` macro is available and encouraged.
- **Advisory:** Avoid older workarounds that rely on conditional failures.

Example:

```cpp
TEST(FooTest, Bar) {
  if (!EnvSupportsFeature()) {
    GTEST_SKIP() << "Skipping due to unsupported environment";
  }
  ...
}
```

### 4. Deprecated Macros or Flags

- Some compiler flags or internal macros may be deprecated as GoogleTest evolves.
- Always check release notes for any macro or flag removals or changes.

---

## Sunset Timelines

| Deprecated Feature         | Deprecated since | Planned Removal | Suggested Alternative                         |
|----------------------------|------------------|-----------------|----------------------------------------------|
| `MOCK_METHODn` family       | v1.8.0           | Future major    | `MOCK_METHOD` unified macro                   |
| `NaggyMock<T>` explicit use| v1.10.0          | TBD             | `NiceMock<T>` or explicit expectations       |

*Note:* Some deprecated features remain available in maintenance releases until thorough migration support is provided.

---

## Migration Guidance & Best Practices

To ease your transition, GoogleTest offers:

- **Migration Guides:** Step-by-step instructions on moving from deprecated to current features.
- **Compiler Warnings:** Enabling warnings helps identify deprecated uses in your code.
- **Alternative APIs:** Clear suggestions and examples for new recommended approaches.
- **Testing Tips:** How to use `NiceMock`, `StrictMock`, and idiomatic `EXPECT_CALL` patterns for robust tests.

Always refer to the [Safe Upgrade Checklist](./upgrade-checklist) and [Breaking Changes & Major Migrations](./breaking-changes) pages before upgrading GoogleTest versions to anticipate necessary adjustments.

---

## Practical Tips

- Regularly review this page and release notes when upgrading.
- Use static analysis and compiler warnings to catch deprecated usages early.
- Start new tests with the latest recommended APIs to avoid future migrations.
- Avoid internal or unsupported features that are prone to breaking.

---

## Troubleshooting Deprecation-Related Issues

### Common Pain Points

- **Unexpected warnings about deprecated macros or mocks:** Ensure your code uses current macros like `MOCK_METHOD` and avoid deprecated wrappers.
- **Tests breaking after upgrade:** Follow migration guides carefully; review expectations setup on mocks.
- **Confusion over mock strictness modes:** Learn differences among `NiceMock`, `NaggyMock`, and `StrictMock` to choose appropriately.

### Solutions

- Convert old `MOCK_METHODn` usages to the current `MOCK_METHOD` syntax.
- Replace `NaggyMock` usages with `NiceMock` or configure expectations explicitly.
- Leverage the [Mocking Best Practices](../guides/real-world-workflows/mocking-best-practices) guide for advanced test design.
- Consult the [Troubleshooting FAQ](../faq/troubleshooting-usage/common-errors) for common build and runtime issues.

---

## Resources & Additional Guidance

- [Breaking Changes & Major Migrations](/changelog/migration-upgrade-guides/breaking-changes)
- [Deprecations & Sunset Policies](/changelog/migration-upgrade-guides/deprecation-notices)
- [Safe Upgrade Checklist](/changelog/migration-upgrade-guides/upgrade-checklist)
- [Mock Class Definition and MOCK_METHOD Macros](../api-reference/mocking-framework/mock-class-definition)
- [Mocking Best Practices](../guides/real-world-workflows/mocking-best-practices)
- [GoogleMock Cookbook](https://google.github.io/googletest/gmock_cook_book.html)
- [GoogleTest Release Timeline & Summary](/changelog/release-history/version-overview)

---

By systematically monitoring deprecated features and following recommended migration paths, you ensure your GoogleTest usage remains forward-compatible, efficient, and aligned with best practices for C++ testing.

<Note>
This page is continuously updated as new deprecations arise and older ones are retired. Always consult the latest online documentation for current advice.
</Note>