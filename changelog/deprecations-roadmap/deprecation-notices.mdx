---
title: "Deprecation Notices"
description: "Lists features, platform supports, or flags that are deprecated, including timelines for removal and suggested alternatives. Prepares users for upcoming changes with clear remediation steps."
---

# Deprecation Notices

This page provides important information about deprecated features, platform support, and flags in GoogleTest. It aims to prepare you for upcoming removals, helping you migrate smoothly to supported alternatives and avoid disruptions in your testing environment.

## Overview of Deprecations

Over time, GoogleTest evolves by deprecating outdated features or configurations to improve maintainability and modernize the framework. This page lists such deprecated elements, their timelines for removal, and guidance on alternative approaches you should adopt.

---

## Deprecated Features

### 1. Old-Style `MOCK_METHODn` Macros

- **Description:** The set of macros like `MOCK_METHOD0`, `MOCK_METHOD1`, ..., `MOCK_CONST_METHODn` used prior to 2018 for defining mock methods.

- **Status:** Deprecated in favor of the new, more versatile `MOCK_METHOD` macro.

- **Use Instead:** Use the unified `MOCK_METHOD` macro:

  ```cpp
  // Old style (deprecated)
  MOCK_METHOD1(Foo, bool(int));

  // New style
  MOCK_METHOD(bool, Foo, (int));
  ```

- **Reason:** The new macro simplifies syntax, better supports move-only types, and improves type safety.

- **Migration:** See [Migration and Upgrade Guides](changelog/migrations-breaking-changes/migration-guides) for detailed instructions.

---

### 2. Macros with Ambiguous Names

Some macros without the `GTEST_` prefix that can clash with other libraries are deprecated.

- **Examples:** Macros such as `TEST`, `ASSERT_EQ`, `EXPECT_TRUE`, etc. can cause conflicts if other libraries define the same macro names.

- **Alternative:** Define compiler flags like `-DGTEST_DONT_DEFINE_TEST=1` to avoid these clashes. This changes macro names to `GTEST_TEST`, `GTEST_ASSERT_EQ`, etc.

- **Recommendation:** Evaluate your build system and use alternative macro names if you encounter conflicts.

---

## Deprecated Platform Support

GoogleTest maintains support for many platforms but may deprecate support for platforms with limited or no active maintenance. Please refer to the [Supported Platforms](overview/features-integration/supported-platforms) documentation for current status.

- **Deprecation Alerts:** Platforms lacking modern C++17 compiler support or missing critical features like `pthread` might have reduced or deprecated support.

- **Action Required:** Upgrade your development environment or test platforms to supported versions to ensure compatibility.

---

## Deprecated Flags and Features

### 1. `--gtest_death_test_style="fast"`

- **Background:** The default death test style for many years.

- **Status:** Deprecated in favor of `threadsafe` style.

- **Recommendation:** Update test binaries to use `--gtest_death_test_style=threadsafe` for improved safety and reliability in multithreaded environments.

- **Setting This:** You can specify this flag programmatically or via the command line:

  ```cpp
  ::testing::GTEST_FLAG_SET(death_test_style, "threadsafe");
  ```

---

### 2. Environment Macros for Manual Platform Overrides

- Certain macros like `GTEST_HAS_CLONE`, `GTEST_HAS_PTHREAD`, etc., used for platform feature detection, are now automatically detected with better accuracy.

- **Deprecated Practice:** Manually specifying these can lead to inconsistent behavior and is discouraged.

- **Advice:** Rely on GoogleTest's automatic detection. Only override when absolutely necessary for unusual platforms.

---

## Timeline and Removal Plans

GoogleTest deprecates features with sufficient notice. Deprecated features will be removed in upcoming major releases.

- Expect the removal of old `MOCK_METHODn` macros and related legacy code in the next major GoogleTest release after v1.17.0.

- Platform deprecations will follow based on community feedback and compiler ecosystem shifts.

---

## Migration and Remediation Steps

To prepare for deprecated features and removals, consider the following:

- **Update Mock Macros:** Transition all mocks to use the modern `MOCK_METHOD` macro.

- **Use Namespaced Macros:** When conflicts arise, use the prefixed macros (e.g., `GTEST_TEST`) by defining flags to avoid clashes.

- **Change Death Test Style:** Switch from the `fast` death test style to `threadsafe` for better robustness.

- **Remove Manual Platform Macro Overrides:** Allow GoogleTest to auto-detect platform features unless specific issues arise.

- **Verify Your Build and Test Environment:** Ensure C++17 compliance and verify platform support according to current documentation.

---

## Additional Resources

- [Migration and Upgrade Guides](changelog/migrations-breaking-changes/migration-guides): Detailed help with upgrading and remediation.
- [Supported Platforms](overview/features-integration/supported-platforms): Current platform and compiler support.
- [Mocking Reference](docs/reference/mocking.md): Updated mock method definitions.
- [Death Tests Guide](guides/advanced-testing-patterns/death-tests.mdx): For death test style changes.
- [GoogleTest Primer](overview/introduction-value/what-is-googletest): Foundational understanding.

---

## Best Practices

- **Stay Current:** Regularly update to the latest stable GoogleTest releases to benefit from improvements and avoid deprecated features.

- **Review Release Notes:** Check changelogs and release notes to be aware of any deprecated features in your environment.

- **Refactor Gradually:** Plan migrations incrementally to minimize disruptions in large codebases.

- **Use Compiler Flags:** Leverage build flags to manage macro definitions and feature toggles consistently.

---

By adhering to the deprecation guidelines and using modern APIs, you ensure your tests remain maintainable, robust, and compatible with future GoogleTest versions.
