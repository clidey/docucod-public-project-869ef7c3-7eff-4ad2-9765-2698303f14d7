---
title: "Breaking Changes & Deprecations"
description: "Outlines any incompatible API or behavior changes, deprecated features, and notice periods. This page provides actionable information for users to identify potential issues before and after upgrading."
---

# Breaking Changes & Deprecations

This page serves as your essential guide to identifying and understanding any incompatible API or behavioral changes in GoogleTest and GoogleMock. It outlines deprecated features and their removal timelines, helping you anticipate potential issues that may arise during upgrades. By carefully reviewing this documentation, you will be empowered to plan your migration effectively, avoid disruptions, and maintain test suite stability.

---

## Understanding Breaking Changes

Breaking changes in GoogleTest and GoogleMock refer to modifications that may cause your existing test code to fail to compile, run improperly, or behave differently after upgrading to a new version. This includes:

- Incompatible API changes: removal or alteration of function signatures, macros, or classes.
- Changed or removed behaviors that affect test outcomes.
- Deprecated features that are no longer supported and will be removed in future versions.

### Why You Should Care

Ignoring breaking changes can lead to subtle bugs or outright test failures, which in turn can delay your development process. Being aware of and adapting to these changes ensures:

- Smooth upgrade paths.
- Preservation of test reliability.
- Taking advantage of modernized APIs and improvements without surprises.

## Deprecations and Their Impact

GoogleTest follows a clear policy on deprecation that includes prior notice periods before removal. Here is how deprecations impact you:

- **Deprecation Notice:** Features announced as deprecated are still available but are marked as such in the API and documentation.
- **Migration Period:** You are encouraged to transition your tests away from deprecated features.
- **Removal:** Deprecated features will be removed in upcoming major releases, requiring modifications to your test code.

## Identifying Breaking Changes Before Upgrading

When preparing to upgrade, we recommend the following user-centered workflow:

1. **Review Breaking Changes Documentation:** Check release notes and changelogs, especially the [Breaking Changes & Deprecations](#) page to identify any changes relevant to your test code.
2. **Evaluate Your Usage:** Analyze if your tests rely on deprecated or changed features.
3. **Update Your Tests:** Refactor or rewrite parts of tests to comply with new APIs or behaviors.
4. **Run Existing Tests Against New Version in a Controlled Environment:** To detect regressions early.
5. **Consult Migration Guides:** Follow any provided detailed migration instructions in the [Migration Guides & Upgrade Strategies](#) section.

## Common Types of Breaking Changes on This Page

- **API Signature Changes:** For example, modified parameters for macros like `EXPECT_CALL` or functions in GoogleMock.
- **Removal of Old Macros or Methods:** E.g., migration from old `MOCK_METHODn` macros to the generalized `MOCK_METHOD` macro.
- **Behavioral Changes in Matchers or Actions:** Adjustments in how matchers evaluate or actions execute.
- **Updated Default Behaviors:** Changes in default return values or mock object strictness.

## Best Practices for Handling Breaking Changes

- **Use Deprecated Features Judiciously:** Avoid new code using deprecated APIs to reduce future migration burden.
- **Leverage Automated Tools:** If available, use code analysis tools or compile-time warnings to detect deprecated usage.
- **Incremental Migration:** Tackle deprecations in phases rather than all at once.
- **Keep Your Mocks and Test Expectations Explicit:** This avoids surprises when underlying behavior changes.

## Troubleshooting Common Migration Issues

### Build Errors on Upgrading

- Verify that method signatures, qualifiers (`const`, `override`, etc.), and macro usages conform to the latest specifications.
- Wrap types containing commas in parentheses in `MOCK_METHOD`. For example:

  ```cpp
  MOCK_METHOD((std::pair<int, int>), GetPair, ());
  ```

- Update legacy `MOCK_METHODn` macros per migration guidelines.

### Unexpected Test Failures

- Check if the order or cardinality of expectations needs adjustment.
- Look for changed default actions or behaviors that may affect test logic.

### Migration Tips

- When mocking overloaded methods, explicitly specify qualifiers such as `(const, override)`.
- Use `RetiresOnSaturation()` on expectations where necessary to prevent sticky expectations causing failures.
- Use `NiceMock` or `StrictMock` wrappers to control warnings and errors on uninteresting calls.

## Deprecation Timeline and Notice Periods

GoogleTest announces deprecations well in advance, providing tooling support (compiler warnings, documentation markers) during the migration window. Features typically remain in the codebase for at least one major version after deprecation before removal.

Check this page and related release notes regularly during upgrade planning to stay up to date.

## Where to Find More Information

- [Migration Guides & Upgrade Strategies](#): Step-by-step instructions for adapting your code.
- [Release Overview & Timeline](#): To understand release cycles and feature removals.
- [Bug Fixes & Minor Updates](#): For smaller updates that may fix migration issues.
- [GoogleTest Primer](https://google.github.io/googletest/primer.html): To reinforce fundamentals.
- [Creating and Using Mocks](../guides/gmock-mocking-patterns/creating-mocks.md): Invaluable for adapting to mock API changes.

<Tip>
For a smooth upgrade, start testing your code against the latest release candidates early, and consult this page to keep breaking changes and deprecations top of mind.
</Tip>

---

## Summary

This page is your actionable reference to spot, understand, and manage breaking changes and deprecations in GoogleTest and GoogleMock. Its user-centric focus ensures you maintain test suite stability while benefiting from ongoing improvements.

---

## Additional Resources

- [GoogleTest Primer](https://google.github.io/googletest/primer.html)
- [gMock for Dummies Guide](../guides/gmock-mocking-patterns/creating-mocks.md)
- [Assertions Reference](../api_reference/core_testing_framework/assertions_and_predicates.md)
- [Mocking Reference](../api_reference/mocking_and_matchers/creating_and_using_mocks.md)
- [Changelog - Major Features](../changelog/version-highlights/major-features.md)
- [Migration Guides & Upgrade Strategies](#) (linked from Changelog)

Make sure to integrate this knowledge into your continuous integration and upgrade strategies to preempt and tackle compatibility challenges efficiently.


<Source url="https://github.com/google/googletest" branch="main" paths={[{"path": "docs/compatibility-migration/breaking-changes.md", "range": "all"}]} />