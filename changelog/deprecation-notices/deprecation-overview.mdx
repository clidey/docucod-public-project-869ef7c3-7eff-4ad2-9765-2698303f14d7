---
title: "Deprecation Notices"
description: "A running log of components, APIs, macros, or platforms slated for deprecation or removal. Each entry provides rationale, timelines, advice for alternatives, and references to the support policy and affected code locations."
---

# Deprecation Notices

This page maintains a running log of components, APIs, macros, or platforms within GoogleTest and GoogleMock that are slated for deprecation or removal. Each entry includes the rationale behind the deprecation, proposed timelines for phase-out, guidance for migrating to alternative approaches, and references to the support policy and affected code locations.

---

## Purpose of This Page

As GoogleTest evolves, certain features or interfaces become obsolete, either due to improvements in design, replacement by more robust alternatives, or changes in platform support. This page aims to keep users informed about such deprecations in a timely manner, helping teams plan their migration, avoid deprecated usage in new code, and maintain compatibility.

---

## Current Deprecation Entries

### 1. Old-Style MOCK_METHODn Macros

**Status:** Deprecated in favor of the new `MOCK_METHOD` macro (introduced in 2018).

**Rationale:**
- The newer `MOCK_METHOD` macro offers better type safety, easier syntax, improved maintainability, and supported qualifiers like `const` and `override`.
- The old macros (`MOCK_METHOD0`, `MOCK_METHOD1`, ..., `MOCK_CONST_METHODn`) are more error-prone and less flexible.

**Timeline:**
- The old macros remain supported but are discouraged.
- Users should prefer migrating to the new `MOCK_METHOD` macro for all new and existing mocks.

**Alternatives:**
- Use `MOCK_METHOD(return_type, method_name, (args...), (specs...))` for defining mock methods.

**References:**
- See [Mocking Reference - MOCK_METHOD](https://github.com/google/googletest/blob/main/docs/reference/mocking.md#mock_method)
- See [gMock Cookbook - Creating Mock Classes](https://google.github.io/googletest/gmock_cook_book.html#CreatingMockClasses)

---

### 2. Legacy Action and Matcher Macros

**Status:** Legacy `ACTION`, `ACTION_P`, `MATCHER`, `MATCHER_P` macro families are supported but superseded by more expressive functor-based and template-based alternatives.

**Rationale:**
- Functor-based actions and custom matchers provide better compiler error messages and flexibility.
- Legacy macro-based actions/matchers hide logic and generate harder to maintain code.

**Timeline:**
- Legacy macros remain usable but users are encouraged to adopt modern functor or class-based custom actions and polymorphic matchers.

**Alternatives:**
- Implement custom matchers and actions with the new functor or polymorphic API as detailed in the [Custom Actions and Matchers](https://github.com/google/googletest/blob/main/docs/api-reference/extension-apis/custom-actions.md).

**References:**
- [gMock Cookbook - Writing New Matchers Quickly](https://google.github.io/googletest/gmock_cook_book.html#WritingNewMatchers)
- [gMock Cookbook - Writing New Actions](https://google.github.io/googletest/gmock_cook_book.html#WritingNewActions)

---

### 3. Uninteresting Call Warnings Behavior

**Status:** The uninteresting call warnings default to "naggy" behavior.

**Rationale:**
- GoogleMock currently prints warnings on uninteresting calls to help catch overlooked missing expectations.
- Yet, this often creates noisy test output and might not suit all test suites.

**Migration Advice:**
- Users desiring quieter tests should explicitly wrap mocks with `NiceMock` to suppress uninteresting call warnings.
- Alternatively, use the `--gmock_verbose=error` flag to silence warnings globally.

**References:**
- [Mocking Reference - Nice, Naggy, and Strict Mocks](https://github.com/google/googletest/blob/main/docs/api-reference/mocking-apis/mock-strictness.md)
- [gMock Cookbook - Knowing When to Expect (Use ON_CALL)](https://google.github.io/googletest/gmock_cook_book.html#UseOnCall)

---

### 4. MSVC Warning Workarounds for Const Parameters

**Status:** Microsoft Visual C++ warnings C4301 and C4373 related to mock methods with const parameters.

**Rationale:**
- Declaring function parameters as `const` is ignored at the top level, but MSVC exhibits warnings.

**Advice:**
- Avoid applying top-level `const` to value parameters in mock method declarations.
- Retain `const` where parameters are references or pointers.

**References:**
- [Legacy gMock FAQ - MSVC warnings for const parameters](https://google.github.io/googletest/gmock_faq.html#MSVCWarningConstParams)

---

## Deprecated Platforms or Compiler Versions

GoogleTest and GoogleMock maintain a support policy specifying minimum supported platforms and compiler versions. Deprecation of older platforms or compiler versions will be announced here to guide users in upgrading.

---

## Deprecated Features Under Active Review

- Move-only argument mocking legacy workarounds (replaced by newer support in 2017); users should migrate to native move-only type support.
- Some older internal utilities might be deprecated gradually without immediate effect on user code.

---

## General Recommendations

- Always transition to the new `MOCK_METHOD` macro to future-proof mock classes.
- Prefer functor or class-based custom actions and matchers over legacy macros.
- Use `NiceMock` and verbosity flags intentionally to control output noise.
- Monitor official Release Notes and Breaking Changes pages for updated deprecation announcements.

---

### Additional Resources

- [gMock Cheat Sheet](https://google.github.io/googletest/gmock_cheat_sheet.html) — Quick reference for mocking API usage.
- [Mocking Reference](https://google.github.io/googletest/reference/mocking.html) — Detailed API and examples.
- [Legacy gMock FAQ](https://google.github.io/googletest/gmock_faq.html) — Common questions and known issues.
- [Breaking Changes & Migration Notes](https://github.com/google/googletest/blob/main/docs/changelog/upgrade-guidance/breaking-changes.md) — Stay current with changes affecting compatibility.

---

This page will be updated continuously as new deprecations are announced or old ones are retired.


